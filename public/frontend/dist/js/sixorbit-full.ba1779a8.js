var SixOrbit = (() => {
  var __defProp = Object.defineProperty;
  var __defProps = Object.defineProperties;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getOwnPropSymbols = Object.getOwnPropertySymbols;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __propIsEnum = Object.prototype.propertyIsEnumerable;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    if (__getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(b)) {
        if (__propIsEnum.call(b, prop))
          __defNormalProp(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
  var __objRest = (source, exclude) => {
    var target = {};
    for (var prop in source)
      if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)
        target[prop] = source[prop];
    if (source != null && __getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(source)) {
        if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))
          target[prop] = source[prop];
      }
    return target;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };
  var __async = (__this, __arguments, generator) => {
    return new Promise((resolve, reject) => {
      var fulfilled = (value) => {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      };
      var rejected = (value) => {
        try {
          step(generator.throw(value));
        } catch (e) {
          reject(e);
        }
      };
      var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
      step((generator = generator.apply(__this, __arguments)).next());
    });
  };

  // src/js/sixorbit-full.js
  var sixorbit_full_exports = {};
  __export(sixorbit_full_exports, {
    ErrorReporter: () => ErrorReporter,
    SOAlert: () => so_alert_default,
    SOAutocomplete: () => so_autocomplete_default,
    SOButtonGroup: () => so_button_group_default,
    SOCharCounter: () => SOCharCounter,
    SOComponent: () => so_component_default,
    SOContextMenu: () => so_context_menu_default,
    SOCopy: () => so_copy_default,
    SODrawer: () => so_drawer_default,
    SODropdown: () => so_dropdown_default,
    SOForms: () => so_forms_default,
    SOGoToTop: () => so_go_to_top_default,
    SOInputClear: () => SOInputClear,
    SOInputMask: () => SOInputMask,
    SOModal: () => so_modal_default,
    SONavbar: () => SONavbar,
    SOOtpInput: () => so_otp_default,
    SOPagination: () => so_pagination_default,
    SOPasswordStrength: () => SOPasswordStrength,
    SOProgressButton: () => so_progress_button_default,
    SORipple: () => so_ripple_default,
    SOSelect: () => so_select_default,
    SOTable: () => so_table_default,
    SOTabs: () => so_tabs_default,
    SOTheme: () => so_theme_default,
    SOToast: () => so_toast_default,
    SOTooltip: () => so_tooltip_default,
    SixOrbit: () => so_config_default,
    UiContainerElement: () => ContainerElement,
    UiElement: () => Element2,
    UiEngine: () => UiEngine,
    UiFormElement: () => FormElement,
    ValidationEngine: () => ValidationEngine,
    default: () => sixorbit_full_default
  });

  // src/js/core/so-config.js
  var SixOrbit = {
    // Expose to window immediately for other scripts
    // This ensures SixOrbit is available before any other code runs
  };
  window.SixOrbit = SixOrbit;
  Object.assign(SixOrbit, {
    // ============================================
    // CORE CONSTANTS
    // ============================================
    /** Framework version */
    VERSION: "1.0.0",
    /** CSS class prefix */
    PREFIX: "so",
    /** Data attribute prefix */
    DATA_PREFIX: "data-so",
    /** Custom event prefix */
    EVENT_PREFIX: "so:",
    // ============================================
    // CLASS NAME HELPERS
    // ============================================
    /**
     * Generate a prefixed class name
     * @param {...string} parts - Class name parts to join
     * @returns {string} Prefixed class name
     * @example SixOrbit.cls('btn', 'primary') => 'so-btn-primary'
     */
    cls(...parts) {
      return `${this.PREFIX}-${parts.join("-")}`;
    },
    /**
     * Generate a CSS selector for a prefixed class
     * @param {...string} parts - Class name parts
     * @returns {string} CSS selector
     * @example SixOrbit.sel('btn') => '.so-btn'
     */
    sel(...parts) {
      return `.${this.cls(...parts)}`;
    },
    // ============================================
    // DATA ATTRIBUTE HELPERS
    // ============================================
    /**
     * Generate a prefixed data attribute name
     * @param {string} name - Attribute name
     * @returns {string} Prefixed data attribute
     * @example SixOrbit.data('toggle') => 'data-so-toggle'
     */
    data(name) {
      return `${this.DATA_PREFIX}-${name}`;
    },
    /**
     * Generate a CSS selector for a data attribute
     * @param {string} name - Attribute name
     * @param {string} [value] - Optional attribute value
     * @returns {string} CSS selector
     * @example SixOrbit.dataSel('toggle', 'modal') => '[data-so-toggle="modal"]'
     */
    dataSel(name, value) {
      const attr = this.data(name);
      return value !== void 0 ? `[${attr}="${value}"]` : `[${attr}]`;
    },
    // ============================================
    // EVENT HELPERS
    // ============================================
    /**
     * Generate a prefixed event name
     * @param {string} name - Event name
     * @returns {string} Prefixed event name
     * @example SixOrbit.evt('open') => 'so:open'
     */
    evt(name) {
      return `${this.EVENT_PREFIX}${name}`;
    },
    // ============================================
    // STORAGE HELPERS
    // ============================================
    /**
     * Generate a prefixed localStorage key
     * @param {string} name - Storage key name
     * @returns {string} Prefixed storage key
     * @example SixOrbit.storageKey('theme') => 'so-theme'
     */
    storageKey(name) {
      return `${this.PREFIX}-${name}`;
    },
    /**
     * Get value from localStorage with JSON parsing
     * @param {string} name - Storage key name (will be prefixed)
     * @param {*} [defaultValue=null] - Default value if not found
     * @returns {*} Stored value or default
     */
    getStorage(name, defaultValue = null) {
      try {
        const key = this.storageKey(name);
        const value = localStorage.getItem(key);
        return value !== null ? JSON.parse(value) : defaultValue;
      } catch (e) {
        return defaultValue;
      }
    },
    /**
     * Set value in localStorage with JSON stringification
     * @param {string} name - Storage key name (will be prefixed)
     * @param {*} value - Value to store
     */
    setStorage(name, value) {
      try {
        const key = this.storageKey(name);
        localStorage.setItem(key, JSON.stringify(value));
      } catch (e) {
        console.warn(`SixOrbit: Failed to save to localStorage: ${name}`, e);
      }
    },
    /**
     * Remove value from localStorage
     * @param {string} name - Storage key name (will be prefixed)
     */
    removeStorage(name) {
      try {
        const key = this.storageKey(name);
        localStorage.removeItem(key);
      } catch (e) {
      }
    },
    // ============================================
    // CSS VARIABLE HELPERS
    // ============================================
    /**
     * Get a CSS custom property value
     * @param {string} name - Variable name (without --so- prefix)
     * @param {Element} [element=document.documentElement] - Element to get from
     * @returns {string} CSS variable value
     */
    getCssVar(name, element = document.documentElement) {
      return getComputedStyle(element).getPropertyValue(`--${this.PREFIX}-${name}`).trim();
    },
    /**
     * Set a CSS custom property value
     * @param {string} name - Variable name (without --so- prefix)
     * @param {string} value - Value to set
     * @param {Element} [element=document.documentElement] - Element to set on
     */
    setCssVar(name, value, element = document.documentElement) {
      element.style.setProperty(`--${this.PREFIX}-${name}`, value);
    },
    // ============================================
    // UTILITY FUNCTIONS
    // ============================================
    /**
     * Debounce a function
     * @param {Function} fn - Function to debounce
     * @param {number} [delay=300] - Delay in milliseconds
     * @returns {Function} Debounced function
     */
    debounce(fn, delay = 300) {
      let timeoutId;
      return function(...args) {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => fn.apply(this, args), delay);
      };
    },
    /**
     * Throttle a function
     * @param {Function} fn - Function to throttle
     * @param {number} [limit=100] - Minimum time between calls in milliseconds
     * @returns {Function} Throttled function
     */
    throttle(fn, limit = 100) {
      let inThrottle;
      return function(...args) {
        if (!inThrottle) {
          fn.apply(this, args);
          inThrottle = true;
          setTimeout(() => inThrottle = false, limit);
        }
      };
    },
    /**
     * Generate a unique ID
     * @param {string} [prefix='so'] - ID prefix
     * @returns {string} Unique ID
     */
    uniqueId(prefix = "so") {
      return `${prefix}-${Date.now().toString(36)}-${Math.random().toString(36).substring(2, 9)}`;
    },
    /**
     * Check if an element matches a selector
     * @param {Element} element - Element to check
     * @param {string} selector - CSS selector
     * @returns {boolean} Whether element matches
     */
    matches(element, selector) {
      return element && element.matches && element.matches(selector);
    },
    /**
     * Find closest ancestor matching selector
     * @param {Element} element - Starting element
     * @param {string} selector - CSS selector
     * @returns {Element|null} Matching ancestor or null
     */
    closest(element, selector) {
      return element && element.closest ? element.closest(selector) : null;
    },
    /**
     * Parse data attributes from an element into an options object
     * @param {Element} element - Element to parse
     * @param {string[]} [keys=[]] - Specific keys to parse (all if empty)
     * @returns {Object} Parsed options
     */
    parseDataOptions(element, keys = []) {
      const options = {};
      const prefix = "so";
      if (!element || !element.dataset)
        return options;
      Object.keys(element.dataset).forEach((key) => {
        if (key.startsWith(prefix)) {
          const optionKey = key.slice(prefix.length);
          const normalizedKey = optionKey.charAt(0).toLowerCase() + optionKey.slice(1);
          if (keys.length > 0 && !keys.includes(normalizedKey))
            return;
          let value = element.dataset[key];
          try {
            value = JSON.parse(value);
          } catch (e) {
          }
          if (value && typeof value === "object" && !Array.isArray(value)) {
            Object.assign(options, value);
          } else {
            options[normalizedKey] = value;
          }
        }
      });
      return options;
    },
    // ============================================
    // BREAKPOINTS
    // ============================================
    /** Responsive breakpoints in pixels */
    breakpoints: {
      sm: 576,
      md: 768,
      lg: 1024,
      xl: 1200
    },
    /**
     * Check if viewport is below a breakpoint
     * @param {string} breakpoint - Breakpoint name (sm, md, lg, xl)
     * @returns {boolean} Whether viewport is below breakpoint
     */
    isMobile(breakpoint = "md") {
      return window.innerWidth < (this.breakpoints[breakpoint] || 768);
    },
    // ============================================
    // COMPONENT REGISTRY
    // ============================================
    /** Registered component classes */
    _components: {},
    /** Component instances */
    _instances: /* @__PURE__ */ new WeakMap(),
    /**
     * Register a component class
     * @param {string} name - Component name
     * @param {Function} ComponentClass - Component class
     */
    registerComponent(name, ComponentClass) {
      this._components[name] = ComponentClass;
    },
    /**
     * Get a registered component class
     * @param {string} name - Component name
     * @returns {Function|undefined} Component class
     */
    getComponent(name) {
      return this._components[name];
    },
    /**
     * Get or create component instance for an element
     * @param {Element} element - DOM element
     * @param {string} name - Component name
     * @param {Object} [options={}] - Component options
     * @returns {Object|null} Component instance
     */
    getInstance(element, name, options = {}) {
      if (!element)
        return null;
      let instances = this._instances.get(element);
      if (instances && instances[name]) {
        return instances[name];
      }
      const ComponentClass = this._components[name];
      if (!ComponentClass)
        return null;
      const instance = new ComponentClass(element, options);
      if (!instances) {
        instances = {};
        this._instances.set(element, instances);
      }
      instances[name] = instance;
      return instance;
    },
    /**
     * Remove component instance from an element
     * @param {Element} element - DOM element
     * @param {string} name - Component name
     */
    removeInstance(element, name) {
      const instances = this._instances.get(element);
      if (instances && instances[name]) {
        if (typeof instances[name].destroy === "function") {
          instances[name].destroy();
        }
        delete instances[name];
      }
    },
    // ============================================
    // INITIALIZATION
    // ============================================
    /** Whether the framework has been initialized */
    _initialized: false,
    /**
     * Initialize the framework
     * Called automatically on DOMContentLoaded
     */
    init() {
      if (this._initialized)
        return;
      this._initialized = true;
      document.dispatchEvent(
        new CustomEvent(this.evt("ready"), {
          detail: { version: this.VERSION }
        })
      );
    }
  });
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", () => SixOrbit.init());
  } else {
    SixOrbit.init();
  }
  var so_config_default = SixOrbit;

  // src/js/core/so-component.js
  var SOComponent = class {
    // ============================================
    // CONSTRUCTOR
    // ============================================
    /**
     * Create a new component instance
     * @param {Element|string} element - DOM element or selector
     * @param {Object} [options={}] - Component options
     */
    constructor(element, options = {}) {
      this.element = typeof element === "string" ? document.querySelector(element) : element;
      if (!this.element && typeof element === "string") {
        console.warn(`${this.constructor.NAME}: Element not found for selector "${element}"`);
        return;
      }
      if (!this.element && element === null) {
        return;
      }
      this.options = this._mergeOptions(options);
      this._boundHandlers = /* @__PURE__ */ new Map();
      this._delegatedHandlers = [];
      this._init();
    }
    // ============================================
    // PRIVATE METHODS
    // ============================================
    /**
     * Merge options from defaults, data attributes, and passed options
     * @param {Object} options - Passed options
     * @returns {Object} Merged options
     * @private
     */
    _mergeOptions(options) {
      const defaults = this.constructor.DEFAULTS;
      const dataOptions = so_config_default.parseDataOptions(this.element);
      return __spreadValues(__spreadValues(__spreadValues({}, defaults), dataOptions), options);
    }
    /**
     * Initialize the component (override in subclass)
     * @private
     */
    _init() {
    }
    // ============================================
    // DOM UTILITIES
    // ============================================
    /**
     * Query a single element within this component
     * @param {string} selector - CSS selector
     * @returns {Element|null} Found element
     */
    $(selector) {
      return this.element.querySelector(selector);
    }
    /**
     * Query all elements within this component
     * @param {string} selector - CSS selector
     * @returns {Element[]} Array of found elements
     */
    $$(selector) {
      return Array.from(this.element.querySelectorAll(selector));
    }
    /**
     * Find element by prefixed class name
     * @param {...string} parts - Class name parts
     * @returns {Element|null} Found element
     */
    $cls(...parts) {
      return this.$(so_config_default.sel(...parts));
    }
    /**
     * Find all elements by prefixed class name
     * @param {...string} parts - Class name parts
     * @returns {Element[]} Array of found elements
     */
    $$cls(...parts) {
      return this.$$(so_config_default.sel(...parts));
    }
    // ============================================
    // CLASS UTILITIES
    // ============================================
    /**
     * Add class(es) to the component element
     * @param {...string} classes - Class names to add
     * @returns {this} For chaining
     */
    addClass(...classes) {
      this.element.classList.add(...classes);
      return this;
    }
    /**
     * Remove class(es) from the component element
     * @param {...string} classes - Class names to remove
     * @returns {this} For chaining
     */
    removeClass(...classes) {
      this.element.classList.remove(...classes);
      return this;
    }
    /**
     * Toggle a class on the component element
     * @param {string} className - Class name to toggle
     * @param {boolean} [force] - Force add or remove
     * @returns {this} For chaining
     */
    toggleClass(className, force) {
      this.element.classList.toggle(className, force);
      return this;
    }
    /**
     * Check if component element has a class
     * @param {string} className - Class name to check
     * @returns {boolean} Whether element has class
     */
    hasClass(className) {
      return this.element.classList.contains(className);
    }
    // ============================================
    // ATTRIBUTE UTILITIES
    // ============================================
    /**
     * Get a data attribute value
     * @param {string} name - Attribute name (without data-so- prefix)
     * @returns {string|null} Attribute value
     */
    getData(name) {
      return this.element.getAttribute(so_config_default.data(name));
    }
    /**
     * Set a data attribute value
     * @param {string} name - Attribute name (without data-so- prefix)
     * @param {string} value - Value to set
     * @returns {this} For chaining
     */
    setData(name, value) {
      this.element.setAttribute(so_config_default.data(name), value);
      return this;
    }
    /**
     * Remove a data attribute
     * @param {string} name - Attribute name (without data-so- prefix)
     * @returns {this} For chaining
     */
    removeData(name) {
      this.element.removeAttribute(so_config_default.data(name));
      return this;
    }
    // ============================================
    // EVENT HANDLING
    // ============================================
    /**
     * Add an event listener with automatic binding
     * @param {string} event - Event name
     * @param {Function} handler - Event handler
     * @param {Element} [target=this.element] - Target element
     * @param {Object} [options={}] - Event listener options
     * @returns {this} For chaining
     */
    on(event, handler, target = this.element, options = {}) {
      const boundHandler = handler.bind(this);
      this._boundHandlers.set(handler, { boundHandler, target, event, options });
      target.addEventListener(event, boundHandler, options);
      return this;
    }
    /**
     * Remove an event listener
     * @param {string} event - Event name
     * @param {Function} handler - Original handler function
     * @param {Element} [target=this.element] - Target element
     * @returns {this} For chaining
     */
    off(event, handler, target = this.element) {
      const stored = this._boundHandlers.get(handler);
      if (stored) {
        target.removeEventListener(event, stored.boundHandler, stored.options);
        this._boundHandlers.delete(handler);
      }
      return this;
    }
    /**
     * Add a one-time event listener
     * @param {string} event - Event name
     * @param {Function} handler - Event handler
     * @param {Element} [target=this.element] - Target element
     * @returns {this} For chaining
     */
    once(event, handler, target = this.element) {
      return this.on(event, handler, target, { once: true });
    }
    /**
     * Add delegated event listener
     * @param {string} event - Event name
     * @param {string} selector - CSS selector for delegation
     * @param {Function} handler - Event handler
     * @returns {this} For chaining
     */
    delegate(event, selector, handler) {
      const delegatedHandler = (e) => {
        const target = e.target.closest(selector);
        if (target && this.element.contains(target)) {
          handler.call(this, e, target);
        }
      };
      this._delegatedHandlers.push({ event, handler: delegatedHandler });
      this.element.addEventListener(event, delegatedHandler);
      return this;
    }
    /**
     * Emit a custom event
     * @param {string} name - Event name (will be prefixed with so:)
     * @param {Object} [detail={}] - Event detail data
     * @param {boolean} [bubbles=true] - Whether event bubbles
     * @param {boolean} [cancelable=true] - Whether event is cancelable
     * @returns {boolean} Whether event was not prevented
     */
    emit(name, detail = {}, bubbles = true, cancelable = true) {
      const event = new CustomEvent(so_config_default.evt(name), {
        detail: __spreadProps(__spreadValues({}, detail), { component: this }),
        bubbles,
        cancelable
      });
      return this.element.dispatchEvent(event);
    }
    // ============================================
    // STATE MANAGEMENT
    // ============================================
    /**
     * Update component state and trigger re-render
     * @param {Object} newState - State changes
     */
    setState(newState) {
      const oldState = __spreadValues({}, this._state);
      this._state = __spreadValues(__spreadValues({}, this._state), newState);
      this._onStateChange(this._state, oldState);
    }
    /**
     * Get current state
     * @returns {Object} Current state
     */
    getState() {
      return __spreadValues({}, this._state);
    }
    /**
     * Called when state changes (override in subclass)
     * @param {Object} newState - New state
     * @param {Object} oldState - Previous state
     * @protected
     */
    _onStateChange(newState, oldState) {
    }
    // ============================================
    // VISIBILITY
    // ============================================
    /**
     * Show the component element
     * @returns {this} For chaining
     */
    show() {
      this.element.style.display = "";
      this.element.removeAttribute("hidden");
      this.emit("show");
      return this;
    }
    /**
     * Hide the component element
     * @returns {this} For chaining
     */
    hide() {
      this.element.style.display = "none";
      this.element.setAttribute("hidden", "");
      this.emit("hide");
      return this;
    }
    /**
     * Toggle component visibility
     * @param {boolean} [force] - Force show or hide
     * @returns {this} For chaining
     */
    toggle(force) {
      const shouldShow = force !== void 0 ? force : this.element.hidden;
      return shouldShow ? this.show() : this.hide();
    }
    /**
     * Check if component is visible
     * @returns {boolean} Whether component is visible
     */
    isVisible() {
      return !this.element.hidden && this.element.style.display !== "none";
    }
    // ============================================
    // FOCUS MANAGEMENT
    // ============================================
    /**
     * Focus the component element
     * @returns {this} For chaining
     */
    focus() {
      this.element.focus();
      return this;
    }
    /**
     * Blur the component element
     * @returns {this} For chaining
     */
    blur() {
      this.element.blur();
      return this;
    }
    /**
     * Get all focusable elements within component
     * @returns {Element[]} Focusable elements
     */
    getFocusableElements() {
      const focusableSelectors = [
        "a[href]",
        "button:not([disabled])",
        "input:not([disabled])",
        "select:not([disabled])",
        "textarea:not([disabled])",
        '[tabindex]:not([tabindex="-1"])'
      ].join(", ");
      return this.$$(focusableSelectors);
    }
    /**
     * Trap focus within component (for modals, etc.)
     * @param {Object} [options={}] - Trap options
     * @param {boolean} [options.skipInitialFocus=false] - Skip focusing first element
     * @returns {Function} Function to remove focus trap
     */
    trapFocus(options = {}) {
      const { skipInitialFocus = false } = options;
      const focusableElements = this.getFocusableElements();
      const firstElement = focusableElements[0];
      const lastElement = focusableElements[focusableElements.length - 1];
      const handleKeydown = (e) => {
        if (e.key !== "Tab")
          return;
        if (e.shiftKey) {
          if (document.activeElement === firstElement) {
            e.preventDefault();
            lastElement == null ? void 0 : lastElement.focus();
          }
        } else {
          if (document.activeElement === lastElement) {
            e.preventDefault();
            firstElement == null ? void 0 : firstElement.focus();
          }
        }
      };
      this.element.addEventListener("keydown", handleKeydown);
      if (!skipInitialFocus) {
        firstElement == null ? void 0 : firstElement.focus();
      }
      return () => {
        this.element.removeEventListener("keydown", handleKeydown);
      };
    }
    // ============================================
    // LIFECYCLE
    // ============================================
    /**
     * Enable the component
     * @returns {this} For chaining
     */
    enable() {
      this.element.removeAttribute("disabled");
      this.removeClass(so_config_default.cls("disabled"));
      this._disabled = false;
      this.emit("enable");
      return this;
    }
    /**
     * Disable the component
     * @returns {this} For chaining
     */
    disable() {
      this.element.setAttribute("disabled", "");
      this.addClass(so_config_default.cls("disabled"));
      this._disabled = true;
      this.emit("disable");
      return this;
    }
    /**
     * Check if component is disabled
     * @returns {boolean} Whether component is disabled
     */
    isDisabled() {
      return this._disabled || this.element.hasAttribute("disabled");
    }
    /**
     * Update component options
     * @param {Object} newOptions - New options to merge
     * @returns {this} For chaining
     */
    setOptions(newOptions) {
      this.options = __spreadValues(__spreadValues({}, this.options), newOptions);
      this._onOptionsChange();
      return this;
    }
    /**
     * Called when options change (override in subclass)
     * @protected
     */
    _onOptionsChange() {
    }
    /**
     * Destroy the component and clean up
     */
    destroy() {
      this._boundHandlers.forEach((stored, handler) => {
        stored.target.removeEventListener(stored.event, stored.boundHandler, stored.options);
      });
      this._boundHandlers.clear();
      this._delegatedHandlers.forEach(({ event, handler }) => {
        this.element.removeEventListener(event, handler);
      });
      this._delegatedHandlers = [];
      this.emit("destroy");
      so_config_default.removeInstance(this.element, this.constructor.NAME);
      this.element = null;
      this.options = null;
    }
    // ============================================
    // STATIC UTILITIES
    // ============================================
    /**
     * Get or create instance for an element
     * @param {Element|string} element - DOM element or selector
     * @param {Object} [options={}] - Component options
     * @returns {SOComponent} Component instance
     */
    static getInstance(element, options = {}) {
      const el = typeof element === "string" ? document.querySelector(element) : element;
      return so_config_default.getInstance(el, this.NAME, options);
    }
    /**
     * Initialize all components matching selector
     * @param {string} [selector] - CSS selector (default: data attribute)
     * @param {Object} [options={}] - Default options for all instances
     * @returns {SOComponent[]} Array of instances
     */
    static initAll(selector, options = {}) {
      const sel = selector || so_config_default.dataSel(this.NAME);
      const elements = document.querySelectorAll(sel);
      return Array.from(elements).map((el) => this.getInstance(el, options));
    }
    /**
     * Register this component with SixOrbit
     */
    static register() {
      so_config_default.registerComponent(this.NAME, this);
    }
  };
  // ============================================
  // STATIC PROPERTIES
  // ============================================
  /** Component name for registration */
  __publicField(SOComponent, "NAME", "component");
  /** Default options (override in subclass) */
  __publicField(SOComponent, "DEFAULTS", {});
  /** Events emitted by this component */
  __publicField(SOComponent, "EVENTS", {});
  window.SOComponent = SOComponent;
  var so_component_default = SOComponent;

  // src/js/components/so-theme.js
  var _SOTheme = class _SOTheme extends so_component_default {
    /**
     * Initialize the theme controller
     * @private
     */
    _init() {
      this.themeBtn = this.$(".so-navbar-theme-btn");
      this.themeDropdown = this.$(".so-navbar-theme-dropdown");
      this._currentTheme = this.options.defaultTheme;
      this._currentFontSize = this.options.defaultFontSize;
      this._restoreTheme();
      this._restoreFontSize();
      this._bindEvents();
      this._applyTheme();
      this._applyFontSize();
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      if (this.themeBtn) {
        this.on("click", this._handleToggle, this.themeBtn);
      }
      this.delegate("click", ".so-navbar-theme-option", this._handleOptionClick);
      this.on("click", this._handleOutsideClick, document);
      this.on("keydown", this._handleKeydown, document);
      if (window.matchMedia) {
        const mediaQuery = window.matchMedia("(prefers-color-scheme: dark)");
        mediaQuery.addEventListener("change", () => {
          if (this._currentTheme === "system") {
            this._applyTheme();
          }
        });
      }
      this.on("closeAllDropdowns", this._closeDropdown, document);
    }
    /**
     * Handle toggle button click
     * @param {Event} e - Click event
     * @private
     */
    _handleToggle(e) {
      e.stopPropagation();
      const isOpen = this.hasClass("so-open");
      if (!isOpen) {
        document.dispatchEvent(new CustomEvent("closeAllDropdowns"));
      }
      this.toggleClass("so-open");
    }
    /**
     * Handle theme/fontsize option click
     * @param {Event} e - Click event
     * @param {Element} target - Clicked option element
     * @private
     */
    _handleOptionClick(e, target) {
      e.stopPropagation();
      const theme = target.dataset.theme;
      const fontsize = target.dataset.fontsize;
      if (theme) {
        this.setTheme(theme);
      } else if (fontsize) {
        this.setFontSize(fontsize);
      }
      this._closeDropdown();
    }
    /**
     * Handle outside click
     * @private
     */
    _handleOutsideClick() {
      this._closeDropdown();
    }
    /**
     * Handle keydown events
     * @param {KeyboardEvent} e - Keyboard event
     * @private
     */
    _handleKeydown(e) {
      if (e.key === "Escape") {
        this._closeDropdown();
      }
    }
    /**
     * Close the dropdown
     * @private
     */
    _closeDropdown() {
      this.removeClass("so-open");
    }
    // ============================================
    // THEME METHODS
    // ============================================
    /**
     * Set the current theme
     * @param {string} theme - Theme name (light, dark, sidebar-dark, system)
     * @returns {this} For chaining
     */
    setTheme(theme) {
      if (!this.options.themes.includes(theme)) {
        console.warn(`SOTheme: Invalid theme "${theme}"`);
        return this;
      }
      const previousTheme = this._currentTheme;
      this._currentTheme = theme;
      this._saveTheme();
      this._applyTheme();
      this._updateActiveOption();
      this.emit(_SOTheme.EVENTS.CHANGE, {
        theme,
        previousTheme,
        effectiveTheme: this.getEffectiveTheme()
      });
      return this;
    }
    /**
     * Get the current theme setting
     * @returns {string} Current theme
     */
    getTheme() {
      return this._currentTheme;
    }
    /**
     * Get the effective theme (resolved system theme)
     * @returns {string} Effective theme (light or dark)
     */
    getEffectiveTheme() {
      if (this._currentTheme === "system") {
        return this._getSystemTheme();
      }
      if (this._currentTheme === "sidebar-dark") {
        return "light";
      }
      return this._currentTheme;
    }
    /**
     * Apply the current theme to the document
     * @private
     */
    _applyTheme() {
      let effectiveTheme = this._currentTheme;
      const sidebar = document.querySelector(".so-sidebar");
      if (this._currentTheme === "sidebar-dark") {
        effectiveTheme = "light";
        if (sidebar)
          sidebar.classList.add("sidebar-dark");
      } else {
        if (sidebar)
          sidebar.classList.remove("sidebar-dark");
        if (this._currentTheme === "system") {
          effectiveTheme = this._getSystemTheme();
        }
      }
      document.documentElement.setAttribute("data-theme", effectiveTheme);
      this._updateIcon(effectiveTheme);
    }
    /**
     * Get system preferred theme
     * @returns {string} System theme (light or dark)
     * @private
     */
    _getSystemTheme() {
      if (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches) {
        return "dark";
      }
      return "light";
    }
    /**
     * Update the theme button icon
     * @param {string} effectiveTheme - Current effective theme
     * @private
     */
    _updateIcon(effectiveTheme) {
      var _a;
      const icon = (_a = this.themeBtn) == null ? void 0 : _a.querySelector(".theme-icon");
      if (!icon)
        return;
      if (this._currentTheme === "sidebar-dark") {
        icon.textContent = "contrast";
      } else if (this._currentTheme === "system") {
        icon.textContent = "computer";
      } else if (effectiveTheme === "dark") {
        icon.textContent = "dark_mode";
      } else {
        icon.textContent = "light_mode";
      }
    }
    /**
     * Update active state on theme options
     * @private
     */
    _updateActiveOption() {
      this.$$(".so-navbar-theme-option").forEach((option) => {
        const isActive = option.dataset.theme === this._currentTheme;
        option.classList.toggle("so-active", isActive);
      });
    }
    /**
     * Save theme preference to storage
     * @private
     */
    _saveTheme() {
      so_config_default.setStorage(this.options.storageKeyTheme, this._currentTheme);
    }
    /**
     * Restore theme preference from storage
     * @private
     */
    _restoreTheme() {
      const saved = so_config_default.getStorage(this.options.storageKeyTheme);
      if (saved && this.options.themes.includes(saved)) {
        this._currentTheme = saved;
      }
      this._updateActiveOption();
    }
    // ============================================
    // FONT SIZE METHODS
    // ============================================
    /**
     * Set the font size
     * @param {string} size - Font size (small, default, large)
     * @returns {this} For chaining
     */
    setFontSize(size) {
      if (!this.options.fontSizes.includes(size)) {
        console.warn(`SOTheme: Invalid font size "${size}"`);
        return this;
      }
      const previousSize = this._currentFontSize;
      this._currentFontSize = size;
      this._saveFontSize();
      this._applyFontSize();
      this._updateActiveFontSizeOption();
      this.emit(_SOTheme.EVENTS.FONTSIZE, {
        fontSize: size,
        previousFontSize: previousSize
      });
      return this;
    }
    /**
     * Get the current font size
     * @returns {string} Current font size
     */
    getFontSize() {
      return this._currentFontSize;
    }
    /**
     * Apply the current font size to the document
     * @private
     */
    _applyFontSize() {
      if (this._currentFontSize === "default") {
        document.documentElement.removeAttribute("data-fontsize");
      } else {
        document.documentElement.setAttribute("data-fontsize", this._currentFontSize);
      }
    }
    /**
     * Update active state on font size options
     * @private
     */
    _updateActiveFontSizeOption() {
      this.$$(".so-navbar-theme-option").forEach((option) => {
        if (option.dataset.fontsize) {
          const isActive = option.dataset.fontsize === this._currentFontSize;
          option.classList.toggle("so-active", isActive);
        }
      });
    }
    /**
     * Save font size preference to storage
     * @private
     */
    _saveFontSize() {
      so_config_default.setStorage(this.options.storageKeyFont, this._currentFontSize);
    }
    /**
     * Restore font size preference from storage
     * @private
     */
    _restoreFontSize() {
      const saved = so_config_default.getStorage(this.options.storageKeyFont);
      if (saved && this.options.fontSizes.includes(saved)) {
        this._currentFontSize = saved;
      }
      this._updateActiveFontSizeOption();
    }
  };
  __publicField(_SOTheme, "NAME", "theme");
  __publicField(_SOTheme, "DEFAULTS", {
    themes: ["light", "dark", "sidebar-dark", "system"],
    fontSizes: ["small", "default", "large"],
    defaultTheme: "sidebar-dark",
    defaultFontSize: "default",
    storageKeyTheme: "theme-preference",
    storageKeyFont: "fontsize-preference"
  });
  __publicField(_SOTheme, "EVENTS", {
    CHANGE: "theme:change",
    FONTSIZE: "theme:fontsize"
  });
  var SOTheme = _SOTheme;
  SOTheme.register();
  window.SOTheme = SOTheme;
  var so_theme_default = SOTheme;

  // src/js/components/so-dropdown.js
  var _SODropdown = class _SODropdown extends so_component_default {
    /**
     * Initialize the dropdown
     * @private
     */
    _init() {
      this._type = this._detectType();
      this._cacheElements();
      this._isOpen = false;
      this._disabled = false;
      this._selectedValues = [];
      this._selectedTexts = [];
      this._originalItems = [];
      this._focusedIndex = -1;
      this._originalClasses = {
        dropup: this.element.classList.contains("so-dropup"),
        dropstart: this.element.classList.contains("so-dropstart"),
        dropend: this.element.classList.contains("so-dropend"),
        menuEnd: this.element.classList.contains("so-dropdown-menu-end")
      };
      if (this._itemsList) {
        this._originalItems = Array.from(this._itemsList.children);
      }
      this._parseDataAttributes();
      this._getInitialSelection();
      this._bindEvents();
    }
    /**
     * Parse data attributes for configuration
     * @private
     */
    _parseDataAttributes() {
      const el = this.element;
      if (el.hasAttribute("data-so-auto-close")) {
        const val = el.getAttribute("data-so-auto-close");
        if (val === "true")
          this.options.autoClose = true;
        else if (val === "false")
          this.options.autoClose = false;
        else
          this.options.autoClose = val;
      }
      if (el.hasAttribute("data-so-direction")) {
        this.options.direction = el.getAttribute("data-so-direction");
      }
      if (el.hasAttribute("data-so-alignment")) {
        this.options.alignment = el.getAttribute("data-so-alignment");
      }
      if (el.hasAttribute("data-so-selection-style")) {
        this.options.selectionStyle = el.getAttribute("data-so-selection-style");
      }
      if (el.hasAttribute("data-so-multiple")) {
        this.options.multiple = el.getAttribute("data-so-multiple") !== "false";
      }
      if (el.hasAttribute("data-so-max-selections")) {
        this.options.maxSelections = parseInt(el.getAttribute("data-so-max-selections"), 10) || null;
      }
      if (el.hasAttribute("data-so-min-selections")) {
        this.options.minSelections = parseInt(el.getAttribute("data-so-min-selections"), 10) || null;
      }
      if (el.hasAttribute("data-so-multiple-style")) {
        this.options.multipleStyle = el.getAttribute("data-so-multiple-style");
      }
      if (this.options.selectionStyle !== "default") {
        this.addClass(`so-dropdown-selection-${this.options.selectionStyle}`);
      }
      if (this.options.multiple) {
        this.addClass("so-dropdown-multiple");
        if (this.options.multipleStyle === "checkbox") {
          this._initCheckboxes();
        } else if (this.options.multipleStyle === "check") {
          this.addClass("so-dropdown-multiple-check");
        }
      }
      if (el.hasAttribute("data-so-show-actions")) {
        this.options.showActions = el.getAttribute("data-so-show-actions") !== "false";
      }
      if (el.hasAttribute("data-so-select-all-text")) {
        this.options.selectAllText = el.getAttribute("data-so-select-all-text");
      }
      if (el.hasAttribute("data-so-select-none-text")) {
        this.options.selectNoneText = el.getAttribute("data-so-select-none-text");
      }
      if (this.options.multiple && this.options.showActions) {
        this._createActionsBar();
      }
      if (el.hasAttribute("data-so-all-selected-text")) {
        this.options.allSelectedText = el.getAttribute("data-so-all-selected-text");
      }
      if (el.hasAttribute("data-so-multiple-selected-text")) {
        this.options.multipleSelectedText = el.getAttribute("data-so-multiple-selected-text");
      }
    }
    /**
     * Initialize checkbox elements for multiple selection items
     * @private
     */
    _initCheckboxes() {
      const itemSelector = this._getItemSelector();
      const items = this.$$(itemSelector);
      items.forEach((item) => {
        if (item.querySelector(".so-checkbox-box"))
          return;
        const checkboxBox = document.createElement("span");
        checkboxBox.className = "so-checkbox-box";
        checkboxBox.innerHTML = '<span class="material-icons">check</span>';
        item.insertBefore(checkboxBox, item.firstChild);
      });
    }
    /**
     * Create actions bar with Select All / Select None links
     * @private
     */
    _createActionsBar() {
      if (!this._menu)
        return;
      if (this._menu.querySelector(".so-dropdown-actions"))
        return;
      const actionsBar = document.createElement("div");
      actionsBar.className = "so-dropdown-actions";
      const selectAllLink = document.createElement("button");
      selectAllLink.type = "button";
      selectAllLink.className = "so-dropdown-action so-dropdown-select-all";
      selectAllLink.textContent = this.options.selectAllText;
      selectAllLink.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        this.selectAll();
      });
      const separator = document.createElement("span");
      separator.className = "so-dropdown-action-separator";
      separator.textContent = "|";
      const selectNoneLink = document.createElement("button");
      selectNoneLink.type = "button";
      selectNoneLink.className = "so-dropdown-action so-dropdown-select-none";
      selectNoneLink.textContent = this.options.selectNoneText;
      selectNoneLink.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        this.selectNone();
      });
      actionsBar.appendChild(selectAllLink);
      if (this.options.selectNoneText) {
        actionsBar.appendChild(separator);
        actionsBar.appendChild(selectNoneLink);
      }
      const searchBox = this._menu.querySelector(".so-searchable-search, .so-dropdown-search");
      if (searchBox) {
        searchBox.after(actionsBar);
      } else {
        this._menu.insertBefore(actionsBar, this._menu.firstChild);
      }
      this._actionsBar = actionsBar;
      this._selectAllLink = selectAllLink;
      this._selectNoneLink = selectNoneLink;
    }
    /**
     * Detect dropdown type based on classes
     * @returns {string} Dropdown type
     * @private
     */
    _detectType() {
      if (this.hasClass("so-searchable-dropdown"))
        return "searchable";
      if (this.hasClass("so-options-dropdown"))
        return "options";
      if (this.hasClass("so-outlet-dropdown"))
        return "outlet";
      return "standard";
    }
    /**
     * Cache DOM elements based on type
     * @private
     */
    _cacheElements() {
      switch (this._type) {
        case "searchable":
          this._trigger = this.$(".so-searchable-trigger");
          this._menu = this.$(".so-searchable-menu");
          this._searchInput = this.$(".so-searchable-input");
          this._itemsList = this.$(".so-searchable-items");
          this._selectedEl = this.$(".so-searchable-selected");
          break;
        case "options":
          this._trigger = this.$(".so-options-trigger");
          this._menu = this.$(".so-options-menu");
          break;
        case "outlet":
          this._trigger = this.$(".so-outlet-dropdown-trigger");
          this._menu = this.$(".so-outlet-dropdown-menu");
          this._searchInput = this.$(".so-outlet-dropdown-search input");
          this._itemsList = this.$(".so-outlet-dropdown-list");
          this._selectedEl = this.$(".outlet-text");
          break;
        default:
          this._trigger = this.$(".so-dropdown-trigger") || this.$(".so-dropdown-toggle") || this.$(".so-btn");
          this._menu = this.$(".so-dropdown-menu");
          this._selectedEl = this.$(".so-dropdown-selected");
          this._searchInput = this.$(".so-dropdown-search-input");
          this._itemsList = this.$(".so-dropdown-items");
      }
    }
    /**
     * Get initial selection from DOM
     * @private
     */
    _getInitialSelection() {
      var _a;
      const selectedItems = ((_a = this._menu) == null ? void 0 : _a.querySelectorAll(".so-selected, .so-active")) || [];
      selectedItems.forEach((item) => {
        const value = item.dataset.value;
        const text = this._getItemText(item);
        if (value !== void 0) {
          this._selectedValues.push(value);
          this._selectedTexts.push(text);
        }
      });
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      if (this._trigger) {
        this.on("click", this._handleTriggerClick, this._trigger);
      }
      const itemSelector = this._getItemSelector();
      const itemsContainer = this._itemsList || this._menu;
      if (itemSelector && itemsContainer) {
        this._itemClickHandler = (e) => {
          const item = e.target.closest(itemSelector);
          if (item && itemsContainer.contains(item)) {
            this._handleItemClick(e, item);
          }
        };
        this._itemsContainer = itemsContainer;
        itemsContainer.addEventListener("click", this._itemClickHandler);
      }
      if (this._searchInput) {
        this.on("input", this._handleSearch, this._searchInput);
        this.on("click", (e) => e.stopPropagation(), this._searchInput);
      }
      if (this._menu) {
        this.on("click", (e) => {
          if (this.options.autoClose !== "outside") {
            e.stopPropagation();
          }
        }, this._menu);
      }
      if (this.options.closeOnOutsideClick) {
        this.on("click", this._handleOutsideClick, document);
      }
      this.on("keydown", this._handleKeydown, this.element);
    }
    /**
     * Get item selector based on type
     * @returns {string} CSS selector
     * @private
     */
    _getItemSelector() {
      switch (this._type) {
        case "searchable":
          return ".so-searchable-item";
        case "options":
          return ".so-options-item";
        case "outlet":
          return ".so-outlet-dropdown-item";
        default:
          return ".so-dropdown-item";
      }
    }
    /**
     * Handle trigger click
     * @param {Event} e - Click event
     * @private
     */
    _handleTriggerClick(e) {
      e.preventDefault();
      e.stopPropagation();
      if (this._disabled)
        return;
      this._closeOtherDropdowns();
      if (this._type === "options" && !this._isOpen) {
        this._positionMenu();
      }
      this.toggle();
    }
    /**
     * Handle item click
     * @param {Event} e - Click event
     * @param {Element} item - Clicked item
     * @private
     */
    _handleItemClick(e, item) {
      var _a;
      e.stopPropagation();
      if (item.classList.contains("so-disabled") || item.hasAttribute("disabled") || item.getAttribute("aria-disabled") === "true") {
        return;
      }
      if (this._type === "options") {
        const action = item.dataset.action;
        this.emit(_SODropdown.EVENTS.ACTION, { action, element: item });
        if (this._shouldCloseOnItemClick()) {
          this.close();
        }
        return;
      }
      const text = this._type === "outlet" ? ((_a = item.querySelector(".outlet-item-text")) == null ? void 0 : _a.textContent.trim()) || this._getItemText(item) : this._getItemText(item);
      const value = item.dataset.value !== void 0 ? item.dataset.value : text;
      if (this.options.multiple) {
        this.toggleSelect(value, text, item);
      } else {
        this.select(value, text, item);
      }
      if (!this.options.multiple && this._shouldCloseOnItemClick()) {
        this.close();
      }
    }
    /**
     * Check if dropdown should close on item click based on autoClose
     * @returns {boolean}
     * @private
     */
    _shouldCloseOnItemClick() {
      const autoClose = this.options.autoClose;
      return this.options.closeOnSelect && (autoClose === true || autoClose === "inside");
    }
    /**
     * Handle search input
     * @param {Event} e - Input event
     * @private
     */
    _handleSearch(e) {
      const query = e.target.value.toLowerCase().trim();
      this._filterItems(query);
      this.emit(_SODropdown.EVENTS.SEARCH, { query });
    }
    /**
     * Filter items by search query
     * @param {string} query - Search query
     * @private
     */
    _filterItems(query) {
      this._originalItems.forEach((item) => {
        const text = this._getItemText(item).toLowerCase();
        const matches = !query || text.includes(query);
        item.style.display = matches ? "" : "none";
      });
    }
    /**
     * Get clean text from an item, excluding check icons and checkbox elements
     * @param {Element} item - Item element
     * @returns {string} Clean text content
     * @private
     */
    _getItemText(item) {
      const clone = item.cloneNode(true);
      clone.querySelectorAll(".so-dropdown-check, .check-icon, .so-checkbox-box").forEach((el) => el.remove());
      return clone.textContent.trim();
    }
    /**
     * Handle outside click based on autoClose option
     * @param {Event} e - Click event
     * @private
     */
    _handleOutsideClick(e) {
      if (!this._isOpen)
        return;
      if (this._ignoreOutsideClick)
        return;
      if (this.element.contains(e.target))
        return;
      const dropdownTrigger = e.target.closest('.so-dropdown-trigger, .so-searchable-trigger, .so-options-trigger, .so-outlet-dropdown-trigger, .so-btn[data-so-toggle="dropdown"]');
      const dropdownElement = e.target.closest(".so-dropdown, .so-searchable-dropdown, .so-options-dropdown, .so-outlet-dropdown");
      if (dropdownTrigger || dropdownElement)
        return;
      const navbarDropdownBtn = e.target.closest(".so-navbar-user-btn, .so-navbar-apps-btn, .so-navbar-outlet-btn, .so-navbar-status-btn, .so-navbar-theme-btn");
      const navbarDropdown = e.target.closest(".so-navbar-user-dropdown, .so-navbar-apps, .so-navbar-outlet-dropdown, .so-navbar-status-dropdown, .so-navbar-theme-dropdown");
      if (navbarDropdownBtn || navbarDropdown)
        return;
      const autoClose = this.options.autoClose;
      if (autoClose === false)
        return;
      if (autoClose === "inside")
        return;
      this.close();
    }
    /**
     * Handle keyboard navigation
     * @param {KeyboardEvent} e - Keyboard event
     * @private
     */
    _handleKeydown(e) {
      var _a;
      if (e.key === "Escape" && this._isOpen) {
        e.preventDefault();
        this.close();
        (_a = this._trigger) == null ? void 0 : _a.focus();
        return;
      }
      if (e.key === "ArrowDown" && !this._isOpen) {
        e.preventDefault();
        this.open();
        return;
      }
      if (this._isOpen) {
        const items = this._getNavigableItems();
        if (e.key === "ArrowDown") {
          e.preventDefault();
          this._focusNextItem(items, 1);
        } else if (e.key === "ArrowUp") {
          e.preventDefault();
          this._focusNextItem(items, -1);
        } else if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          if (this._focusedIndex >= 0 && items[this._focusedIndex]) {
            items[this._focusedIndex].click();
          }
        } else if (e.key === "Home") {
          e.preventDefault();
          this._focusItem(items, 0);
        } else if (e.key === "End") {
          e.preventDefault();
          this._focusItem(items, items.length - 1);
        }
      }
    }
    /**
     * Get all navigable (non-disabled) items
     * @returns {Element[]} Array of navigable items
     * @private
     */
    _getNavigableItems() {
      const selector = this._getItemSelector();
      return this.$$(selector).filter(
        (item) => !item.classList.contains("so-disabled") && !item.hasAttribute("disabled") && item.getAttribute("aria-disabled") !== "true" && !item.classList.contains("so-dropdown-header") && !item.classList.contains("so-dropdown-divider") && item.style.display !== "none"
      );
    }
    /**
     * Focus next/previous item in the list
     * @param {Element[]} items - Navigable items
     * @param {number} direction - 1 for next, -1 for previous
     * @private
     */
    _focusNextItem(items, direction) {
      if (items.length === 0)
        return;
      let newIndex = this._focusedIndex + direction;
      if (newIndex < 0)
        newIndex = items.length - 1;
      if (newIndex >= items.length)
        newIndex = 0;
      this._focusItem(items, newIndex);
    }
    /**
     * Focus a specific item by index
     * @param {Element[]} items - Navigable items
     * @param {number} index - Item index
     * @private
     */
    _focusItem(items, index) {
      const allItems = this.$$(this._getItemSelector());
      allItems.forEach((item) => item.classList.remove("so-focused"));
      this._focusedIndex = index;
      if (items[index]) {
        items[index].classList.add("so-focused");
        items[index].scrollIntoView({ block: "nearest" });
      }
    }
    /**
     * Clear focused item state
     * @private
     */
    _clearFocusedItem() {
      const items = this.$$(this._getItemSelector());
      items.forEach((item) => item.classList.remove("so-focused"));
      this._focusedIndex = -1;
    }
    /**
     * Close other open dropdowns
     * @private
     */
    _closeOtherDropdowns() {
      document.querySelectorAll(".so-dropdown.so-open, .so-searchable-dropdown.so-open, .so-options-dropdown.so-open, .so-outlet-dropdown.so-open").forEach((dropdown) => {
        if (dropdown !== this.element) {
          const instance = _SODropdown.getInstance(dropdown);
          if (instance && instance._isOpen) {
            instance._isOpen = false;
            instance.removeClass("so-open", "position-left", "position-top");
            instance._removeDirectionClasses();
          } else {
            dropdown.classList.remove("so-open", "position-left", "position-top");
            dropdown.classList.remove("so-dropup", "so-dropstart", "so-dropend", "so-dropdown-menu-end");
          }
        }
      });
      document.dispatchEvent(new CustomEvent("closeNavbarDropdowns"));
    }
    /**
     * Apply direction and alignment classes
     * @private
     */
    _applyDirectionClasses() {
      const direction = this.options.direction;
      const alignment = this.options.alignment;
      if (direction === "up" && !this._originalClasses.dropup)
        this.addClass("so-dropup");
      if (direction === "start" && !this._originalClasses.dropstart)
        this.addClass("so-dropstart");
      if (direction === "end" && !this._originalClasses.dropend)
        this.addClass("so-dropend");
      if (alignment === "end" && !this._originalClasses.menuEnd)
        this.addClass("so-dropdown-menu-end");
    }
    /**
     * Remove direction and alignment classes (only those added dynamically, not via HTML)
     * @private
     */
    _removeDirectionClasses() {
      if (!this._originalClasses.dropup)
        this.removeClass("so-dropup");
      if (!this._originalClasses.dropstart)
        this.removeClass("so-dropstart");
      if (!this._originalClasses.dropend)
        this.removeClass("so-dropend");
      if (!this._originalClasses.menuEnd)
        this.removeClass("so-dropdown-menu-end");
    }
    /**
     * Position options dropdown menu
     * @private
     */
    _positionMenu() {
      if (this._type !== "options")
        return;
      this.removeClass("position-left", "position-top");
      const triggerRect = this._trigger.getBoundingClientRect();
      const menuWidth = this._menu.offsetWidth || 180;
      const menuHeight = this._menu.offsetHeight || 150;
      const viewportWidth = window.innerWidth;
      const viewportHeight = window.innerHeight;
      const spaceRight = viewportWidth - triggerRect.right;
      const spaceBottom = viewportHeight - triggerRect.bottom;
      const spaceTop = triggerRect.top;
      if (spaceRight >= menuWidth) {
        this.addClass("position-left");
      }
      if (spaceBottom < menuHeight + 10 && spaceTop > menuHeight + 10) {
        this.addClass("position-top");
      }
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Open the dropdown
     * @returns {this} For chaining
     */
    open() {
      if (this._isOpen || this._disabled)
        return this;
      const showAllowed = this.emit(_SODropdown.EVENTS.SHOW, {}, true, true);
      if (!showAllowed)
        return this;
      this._isOpen = true;
      this.addClass("so-open");
      this._applyDirectionClasses();
      this._focusedIndex = -1;
      this._ignoreOutsideClick = true;
      setTimeout(() => {
        this._ignoreOutsideClick = false;
      }, 10);
      if (this._searchInput) {
        setTimeout(() => this._searchInput.focus(), 50);
      }
      setTimeout(() => {
        this.emit(_SODropdown.EVENTS.SHOWN);
      }, 150);
      return this;
    }
    /**
     * Close the dropdown
     * @returns {this} For chaining
     */
    close() {
      if (!this._isOpen)
        return this;
      const hideAllowed = this.emit(_SODropdown.EVENTS.HIDE, {}, true, true);
      if (!hideAllowed)
        return this;
      this._isOpen = false;
      this.removeClass("so-open");
      this._clearFocusedItem();
      if (this._searchInput) {
        this._searchInput.value = "";
        this._filterItems("");
      }
      setTimeout(() => {
        this.removeClass("position-left", "position-top");
        this._removeDirectionClasses();
        this.emit(_SODropdown.EVENTS.HIDDEN);
      }, 150);
      return this;
    }
    /**
     * Toggle the dropdown
     * @returns {this} For chaining
     */
    toggle() {
      return this._isOpen ? this.close() : this.open();
    }
    /**
     * Select an option (single selection mode)
     * @param {string} value - Option value
     * @param {string} [text] - Display text
     * @param {Element} [clickedItem] - Clicked item element
     * @returns {this} For chaining
     */
    select(value, text, clickedItem = null) {
      const previousValues = [...this._selectedValues];
      this._selectedValues = [value];
      this._selectedTexts = [text];
      if (this._selectedEl) {
        this._selectedEl.textContent = text;
      }
      const itemSelector = this._getItemSelector();
      this.$$(itemSelector).forEach((item) => {
        const isSelected = clickedItem ? item === clickedItem : item.dataset.value !== void 0 ? item.dataset.value === value : this._getItemText(item) === value;
        item.classList.toggle("so-selected", isSelected);
        item.classList.toggle("so-active", isSelected);
      });
      this.emit(_SODropdown.EVENTS.CHANGE, {
        value,
        text,
        values: this._selectedValues,
        texts: this._selectedTexts,
        previousValues
      });
      return this;
    }
    /**
     * Toggle selection for multiple mode
     * @param {string} value - Option value
     * @param {string} text - Display text
     * @param {Element} item - Item element
     * @returns {this} For chaining
     */
    toggleSelect(value, text, item) {
      const previousValues = [...this._selectedValues];
      const index = this._selectedValues.indexOf(value);
      if (index > -1) {
        const minSelections = this.options.minSelections || 0;
        if (this._selectedValues.length <= minSelections) {
          return this;
        }
        this._selectedValues.splice(index, 1);
        this._selectedTexts.splice(index, 1);
        item.classList.remove("so-selected", "so-active");
      } else {
        if (this.options.maxSelections && this._selectedValues.length >= this.options.maxSelections) {
          return this;
        }
        this._selectedValues.push(value);
        this._selectedTexts.push(text);
        item.classList.add("so-selected", "so-active");
      }
      this._updateMultipleDisplay();
      this.emit(_SODropdown.EVENTS.CHANGE, {
        value,
        text,
        values: this._selectedValues,
        texts: this._selectedTexts,
        previousValues,
        action: index > -1 ? "deselect" : "select"
      });
      return this;
    }
    /**
     * Update display text for multiple selection
     * @private
     */
    _updateMultipleDisplay() {
      if (!this._selectedEl)
        return;
      const count = this._selectedValues.length;
      const totalItems = this._getTotalSelectableItems();
      if (count === 0) {
        this._selectedEl.textContent = this.options.placeholder;
        this._selectedEl.classList.add("so-placeholder");
      } else if (count === totalItems && this.options.allSelectedText) {
        this._selectedEl.textContent = this.options.allSelectedText;
        this._selectedEl.classList.remove("so-placeholder");
      } else if (count === 1) {
        this._selectedEl.textContent = this._selectedTexts[0];
        this._selectedEl.classList.remove("so-placeholder");
      } else {
        this._selectedEl.textContent = this.options.multipleSelectedText.replace("{count}", count);
        this._selectedEl.classList.remove("so-placeholder");
      }
    }
    /**
     * Get total number of selectable (non-disabled) items
     * @returns {number} Total selectable items
     * @private
     */
    _getTotalSelectableItems() {
      const itemSelector = this._getItemSelector();
      return this.$$(itemSelector).filter(
        (item) => !item.classList.contains("so-disabled") && !item.hasAttribute("disabled") && item.getAttribute("aria-disabled") !== "true"
      ).length;
    }
    /**
     * Get selected value (returns first for multiple, or single value)
     * @returns {string|null} Selected value
     */
    getValue() {
      return this._selectedValues[0] || null;
    }
    /**
     * Get all selected values (for multiple selection)
     * @returns {string[]} Array of selected values
     */
    getValues() {
      return [...this._selectedValues];
    }
    /**
     * Get selected text (returns first for multiple, or single text)
     * @returns {string|null} Selected text
     */
    getText() {
      return this._selectedTexts[0] || null;
    }
    /**
     * Get all selected texts (for multiple selection)
     * @returns {string[]} Array of selected texts
     */
    getTexts() {
      return [...this._selectedTexts];
    }
    /**
     * Clear all selections
     * @returns {this} For chaining
     */
    clearSelection() {
      const previousValues = [...this._selectedValues];
      this._selectedValues = [];
      this._selectedTexts = [];
      const itemSelector = this._getItemSelector();
      this.$$(itemSelector).forEach((item) => {
        item.classList.remove("so-selected", "so-active");
      });
      if (this.options.multiple) {
        this._updateMultipleDisplay();
      } else if (this._selectedEl) {
        this._selectedEl.textContent = this.options.placeholder;
        this._selectedEl.classList.add("so-placeholder");
      }
      this.emit(_SODropdown.EVENTS.CHANGE, {
        value: null,
        text: null,
        values: [],
        texts: [],
        previousValues,
        action: "clear"
      });
      return this;
    }
    /**
     * Select all items (for multiple selection mode)
     * @returns {this} For chaining
     */
    selectAll() {
      if (!this.options.multiple)
        return this;
      const previousValues = [...this._selectedValues];
      const itemSelector = this._getItemSelector();
      const items = this.$$(itemSelector);
      this._selectedValues = [];
      this._selectedTexts = [];
      items.forEach((item) => {
        if (item.classList.contains("so-disabled") || item.hasAttribute("disabled") || item.getAttribute("aria-disabled") === "true") {
          return;
        }
        if (item.style.display === "none") {
          return;
        }
        const text = this._getItemText(item);
        const value = item.dataset.value !== void 0 ? item.dataset.value : text;
        if (this.options.maxSelections && this._selectedValues.length >= this.options.maxSelections) {
          return;
        }
        this._selectedValues.push(value);
        this._selectedTexts.push(text);
        item.classList.add("so-selected", "so-active");
      });
      this._updateMultipleDisplay();
      this.emit(_SODropdown.EVENTS.CHANGE, {
        value: this._selectedValues[0] || null,
        text: this._selectedTexts[0] || null,
        values: this._selectedValues,
        texts: this._selectedTexts,
        previousValues,
        action: "selectAll"
      });
      return this;
    }
    /**
     * Deselect all items (alias for clearSelection, for multiple selection mode)
     * @returns {this} For chaining
     */
    selectNone() {
      if (!this.options.multiple)
        return this;
      const minSelections = this.options.minSelections || 0;
      if (minSelections > 0) {
        return this;
      }
      const previousValues = [...this._selectedValues];
      this._selectedValues = [];
      this._selectedTexts = [];
      const itemSelector = this._getItemSelector();
      this.$$(itemSelector).forEach((item) => {
        item.classList.remove("so-selected", "so-active");
      });
      this._updateMultipleDisplay();
      this.emit(_SODropdown.EVENTS.CHANGE, {
        value: null,
        text: null,
        values: [],
        texts: [],
        previousValues,
        action: "selectNone"
      });
      return this;
    }
    /**
     * Check if dropdown is open
     * @returns {boolean} Open state
     */
    isOpen() {
      return this._isOpen;
    }
    /**
     * Update dropdown position (for dynamic content)
     * @returns {this} For chaining
     */
    update() {
      if (this._isOpen) {
        this._positionMenu();
      }
      return this;
    }
    /**
     * Disable the dropdown
     * @returns {this} For chaining
     */
    disable() {
      this._disabled = true;
      this.addClass("so-disabled");
      if (this._trigger) {
        this._trigger.setAttribute("disabled", "");
        this._trigger.setAttribute("aria-disabled", "true");
      }
      if (this._isOpen) {
        this.close();
      }
      return this;
    }
    /**
     * Enable the dropdown
     * @returns {this} For chaining
     */
    enable() {
      this._disabled = false;
      this.removeClass("so-disabled");
      if (this._trigger) {
        this._trigger.removeAttribute("disabled");
        this._trigger.removeAttribute("aria-disabled");
      }
      return this;
    }
    /**
     * Check if dropdown is disabled
     * @returns {boolean} Disabled state
     */
    isDisabled() {
      return this._disabled;
    }
    /**
     * Enable or disable a specific item
     * @param {string|number} identifier - Value or index of item
     * @param {boolean} disabled - Whether to disable
     * @returns {this} For chaining
     */
    setItemDisabled(identifier, disabled = true) {
      const items = this.$$(this._getItemSelector());
      const item = typeof identifier === "number" ? items[identifier] : items.find((i) => i.dataset.value === identifier);
      if (item) {
        item.classList.toggle("so-disabled", disabled);
        if (disabled) {
          item.setAttribute("aria-disabled", "true");
        } else {
          item.removeAttribute("aria-disabled");
        }
      }
      return this;
    }
    // ============================================
    // STATIC FACTORY METHODS
    // ============================================
    /**
     * Create a standard dropdown programmatically
     * @param {Object} options - Dropdown configuration
     * @returns {HTMLElement} Created dropdown element
     */
    static create(options = {}) {
      const { placeholder = "Select option", items = [], className = "" } = options;
      const dropdown = document.createElement("div");
      dropdown.className = `so-dropdown ${className}`.trim();
      const selectedItem = items.find((i) => i.selected);
      dropdown.innerHTML = `
      <button type="button" class="so-dropdown-trigger">
        <span class="so-dropdown-selected">${(selectedItem == null ? void 0 : selectedItem.label) || placeholder}</span>
        <span class="material-icons so-dropdown-arrow">expand_more</span>
      </button>
      <div class="so-dropdown-menu">
        ${items.map((item) => `
          <div class="so-dropdown-item ${item.selected ? "so-selected" : ""} ${item.disabled ? "so-disabled" : ""}"
               data-value="${item.value}"
               ${item.disabled ? 'aria-disabled="true"' : ""}>
            ${item.icon ? `<span class="material-icons">${item.icon}</span>` : ""}
            ${item.label}
          </div>
        `).join("")}
      </div>
    `;
      return dropdown;
    }
    /**
     * Create a searchable dropdown programmatically
     * @param {Object} options - Dropdown configuration
     * @returns {HTMLElement} Created dropdown element
     */
    static createSearchable(options = {}) {
      const {
        placeholder = "Select option",
        searchPlaceholder = "Search...",
        items = [],
        className = ""
      } = options;
      const dropdown = document.createElement("div");
      dropdown.className = `so-searchable-dropdown ${className}`.trim();
      const selectedItem = items.find((i) => i.selected);
      dropdown.innerHTML = `
      <button type="button" class="so-searchable-trigger">
        <span class="so-searchable-selected">${(selectedItem == null ? void 0 : selectedItem.label) || placeholder}</span>
        <span class="material-icons so-dropdown-arrow">expand_more</span>
      </button>
      <div class="so-searchable-menu">
        <div class="so-searchable-search">
          <span class="material-icons">search</span>
          <input type="text" class="so-searchable-input" placeholder="${searchPlaceholder}">
        </div>
        <div class="so-searchable-items">
          ${items.map((item) => `
            <div class="so-searchable-item ${item.selected ? "so-selected" : ""} ${item.disabled ? "so-disabled" : ""}"
                 data-value="${item.value}"
                 ${item.disabled ? 'aria-disabled="true"' : ""}>
              ${item.label}
            </div>
          `).join("")}
        </div>
      </div>
    `;
      return dropdown;
    }
    /**
     * Create an options dropdown programmatically
     * @param {Object} options - Dropdown configuration
     * @returns {HTMLElement} Created dropdown element
     */
    static createOptions(options = {}) {
      const { icon = "more_vert", items = [], className = "" } = options;
      const dropdown = document.createElement("div");
      dropdown.className = `so-options-dropdown ${className}`.trim();
      dropdown.innerHTML = `
      <button type="button" class="so-options-trigger">
        <span class="material-icons">${icon}</span>
      </button>
      <div class="so-options-menu">
        ${items.map((item) => {
        if (item.divider) {
          return '<div class="so-options-divider"></div>';
        }
        if (item.header) {
          return `<div class="so-dropdown-header">${item.header}</div>`;
        }
        return `
            <div class="so-options-item ${item.danger ? "so-danger" : ""} ${item.disabled ? "so-disabled" : ""}"
                 data-action="${item.action || ""}"
                 ${item.disabled ? 'aria-disabled="true"' : ""}>
              ${item.icon ? `<span class="material-icons">${item.icon}</span>` : ""}
              <span>${item.label}</span>
            </div>
          `;
      }).join("")}
      </div>
    `;
      return dropdown;
    }
  };
  __publicField(_SODropdown, "NAME", "dropdown");
  __publicField(_SODropdown, "DEFAULTS", {
    closeOnSelect: true,
    closeOnOutsideClick: true,
    openOnFocus: false,
    searchable: false,
    placeholder: "Select option",
    searchPlaceholder: "Search...",
    noResultsText: "No results found",
    // New options
    autoClose: true,
    // true, false, 'inside', 'outside'
    direction: "down",
    // down, up, start, end
    alignment: "start",
    // start, end
    // Selection options
    selectionStyle: "default",
    // 'default' (bg + check), 'highlight' (bg only), 'check' (check only)
    multiple: false,
    // Allow multiple selections
    multipleStyle: "checkbox",
    // 'checkbox' (adds checkbox boxes), 'check' (uses checkmark icons)
    maxSelections: null,
    // Max selections allowed (null = unlimited)
    minSelections: null,
    // Min selections required (null = 0, can deselect all)
    showActions: false,
    // Show "Select All" / "Select None" links for multiple selection
    selectAllText: "All",
    // Text for select all link
    selectNoneText: "None",
    // Text for select none link
    allSelectedText: null,
    // Text to show when all items are selected (e.g., "All Outlets")
    multipleSelectedText: "{count} selected"
    // Text template for multiple selections
  });
  __publicField(_SODropdown, "EVENTS", {
    // Before/After show events (Bootstrap pattern)
    SHOW: "dropdown:show",
    // Before opening (cancelable)
    SHOWN: "dropdown:shown",
    // After opened
    HIDE: "dropdown:hide",
    // Before closing (cancelable)
    HIDDEN: "dropdown:hidden",
    // After closed
    // Other events
    CHANGE: "dropdown:change",
    SEARCH: "dropdown:search",
    ACTION: "dropdown:action"
  });
  var SODropdown = _SODropdown;
  SODropdown.register();
  window.SODropdown = SODropdown;
  var so_dropdown_default = SODropdown;

  // src/js/components/so-layout.js
  var _SONavbar = class _SONavbar extends so_component_default {
    /**
     * Initialize the navbar
     * @private
     */
    _init() {
      this._activeDropdown = null;
      this._bindEvents();
      this._initOutletSelector();
      this._initStatusSelector();
      this._initThemeSwitcher();
      this._initKeyboardShortcuts();
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      const searchInput = this.$(this.options.searchInputSelector);
      const searchWrapper = (searchInput == null ? void 0 : searchInput.closest(".so-navbar-search-wrapper")) || (searchInput == null ? void 0 : searchInput.closest(".so-navbar-search"));
      if (searchWrapper) {
        this.on("click", (e) => {
          e.preventDefault();
          e.stopPropagation();
          if (window.soSearchOverlay) {
            window.soSearchOverlay.open();
          }
        }, searchWrapper);
      }
      const userBtn = this.$(this.options.userBtnSelector);
      const userDropdown = this.$(this.options.userDropdownSelector);
      if (userBtn && userDropdown) {
        this.on("click", (e) => {
          e.stopPropagation();
          this._toggleDropdown(userDropdown, "user", "so-active");
        }, userBtn);
        const menuItems = userDropdown.querySelectorAll(".so-navbar-user-menu-item");
        menuItems.forEach((item) => {
          this.on("click", (e) => {
            e.stopPropagation();
            this._closeNavbarDropdowns();
          }, item);
        });
      }
      const appsContainer = this.$(this.options.appsContainerSelector);
      const appsBtn = this.$(this.options.appsBtnSelector);
      if (appsContainer && appsBtn) {
        this.on("click", (e) => {
          e.stopPropagation();
          this._toggleDropdown(appsContainer, "apps", "so-open");
        }, appsBtn);
      }
      this.on("click", (e) => {
        const isInsideNavbarDropdown = e.target.closest(".so-navbar-outlet-dropdown, .so-navbar-status-dropdown, .so-navbar-theme-dropdown, .so-navbar-user-dropdown, .so-navbar-apps, .so-navbar-apps-dropdown");
        const isInsideSODropdown = e.target.closest(".so-dropdown, .so-searchable-dropdown, .so-options-dropdown, .so-outlet-dropdown");
        const isNavbarTrigger = e.target.closest(".so-navbar-user-btn, .so-navbar-apps-btn, .so-navbar-outlet-btn, .so-navbar-status-btn, .so-navbar-theme-btn");
        const isSODropdownTrigger = e.target.closest('.so-dropdown-trigger, .so-searchable-trigger, .so-options-trigger, .so-outlet-dropdown-trigger, .so-btn[data-so-toggle="dropdown"]');
        if (!isInsideNavbarDropdown && !isInsideSODropdown && !isNavbarTrigger && !isSODropdownTrigger) {
          this.closeAllDropdowns();
        }
      }, document);
      this.on("keydown", (e) => {
        if (e.key === "Escape") {
          this.closeAllDropdowns();
        }
      }, document);
      this.on("closeAllDropdowns", () => this.closeAllDropdowns(), document);
      this.on("closeNavbarDropdowns", () => this._closeNavbarDropdowns(), document);
    }
    /**
     * Initialize outlet selector
     * @private
     */
    _initOutletSelector() {
      const outletBtn = this.$(this.options.outletBtnSelector);
      const outletDropdown = this.$(this.options.outletDropdownSelector);
      if (!outletBtn || !outletDropdown)
        return;
      this.on("click", (e) => {
        e.stopPropagation();
        this._toggleDropdown(outletDropdown, "outlet");
      }, outletBtn);
      outletDropdown.querySelectorAll(".so-navbar-outlet-item").forEach((item) => {
        this.on("click", (e) => {
          var _a;
          e.stopPropagation();
          const value = item.dataset.value;
          const text = ((_a = item.querySelector("span:first-child")) == null ? void 0 : _a.textContent) || item.textContent;
          outletDropdown.querySelectorAll(".so-navbar-outlet-item").forEach((i) => {
            i.classList.toggle("so-selected", i === item);
          });
          const btnText = outletBtn.querySelector(".outlet-text");
          if (btnText)
            btnText.textContent = text;
          this.emit(_SONavbar.EVENTS.OUTLET_CHANGE, { value, text });
          this.closeAllDropdowns();
        }, item);
      });
      const searchInput = outletDropdown.querySelector("input");
      if (searchInput) {
        this.on("input", (e) => {
          const query = e.target.value.toLowerCase();
          outletDropdown.querySelectorAll(".so-navbar-outlet-item").forEach((item) => {
            const text = item.textContent.toLowerCase();
            item.style.display = text.includes(query) ? "" : "none";
          });
        }, searchInput);
      }
    }
    /**
     * Initialize status selector
     * @private
     */
    _initStatusSelector() {
      const statusBtn = this.$(this.options.statusBtnSelector);
      const statusDropdown = this.$(this.options.statusDropdownSelector);
      const statusContainer = statusBtn == null ? void 0 : statusBtn.closest(".so-navbar-status");
      if (!statusBtn || !statusDropdown || !statusContainer)
        return;
      this.on("click", (e) => {
        e.stopPropagation();
        this._toggleStatusDropdown(statusContainer);
      }, statusBtn);
      statusDropdown.querySelectorAll(".so-navbar-status-option").forEach((option) => {
        this.on("click", (e) => {
          var _a;
          e.stopPropagation();
          const status = option.dataset.status;
          const text = (_a = option.querySelector(".so-navbar-status-option-text > div:first-child")) == null ? void 0 : _a.textContent;
          statusDropdown.querySelectorAll(".so-navbar-status-option").forEach((o) => {
            o.classList.toggle("so-selected", o === option);
          });
          const indicator = statusBtn.querySelector(".so-navbar-status-indicator");
          const textEl = statusBtn.querySelector(".so-navbar-status-text");
          if (indicator) {
            indicator.className = `so-navbar-status-indicator ${status}`;
          }
          if (textEl && text) {
            textEl.textContent = text;
          }
          this.emit(_SONavbar.EVENTS.STATUS_CHANGE, { status, text });
          this.closeAllDropdowns();
        }, option);
      });
    }
    /**
     * Initialize theme switcher
     * @private
     */
    _initThemeSwitcher() {
      const themeBtn = this.$(this.options.themeBtnSelector);
      const themeDropdown = this.$(this.options.themeDropdownSelector);
      if (!themeBtn || !themeDropdown)
        return;
      this.on("click", (e) => {
        e.stopPropagation();
        this._toggleDropdown(themeDropdown, "theme");
      }, themeBtn);
    }
    /**
     * Initialize keyboard shortcuts button
     * @private
     */
    _initKeyboardShortcuts() {
      const keyboardBtn = this.$(this.options.keyboardBtnSelector);
      if (!keyboardBtn)
        return;
      this.on("click", (e) => {
        e.stopPropagation();
        if (window.soKeyboardShortcuts) {
          window.soKeyboardShortcuts.show();
        } else {
          console.log("Keyboard shortcuts modal not implemented yet");
          alert("Keyboard Shortcuts:\n\nCtrl+K - Open Search\nCtrl+S - New Sales Invoice\nCtrl+P - New Purchase Bill\nCtrl+R - Receipt Entry\nCtrl+Y - Payment Entry\nEsc - Close dialogs");
        }
      }, keyboardBtn);
    }
    /**
     * Toggle a dropdown
     * @param {Element} dropdown - Dropdown element
     * @param {string} type - Dropdown type identifier
     * @param {string} activeClass - Class to toggle (default: 'active')
     * @private
     */
    _toggleDropdown(dropdown, type, activeClass = "so-active") {
      const isActive = dropdown.classList.contains(activeClass);
      this.closeAllDropdowns();
      if (!isActive) {
        dropdown.classList.add(activeClass);
        this._activeDropdown = { dropdown, type };
        this.emit(_SONavbar.EVENTS.DROPDOWN_OPEN, { dropdown, type });
      }
    }
    /**
     * Toggle status dropdown (uses 'open' on parent container)
     * @param {Element} container - Status container element (.so-navbar-status)
     * @private
     */
    _toggleStatusDropdown(container) {
      const isOpen = container.classList.contains("so-open");
      this.closeAllDropdowns();
      if (!isOpen) {
        container.classList.add("so-open");
        this._activeDropdown = { dropdown: container, type: "status" };
        this.emit(_SONavbar.EVENTS.DROPDOWN_OPEN, { dropdown: container, type: "status" });
      }
    }
    /**
     * Close only navbar custom dropdowns (not SODropdown instances)
     * @returns {this} For chaining
     * @private
     */
    _closeNavbarDropdowns() {
      this.$$(".so-navbar-user-dropdown").forEach((dropdown) => {
        dropdown.classList.remove("so-active");
      });
      this.$$(".so-navbar-user-btn").forEach((btn) => {
        btn.classList.remove("so-active");
      });
      const appsContainer = this.$(this.options.appsContainerSelector);
      if (appsContainer) {
        appsContainer.classList.remove("so-open");
      }
      this.$$(".so-navbar-outlet-dropdown").forEach((dropdown) => {
        dropdown.classList.remove("so-active");
      });
      this.$$(".so-navbar-status").forEach((container) => {
        container.classList.remove("so-open");
      });
      this.$$(".so-navbar-theme-dropdown").forEach((dropdown) => {
        dropdown.classList.remove("so-active");
      });
      this._activeDropdown = null;
      return this;
    }
    /**
     * Close all dropdowns (navbar custom + SODropdown instances)
     * @returns {this} For chaining
     */
    closeAllDropdowns() {
      this._closeNavbarDropdowns();
      this.$$(".so-dropdown.so-open").forEach((dropdown) => {
        const instance = so_config_default.getInstance(dropdown, "dropdown");
        if (instance && typeof instance.close === "function") {
          instance.close();
        }
      });
      this.emit(_SONavbar.EVENTS.DROPDOWN_CLOSE);
      return this;
    }
  };
  __publicField(_SONavbar, "NAME", "navbar");
  __publicField(_SONavbar, "DEFAULTS", {
    searchInputSelector: ".so-navbar-search-input",
    userBtnSelector: ".so-navbar-user-btn",
    userDropdownSelector: ".so-navbar-user-dropdown",
    appsBtnSelector: ".so-navbar-apps-btn",
    appsContainerSelector: ".so-navbar-apps",
    outletBtnSelector: ".so-navbar-outlet-btn",
    outletDropdownSelector: ".so-navbar-outlet-dropdown",
    statusBtnSelector: ".so-navbar-status-btn",
    statusDropdownSelector: ".so-navbar-status-dropdown",
    themeBtnSelector: ".so-navbar-theme-btn",
    themeDropdownSelector: ".so-navbar-theme-dropdown",
    keyboardBtnSelector: "#keyboardShortcutsBtn"
  });
  __publicField(_SONavbar, "EVENTS", {
    SEARCH: "navbar:search",
    DROPDOWN_OPEN: "navbar:dropdown:open",
    DROPDOWN_CLOSE: "navbar:dropdown:close",
    OUTLET_CHANGE: "navbar:outlet:change",
    STATUS_CHANGE: "navbar:status:change"
  });
  var SONavbar = _SONavbar;
  SONavbar.register();
  window.SONavbar = SONavbar;

  // src/js/components/so-modal.js
  var _SOModal = class _SOModal extends so_component_default {
    /**
     * Initialize the modal
     * @private
     */
    _init() {
      this._dialog = this.$(".so-modal-dialog");
      this._content = this.$(".so-modal-content");
      this._header = this.$(".so-modal-header");
      this._backdrop = null;
      this._isOpen = false;
      this._focusTrapCleanup = null;
      this._previousActiveElement = null;
      this._isMaximized = false;
      this._isDragging = false;
      this._dragPosition = { x: 0, y: 0 };
      this._originalSize = null;
      this._resizeObserver = null;
      if (this.element.hasAttribute("data-so-static") || this.element.classList.contains("so-modal-static") || this.options.static === true) {
        this.options.static = true;
        this.options.closable = false;
        this.options.keyboard = false;
        this.element.classList.add("so-modal-static");
      }
      if (this.options.draggable) {
        this._setupDraggable();
      }
      if (this.options.maximizable) {
        this._setupMaximizable();
      }
      if (this.options.mobileFullscreen) {
        this._setupMobileFullscreen();
      }
      if (this.options.sidebar) {
        this._setupSidebar();
      }
      this._bindEvents();
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this.delegate("click", '.so-modal-close, [data-dismiss="modal"]', () => {
        if (!this.options.static) {
          this.hide();
        }
      });
      if (this.options.backdrop) {
        this.on("click", (e) => {
          if (e.target === this.element) {
            if (this.options.static) {
              this._shakeModal();
            } else if (this.options.closable) {
              this.hide();
            }
          }
        });
      }
      this.delegate("click", "[data-modal-confirm]", () => {
        this.emit(_SOModal.EVENTS.CONFIRM);
        this.hide();
      });
      this.delegate("click", "[data-modal-cancel]", () => {
        this.emit(_SOModal.EVENTS.CANCEL);
        this.hide();
      });
    }
    /**
     * Shake the modal to indicate it cannot be dismissed
     * @private
     */
    _shakeModal() {
      this._playFeedbackAnimation("shake");
    }
    /**
     * Play a feedback animation on the modal
     * @param {string} type - Animation type: 'shake', 'pulse', 'bounce', 'headshake'
     * @private
     */
    _playFeedbackAnimation(type = "shake") {
      const animationClass = `so-modal-feedback-${type}`;
      this.element.classList.add(animationClass);
      setTimeout(() => {
        this.element.classList.remove(animationClass);
      }, 500);
    }
    // ============================================
    // DRAGGABLE FUNCTIONALITY
    // ============================================
    /**
     * Setup draggable functionality
     * @private
     */
    _setupDraggable() {
      if (!this._header || !this._dialog)
        return;
      this.element.classList.add("so-modal-draggable");
      this._header.style.cursor = "move";
      this._boundDragStart = this._handleDragStart.bind(this);
      this._boundDragMove = this._handleDragMove.bind(this);
      this._boundDragEnd = this._handleDragEnd.bind(this);
      this._header.addEventListener("mousedown", this._boundDragStart);
      this._header.addEventListener("touchstart", this._boundDragStart, { passive: false });
    }
    /**
     * Handle drag start
     * @param {MouseEvent|TouchEvent} e
     * @private
     */
    _handleDragStart(e) {
      if (e.target.closest("button, .so-modal-close, .so-modal-maximize"))
        return;
      if (this._isMaximized)
        return;
      e.preventDefault();
      this._isDragging = true;
      const clientX = e.type.includes("touch") ? e.touches[0].clientX : e.clientX;
      const clientY = e.type.includes("touch") ? e.touches[0].clientY : e.clientY;
      const rect = this._dialog.getBoundingClientRect();
      this._dragOffset = {
        x: clientX - rect.left,
        y: clientY - rect.top
      };
      if (!this._dragPosition.x && !this._dragPosition.y) {
        this._dragPosition = {
          x: rect.left,
          y: rect.top
        };
      }
      this.element.classList.add("so-modal-dragging");
      this.emit(_SOModal.EVENTS.DRAG_START);
      document.addEventListener("mousemove", this._boundDragMove);
      document.addEventListener("mouseup", this._boundDragEnd);
      document.addEventListener("touchmove", this._boundDragMove, { passive: false });
      document.addEventListener("touchend", this._boundDragEnd);
    }
    /**
     * Handle drag move
     * @param {MouseEvent|TouchEvent} e
     * @private
     */
    _handleDragMove(e) {
      if (!this._isDragging)
        return;
      e.preventDefault();
      const clientX = e.type.includes("touch") ? e.touches[0].clientX : e.clientX;
      const clientY = e.type.includes("touch") ? e.touches[0].clientY : e.clientY;
      let newX = clientX - this._dragOffset.x;
      let newY = clientY - this._dragOffset.y;
      const dialogRect = this._dialog.getBoundingClientRect();
      const maxX = window.innerWidth - dialogRect.width;
      const maxY = window.innerHeight - dialogRect.height;
      newX = Math.max(0, Math.min(newX, maxX));
      newY = Math.max(0, Math.min(newY, maxY));
      this._dragPosition = { x: newX, y: newY };
      this._dialog.style.position = "fixed";
      this._dialog.style.margin = "0";
      this._dialog.style.left = `${newX}px`;
      this._dialog.style.top = `${newY}px`;
      this._dialog.style.transform = "none";
    }
    /**
     * Handle drag end
     * @private
     */
    _handleDragEnd() {
      if (!this._isDragging)
        return;
      this._isDragging = false;
      this.element.classList.remove("so-modal-dragging");
      this.emit(_SOModal.EVENTS.DRAG_END);
      document.removeEventListener("mousemove", this._boundDragMove);
      document.removeEventListener("mouseup", this._boundDragEnd);
      document.removeEventListener("touchmove", this._boundDragMove);
      document.removeEventListener("touchend", this._boundDragEnd);
    }
    /**
     * Reset drag position
     * @private
     */
    _resetDragPosition() {
      if (this._dialog) {
        this._dialog.style.position = "";
        this._dialog.style.left = "";
        this._dialog.style.top = "";
        this._dialog.style.margin = "";
        this._dialog.style.transform = "";
      }
      this._dragPosition = { x: 0, y: 0 };
    }
    // ============================================
    // MAXIMIZABLE FUNCTIONALITY
    // ============================================
    /**
     * Setup maximizable functionality
     * @private
     */
    _setupMaximizable() {
      if (!this._header)
        return;
      this.element.classList.add("so-modal-maximizable");
      this._maximizeBtn = this._header.querySelector(".so-modal-maximize");
      if (!this._maximizeBtn) {
        this._maximizeBtn = document.createElement("button");
        this._maximizeBtn.type = "button";
        this._maximizeBtn.className = "so-modal-maximize";
        this._maximizeBtn.innerHTML = '<span class="material-icons">open_in_full</span>';
        this._maximizeBtn.title = "Maximize";
        const closeBtn = this._header.querySelector(".so-modal-close");
        if (closeBtn) {
          closeBtn.parentNode.insertBefore(this._maximizeBtn, closeBtn);
        } else {
          this._header.appendChild(this._maximizeBtn);
        }
      }
      this._maximizeBtn.addEventListener("click", () => this.toggleMaximize());
      if (this.options.draggable) {
        this._header.addEventListener("dblclick", (e) => {
          if (!e.target.closest("button, .so-modal-close, .so-modal-maximize")) {
            this.toggleMaximize();
          }
        });
      }
    }
    /**
     * Maximize the modal
     * @returns {this} For chaining
     */
    maximize() {
      if (this._isMaximized)
        return this;
      this._originalSize = {
        width: this._dialog.style.width,
        height: this._dialog.style.height,
        maxWidth: this._dialog.style.maxWidth,
        maxHeight: this._dialog.style.maxHeight,
        position: this._dialog.style.position,
        left: this._dialog.style.left,
        top: this._dialog.style.top,
        transform: this._dialog.style.transform,
        margin: this._dialog.style.margin,
        borderRadius: this._dialog.style.borderRadius,
        dragPosition: __spreadValues({}, this._dragPosition)
      };
      this._isMaximized = true;
      this.element.classList.add("so-modal-maximized");
      this._dialog.style.width = "100%";
      this._dialog.style.height = "100%";
      this._dialog.style.maxWidth = "100%";
      this._dialog.style.maxHeight = "100%";
      this._dialog.style.position = "fixed";
      this._dialog.style.left = "0";
      this._dialog.style.top = "0";
      this._dialog.style.transform = "none";
      this._dialog.style.margin = "0";
      this._dialog.style.borderRadius = "0";
      if (this._maximizeBtn) {
        this._maximizeBtn.innerHTML = '<span class="material-icons">close_fullscreen</span>';
        this._maximizeBtn.title = "Restore";
      }
      if (this._header && this.options.draggable) {
        this._header.style.cursor = "default";
      }
      this.emit(_SOModal.EVENTS.MAXIMIZE);
      return this;
    }
    /**
     * Restore the modal from maximized state
     * @returns {this} For chaining
     */
    restore() {
      if (!this._isMaximized)
        return this;
      this._isMaximized = false;
      this.element.classList.remove("so-modal-maximized");
      if (this._originalSize) {
        this._dialog.style.width = this._originalSize.width;
        this._dialog.style.height = this._originalSize.height;
        this._dialog.style.maxWidth = this._originalSize.maxWidth;
        this._dialog.style.maxHeight = this._originalSize.maxHeight;
        this._dialog.style.position = this._originalSize.position;
        this._dialog.style.left = this._originalSize.left;
        this._dialog.style.top = this._originalSize.top;
        this._dialog.style.transform = this._originalSize.transform;
        this._dialog.style.margin = this._originalSize.margin;
        this._dialog.style.borderRadius = this._originalSize.borderRadius;
        this._dragPosition = this._originalSize.dragPosition;
      }
      if (this._maximizeBtn) {
        this._maximizeBtn.innerHTML = '<span class="material-icons">open_in_full</span>';
        this._maximizeBtn.title = "Maximize";
      }
      if (this._header && this.options.draggable) {
        this._header.style.cursor = "move";
      }
      this.emit(_SOModal.EVENTS.RESTORE);
      return this;
    }
    /**
     * Toggle between maximized and normal state
     * @returns {this} For chaining
     */
    toggleMaximize() {
      return this._isMaximized ? this.restore() : this.maximize();
    }
    /**
     * Check if modal is maximized
     * @returns {boolean}
     */
    isMaximized() {
      return this._isMaximized;
    }
    // ============================================
    // MOBILE FULLSCREEN
    // ============================================
    /**
     * Setup mobile fullscreen auto-switch
     * @private
     */
    _setupMobileFullscreen() {
      this._checkMobileFullscreen = () => {
        const isMobile = window.innerWidth < this.options.mobileBreakpoint;
        if (isMobile && this._isOpen && !this._isMaximized) {
          this.element.classList.add("so-modal-mobile-fullscreen");
        } else {
          this.element.classList.remove("so-modal-mobile-fullscreen");
        }
      };
      this._resizeObserver = new ResizeObserver(() => {
        this._checkMobileFullscreen();
      });
      this._resizeObserver.observe(document.body);
      this._checkMobileFullscreen();
    }
    // ============================================
    // SIDEBAR LAYOUT
    // ============================================
    /**
     * Setup sidebar layout
     * @private
     */
    _setupSidebar() {
      const position = this.options.sidebar === true ? "left" : this.options.sidebar;
      this.element.classList.add("so-modal-with-sidebar");
      this.element.classList.add(`so-modal-sidebar-${position}`);
      if (this.options.sidebarWidth) {
        this._dialog.style.setProperty("--so-modal-sidebar-width", this.options.sidebarWidth);
      }
    }
    /**
     * Focus the initial element based on focusElement option
     * @private
     */
    _focusInitialElement() {
      if (!this.options.focus)
        return;
      const focusOption = this.options.focusElement;
      let elementToFocus = null;
      if (focusOption === "footer") {
        const footer = this.$(".so-modal-footer");
        if (footer) {
          elementToFocus = footer.querySelector('button, [tabindex]:not([tabindex="-1"]), a[href]');
        }
        if (!elementToFocus) {
          elementToFocus = this.$(".so-modal-close");
        }
      } else if (focusOption === "close") {
        elementToFocus = this.$(".so-modal-close");
      } else if (focusOption === "first") {
        const focusableElements = this.getFocusableElements();
        elementToFocus = focusableElements[0];
      } else if (typeof focusOption === "string" && focusOption) {
        elementToFocus = this.$(focusOption);
      }
      if (!elementToFocus) {
        const focusableElements = this.getFocusableElements();
        elementToFocus = focusableElements[0];
      }
      if (elementToFocus && typeof elementToFocus.focus === "function") {
        elementToFocus.classList.add("so-focus-visible");
        elementToFocus.addEventListener("blur", () => {
          elementToFocus.classList.remove("so-focus-visible");
        }, { once: true });
        elementToFocus.focus();
      }
    }
    /**
     * Handle keyboard events
     * @param {KeyboardEvent} e - Keyboard event
     * @private
     */
    _handleKeydown(e) {
      if (e.key === "Escape" && this._isOpen) {
        const openModals = _SOModal._openModals;
        if (openModals.length > 0 && openModals[openModals.length - 1] === this) {
          e.preventDefault();
          e.stopPropagation();
          if (this.options.static) {
            this._shakeModal();
          } else if (this.options.closable) {
            this.hide();
          }
        }
      }
    }
    /**
     * Bind document keyboard listener
     * @private
     */
    _bindDocumentKeydown() {
      if (!this.options.keyboard)
        return;
      this._boundKeydown = this._handleKeydown.bind(this);
      document.addEventListener("keydown", this._boundKeydown);
    }
    /**
     * Unbind document keyboard listener
     * @private
     */
    _unbindDocumentKeydown() {
      if (this._boundKeydown) {
        document.removeEventListener("keydown", this._boundKeydown);
        this._boundKeydown = null;
      }
    }
    /**
     * Create and show backdrop
     * @private
     */
    _showBackdrop() {
      if (!this.options.backdrop)
        return;
      this._backdrop = document.createElement("div");
      this._backdrop.className = "so-modal-backdrop";
      if (this.options.animation) {
        this._backdrop.classList.add("so-fade");
      }
      const modalIndex = _SOModal._openModals.indexOf(this);
      if (modalIndex > 0) {
        this._backdrop.style.zIndex = _SOModal._baseZIndex + modalIndex * 10 - 1;
      }
      document.body.appendChild(this._backdrop);
      this._backdrop.offsetHeight;
      this._backdrop.classList.add("so-show");
    }
    /**
     * Update z-index for nested modals
     * @private
     */
    _updateZIndex() {
      const modalIndex = _SOModal._openModals.indexOf(this);
      if (modalIndex > 0) {
        const zIndex = _SOModal._baseZIndex + modalIndex * 10;
        this.element.style.zIndex = zIndex;
      }
    }
    /**
     * Reset z-index when modal closes
     * @private
     */
    _resetZIndex() {
      this.element.style.zIndex = "";
    }
    /**
     * Hide and remove backdrop
     * @private
     */
    _hideBackdrop() {
      if (!this._backdrop)
        return;
      this._backdrop.classList.remove("so-show");
      if (this.options.animation) {
        this._backdrop.addEventListener("transitionend", () => {
          var _a;
          (_a = this._backdrop) == null ? void 0 : _a.remove();
          this._backdrop = null;
        }, { once: true });
      } else {
        this._backdrop.remove();
        this._backdrop = null;
      }
    }
    /**
     * Manage body scroll lock
     * @param {boolean} lock - Whether to lock scroll
     * @private
     */
    _manageBodyScroll(lock) {
      if (lock) {
        document.body.classList.add("so-modal-open");
        document.body.style.overflow = "hidden";
      } else if (_SOModal._openModals.length === 0) {
        document.body.classList.remove("so-modal-open");
        document.body.style.overflow = "";
      }
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Show the modal
     * @returns {this} For chaining
     */
    show() {
      if (this._isOpen)
        return this;
      if (!this.emit(_SOModal.EVENTS.SHOW)) {
        return this;
      }
      this._isOpen = true;
      this._previousActiveElement = document.activeElement;
      _SOModal._openModals.push(this);
      this._updateZIndex();
      if (this.options.mobileFullscreen) {
        this._checkMobileFullscreen();
      }
      this._showBackdrop();
      this._manageBodyScroll(true);
      this.element.style.display = "flex";
      if (this.options.animation) {
        this.addClass("so-fade");
        this.element.offsetHeight;
      }
      this.addClass("so-show");
      if (this.options.focus) {
        this._focusTrapCleanup = this.trapFocus({ skipInitialFocus: true });
      }
      this._bindDocumentKeydown();
      if (this.options.animation) {
        let shownEmitted = false;
        const handleShown = () => {
          if (shownEmitted)
            return;
          shownEmitted = true;
          if (this.options.focus) {
            this._focusInitialElement();
          }
          this.emit(_SOModal.EVENTS.SHOWN);
        };
        const transitionHandler = (e) => {
          if (e.target === this._dialog) {
            this._dialog.removeEventListener("transitionend", transitionHandler);
            handleShown();
          }
        };
        this._dialog.addEventListener("transitionend", transitionHandler);
        setTimeout(handleShown, 350);
      } else {
        if (this.options.focus) {
          this._focusInitialElement();
        }
        this.emit(_SOModal.EVENTS.SHOWN);
      }
      return this;
    }
    /**
     * Hide the modal
     * @returns {this} For chaining
     */
    hide() {
      if (!this._isOpen)
        return this;
      if (!this.emit(_SOModal.EVENTS.HIDE)) {
        return this;
      }
      this._isOpen = false;
      const index = _SOModal._openModals.indexOf(this);
      if (index > -1) {
        _SOModal._openModals.splice(index, 1);
      }
      if (this._focusTrapCleanup) {
        this._focusTrapCleanup();
        this._focusTrapCleanup = null;
      }
      this._unbindDocumentKeydown();
      this.removeClass("so-show");
      const hideComplete = () => {
        this.element.style.display = "none";
        this._hideBackdrop();
        this._manageBodyScroll(false);
        this._resetZIndex();
        if (this.options.draggable) {
          this._resetDragPosition();
        }
        if (this._isMaximized) {
          this._isMaximized = false;
          this.element.classList.remove("so-modal-maximized");
          if (this._maximizeBtn) {
            this._maximizeBtn.innerHTML = '<span class="material-icons">open_in_full</span>';
          }
        }
        this.element.classList.remove("so-modal-mobile-fullscreen");
        if (this._previousActiveElement && typeof this._previousActiveElement.focus === "function") {
          this._previousActiveElement.focus();
        }
        this.emit(_SOModal.EVENTS.HIDDEN);
      };
      if (this.options.animation && this._dialog) {
        let completed = false;
        const safeHideComplete = () => {
          if (completed)
            return;
          completed = true;
          hideComplete();
        };
        this._dialog.addEventListener("transitionend", safeHideComplete, { once: true });
        setTimeout(safeHideComplete, 350);
      } else {
        hideComplete();
      }
      return this;
    }
    /**
     * Toggle modal visibility
     * @returns {this} For chaining
     */
    toggle() {
      return this._isOpen ? this.hide() : this.show();
    }
    /**
     * Check if modal is open
     * @returns {boolean} Open state
     */
    isOpen() {
      return this._isOpen;
    }
    /**
     * Set modal content
     * @param {string|Element} content - Content to set
     * @returns {this} For chaining
     */
    setContent(content) {
      const body = this.$(".so-modal-body");
      if (!body)
        return this;
      if (typeof content === "string") {
        body.innerHTML = content;
      } else if (content instanceof Element) {
        body.innerHTML = "";
        body.appendChild(content);
      }
      return this;
    }
    /**
     * Set modal title
     * @param {string} title - Title text
     * @returns {this} For chaining
     */
    setTitle(title) {
      const titleEl = this.$(".so-modal-title");
      if (titleEl) {
        titleEl.textContent = title;
      }
      return this;
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Create and show a modal programmatically
     *
     * @param {Object} options - Modal configuration
     * @param {string} options.title - Modal title
     * @param {string} options.content - Modal body content (HTML string)
     * @param {string} options.size - Modal size: 'sm', 'default', 'lg', 'xl', 'fullscreen'
     * @param {boolean} options.closable - Whether modal can be closed
     * @param {string} options.className - Additional CSS classes
     * @param {boolean} options.static - Cannot be dismissed without button click
     * @param {string|Array} options.footer - Footer content (flexible format):
     *   - String: Raw HTML string
     *   - Array: Array of button configs, each can be:
     *     - String: 'Cancel' (text only, outline style)
     *     - Array: [{ icon: 'save' }, 'Save'] (flexible content)
     *     - Object: { content: [...], class: 'so-btn-primary', dismiss: true, onclick: fn }
     * @param {string} options.footerPosition - Footer alignment: 'left', 'center', 'right', 'between', 'around'
     * @param {string} options.footerLayout - Footer layout: 'inline' or 'stacked'
     * @param {string} options.focusElement - Element to focus on open: 'footer' (default), 'close', 'first', or CSS selector
     * @returns {SOModal} Modal instance
     *
     * @example
     * // String footer (legacy)
     * SOModal.create({
     *   title: 'My Modal',
     *   content: '<p>Content here</p>',
     *   footer: '<button class="so-btn so-btn-primary" data-dismiss="modal">OK</button>'
     * });
     *
     * @example
     * // Flexible footer buttons
     * SOModal.create({
     *   title: 'My Modal',
     *   content: '<p>Content here</p>',
     *   footer: [
     *     { content: 'Cancel', class: 'so-btn-outline', dismiss: true },
     *     { content: [{ icon: 'save' }, 'Save'], class: 'so-btn-primary', dismiss: true }
     *   ],
     *   footerPosition: 'right'
     * });
     */
    static create(options = {}) {
      const {
        title = "",
        content = "",
        size = "default",
        closable = true,
        footer = null,
        footerPosition = "right",
        footerLayout = "inline",
        className = "",
        static: isStatic = false,
        focusElement = "footer",
        singleton = false,
        singletonId = null,
        singletonFeedback = "shake",
        // 'shake', 'pulse', 'bounce', 'headshake'
        draggable = false,
        maximizable = false,
        mobileFullscreen = false,
        mobileBreakpoint = 768,
        sidebar = false,
        sidebarWidth = "280px"
      } = options;
      if (singleton) {
        const id = singletonId || `singleton-${title.toLowerCase().replace(/\s+/g, "-")}`;
        const existingInstance = _SOModal._singletonInstances.get(id);
        if (existingInstance && existingInstance._isOpen) {
          existingInstance._playFeedbackAnimation(singletonFeedback);
          return existingInstance;
        }
      }
      const parseButtonContent = (btnContent) => {
        if (typeof btnContent === "string") {
          return btnContent;
        }
        if (Array.isArray(btnContent)) {
          return btnContent.map((part) => {
            if (typeof part === "string") {
              return part;
            }
            if (part && typeof part === "object" && part.icon) {
              return `<span class="material-icons">${part.icon}</span>`;
            }
            return "";
          }).join("");
        }
        return "";
      };
      const createButton = (btnConfig, index) => {
        let content2, btnClass, dismiss, onclick;
        if (typeof btnConfig === "string") {
          content2 = btnConfig;
          btnClass = "so-btn-outline";
          dismiss = true;
        } else if (Array.isArray(btnConfig)) {
          content2 = parseButtonContent(btnConfig);
          btnClass = "so-btn-outline";
          dismiss = true;
        } else if (btnConfig && typeof btnConfig === "object") {
          content2 = parseButtonContent(btnConfig.content || btnConfig.text || "");
          btnClass = btnConfig.class || "so-btn-outline";
          dismiss = btnConfig.dismiss !== false;
          onclick = btnConfig.onclick;
        } else {
          return "";
        }
        const dismissAttr = dismiss ? ' data-dismiss="modal"' : "";
        const onclickAttr = onclick ? ` data-modal-btn-index="${index}"` : "";
        return `<button type="button" class="so-btn ${btnClass}"${dismissAttr}${onclickAttr}>${content2}</button>`;
      };
      const sizeClass = size !== "default" ? `so-modal-${size}` : "";
      const staticClass = isStatic ? "so-modal-static" : "";
      const sidebarClass = sidebar ? `so-modal-with-sidebar so-modal-sidebar-${sidebar === true ? "left" : sidebar}` : "";
      const draggableClass = draggable ? "so-modal-draggable" : "";
      const maximizableClass = maximizable ? "so-modal-maximizable" : "";
      const modal = document.createElement("div");
      modal.className = `so-modal so-fade ${sizeClass} ${staticClass} ${sidebarClass} ${draggableClass} ${maximizableClass} ${className}`.trim().replace(/\s+/g, " ");
      modal.tabIndex = -1;
      if (isStatic) {
        modal.setAttribute("data-so-static", "true");
      }
      let footerHtml = "";
      let buttonOnclicks = [];
      if (footer) {
        if (typeof footer === "string") {
          footerHtml = `
          <div class="so-modal-footer">
            ${footer}
          </div>
        `;
        } else if (Array.isArray(footer)) {
          const positionClassMap = {
            left: "justify-start",
            center: "justify-center",
            right: "justify-end",
            between: "justify-between",
            around: "justify-around"
          };
          const positionClass = positionClassMap[footerPosition] || "justify-end";
          const layoutClass = footerLayout === "stacked" ? "so-flex-column" : "";
          const footerClasses = [positionClass, layoutClass].filter(Boolean).join(" ");
          const buttons = footer.map((btn, i) => {
            if (btn && typeof btn === "object" && btn.onclick) {
              buttonOnclicks.push({ index: i, onclick: btn.onclick });
            }
            return createButton(btn, i);
          });
          footerHtml = `
          <div class="so-modal-footer ${footerClasses}">
            ${buttons.join("\n")}
          </div>
        `;
        } else if (typeof footer === "object" && (footer.left || footer.center || footer.right)) {
          let btnIndex = 0;
          const createSectionButtons = (buttons) => {
            if (!buttons || !Array.isArray(buttons))
              return "";
            return buttons.map((btn) => {
              if (btn && typeof btn === "object" && btn.onclick) {
                buttonOnclicks.push({ index: btnIndex, onclick: btn.onclick });
              }
              return createButton(btn, btnIndex++);
            }).join("\n");
          };
          const leftHtml = footer.left ? `<div class="so-footer-left">${createSectionButtons(footer.left)}</div>` : '<div class="so-footer-left"></div>';
          const centerHtml = footer.center ? `<div class="so-footer-center">${createSectionButtons(footer.center)}</div>` : '<div class="so-footer-center"></div>';
          const rightHtml = footer.right ? `<div class="so-footer-right">${createSectionButtons(footer.right)}</div>` : '<div class="so-footer-right"></div>';
          footerHtml = `
          <div class="so-modal-footer so-footer-sections">
            ${leftHtml}
            ${centerHtml}
            ${rightHtml}
          </div>
        `;
        }
      }
      const showCloseButton = closable && !isStatic;
      let headerButtons = "";
      if (maximizable) {
        headerButtons += '<button type="button" class="so-modal-maximize" title="Maximize"><span class="material-icons">open_in_full</span></button>';
      }
      if (showCloseButton) {
        headerButtons += '<button type="button" class="so-modal-close" data-dismiss="modal"><span class="material-icons">close</span></button>';
      }
      let mainContentHtml = "";
      if (sidebar && typeof content === "object" && content.sidebar !== void 0) {
        const sidebarContent = content.sidebar || "";
        const mainContent = content.main || "";
        mainContentHtml = `
        <div class="so-modal-body so-modal-body-with-sidebar">
          <div class="so-modal-sidebar">${sidebarContent}</div>
          <div class="so-modal-main">${mainContent}</div>
        </div>
      `;
      } else {
        const contentStr = typeof content === "object" ? content.main || "" : content;
        mainContentHtml = `<div class="so-modal-body">${contentStr}</div>`;
      }
      let dialogStyle = "";
      if (sidebar && sidebarWidth) {
        dialogStyle = `style="--so-modal-sidebar-width: ${sidebarWidth}"`;
      }
      modal.innerHTML = `
      <div class="so-modal-dialog" ${dialogStyle}>
        <div class="so-modal-content">
          <div class="so-modal-header"${draggable ? ' style="cursor: move"' : ""}>
            <h5 class="so-modal-title">${title}</h5>
            ${headerButtons}
          </div>
          ${mainContentHtml}
          ${footerHtml}
        </div>
      </div>
    `;
      document.body.appendChild(modal);
      buttonOnclicks.forEach(({ index, onclick }) => {
        const btn = modal.querySelector(`[data-modal-btn-index="${index}"]`);
        if (btn && typeof onclick === "function") {
          btn.addEventListener("click", (e) => onclick(e, btn));
        }
      });
      const instance = new _SOModal(modal, __spreadProps(__spreadValues({}, options), {
        animation: true,
        static: isStatic,
        focusElement,
        draggable,
        maximizable,
        mobileFullscreen,
        mobileBreakpoint,
        sidebar,
        sidebarWidth
      }));
      modal._soModalInstance = instance;
      if (singleton) {
        const id = singletonId || `singleton-${title.toLowerCase().replace(/\s+/g, "-")}`;
        _SOModal._singletonInstances.set(id, instance);
      }
      modal.addEventListener(so_config_default.evt(_SOModal.EVENTS.HIDDEN), () => {
        if (singleton) {
          const id = singletonId || `singleton-${title.toLowerCase().replace(/\s+/g, "-")}`;
          _SOModal._singletonInstances.delete(id);
        }
        modal.remove();
      });
      return instance;
    }
    /**
     * Show a confirmation dialog with flexible button and icon configuration
     *
     * @param {Object} options - Dialog options
     * @param {string} options.title - Dialog title
     * @param {string} options.message - Dialog message
     * @param {Array} options.actions - Array of action objects for multi-action dialogs
     *
     * @param {string|Array|Object} options.confirm - Confirm button (flexible format):
     *   - String: 'Delete' (just text)
     *   - Array: [{ icon: 'delete' }, 'Delete'] (icon + text in order)
     *   - Array: ['Continue', { icon: 'arrow_forward' }] (text + icon)
     *   - Array: [{ icon: 'check' }, 'Save', { icon: 'send' }] (multiple icons)
     *   - Object: { content: [...], class: 'so-btn-danger' } (with class override)
     * @param {string|Array|Object} options.cancel - Cancel button (same format as confirm)
     *
     * @param {string|Object} options.icon - Dialog icon above title:
     *   - String: 'warning' (icon name, type from iconType or auto)
     *   - Object: { name: 'warning', type: 'danger' } (icon with type)
     * @param {string} options.iconType - Icon color: 'danger', 'warning', 'success', 'info'
     *
     * @param {boolean} options.danger - Use danger styling (auto-sets iconType to 'danger')
     * @param {boolean} options.static - Cannot be dismissed without clicking a button
     * @param {string} options.buttonPosition - Footer alignment: 'left', 'center', 'right', 'between', 'around'
     * @param {string} options.buttonLayout - 'inline' (side by side) or 'stacked' (vertical)
     * @param {boolean} options.fullWidthButtons - Make buttons full width
     * @param {boolean} options.reverseButtons - Swap cancel/confirm order
     * @param {boolean} options.showCloseButton - Show X close button in header
     * @param {string} options.focusElement - Element to focus on open: 'footer' (default), 'close', 'first', or CSS selector
     *
     * @param {string} options.confirmText - Legacy: text for confirm button
     * @param {string} options.cancelText - Legacy: text for cancel button
     * @param {string} options.confirmIcon - Legacy: icon on confirm button
     * @param {string} options.confirmIconPosition - Legacy: 'left' or 'right'
     * @param {string} options.cancelIcon - Legacy: icon on cancel button
     * @param {string} options.cancelIconPosition - Legacy: 'left' or 'right'
     *
     * @returns {Promise<string|boolean>} Resolves with action id/true/false or 'dismiss' if closed
     *
     * @example
     * // Flexible button API
     * SOModal.confirm({
     *   title: 'Delete Item',
     *   message: 'This cannot be undone.',
     *   icon: { name: 'delete', type: 'danger' },
     *   confirm: [{ icon: 'delete' }, 'Delete'],
     *   cancel: 'Cancel',
     *   danger: true
     * });
     *
     * @example
     * // Multiple icons on button
     * SOModal.confirm({
     *   confirm: [{ icon: 'cloud_upload' }, 'Upload', { icon: 'check' }]
     * });
     */
    static confirm(options = {}) {
      const {
        title = "Confirm",
        message = "Are you sure?",
        actions = null,
        // New flexible button API (takes precedence over legacy options)
        confirm: confirmOpt = null,
        cancel: cancelOpt = null,
        // Legacy button options (for backwards compatibility)
        confirmText = "Confirm",
        cancelText = "Cancel",
        confirmClass = "so-btn-primary",
        confirmIcon = null,
        confirmIconPosition = "left",
        cancelIcon = null,
        cancelIconPosition = "left",
        // Styling options
        danger = false,
        closable = true,
        static: isStatic = false,
        // Dialog icon options
        icon = null,
        iconType = null,
        // Layout options
        buttonPosition = "center",
        buttonLayout = "inline",
        fullWidthButtons = false,
        reverseButtons = false,
        showCloseButton = false,
        size = "sm",
        // Focus options
        focusElement = "footer"
      } = options;
      return new Promise((resolve) => {
        let resolved = false;
        const parseButtonContent = (content) => {
          if (typeof content === "string") {
            return content;
          }
          if (Array.isArray(content)) {
            return content.map((part) => {
              if (typeof part === "string") {
                return part;
              }
              if (part && typeof part === "object" && part.icon) {
                return `<span class="material-icons">${part.icon}</span>`;
              }
              return "";
            }).join("");
          }
          return "";
        };
        const createFlexibleButton = (btnConfig, defaultClass, actionId, isFullWidth) => {
          let content, btnClass;
          if (typeof btnConfig === "string") {
            content = btnConfig;
            btnClass = defaultClass;
          } else if (Array.isArray(btnConfig)) {
            content = parseButtonContent(btnConfig);
            btnClass = defaultClass;
          } else if (btnConfig && typeof btnConfig === "object") {
            content = parseButtonContent(btnConfig.content || btnConfig.text || "");
            btnClass = btnConfig.class || defaultClass;
          } else {
            content = "";
            btnClass = defaultClass;
          }
          const widthClass = isFullWidth ? " so-w-100" : "";
          return `<button type="button" class="so-btn ${btnClass}${widthClass}" data-modal-action="${actionId}">${content}</button>`;
        };
        const createLegacyButton = (text, btnClass, actionId, btnIcon, iconPos, isFullWidth) => {
          const iconHtml = btnIcon ? `<span class="material-icons">${btnIcon}</span>` : "";
          const widthClass = isFullWidth ? " so-w-100" : "";
          if (iconPos === "right") {
            return `<button type="button" class="so-btn ${btnClass}${widthClass}" data-modal-action="${actionId}">${text}${iconHtml}</button>`;
          }
          return `<button type="button" class="so-btn ${btnClass}${widthClass}" data-modal-action="${actionId}">${iconHtml}${text}</button>`;
        };
        let footerHtml = "";
        let useSectionsLayout = false;
        if (actions && Array.isArray(actions)) {
          const buttons = actions.map((action) => {
            if (action.content || Array.isArray(action.content)) {
              return createFlexibleButton(
                { content: action.content, class: action.class || (action.primary ? "so-btn-primary" : "so-btn-outline") },
                action.class || (action.primary ? "so-btn-primary" : "so-btn-outline"),
                action.id,
                fullWidthButtons
              );
            }
            const btnClass = action.class || (action.primary ? "so-btn-primary" : "so-btn-outline");
            return createLegacyButton(action.text, btnClass, action.id, action.icon, action.iconPosition || "left", fullWidthButtons);
          });
          footerHtml = buttons.join("\n");
        } else if (actions && typeof actions === "object" && (actions.left || actions.center || actions.right)) {
          useSectionsLayout = true;
          const defaultConfirmClass = danger ? "so-btn-danger" : confirmClass;
          const createSectionButton = (btn) => {
            if (btn.content || Array.isArray(btn.content) || typeof btn === "string" || Array.isArray(btn)) {
              const btnClass2 = btn.class || (btn.primary ? defaultConfirmClass : "so-btn-outline");
              return createFlexibleButton(btn, btnClass2, btn.id || btn.action || "action", fullWidthButtons);
            }
            const btnClass = btn.class || (btn.primary ? defaultConfirmClass : "so-btn-outline");
            return createLegacyButton(btn.text || "", btnClass, btn.id || btn.action || "action", btn.icon, btn.iconPosition || "left", fullWidthButtons);
          };
          const createSection = (buttons) => {
            if (!buttons || !Array.isArray(buttons))
              return "";
            return buttons.map(createSectionButton).join("\n");
          };
          const leftHtml = `<div class="so-footer-left">${createSection(actions.left)}</div>`;
          const centerHtml = `<div class="so-footer-center">${createSection(actions.center)}</div>`;
          const rightHtml = `<div class="so-footer-right">${createSection(actions.right)}</div>`;
          footerHtml = `${leftHtml}
${centerHtml}
${rightHtml}`;
        } else {
          const defaultConfirmClass = danger ? "so-btn-danger" : confirmClass;
          let cancelBtn, confirmBtn;
          if (cancelOpt !== null) {
            cancelBtn = createFlexibleButton(cancelOpt, "so-btn-outline", "cancel", fullWidthButtons);
          } else {
            cancelBtn = createLegacyButton(cancelText, "so-btn-outline", "cancel", cancelIcon, cancelIconPosition, fullWidthButtons);
          }
          if (confirmOpt !== null) {
            confirmBtn = createFlexibleButton(confirmOpt, defaultConfirmClass, "confirm", fullWidthButtons);
          } else {
            confirmBtn = createLegacyButton(confirmText, defaultConfirmClass, "confirm", confirmIcon, confirmIconPosition, fullWidthButtons);
          }
          footerHtml = reverseButtons ? `${confirmBtn}
${cancelBtn}` : `${cancelBtn}
${confirmBtn}`;
        }
        let resolvedIconName = null;
        let resolvedIconType = iconType || (danger ? "danger" : "info");
        if (icon) {
          if (typeof icon === "string") {
            resolvedIconName = icon;
          } else if (typeof icon === "object") {
            resolvedIconName = icon.name || icon.icon || null;
            if (icon.type) {
              resolvedIconType = icon.type;
            }
          }
        }
        let contentHtml = "";
        if (resolvedIconName) {
          contentHtml = `
          <div class="so-confirm-icon so-${resolvedIconType}">
            <span class="material-icons">${resolvedIconName}</span>
          </div>
          <h3 class="so-confirm-title">${title}</h3>
          <p class="so-confirm-message">${message}</p>
        `;
        } else {
          contentHtml = `<p>${message}</p>`;
        }
        let footerClasses = "";
        if (useSectionsLayout) {
          footerClasses = "so-footer-sections";
        } else {
          const positionClassMap = {
            left: "justify-start",
            center: "justify-center",
            right: "justify-end",
            between: "justify-between",
            around: "justify-around"
          };
          const positionClass = positionClassMap[buttonPosition] || "justify-center";
          const layoutClass = buttonLayout === "stacked" ? "so-flex-column" : "";
          footerClasses = [positionClass, layoutClass].filter(Boolean).join(" ");
        }
        const modalClasses = resolvedIconName ? "so-confirm-dialog" : "";
        const modalEl = document.createElement("div");
        modalEl.className = `so-modal so-fade so-modal-${size} ${modalClasses}`.trim();
        modalEl.tabIndex = -1;
        let headerHtml = "";
        if (resolvedIconName) {
          if (showCloseButton && !isStatic) {
            headerHtml = `
            <div class="so-modal-header" style="border-bottom: none; padding-bottom: 0; justify-content: flex-end;">
              <button type="button" class="so-modal-close" data-dismiss="modal">
                <span class="material-icons">close</span>
              </button>
            </div>
          `;
          }
        } else {
          const closeBtn = showCloseButton && !isStatic ? '<button type="button" class="so-modal-close" data-dismiss="modal"><span class="material-icons">close</span></button>' : "";
          headerHtml = `
          <div class="so-modal-header">
            <h5 class="so-modal-title">${title}</h5>
            ${closeBtn}
          </div>
        `;
        }
        modalEl.innerHTML = `
        <div class="so-modal-dialog">
          <div class="so-modal-content">
            ${headerHtml}
            <div class="so-modal-body">
              ${contentHtml}
            </div>
            <div class="so-modal-footer ${footerClasses}">
              ${footerHtml}
            </div>
          </div>
        </div>
      `;
        document.body.appendChild(modalEl);
        const modal = new _SOModal(modalEl, {
          animation: true,
          static: isStatic,
          closable: isStatic ? false : closable,
          keyboard: !isStatic,
          focusElement
        });
        modalEl._soModalInstance = modal;
        modalEl.addEventListener(so_config_default.evt(_SOModal.EVENTS.HIDDEN), () => {
          modalEl.remove();
        });
        modalEl.querySelectorAll("[data-modal-action]").forEach((btn) => {
          btn.addEventListener("click", () => {
            if (resolved)
              return;
            resolved = true;
            const actionId = btn.getAttribute("data-modal-action");
            if (!actions) {
              resolve(actionId === "confirm");
            } else {
              resolve(actionId);
            }
            modal.hide();
          });
        });
        modalEl.addEventListener(so_config_default.evt(_SOModal.EVENTS.HIDDEN), () => {
          if (resolved)
            return;
          resolved = true;
          resolve(actions ? "dismiss" : false);
        });
        modal.show();
      });
    }
    /**
     * Show an alert dialog
     * @param {Object} options - Alert options
     * @returns {Promise<void>} Resolves when closed
     */
    static alert(options = {}) {
      const {
        title = "Alert",
        message = "",
        buttonText = "OK",
        type = "info"
        // info, success, warning, danger
      } = options;
      const iconMap = {
        info: "info",
        success: "check_circle",
        warning: "warning",
        danger: "error"
      };
      return new Promise((resolve) => {
        const modal = _SOModal.create({
          title,
          content: `
          <div style="text-align: center; padding: 16px 0;">
            <span class="material-icons" style="font-size: 48px; color: var(--so-accent-${type === "info" ? "primary" : type}); margin-bottom: 16px; display: block;">
              ${iconMap[type] || "info"}
            </span>
            <p style="margin: 0;">${message}</p>
          </div>
        `,
          size: "sm",
          closable: true,
          footer: `<button type="button" class="so-btn so-btn-primary" data-dismiss="modal">${buttonText}</button>`
        });
        modal.element.addEventListener(so_config_default.evt(_SOModal.EVENTS.HIDDEN), () => resolve());
        modal.show();
      });
    }
    /**
     * Get modal instance from element
     * Override to also check for instance stored on element (from create())
     * @param {Element|string} element - DOM element or selector
     * @param {Object} [options={}] - Component options
     * @returns {SOModal} Modal instance
     */
    static getInstance(element, options = {}) {
      const el = typeof element === "string" ? document.querySelector(element) : element;
      if (!el)
        return null;
      if (el._soModalInstance) {
        return el._soModalInstance;
      }
      return so_config_default.getInstance(el, this.NAME, options);
    }
  };
  __publicField(_SOModal, "NAME", "modal");
  __publicField(_SOModal, "DEFAULTS", {
    backdrop: true,
    keyboard: true,
    focus: true,
    closable: true,
    size: "default",
    // 'sm', 'default', 'lg', 'xl', 'fullscreen'
    animation: true,
    static: false,
    // When true, modal cannot be dismissed via backdrop/escape/close button
    focusElement: "footer",
    // 'footer' (first footer button), 'close', 'first', or CSS selector
    draggable: false,
    // Allow modal to be dragged by header
    maximizable: false,
    // Show maximize/restore button
    mobileFullscreen: false,
    // Auto-switch to fullscreen on mobile
    mobileBreakpoint: 768,
    // Breakpoint for mobile fullscreen
    sidebar: false,
    // Enable sidebar layout: 'left' or 'right'
    sidebarWidth: "280px"
    // Width of sidebar
  });
  __publicField(_SOModal, "EVENTS", {
    SHOW: "modal:show",
    SHOWN: "modal:shown",
    HIDE: "modal:hide",
    HIDDEN: "modal:hidden",
    CONFIRM: "modal:confirm",
    CANCEL: "modal:cancel",
    MAXIMIZE: "modal:maximize",
    RESTORE: "modal:restore",
    DRAG_START: "modal:drag-start",
    DRAG_END: "modal:drag-end"
  });
  // Base z-index for modals
  __publicField(_SOModal, "_baseZIndex", 1050);
  // Track open modals for stacking
  __publicField(_SOModal, "_openModals", []);
  // Track singleton modal instances by ID
  __publicField(_SOModal, "_singletonInstances", /* @__PURE__ */ new Map());
  var SOModal = _SOModal;
  SOModal.register();
  document.addEventListener("click", (e) => {
    const trigger = e.target.closest('[data-so-toggle="modal"]');
    if (!trigger)
      return;
    e.preventDefault();
    const targetSelector = trigger.getAttribute("data-so-target") || trigger.getAttribute("href");
    if (!targetSelector)
      return;
    const modalEl = document.querySelector(targetSelector);
    if (!modalEl)
      return;
    const modal = SOModal.getInstance(modalEl);
    if (modal) {
      modal.show();
    }
  });
  window.SOModal = SOModal;
  var so_modal_default = SOModal;

  // src/js/components/so-drawer.js
  var _SODrawer = class _SODrawer extends so_component_default {
    /**
     * Initialize the drawer
     * @private
     */
    _init() {
      this._header = this.$(".so-drawer-header");
      this._body = this.$(".so-drawer-body");
      this._footer = this.$(".so-drawer-footer");
      this._backdrop = null;
      this._isOpen = false;
      this._focusTrapCleanup = null;
      this._previousActiveElement = null;
      this._isLeft = this.element.classList.contains("so-drawer-left");
      if (this.element.hasAttribute("data-so-static") || this.element.classList.contains("so-drawer-static") || this.options.static === true) {
        this.options.static = true;
        this.options.keyboard = false;
        this.element.classList.add("so-drawer-static");
      }
      this._bindEvents();
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this.delegate("click", '.so-drawer-close, [data-dismiss="drawer"]', () => {
        if (!this.options.static) {
          this.hide();
        }
      });
    }
    /**
     * Shake the drawer to indicate it cannot be dismissed
     * @private
     */
    _shakeDrawer() {
      this.element.classList.add("drawer-static-shake");
      setTimeout(() => {
        this.element.classList.remove("drawer-static-shake");
      }, 300);
    }
    /**
     * Handle keyboard events
     * @param {KeyboardEvent} e - Keyboard event
     * @private
     */
    _handleKeydown(e) {
      if (e.key === "Escape" && this._isOpen) {
        const openDrawers = _SODrawer._openDrawers;
        if (openDrawers.length > 0 && openDrawers[openDrawers.length - 1] === this) {
          e.preventDefault();
          e.stopPropagation();
          if (this.options.static) {
            this._shakeDrawer();
          } else {
            this.hide();
          }
        }
      }
    }
    /**
     * Bind document keyboard listener
     * @private
     */
    _bindDocumentKeydown() {
      if (!this.options.keyboard)
        return;
      this._boundKeydown = this._handleKeydown.bind(this);
      document.addEventListener("keydown", this._boundKeydown);
    }
    /**
     * Unbind document keyboard listener
     * @private
     */
    _unbindDocumentKeydown() {
      if (this._boundKeydown) {
        document.removeEventListener("keydown", this._boundKeydown);
        this._boundKeydown = null;
      }
    }
    /**
     * Handle backdrop click
     * @param {Event} e - Click event
     * @private
     */
    _handleBackdropClick(e) {
      if (e.target === this._backdrop) {
        if (this.options.static) {
          this._shakeDrawer();
        } else {
          this.hide();
        }
      }
    }
    /**
     * Create and show backdrop
     * @private
     */
    _showBackdrop() {
      if (!this.options.backdrop)
        return;
      this._backdrop = document.createElement("div");
      this._backdrop.className = "so-modal-backdrop";
      if (this.options.animation) {
        this._backdrop.classList.add("so-fade");
      }
      this._boundBackdropClick = this._handleBackdropClick.bind(this);
      this._backdrop.addEventListener("click", this._boundBackdropClick);
      document.body.appendChild(this._backdrop);
      this._backdrop.offsetHeight;
      this._backdrop.classList.add("so-show");
    }
    /**
     * Hide and remove backdrop
     * @private
     */
    _hideBackdrop() {
      if (!this._backdrop)
        return;
      if (this._boundBackdropClick) {
        this._backdrop.removeEventListener("click", this._boundBackdropClick);
        this._boundBackdropClick = null;
      }
      this._backdrop.classList.remove("so-show");
      if (this.options.animation) {
        this._backdrop.addEventListener("transitionend", () => {
          var _a;
          (_a = this._backdrop) == null ? void 0 : _a.remove();
          this._backdrop = null;
        }, { once: true });
      } else {
        this._backdrop.remove();
        this._backdrop = null;
      }
    }
    /**
     * Manage body scroll lock
     * @param {boolean} lock - Whether to lock scroll
     * @private
     */
    _manageBodyScroll(lock) {
      if (this.options.scroll)
        return;
      if (lock) {
        document.body.classList.add("so-drawer-open");
        document.body.style.overflow = "hidden";
      } else if (_SODrawer._openDrawers.length === 0) {
        document.body.classList.remove("so-drawer-open");
        document.body.style.overflow = "";
      }
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Show the drawer
     * @returns {this} For chaining
     */
    show() {
      if (this._isOpen)
        return this;
      if (!this.emit(_SODrawer.EVENTS.SHOW)) {
        return this;
      }
      this._isOpen = true;
      this._previousActiveElement = document.activeElement;
      _SODrawer._openDrawers.push(this);
      this._showBackdrop();
      this._manageBodyScroll(true);
      this.element.offsetHeight;
      this.addClass("so-show");
      this._focusTrapCleanup = this.trapFocus();
      this._bindDocumentKeydown();
      if (this.options.animation) {
        this.element.addEventListener("transitionend", () => {
          this.emit(_SODrawer.EVENTS.SHOWN);
        }, { once: true });
      } else {
        this.emit(_SODrawer.EVENTS.SHOWN);
      }
      return this;
    }
    /**
     * Hide the drawer
     * @returns {this} For chaining
     */
    hide() {
      if (!this._isOpen)
        return this;
      if (!this.emit(_SODrawer.EVENTS.HIDE)) {
        return this;
      }
      this._isOpen = false;
      const index = _SODrawer._openDrawers.indexOf(this);
      if (index > -1) {
        _SODrawer._openDrawers.splice(index, 1);
      }
      if (this._focusTrapCleanup) {
        this._focusTrapCleanup();
        this._focusTrapCleanup = null;
      }
      this._unbindDocumentKeydown();
      this.removeClass("so-show");
      const hideComplete = () => {
        this._hideBackdrop();
        this._manageBodyScroll(false);
        if (this._previousActiveElement && typeof this._previousActiveElement.focus === "function") {
          this._previousActiveElement.focus();
        }
        this.emit(_SODrawer.EVENTS.HIDDEN);
      };
      if (this.options.animation) {
        let completed = false;
        const safeHideComplete = () => {
          if (completed)
            return;
          completed = true;
          hideComplete();
        };
        this.element.addEventListener("transitionend", safeHideComplete, { once: true });
        setTimeout(safeHideComplete, 350);
      } else {
        hideComplete();
      }
      return this;
    }
    /**
     * Toggle drawer visibility
     * @returns {this} For chaining
     */
    toggle() {
      return this._isOpen ? this.hide() : this.show();
    }
    /**
     * Check if drawer is open
     * @returns {boolean} Open state
     */
    isOpen() {
      return this._isOpen;
    }
    /**
     * Set drawer body content
     * @param {string|Element} content - Content to set
     * @returns {this} For chaining
     */
    setContent(content) {
      if (!this._body)
        return this;
      if (typeof content === "string") {
        this._body.innerHTML = content;
      } else if (content instanceof Element) {
        this._body.innerHTML = "";
        this._body.appendChild(content);
      }
      return this;
    }
    /**
     * Set drawer title
     * @param {string} title - Title text
     * @returns {this} For chaining
     */
    setTitle(title) {
      const titleEl = this.$(".so-drawer-title");
      if (titleEl) {
        titleEl.textContent = title;
      }
      return this;
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Create and show a drawer programmatically
     * @param {Object} options - Drawer configuration
     * @returns {SODrawer} Drawer instance
     */
    static create(options = {}) {
      const {
        title = "",
        content = "",
        position = "right",
        // 'left' or 'right'
        size = "default",
        // 'sm', 'default', 'lg', 'xl'
        closable = true,
        footer = null,
        className = "",
        static: isStatic = false
      } = options;
      const positionClass = position === "left" ? "so-drawer-left" : "";
      const sizeClass = size !== "default" ? `so-drawer-${size}` : "";
      const staticClass = isStatic ? "so-drawer-static" : "";
      const drawer = document.createElement("div");
      drawer.className = `so-drawer ${positionClass} ${sizeClass} ${staticClass} ${className}`.trim().replace(/\s+/g, " ");
      drawer.tabIndex = -1;
      if (isStatic) {
        drawer.setAttribute("data-so-static", "true");
      }
      let footerHtml = "";
      if (footer) {
        footerHtml = `
        <div class="so-drawer-footer">
          ${footer}
        </div>
      `;
      }
      const showCloseButton = closable && !isStatic;
      drawer.innerHTML = `
      <div class="so-drawer-header">
        <h5 class="so-drawer-title">${title}</h5>
        ${showCloseButton ? '<button type="button" class="so-drawer-close" data-dismiss="drawer"><span class="material-icons">close</span></button>' : ""}
      </div>
      <div class="so-drawer-body">
        ${content}
      </div>
      ${footerHtml}
    `;
      document.body.appendChild(drawer);
      const instance = new _SODrawer(drawer, __spreadProps(__spreadValues({}, options), { animation: true, static: isStatic }));
      drawer._soDrawerInstance = instance;
      drawer.addEventListener(so_config_default.evt(_SODrawer.EVENTS.HIDDEN), () => {
        drawer.remove();
      });
      return instance;
    }
    /**
     * Get drawer instance from element
     * @param {Element|string} element - DOM element or selector
     * @param {Object} [options={}] - Component options
     * @returns {SODrawer} Drawer instance
     */
    static getInstance(element, options = {}) {
      const el = typeof element === "string" ? document.querySelector(element) : element;
      if (!el)
        return null;
      if (el._soDrawerInstance) {
        return el._soDrawerInstance;
      }
      return so_config_default.getInstance(el, this.NAME, options);
    }
    /**
     * Initialize all drawers on the page
     */
    static initAll() {
      document.querySelectorAll(".so-drawer[data-so-drawer]").forEach((el) => {
        _SODrawer.getInstance(el);
      });
      document.querySelectorAll("[data-drawer-toggle]").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          e.preventDefault();
          const targetSelector = btn.getAttribute("data-drawer-toggle");
          const drawer = document.querySelector(targetSelector);
          if (drawer) {
            const instance = _SODrawer.getInstance(drawer);
            instance.toggle();
          }
        });
      });
    }
  };
  __publicField(_SODrawer, "NAME", "drawer");
  __publicField(_SODrawer, "DEFAULTS", {
    backdrop: true,
    // Show backdrop behind drawer
    keyboard: true,
    // Close on Escape key
    scroll: false,
    // Allow body scroll when drawer is open
    static: false,
    // Non-dismissible mode (must use buttons to close)
    animation: true
    // Animate open/close
  });
  __publicField(_SODrawer, "EVENTS", {
    SHOW: "drawer:show",
    SHOWN: "drawer:shown",
    HIDE: "drawer:hide",
    HIDDEN: "drawer:hidden"
  });
  // Track open drawers for stacking
  __publicField(_SODrawer, "_openDrawers", []);
  var SODrawer = _SODrawer;
  SODrawer.register();
  window.SODrawer = SODrawer;
  var so_drawer_default = SODrawer;

  // src/js/components/so-ripple.js
  var SORipple = class extends so_component_default {
    /**
     * Initialize ripple effect
     * @private
     */
    _init() {
      this._bindEvents();
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this.on("click", this._handleClick, document);
    }
    /**
     * Handle click event
     * @param {MouseEvent} e - Click event
     * @private
     */
    _handleClick(e) {
      const target = e.target.closest(this.options.selector);
      if (!target)
        return;
      if (target.disabled || target.classList.contains("so-disabled"))
        return;
      this._createRipple(target, e);
    }
    /**
     * Create ripple effect
     * @param {Element} element - Target element
     * @param {MouseEvent} event - Click event
     * @private
     */
    _createRipple(element, event) {
      const rect = element.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      const x = event.clientX - rect.left - size / 2;
      const y = event.clientY - rect.top - size / 2;
      const ripple = document.createElement("span");
      ripple.className = "so-ripple-effect";
      ripple.style.cssText = `
      position: absolute;
      width: ${size}px;
      height: ${size}px;
      left: ${x}px;
      top: ${y}px;
      background: ${this._getRippleColor(element)};
      border-radius: 50%;
      transform: scale(0);
      opacity: 1;
      pointer-events: none;
      animation: so-ripple-animation ${this.options.duration}ms ease-out forwards;
    `;
      const position = getComputedStyle(element).position;
      if (position === "static") {
        element.style.position = "relative";
      }
      element.style.overflow = "hidden";
      element.appendChild(ripple);
      setTimeout(() => {
        ripple.remove();
      }, this.options.duration);
    }
    /**
     * Get ripple color based on element
     * @param {Element} element - Target element
     * @returns {string} Ripple color
     * @private
     */
    _getRippleColor(element) {
      if (element.classList.contains("so-btn-outline") || element.classList.contains("so-btn-ghost") || element.classList.contains("so-btn-light")) {
        return "rgba(0, 0, 0, 0.1)";
      }
      return this.options.color;
    }
    /**
     * Add CSS animation if not present
     * @private
     */
    static _ensureStyles() {
      if (document.getElementById("so-ripple-styles"))
        return;
      const style = document.createElement("style");
      style.id = "so-ripple-styles";
      style.textContent = `
      @keyframes so-ripple-animation {
        to {
          transform: scale(4);
          opacity: 0;
        }
      }
    `;
      document.head.appendChild(style);
    }
  };
  __publicField(SORipple, "NAME", "ripple");
  __publicField(SORipple, "DEFAULTS", {
    selector: ".so-btn",
    duration: 600,
    color: "rgba(255, 255, 255, 0.35)"
  });
  SORipple._ensureStyles();
  document.addEventListener("DOMContentLoaded", () => {
    new SORipple(document.body);
  });
  SORipple.register();
  window.SORipple = SORipple;
  var so_ripple_default = SORipple;

  // src/js/components/so-otp.js
  var _SOOtpInput = class _SOOtpInput extends so_component_default {
    /**
     * Initialize the OTP input
     * @private
     */
    _init() {
      var _a;
      this._inputs = this.$$(this.options.inputSelector);
      if (this._inputs.length === 0)
        return;
      this._bindEvents();
      if (this.options.autoFocus) {
        (_a = this._inputs[0]) == null ? void 0 : _a.focus();
      }
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this._inputs.forEach((input, index) => {
        this.on("input", (e) => this._handleInput(e, index), input);
        this.on("keydown", (e) => this._handleKeydown(e, index), input);
        this.on("paste", (e) => this._handlePaste(e, index), input);
        this.on("focus", () => input.select(), input);
      });
    }
    /**
     * Handle input event
     * @param {Event} e - Input event
     * @param {number} index - Input index
     * @private
     */
    _handleInput(e, index) {
      const input = e.target;
      let value = input.value;
      if (this.options.numericOnly) {
        value = value.replace(/[^0-9]/g, "");
      }
      value = value.slice(0, 1);
      input.value = value;
      if (value) {
        input.classList.add("filled");
        if (index < this._inputs.length - 1) {
          this._inputs[index + 1].focus();
        }
      } else {
        input.classList.remove("filled");
      }
      this.emit(_SOOtpInput.EVENTS.CHANGE, { value: this.getValue(), index });
      this._checkComplete();
    }
    /**
     * Handle keydown event
     * @param {KeyboardEvent} e - Keyboard event
     * @param {number} index - Input index
     * @private
     */
    _handleKeydown(e, index) {
      const input = e.target;
      if (e.key === "Backspace") {
        if (!input.value && index > 0) {
          const prevInput = this._inputs[index - 1];
          prevInput.value = "";
          prevInput.classList.remove("filled");
          prevInput.focus();
        } else {
          input.classList.remove("filled");
        }
      }
      if (e.key === "ArrowLeft" && index > 0) {
        e.preventDefault();
        this._inputs[index - 1].focus();
      }
      if (e.key === "ArrowRight" && index < this._inputs.length - 1) {
        e.preventDefault();
        this._inputs[index + 1].focus();
      }
      if (this.options.numericOnly && e.key.length === 1 && !/[0-9]/.test(e.key) && !e.ctrlKey && !e.metaKey) {
        e.preventDefault();
      }
    }
    /**
     * Handle paste event
     * @param {ClipboardEvent} e - Paste event
     * @param {number} startIndex - Starting input index
     * @private
     */
    _handlePaste(e, startIndex) {
      e.preventDefault();
      const pastedData = (e.clipboardData || window.clipboardData).getData("text");
      let chars = this.options.numericOnly ? pastedData.replace(/[^0-9]/g, "").split("") : pastedData.split("");
      chars.forEach((char, i) => {
        const inputIndex = startIndex + i;
        if (this._inputs[inputIndex]) {
          this._inputs[inputIndex].value = char;
          this._inputs[inputIndex].classList.add("filled");
        }
      });
      const nextEmptyIndex = this._inputs.findIndex((input) => !input.value);
      if (nextEmptyIndex !== -1) {
        this._inputs[nextEmptyIndex].focus();
      } else {
        this._inputs[this._inputs.length - 1].focus();
      }
      this.emit(_SOOtpInput.EVENTS.CHANGE, { value: this.getValue() });
      this._checkComplete();
    }
    /**
     * Check if all inputs are filled
     * @private
     */
    _checkComplete() {
      const value = this.getValue();
      if (value.length === this._inputs.length) {
        this.emit(_SOOtpInput.EVENTS.COMPLETE, { value });
      }
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Get the current OTP value
     * @returns {string} Combined OTP value
     */
    getValue() {
      return this._inputs.map((input) => input.value).join("");
    }
    /**
     * Set the OTP value
     * @param {string} value - OTP value to set
     * @returns {this} For chaining
     */
    setValue(value) {
      const chars = value.toString().split("");
      this._inputs.forEach((input, i) => {
        const char = chars[i] || "";
        input.value = char;
        input.classList.toggle("filled", !!char);
      });
      this.emit(_SOOtpInput.EVENTS.CHANGE, { value: this.getValue() });
      this._checkComplete();
      return this;
    }
    /**
     * Clear all inputs
     * @returns {this} For chaining
     */
    clear() {
      var _a;
      this._inputs.forEach((input) => {
        input.value = "";
        input.classList.remove("filled", "error");
      });
      if (this.options.autoFocus) {
        (_a = this._inputs[0]) == null ? void 0 : _a.focus();
      }
      this.emit(_SOOtpInput.EVENTS.CHANGE, { value: "" });
      return this;
    }
    /**
     * Focus the first empty input
     * @returns {this} For chaining
     */
    focus() {
      var _a;
      const emptyInput = this._inputs.find((input) => !input.value);
      (_a = emptyInput || this._inputs[0]) == null ? void 0 : _a.focus();
      return this;
    }
    /**
     * Set error state on inputs
     * @param {boolean} [hasError=true] - Whether to show error state
     * @returns {this} For chaining
     */
    setError(hasError = true) {
      this._inputs.forEach((input) => {
        input.classList.toggle("error", hasError);
      });
      return this;
    }
    /**
     * Check if OTP is complete
     * @returns {boolean} Whether all inputs are filled
     */
    isComplete() {
      return this.getValue().length === this._inputs.length;
    }
    /**
     * Validate the OTP against a value
     * @param {string} expected - Expected OTP value
     * @returns {boolean} Whether OTP matches
     */
    validate(expected) {
      const isValid = this.getValue() === expected.toString();
      this.setError(!isValid);
      return isValid;
    }
  };
  __publicField(_SOOtpInput, "NAME", "otp");
  __publicField(_SOOtpInput, "DEFAULTS", {
    length: 6,
    inputSelector: ".so-otp-input",
    autoFocus: true,
    numericOnly: true
  });
  __publicField(_SOOtpInput, "EVENTS", {
    COMPLETE: "otp:complete",
    CHANGE: "otp:change"
  });
  var SOOtpInput = _SOOtpInput;
  SOOtpInput.register();
  window.SOOtpInput = SOOtpInput;
  var so_otp_default = SOOtpInput;

  // src/js/components/so-tabs.js
  var _SOTabs = class _SOTabs extends so_component_default {
    // ============================================
    // INITIALIZATION
    // ============================================
    /**
     * Initialize the tabs component
     * @private
     */
    _init() {
      this._tabs = this.$$(".so-tab");
      this._activeTab = null;
      this._activePane = null;
      this._draggedTab = null;
      this._findActiveTab();
      this._setupAria();
      if (this.options.closable || this.element.classList.contains("so-tabs-closable")) {
        this._setupClosable();
      }
      if (this.options.draggable || this.element.classList.contains("so-tabs-draggable")) {
        this._setupDraggable();
      }
      if (this.options.overflow !== "none" && this.options.overflow !== "wrap") {
        this._setupOverflow();
      }
      this._bindEvents();
    }
    /**
     * Find and set the initial active tab
     * @private
     */
    _findActiveTab() {
      this._activeTab = this.$(".so-tab.so-active") || this.$('.so-tab[aria-selected="true"]');
      if (!this._activeTab && this._tabs.length > 0) {
        this._activeTab = this._tabs[0];
        this._activeTab.classList.add("so-active");
      }
      if (this._activeTab) {
        const target = this._getTabTarget(this._activeTab);
        if (target) {
          this._activePane = document.querySelector(target);
          if (this._activePane) {
            this._activePane.classList.add("so-active");
            if (this.options.animation) {
              this._activePane.classList.add("so-show");
            }
          }
        }
      }
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this.delegate("click", ".so-tab", this._handleTabClick.bind(this));
      if (this.options.keyboard) {
        this.on("keydown", this._handleKeydown.bind(this));
      }
      if (this.options.autoActivate) {
        this.delegate("focus", ".so-tab", this._handleTabFocus.bind(this));
      }
      this.element.addEventListener("click", (e) => {
        const closeBtn = e.target.closest(".so-tab-close");
        if (closeBtn && this.element.contains(closeBtn)) {
          this._handleCloseClick(e, closeBtn);
        }
      });
      this.delegate("click", ".so-tab-add", this._handleAddClick.bind(this));
    }
    /**
     * Set up ARIA attributes
     * @private
     */
    _setupAria() {
      if (!this.element.getAttribute("role")) {
        this.element.setAttribute("role", "tablist");
      }
      if (this.element.classList.contains("so-tabs-vertical")) {
        this.element.setAttribute("aria-orientation", "vertical");
      }
      this._tabs.forEach((tab, index) => {
        if (!tab.id) {
          tab.id = so_config_default.uniqueId("so-tab");
        }
        if (!tab.getAttribute("role")) {
          tab.setAttribute("role", "tab");
        }
        const isActive = tab === this._activeTab;
        tab.setAttribute("aria-selected", isActive ? "true" : "false");
        tab.setAttribute("tabindex", isActive ? "0" : "-1");
        const target = this._getTabTarget(tab);
        if (target) {
          const pane = document.querySelector(target);
          if (pane) {
            tab.setAttribute("aria-controls", pane.id || target.replace("#", ""));
            if (!pane.getAttribute("role")) {
              pane.setAttribute("role", "tabpanel");
            }
            pane.setAttribute("aria-labelledby", tab.id);
            if (!pane.hasAttribute("tabindex")) {
              pane.setAttribute("tabindex", "0");
            }
          }
        }
      });
    }
    // ============================================
    // EVENT HANDLERS
    // ============================================
    /**
     * Handle tab click
     * @param {Event} e - Click event
     * @param {Element} tab - Clicked tab element
     * @private
     */
    _handleTabClick(e, tab) {
      e.preventDefault();
      if (tab.classList.contains("so-disabled") || tab.hasAttribute("disabled")) {
        return;
      }
      this._activateTab(tab);
    }
    /**
     * Handle tab focus (for auto-activate mode)
     * @param {Event} e - Focus event
     * @param {Element} tab - Focused tab element
     * @private
     */
    _handleTabFocus(e, tab) {
      if (tab.classList.contains("so-disabled") || tab.hasAttribute("disabled")) {
        return;
      }
      this._activateTab(tab);
    }
    /**
     * Handle keyboard navigation
     * @param {KeyboardEvent} e - Keyboard event
     * @private
     */
    _handleKeydown(e) {
      const isVertical = this.element.classList.contains("so-tabs-vertical");
      const enabledTabs = this._tabs.filter(
        (tab) => !tab.classList.contains("so-disabled") && !tab.hasAttribute("disabled")
      );
      if (enabledTabs.length === 0)
        return;
      const currentIndex = enabledTabs.indexOf(document.activeElement);
      let newIndex = currentIndex;
      switch (e.key) {
        case "ArrowLeft":
          if (!isVertical) {
            e.preventDefault();
            newIndex = currentIndex - 1;
            if (newIndex < 0)
              newIndex = enabledTabs.length - 1;
          }
          break;
        case "ArrowRight":
          if (!isVertical) {
            e.preventDefault();
            newIndex = currentIndex + 1;
            if (newIndex >= enabledTabs.length)
              newIndex = 0;
          }
          break;
        case "ArrowUp":
          if (isVertical) {
            e.preventDefault();
            newIndex = currentIndex - 1;
            if (newIndex < 0)
              newIndex = enabledTabs.length - 1;
          }
          break;
        case "ArrowDown":
          if (isVertical) {
            e.preventDefault();
            newIndex = currentIndex + 1;
            if (newIndex >= enabledTabs.length)
              newIndex = 0;
          }
          break;
        case "Home":
          e.preventDefault();
          newIndex = 0;
          break;
        case "End":
          e.preventDefault();
          newIndex = enabledTabs.length - 1;
          break;
        case "Enter":
        case " ":
          e.preventDefault();
          if (currentIndex >= 0) {
            this._activateTab(enabledTabs[currentIndex]);
          }
          return;
        default:
          return;
      }
      if (newIndex !== currentIndex && newIndex >= 0) {
        enabledTabs[newIndex].focus();
        if (this.options.autoActivate) {
          this._activateTab(enabledTabs[newIndex]);
        }
      }
    }
    // ============================================
    // CLOSABLE TABS
    // ============================================
    /**
     * Set up closable tabs
     * @private
     */
    _setupClosable() {
      this.element.classList.add("so-tabs-closable");
      this._tabs.forEach((tab) => {
        if (!tab.querySelector(".so-tab-close") && !tab.classList.contains("so-tab-no-close")) {
          tab.classList.add("so-tab-closable");
          const closeBtn = document.createElement("button");
          closeBtn.type = "button";
          closeBtn.className = "so-tab-close";
          closeBtn.setAttribute("aria-label", "Close tab");
          closeBtn.innerHTML = '<span class="material-icons">close</span>';
          tab.appendChild(closeBtn);
        }
      });
    }
    /**
     * Handle close button click
     * @param {Event} e - Click event
     * @param {Element} closeBtn - Close button element
     * @private
     */
    _handleCloseClick(e, closeBtn) {
      e.preventDefault();
      e.stopPropagation();
      const tab = closeBtn.closest(".so-tab");
      if (tab) {
        this.closeTab(tab);
      }
    }
    /**
     * Handle add button click
     * @param {Event} e - Click event
     * @param {Element} addBtn - Add button element
     * @private
     */
    _handleAddClick(e, addBtn) {
      e.preventDefault();
      const addEvent = this._emitTabEvent(_SOTabs.EVENTS.ADD, this.element, {}, true);
      if (addEvent && typeof this.options.onAdd === "function") {
        this.options.onAdd(this);
      }
    }
    // ============================================
    // DRAGGABLE TABS
    // ============================================
    /**
     * Set up draggable tabs
     * @private
     */
    _setupDraggable() {
      this.element.classList.add("so-tabs-draggable");
      this._tabs.forEach((tab) => {
        tab.setAttribute("draggable", "true");
        tab.addEventListener("dragstart", (e) => this._handleDragStart(e, tab));
        tab.addEventListener("dragend", (e) => this._handleDragEnd(e, tab));
        tab.addEventListener("dragover", (e) => this._handleDragOver(e, tab));
        tab.addEventListener("dragleave", (e) => this._handleDragLeave(e, tab));
        tab.addEventListener("drop", (e) => this._handleDrop(e, tab));
      });
    }
    /**
     * Handle drag start
     * @private
     */
    _handleDragStart(e, tab) {
      this._draggedTab = tab;
      tab.classList.add("so-dragging");
      e.dataTransfer.effectAllowed = "move";
      e.dataTransfer.setData("text/plain", tab.id || "");
      if (e.dataTransfer.setDragImage) {
        const ghost = tab.cloneNode(true);
        ghost.classList.add("so-tab-drag-ghost");
        ghost.style.width = `${tab.offsetWidth}px`;
        document.body.appendChild(ghost);
        e.dataTransfer.setDragImage(ghost, 10, 10);
        setTimeout(() => ghost.remove(), 0);
      }
    }
    /**
     * Handle drag end
     * @private
     */
    _handleDragEnd(e, tab) {
      tab.classList.remove("so-dragging");
      this._tabs.forEach((t) => t.classList.remove("so-drag-over"));
      this._draggedTab = null;
    }
    /**
     * Handle drag over
     * @private
     */
    _handleDragOver(e, tab) {
      e.preventDefault();
      e.dataTransfer.dropEffect = "move";
      if (tab !== this._draggedTab) {
        tab.classList.add("so-drag-over");
      }
    }
    /**
     * Handle drag leave
     * @private
     */
    _handleDragLeave(e, tab) {
      tab.classList.remove("so-drag-over");
    }
    /**
     * Handle drop
     * @private
     */
    _handleDrop(e, tab) {
      e.preventDefault();
      tab.classList.remove("so-drag-over");
      if (this._draggedTab && tab !== this._draggedTab) {
        const isVertical = this.element.classList.contains("so-tabs-vertical");
        const rect = tab.getBoundingClientRect();
        const midpoint = isVertical ? rect.top + rect.height / 2 : rect.left + rect.width / 2;
        const position = isVertical ? e.clientY < midpoint ? "before" : "after" : e.clientX < midpoint ? "before" : "after";
        if (position === "before") {
          tab.parentNode.insertBefore(this._draggedTab, tab);
        } else {
          tab.parentNode.insertBefore(this._draggedTab, tab.nextSibling);
        }
        this._tabs = this.$$(".so-tab");
        this._emitTabEvent(_SOTabs.EVENTS.REORDER, this._draggedTab, {
          oldIndex: this._tabs.indexOf(this._draggedTab),
          newIndex: this._tabs.indexOf(tab),
          tabs: this._tabs
        }, false);
      }
    }
    // ============================================
    // OVERFLOW HANDLING
    // ============================================
    /**
     * Set up overflow handling
     * @private
     */
    _setupOverflow() {
      if (this.options.overflow === "scroll") {
        this._setupScrollOverflow();
      } else if (this.options.overflow === "dropdown") {
        this._setupDropdownOverflow();
      }
    }
    /**
     * Set up scroll-based overflow
     * @private
     */
    _setupScrollOverflow() {
      if (this.element.classList.contains("so-tabs-vertical") || this.element.classList.contains("so-tabs-overflow")) {
        return;
      }
      const container = document.createElement("div");
      container.className = "so-tabs-overflow-container";
      const wrapper = document.createElement("div");
      wrapper.className = "so-tabs-scroll-wrapper";
      const inner = document.createElement("div");
      inner.className = "so-tabs-scroll-inner";
      const prevBtn = document.createElement("button");
      prevBtn.type = "button";
      prevBtn.className = "so-tabs-scroll-btn so-tabs-scroll-prev";
      prevBtn.innerHTML = '<span class="material-icons">chevron_left</span>';
      prevBtn.setAttribute("aria-label", "Scroll tabs left");
      const nextBtn = document.createElement("button");
      nextBtn.type = "button";
      nextBtn.className = "so-tabs-scroll-btn so-tabs-scroll-next";
      nextBtn.innerHTML = '<span class="material-icons">chevron_right</span>';
      nextBtn.setAttribute("aria-label", "Scroll tabs right");
      Array.from(this.element.children).forEach((child) => {
        inner.appendChild(child);
      });
      wrapper.appendChild(inner);
      container.appendChild(prevBtn);
      container.appendChild(wrapper);
      container.appendChild(nextBtn);
      this.element.appendChild(container);
      this.element.classList.add("so-tabs-overflow");
      this._scrollInner = inner;
      this._scrollPrev = prevBtn;
      this._scrollNext = nextBtn;
      this._scrollContainer = container;
      prevBtn.addEventListener("click", () => this._scrollTabs(-this.options.scrollStep));
      nextBtn.addEventListener("click", () => this._scrollTabs(this.options.scrollStep));
      inner.addEventListener("scroll", () => this._updateScrollButtons());
      this._updateScrollButtons();
      if (typeof ResizeObserver !== "undefined") {
        this._resizeObserver = new ResizeObserver(() => this._updateScrollButtons());
        this._resizeObserver.observe(this.element);
      }
    }
    /**
     * Scroll tabs by amount
     * @param {number} amount - Pixels to scroll
     * @private
     */
    _scrollTabs(amount) {
      if (this._scrollInner) {
        this._scrollInner.scrollLeft += amount;
      }
    }
    /**
     * Update scroll button states
     * @private
     */
    _updateScrollButtons() {
      if (!this._scrollInner)
        return;
      const { scrollLeft, scrollWidth, clientWidth } = this._scrollInner;
      const hasOverflow = scrollWidth > clientWidth;
      this._scrollContainer.classList.toggle(so_config_default.cls("has-overflow"), hasOverflow);
      if (hasOverflow) {
        const canScrollLeft = scrollLeft > 0;
        const canScrollRight = scrollLeft + clientWidth < scrollWidth - 1;
        this._scrollPrev.disabled = !canScrollLeft;
        this._scrollNext.disabled = !canScrollRight;
        this._scrollContainer.classList.toggle("so-can-scroll-left", canScrollLeft);
        this._scrollContainer.classList.toggle("so-can-scroll-right", canScrollRight);
      }
    }
    /**
     * Set up dropdown-based overflow
     * @private
     */
    _setupDropdownOverflow() {
    }
    /**
     * Scroll active tab into view
     * @private
     */
    _scrollActiveIntoView() {
      if (this._scrollInner && this._activeTab) {
        const tabRect = this._activeTab.getBoundingClientRect();
        const innerRect = this._scrollInner.getBoundingClientRect();
        if (tabRect.left < innerRect.left) {
          this._scrollInner.scrollLeft -= innerRect.left - tabRect.left + 20;
        } else if (tabRect.right > innerRect.right) {
          this._scrollInner.scrollLeft += tabRect.right - innerRect.right + 20;
        }
      }
    }
    // ============================================
    // PRIVATE METHODS
    // ============================================
    /**
     * Get the target selector for a tab
     * @param {Element} tab - Tab element
     * @returns {string|null} Target selector
     * @private
     */
    _getTabTarget(tab) {
      let target = tab.getAttribute("data-so-target") || tab.getAttribute("data-target");
      if (!target && tab.tagName === "A") {
        const href = tab.getAttribute("href");
        if (href && href.startsWith("#") && href.length > 1) {
          target = href;
        }
      }
      return target;
    }
    /**
     * Activate a tab
     * @param {Element} tab - Tab to activate
     * @private
     */
    _activateTab(tab) {
      if (tab === this._activeTab)
        return;
      const previousTab = this._activeTab;
      const previousPane = this._activePane;
      const target = this._getTabTarget(tab);
      const newPane = target ? document.querySelector(target) : null;
      if (previousTab) {
        const hideEvent = this._emitTabEvent(_SOTabs.EVENTS.HIDE, previousTab, {
          relatedTarget: tab
        });
        if (!hideEvent)
          return;
      }
      const showEvent = this._emitTabEvent(_SOTabs.EVENTS.SHOW, tab, {
        relatedTarget: previousTab
      });
      if (!showEvent)
        return;
      if (previousTab) {
        previousTab.classList.remove("so-active");
        previousTab.setAttribute("aria-selected", "false");
        previousTab.setAttribute("tabindex", "-1");
      }
      if (previousPane) {
        previousPane.classList.remove("so-active");
        if (this.options.animation) {
          previousPane.classList.remove("so-show");
        }
      }
      tab.classList.add("so-active");
      tab.setAttribute("aria-selected", "true");
      tab.setAttribute("tabindex", "0");
      if (newPane) {
        newPane.classList.add("so-active");
        if (this.options.animation) {
          requestAnimationFrame(() => {
            newPane.classList.add("so-show");
          });
        }
      }
      this._activeTab = tab;
      this._activePane = newPane;
      if (previousTab) {
        this._emitTabEvent(_SOTabs.EVENTS.HIDDEN, previousTab, {
          relatedTarget: tab
        }, false);
      }
      const emitShown = () => {
        this._emitTabEvent(_SOTabs.EVENTS.SHOWN, tab, {
          relatedTarget: previousTab
        }, false);
      };
      if (this.options.animation && newPane) {
        newPane.addEventListener("transitionend", emitShown, { once: true });
      } else {
        emitShown();
      }
    }
    /**
     * Emit a tab event
     * @param {string} eventName - Event name
     * @param {Element} target - Target element
     * @param {Object} detail - Event detail
     * @param {boolean} cancelable - Whether event is cancelable
     * @returns {boolean} Whether event was not prevented
     * @private
     */
    _emitTabEvent(eventName, target, detail = {}, cancelable = true) {
      const event = new CustomEvent(so_config_default.evt(eventName), {
        detail: __spreadProps(__spreadValues({}, detail), { component: this }),
        bubbles: true,
        cancelable
      });
      return target.dispatchEvent(event);
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Show tab by index
     * @param {number} index - Tab index (0-based)
     * @returns {this} For chaining
     */
    show(index) {
      const tab = this._tabs[index];
      if (tab && !tab.classList.contains("so-disabled") && !tab.hasAttribute("disabled")) {
        this._activateTab(tab);
      }
      return this;
    }
    /**
     * Show tab by target ID
     * @param {string} id - Target pane ID (with or without #)
     * @returns {this} For chaining
     */
    showById(id) {
      const targetId = id.startsWith("#") ? id : `#${id}`;
      const tab = this._tabs.find((t) => this._getTabTarget(t) === targetId);
      if (tab && !tab.classList.contains("so-disabled") && !tab.hasAttribute("disabled")) {
        this._activateTab(tab);
      }
      return this;
    }
    /**
     * Move to next tab
     * @returns {this} For chaining
     */
    next() {
      const enabledTabs = this._tabs.filter(
        (tab) => !tab.classList.contains("so-disabled") && !tab.hasAttribute("disabled")
      );
      const currentIndex = enabledTabs.indexOf(this._activeTab);
      const nextIndex = (currentIndex + 1) % enabledTabs.length;
      this._activateTab(enabledTabs[nextIndex]);
      return this;
    }
    /**
     * Move to previous tab
     * @returns {this} For chaining
     */
    prev() {
      const enabledTabs = this._tabs.filter(
        (tab) => !tab.classList.contains("so-disabled") && !tab.hasAttribute("disabled")
      );
      const currentIndex = enabledTabs.indexOf(this._activeTab);
      const prevIndex = currentIndex - 1 < 0 ? enabledTabs.length - 1 : currentIndex - 1;
      this._activateTab(enabledTabs[prevIndex]);
      return this;
    }
    /**
     * Get current active tab element
     * @returns {Element|null} Active tab element
     */
    getActiveTab() {
      return this._activeTab;
    }
    /**
     * Get current active tab index
     * @returns {number} Active tab index (-1 if none)
     */
    getActiveIndex() {
      return this._tabs.indexOf(this._activeTab);
    }
    /**
     * Get all tab elements
     * @returns {Element[]} Array of tab elements
     */
    getTabs() {
      return [...this._tabs];
    }
    /**
     * Close a tab
     * @param {Element|number} tab - Tab element or index to close
     * @returns {this} For chaining
     */
    closeTab(tab) {
      if (typeof tab === "number") {
        tab = this._tabs[tab];
      }
      if (!tab || !this._tabs.includes(tab)) {
        return this;
      }
      const target = this._getTabTarget(tab);
      const pane = target ? document.querySelector(target) : null;
      if (typeof this.options.closeConfirm === "function") {
        const confirmed = this.options.closeConfirm(tab, pane);
        if (confirmed === false) {
          return this;
        }
      }
      const closeEvent = this._emitTabEvent(_SOTabs.EVENTS.CLOSE, tab, { pane }, true);
      if (!closeEvent) {
        return this;
      }
      const wasActive = tab === this._activeTab;
      const tabIndex = this._tabs.indexOf(tab);
      tab.remove();
      if (pane) {
        pane.remove();
      }
      this._tabs = this.$$(".so-tab");
      if (wasActive && this._tabs.length > 0) {
        const newIndex = Math.min(tabIndex, this._tabs.length - 1);
        this._activateTab(this._tabs[newIndex]);
      } else if (this._tabs.length === 0) {
        this._activeTab = null;
        this._activePane = null;
      }
      this._emitTabEvent(_SOTabs.EVENTS.CLOSED, this.element, {
        closedTab: tab,
        closedPane: pane,
        remainingTabs: this._tabs.length
      }, false);
      if (this._scrollInner) {
        this._updateScrollButtons();
      }
      return this;
    }
    /**
     * Add a new tab dynamically
     * @param {Object} options - Tab options
     * @param {string} options.label - Tab label text
     * @param {string} options.content - Pane content HTML
     * @param {string} [options.icon] - Material icon name
     * @param {boolean} [options.closable=true] - Whether tab is closable
     * @param {boolean} [options.activate=true] - Whether to activate the new tab
     * @param {number|string} [options.position='end'] - Position: 'start', 'end', or index
     * @returns {Object} Created tab and pane elements
     */
    addTab(options = {}) {
      var _a;
      const {
        label = "New Tab",
        content = "",
        icon = null,
        closable = this.options.closable,
        activate = true,
        position = "end"
      } = options;
      const tab = document.createElement("button");
      tab.type = "button";
      tab.className = so_config_default.cls("tab");
      let tabHTML = "";
      if (icon) {
        tabHTML += `<span class="material-icons">${icon}</span>`;
      }
      tabHTML += `<span>${label}</span>`;
      if (closable) {
        tab.classList.add(so_config_default.cls("tab-closable"));
        tabHTML += `<button type="button" class="${so_config_default.cls("tab-close")}" aria-label="Close tab">
        <span class="material-icons">close</span>
      </button>`;
      }
      tab.innerHTML = tabHTML;
      const tabId = so_config_default.uniqueId("so-tab");
      const paneId = so_config_default.uniqueId("so-pane");
      tab.id = tabId;
      tab.setAttribute("role", "tab");
      tab.setAttribute("aria-selected", "false");
      tab.setAttribute("tabindex", "-1");
      tab.setAttribute("data-so-target", `#${paneId}`);
      tab.setAttribute("aria-controls", paneId);
      const pane = document.createElement("div");
      pane.id = paneId;
      pane.className = so_config_default.cls("tab-pane");
      if (this.options.animation) {
        pane.classList.add(so_config_default.cls("fade"));
      }
      pane.setAttribute("role", "tabpanel");
      pane.setAttribute("aria-labelledby", tabId);
      pane.setAttribute("tabindex", "0");
      pane.innerHTML = content;
      let insertBeforeTab = null;
      const tabContainer = this._scrollInner || this.element;
      const addBtn = tabContainer.querySelector(`.${so_config_default.cls("tab-add")}`);
      if (position === "start") {
        insertBeforeTab = this._tabs[0] || addBtn;
      } else if (position === "end") {
        insertBeforeTab = addBtn;
      } else if (typeof position === "number") {
        insertBeforeTab = this._tabs[position] || addBtn;
      }
      if (insertBeforeTab) {
        tabContainer.insertBefore(tab, insertBeforeTab);
      } else {
        tabContainer.appendChild(tab);
      }
      const tabContent = document.querySelector(`.${so_config_default.cls("tab-content")}`) || ((_a = this._activePane) == null ? void 0 : _a.parentElement);
      if (tabContent) {
        tabContent.appendChild(pane);
      }
      this._tabs = this.$$(".so-tab");
      if (this.options.draggable || this.element.classList.contains(so_config_default.cls("tabs-draggable"))) {
        tab.setAttribute("draggable", "true");
        tab.addEventListener("dragstart", (e) => this._handleDragStart(e, tab));
        tab.addEventListener("dragend", (e) => this._handleDragEnd(e, tab));
        tab.addEventListener("dragover", (e) => this._handleDragOver(e, tab));
        tab.addEventListener("dragleave", (e) => this._handleDragLeave(e, tab));
        tab.addEventListener("drop", (e) => this._handleDrop(e, tab));
      }
      this._emitTabEvent(_SOTabs.EVENTS.ADD, tab, { tab, pane }, false);
      if (activate) {
        this._activateTab(tab);
      }
      if (this._scrollInner) {
        this._updateScrollButtons();
        setTimeout(() => this._scrollActiveIntoView(), 50);
      }
      return { tab, pane };
    }
    /**
     * Refresh tabs (re-scan for tab elements)
     * @returns {this} For chaining
     */
    refresh() {
      this._tabs = this.$$(".so-tab");
      this._setupAria();
      if (this.options.closable || this.element.classList.contains(so_config_default.cls("tabs-closable"))) {
        this._setupClosable();
      }
      if (this.options.draggable || this.element.classList.contains(so_config_default.cls("tabs-draggable"))) {
        this._setupDraggable();
      }
      if (this._scrollInner) {
        this._updateScrollButtons();
      }
      return this;
    }
    /**
     * Destroy the component and clean up
     */
    destroy() {
      if (this._resizeObserver) {
        this._resizeObserver.disconnect();
        this._resizeObserver = null;
      }
      super.destroy();
    }
  };
  __publicField(_SOTabs, "NAME", "tabs");
  __publicField(_SOTabs, "DEFAULTS", {
    autoActivate: false,
    // Activate tab on focus (vs on click/enter)
    animation: true,
    // Use fade animation for panes
    keyboard: true,
    // Enable keyboard navigation
    closable: false,
    // Enable closable tabs
    draggable: false,
    // Enable draggable tab reordering
    overflow: "none",
    // Overflow handling: 'scroll', 'dropdown', 'wrap', 'none'
    scrollStep: 150,
    // Pixels to scroll per click
    closeConfirm: null,
    // Function to confirm close: (tab, pane) => boolean
    onAdd: null
    // Callback when add button clicked
  });
  __publicField(_SOTabs, "EVENTS", {
    SHOW: "tab:show",
    SHOWN: "tab:shown",
    HIDE: "tab:hide",
    HIDDEN: "tab:hidden",
    CLOSE: "tab:close",
    CLOSED: "tab:closed",
    REORDER: "tab:reorder",
    ADD: "tab:add"
  });
  var SOTabs = _SOTabs;
  SOTabs.register();
  document.addEventListener("DOMContentLoaded", () => {
    SOTabs.initAll("[data-so-tabs]");
  });
  window.SOTabs = SOTabs;
  var so_tabs_default = SOTabs;

  // src/js/components/so-tooltip.js
  var _SOTooltip = class _SOTooltip extends so_component_default {
    /**
     * Initialize the tooltip
     * @private
     */
    _init() {
      this._isVisible = false;
      this._tooltipEl = null;
      this._showTimeout = null;
      this._hideTimeout = null;
      this._autoHideTimeout = null;
      this._disabled = false;
      this._readDataAttributes();
      this._tooltipId = so_config_default.uniqueId("tooltip");
      this._bindEvents();
    }
    /**
     * Read options from data attributes
     * @private
     */
    _readDataAttributes() {
      const el = this.element;
      if (el.hasAttribute("data-so-tooltip")) {
        this.options.content = el.getAttribute("data-so-tooltip");
      }
      if (el.hasAttribute("data-so-shortcut")) {
        this.options.shortcut = el.getAttribute("data-so-shortcut");
      }
      if (el.hasAttribute("data-so-tooltip-position")) {
        this.options.position = el.getAttribute("data-so-tooltip-position");
      }
      if (el.hasAttribute("data-so-tooltip-color")) {
        this.options.color = el.getAttribute("data-so-tooltip-color");
      }
      if (el.hasAttribute("data-so-tooltip-size")) {
        this.options.size = el.getAttribute("data-so-tooltip-size");
      }
      if (el.hasAttribute("data-so-tooltip-theme")) {
        this.options.theme = el.getAttribute("data-so-tooltip-theme");
      }
      if (el.hasAttribute("data-so-tooltip-html")) {
        this.options.html = el.getAttribute("data-so-tooltip-html") === "true";
      }
      if (el.hasAttribute("data-so-tooltip-animation")) {
        this.options.animation = el.getAttribute("data-so-tooltip-animation");
      }
      if (el.hasAttribute("data-so-tooltip-trigger")) {
        this.options.trigger = el.getAttribute("data-so-tooltip-trigger");
      }
      if (el.hasAttribute("data-so-tooltip-delay")) {
        const delay = parseInt(el.getAttribute("data-so-tooltip-delay"), 10);
        this.options.delay = { show: delay, hide: delay };
      }
    }
    /**
     * Bind event listeners based on trigger type
     * @private
     */
    _bindEvents() {
      const trigger = this.options.trigger;
      if (trigger === "hover" || trigger === "hover focus") {
        this.on("mouseenter", this._handleMouseEnter, this.element);
        this.on("mouseleave", this._handleMouseLeave, this.element);
      }
      if (trigger === "focus" || trigger === "hover focus") {
        this.on("focus", this._handleFocus, this.element);
        this.on("blur", this._handleBlur, this.element);
      }
      if (trigger === "click") {
        this.on("click", this._handleClick, this.element);
      }
      this.on("keydown", this._handleKeydown, document);
    }
    /**
     * Handle mouse enter
     * @private
     */
    _handleMouseEnter() {
      this._clearTimeouts();
      this._showTimeout = setTimeout(() => {
        this.show("hover");
      }, this.options.delay.show);
    }
    /**
     * Handle mouse leave
     * @private
     */
    _handleMouseLeave() {
      this._clearTimeouts();
      this._hideTimeout = setTimeout(() => {
        this.hide("hover");
      }, this.options.delay.hide);
    }
    /**
     * Handle focus
     * @private
     */
    _handleFocus() {
      this._clearTimeouts();
      this._showTimeout = setTimeout(() => {
        this.show("focus");
      }, this.options.delay.show);
    }
    /**
     * Handle blur
     * @private
     */
    _handleBlur() {
      this._clearTimeouts();
      this._hideTimeout = setTimeout(() => {
        this.hide("focus");
      }, this.options.delay.hide);
    }
    /**
     * Handle click
     * @private
     */
    _handleClick(e) {
      e.stopPropagation();
      if (this._isVisible) {
        this.hide("click");
      } else {
        this.show("click");
      }
    }
    /**
     * Handle keydown (escape to close)
     * @param {KeyboardEvent} e
     * @private
     */
    _handleKeydown(e) {
      if (e.key === "Escape" && this._isVisible) {
        this.hide("escape");
      }
    }
    /**
     * Clear all timeouts
     * @private
     */
    _clearTimeouts() {
      if (this._showTimeout) {
        clearTimeout(this._showTimeout);
        this._showTimeout = null;
      }
      if (this._hideTimeout) {
        clearTimeout(this._hideTimeout);
        this._hideTimeout = null;
      }
      if (this._autoHideTimeout) {
        clearTimeout(this._autoHideTimeout);
        this._autoHideTimeout = null;
      }
    }
    /**
     * Create tooltip element
     * @returns {HTMLElement}
     * @private
     */
    _createTooltip() {
      const tooltip = document.createElement("div");
      tooltip.id = this._tooltipId;
      tooltip.className = this._getTooltipClasses();
      tooltip.setAttribute("role", "tooltip");
      tooltip.innerHTML = this._getTooltipContent();
      return tooltip;
    }
    /**
     * Get tooltip CSS classes
     * @returns {string}
     * @private
     */
    _getTooltipClasses() {
      const classes = ["so-tooltip-popup"];
      classes.push(`so-tooltip-${this.options.position}`);
      if (this.options.color) {
        classes.push(`so-tooltip-${this.options.color}`);
      }
      if (this.options.size) {
        classes.push(`so-tooltip-${this.options.size}`);
      }
      if (this.options.theme === "light") {
        classes.push("so-tooltip-light");
      }
      classes.push(`so-tooltip-animate-${this.options.animation}`);
      if (this.options.arrow) {
        classes.push("so-tooltip-arrow");
      }
      return classes.join(" ");
    }
    /**
     * Get tooltip inner content HTML
     * @returns {string}
     * @private
     */
    _getTooltipContent() {
      const content = this.options.content;
      const shortcut = this.options.shortcut;
      const hasContent = content && content.trim();
      const hasShortcut = shortcut && shortcut.trim();
      let html = '<div class="so-tooltip-inner">';
      if (hasContent) {
        if (this.options.html) {
          html += `<span class="so-tooltip-text">${content}</span>`;
        } else {
          html += `<span class="so-tooltip-text">${this._escapeHtml(content)}</span>`;
        }
      }
      if (hasContent && hasShortcut) {
        html += '<span class="so-tooltip-divider"></span>';
      }
      if (hasShortcut) {
        html += this._renderShortcut(shortcut);
      }
      html += "</div>";
      return html;
    }
    /**
     * Render keyboard shortcut as kbd elements
     * @param {string} shortcut - Shortcut string (e.g., "Ctrl+C", "Cmd+Shift+P")
     * @returns {string} HTML string
     * @private
     */
    _renderShortcut(shortcut) {
      const keyMap = _SOTooltip.isMac ? _SOTooltip.KEY_MAPS.mac : _SOTooltip.KEY_MAPS.other;
      const keys = shortcut.split("+").map((key) => {
        const normalizedKey = key.trim().toLowerCase();
        const displayKey = keyMap[normalizedKey] || key.trim();
        return `<kbd>${this._escapeHtml(displayKey)}</kbd>`;
      });
      return `<span class="so-tooltip-shortcut">${keys.join("")}</span>`;
    }
    /**
     * Escape HTML to prevent XSS
     * @param {string} str
     * @returns {string}
     * @private
     */
    _escapeHtml(str) {
      const div = document.createElement("div");
      div.textContent = str;
      return div.innerHTML;
    }
    /**
     * Position the tooltip relative to trigger element
     * @private
     */
    _positionTooltip() {
      if (!this._tooltipEl)
        return;
      const triggerRect = this.element.getBoundingClientRect();
      const tooltipRect = this._tooltipEl.getBoundingClientRect();
      const offset = this.options.offset;
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
      let top, left;
      const position = this.options.position;
      switch (position) {
        case "top":
          top = triggerRect.top + scrollTop - tooltipRect.height - offset;
          left = triggerRect.left + scrollLeft + (triggerRect.width - tooltipRect.width) / 2;
          break;
        case "bottom":
          top = triggerRect.bottom + scrollTop + offset;
          left = triggerRect.left + scrollLeft + (triggerRect.width - tooltipRect.width) / 2;
          break;
        case "left":
          top = triggerRect.top + scrollTop + (triggerRect.height - tooltipRect.height) / 2;
          left = triggerRect.left + scrollLeft - tooltipRect.width - offset;
          break;
        case "right":
          top = triggerRect.top + scrollTop + (triggerRect.height - tooltipRect.height) / 2;
          left = triggerRect.right + scrollLeft + offset;
          break;
      }
      const viewportWidth = window.innerWidth;
      const viewportHeight = window.innerHeight;
      if (left < 5) {
        left = 5;
      } else if (left + tooltipRect.width > viewportWidth - 5) {
        left = viewportWidth - tooltipRect.width - 5;
      }
      if (top < 5) {
        top = 5;
      } else if (top + tooltipRect.height > scrollTop + viewportHeight - 5) {
        top = scrollTop + viewportHeight - tooltipRect.height - 5;
      }
      this._tooltipEl.style.top = `${top}px`;
      this._tooltipEl.style.left = `${left}px`;
      this.emit(_SOTooltip.EVENTS.POSITION, {
        position,
        coords: { top, left }
      }, true, false);
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Show the tooltip
     * @param {string} [trigger='manual'] - What triggered the show
     * @returns {this}
     */
    show(trigger = "manual") {
      if (this._disabled || this._isVisible)
        return this;
      if (!this.options.content && !this.options.shortcut)
        return this;
      const showAllowed = this.emit(_SOTooltip.EVENTS.SHOW, { trigger }, true, true);
      if (!showAllowed)
        return this;
      this._isVisible = true;
      this._tooltipEl = this._createTooltip();
      const container = this.options.container ? document.querySelector(this.options.container) : document.body;
      container.appendChild(this._tooltipEl);
      this.emit(_SOTooltip.EVENTS.INSERT, {
        tooltipEl: this._tooltipEl
      }, true, false);
      this.element.setAttribute("aria-describedby", this._tooltipId);
      requestAnimationFrame(() => {
        if (this._tooltipEl) {
          this._tooltipEl.style.transform = "scale(1)";
          this._tooltipEl.style.transition = "none";
          this._tooltipEl.offsetHeight;
          this._positionTooltip();
          requestAnimationFrame(() => {
            if (this._tooltipEl) {
              this._tooltipEl.style.transform = "";
              this._tooltipEl.style.transition = "";
              this._tooltipEl.classList.add("so-show");
            }
          });
        }
      });
      setTimeout(() => {
        this.emit(_SOTooltip.EVENTS.SHOWN, {
          trigger,
          tooltipEl: this._tooltipEl
        }, true, false);
      }, 150);
      if (this.options.autoHide > 0) {
        this._autoHideTimeout = setTimeout(() => {
          this.hide("auto");
        }, this.options.autoHide);
      }
      return this;
    }
    /**
     * Hide the tooltip
     * @param {string} [trigger='manual'] - What triggered the hide
     * @returns {this}
     */
    hide(trigger = "manual") {
      if (!this._isVisible)
        return this;
      const hideAllowed = this.emit(_SOTooltip.EVENTS.HIDE, { trigger }, true, true);
      if (!hideAllowed)
        return this;
      this._clearTimeouts();
      this._isVisible = false;
      this.element.removeAttribute("aria-describedby");
      if (this._tooltipEl) {
        this._tooltipEl.classList.remove("so-show");
        setTimeout(() => {
          if (this._tooltipEl) {
            this._tooltipEl.remove();
            this._tooltipEl = null;
          }
          this.emit(_SOTooltip.EVENTS.HIDDEN, { trigger }, true, false);
        }, 150);
      }
      return this;
    }
    /**
     * Toggle tooltip visibility
     * @returns {this}
     */
    toggle() {
      return this._isVisible ? this.hide() : this.show();
    }
    /**
     * Update tooltip content
     * @param {string} content - New content
     * @returns {this}
     */
    setContent(content) {
      this.options.content = content;
      if (this._tooltipEl) {
        const inner = this._tooltipEl.querySelector(".so-tooltip-inner");
        if (inner) {
          inner.innerHTML = "";
          const tempDiv = document.createElement("div");
          tempDiv.innerHTML = this._getTooltipContent();
          inner.innerHTML = tempDiv.firstChild.innerHTML;
          this._positionTooltip();
        }
      }
      this.emit(_SOTooltip.EVENTS.UPDATE, {
        content: this.options.content,
        shortcut: this.options.shortcut
      }, true, false);
      return this;
    }
    /**
     * Update tooltip shortcut
     * @param {string} shortcut - New shortcut
     * @returns {this}
     */
    setShortcut(shortcut) {
      this.options.shortcut = shortcut;
      if (this._tooltipEl) {
        const inner = this._tooltipEl.querySelector(".so-tooltip-inner");
        if (inner) {
          inner.innerHTML = "";
          const tempDiv = document.createElement("div");
          tempDiv.innerHTML = this._getTooltipContent();
          inner.innerHTML = tempDiv.firstChild.innerHTML;
          this._positionTooltip();
        }
      }
      this.emit(_SOTooltip.EVENTS.UPDATE, {
        content: this.options.content,
        shortcut: this.options.shortcut
      }, true, false);
      return this;
    }
    /**
     * Update tooltip color
     * @param {string} color - New color (primary, success, danger, warning, info, '')
     * @returns {this}
     */
    setColor(color) {
      this.options.color = color;
      if (this._tooltipEl) {
        this._tooltipEl.className = this._getTooltipClasses();
        if (this._isVisible) {
          this._tooltipEl.classList.add("so-show");
        }
      }
      return this;
    }
    /**
     * Update tooltip position
     * @param {string} position - New position (top, bottom, left, right)
     * @returns {this}
     */
    setPosition(position) {
      this.options.position = position;
      if (this._tooltipEl) {
        this._tooltipEl.className = this._getTooltipClasses();
        if (this._isVisible) {
          this._tooltipEl.classList.add("so-show");
        }
        this._positionTooltip();
      }
      return this;
    }
    /**
     * Recalculate tooltip position
     * @returns {this}
     */
    updatePosition() {
      this._positionTooltip();
      return this;
    }
    /**
     * Check if tooltip is visible
     * @returns {boolean}
     */
    isVisible() {
      return this._isVisible;
    }
    /**
     * Enable the tooltip
     * @returns {this}
     */
    enable() {
      this._disabled = false;
      return this;
    }
    /**
     * Disable the tooltip
     * @returns {this}
     */
    disable() {
      this._disabled = true;
      if (this._isVisible) {
        this.hide("disable");
      }
      return this;
    }
    /**
     * Destroy the tooltip instance
     */
    destroy() {
      this._clearTimeouts();
      if (this._tooltipEl) {
        this._tooltipEl.remove();
        this._tooltipEl = null;
      }
      this.element.removeAttribute("aria-describedby");
      super.destroy();
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Initialize all tooltips matching selector
     * @param {string} [selector='[data-so-tooltip], [data-so-shortcut]'] - CSS selector
     * @returns {SOTooltip[]}
     */
    static initAll(selector = "[data-so-tooltip], [data-so-shortcut]") {
      const elements = document.querySelectorAll(selector);
      return Array.from(elements).map((el) => _SOTooltip.getInstance(el));
    }
    /**
     * Hide all visible tooltips
     */
    static hideAll() {
      document.querySelectorAll(".so-tooltip-popup.show").forEach((tooltip) => {
        tooltip.classList.remove("so-show");
        setTimeout(() => tooltip.remove(), 150);
      });
    }
    /**
     * Show a temporary tooltip on an element (useful for feedback like "Copied!")
     * @param {Element|string} element - Target element
     * @param {Object} options - Tooltip options
     * @returns {SOTooltip}
     */
    static showTemporary(element, options = {}) {
      const el = typeof element === "string" ? document.querySelector(element) : element;
      if (!el)
        return null;
      const instance = _SOTooltip.getInstance(el, __spreadProps(__spreadValues({}, options), {
        trigger: "manual",
        autoHide: options.autoHide || 2e3
      }));
      if (options.content) {
        instance.setContent(options.content);
      }
      if (options.shortcut) {
        instance.setShortcut(options.shortcut);
      }
      if (options.color) {
        instance.setColor(options.color);
      }
      if (options.position) {
        instance.setPosition(options.position);
      }
      instance.show("temporary");
      return instance;
    }
  };
  __publicField(_SOTooltip, "NAME", "tooltip");
  __publicField(_SOTooltip, "DEFAULTS", {
    content: "",
    shortcut: "",
    position: "top",
    // top, bottom, left, right
    color: "",
    // primary, success, danger, warning, info
    size: "",
    // sm, lg (empty = default)
    theme: "",
    // light (empty = dark default)
    html: false,
    animation: "scale",
    // fade, scale, slide
    trigger: "hover",
    // hover, click, focus, manual
    delay: { show: 0, hide: 0 },
    autoHide: 0,
    // Auto-hide after X ms (0 = disabled)
    offset: 8,
    container: null,
    // Append to specific container (default: body)
    arrow: true
  });
  __publicField(_SOTooltip, "EVENTS", {
    SHOW: "tooltip:show",
    SHOWN: "tooltip:shown",
    HIDE: "tooltip:hide",
    HIDDEN: "tooltip:hidden",
    INSERT: "tooltip:insert",
    UPDATE: "tooltip:update",
    POSITION: "tooltip:position"
  });
  // Platform detection for keyboard shortcuts
  __publicField(_SOTooltip, "isMac", typeof navigator !== "undefined" && /Mac|iPod|iPhone|iPad/.test(navigator.platform));
  // Key mappings for different platforms
  __publicField(_SOTooltip, "KEY_MAPS", {
    mac: {
      "ctrl": "\u2303",
      "cmd": "\u2318",
      "command": "\u2318",
      "alt": "\u2325",
      "option": "\u2325",
      "shift": "\u21E7",
      "enter": "\u21B5",
      "return": "\u21B5",
      "backspace": "\u232B",
      "delete": "\u2326",
      "del": "\u2326",
      "tab": "\u21E5",
      "escape": "Esc",
      "esc": "Esc",
      "up": "\u2191",
      "down": "\u2193",
      "left": "\u2190",
      "right": "\u2192",
      "space": "\u2423"
    },
    other: {
      "ctrl": "Ctrl",
      "cmd": "Ctrl",
      "command": "Ctrl",
      "alt": "Alt",
      "option": "Alt",
      "shift": "Shift",
      "enter": "Enter",
      "return": "Enter",
      "backspace": "Backspace",
      "delete": "Del",
      "del": "Del",
      "tab": "Tab",
      "escape": "Esc",
      "esc": "Esc",
      "up": "\u2191",
      "down": "\u2193",
      "left": "\u2190",
      "right": "\u2192",
      "space": "Space"
    }
  });
  var SOTooltip = _SOTooltip;
  SOTooltip.register();
  window.SOTooltip = SOTooltip;
  var so_tooltip_default = SOTooltip;

  // src/js/components/so-context-menu.js
  var _SOContextMenu = class _SOContextMenu extends so_component_default {
    /**
     * Initialize the context menu
     * @private
     */
    _init() {
      this._isOpen = false;
      this._disabled = this.options.disabled;
      this._target = null;
      this._menuElement = null;
      this._items = [];
      this._groups = /* @__PURE__ */ new Map();
      this._focusedIndex = -1;
      this._activeSubmenu = null;
      this._submenuTimeout = null;
      if (this.element.classList.contains("so-context-menu")) {
        this._menuElement = this.element;
        const triggerId = this.element.id;
        if (triggerId) {
          this._target = document.querySelector(`[data-so-context-menu="#${triggerId}"]`);
        }
      } else {
        this._target = this.element;
        const menuSelector = this.element.getAttribute("data-so-context-menu");
        if (menuSelector) {
          this._menuElement = document.querySelector(menuSelector);
        }
      }
      if (this.options.items && this.options.items.length > 0) {
        this._buildFromConfig(this.options.items);
      } else if (this._menuElement) {
        this._parseFromDOM();
      }
      this._bindEvents();
    }
    /**
     * Build menu from configuration array
     * @param {Array} items - Items configuration
     * @private
     */
    _buildFromConfig(items) {
      if (!this._menuElement) {
        this._menuElement = document.createElement("div");
        this._menuElement.className = "so-context-menu";
        if (this.options.animated) {
          this._menuElement.classList.add("so-context-menu-animated");
        }
        document.body.appendChild(this._menuElement);
      }
      this._items = [];
      this._menuElement.innerHTML = "";
      this._renderItems(items, this._menuElement);
    }
    /**
     * Render items to container
     * @param {Array} items - Items to render
     * @param {Element} container - Container element
     * @param {number} [level=0] - Nesting level
     * @private
     */
    _renderItems(items, container, level = 0) {
      items.forEach((item, index) => {
        const itemEl = this._createItemElement(item, level);
        container.appendChild(itemEl);
        const itemData = __spreadProps(__spreadValues({}, item), {
          id: item.id || `item-${level}-${index}`,
          element: itemEl,
          level
        });
        this._items.push(itemData);
        if (item.groupId) {
          if (!this._groups.has(item.groupId)) {
            this._groups.set(item.groupId, []);
          }
          this._groups.get(item.groupId).push(itemData.id);
        }
      });
    }
    /**
     * Create a single item element
     * @param {Object} item - Item configuration
     * @param {number} level - Nesting level
     * @returns {Element} Created element
     * @private
     */
    _createItemElement(item, level) {
      if (item.type === "header") {
        const header = document.createElement("div");
        header.className = "so-context-menu-header";
        header.textContent = item.label || item.text || "";
        header.dataset.id = item.id || "";
        return header;
      }
      if (item.type === "divider") {
        const divider = document.createElement("div");
        divider.className = "so-context-menu-divider";
        return divider;
      }
      if (item.type === "group") {
        const group = document.createElement("div");
        group.className = "so-context-menu-group";
        group.dataset.groupId = item.groupId || item.id || "";
        if (item.disabled)
          group.classList.add("so-disabled");
        if (item.items && item.items.length > 0) {
          this._renderItems(item.items.map((i) => __spreadProps(__spreadValues({}, i), { groupId: item.groupId || item.id })), group, level);
        }
        return group;
      }
      const itemEl = document.createElement("div");
      itemEl.className = "so-context-menu-item";
      if (item.id)
        itemEl.dataset.id = item.id;
      if (item.disabled)
        itemEl.classList.add("so-disabled");
      if (item.danger)
        itemEl.classList.add(so_config_default.cls("danger"));
      if (item.checked)
        itemEl.classList.add(so_config_default.cls("checked"));
      if (item.data)
        itemEl.dataset.data = JSON.stringify(item.data);
      const hasSubmenu = item.items && item.items.length > 0 && level < 2;
      if (hasSubmenu)
        itemEl.classList.add("so-has-submenu");
      let html = "";
      if (item.checkable) {
        html += `<span class="so-context-menu-item-check"><span class="material-icons">check</span></span>`;
      }
      if (item.icon) {
        html += `<span class="so-context-menu-item-icon"><span class="material-icons">${item.icon}</span></span>`;
      }
      if (item.description) {
        html += `<span class="so-context-menu-item-content">
        <span class="so-context-menu-item-text">${item.label || item.text || ""}</span>
        <span class="so-context-menu-item-description">${item.description}</span>
      </span>`;
      } else {
        html += `<span class="so-context-menu-item-text">${item.label || item.text || ""}</span>`;
      }
      if (item.shortcut) {
        html += `<span class="so-context-menu-item-shortcut">${item.shortcut}</span>`;
      }
      if (hasSubmenu) {
        html += `<span class="so-context-menu-item-arrow"><span class="material-icons">chevron_right</span></span>`;
      }
      itemEl.innerHTML = html;
      if (hasSubmenu) {
        const submenu = document.createElement("div");
        submenu.className = "so-context-menu-submenu";
        this._renderItems(item.items, submenu, level + 1);
        itemEl.appendChild(submenu);
      }
      return itemEl;
    }
    /**
     * Parse items from existing DOM
     * @private
     */
    _parseFromDOM() {
      if (!this._menuElement)
        return;
      this._items = [];
      const children = this._menuElement.children;
      for (let i = 0; i < children.length; i++) {
        const el = children[i];
        const item = this._parseItemElement(el, 0, i);
        if (item)
          this._items.push(item);
      }
    }
    /**
     * Parse a single item element
     * @param {Element} el - Item element
     * @param {number} level - Nesting level
     * @param {number} index - Item index
     * @returns {Object|null} Parsed item data
     * @private
     */
    _parseItemElement(el, level, index) {
      if (el.classList.contains("so-context-menu-header")) {
        return {
          id: el.dataset.id || `header-${level}-${index}`,
          type: "header",
          label: el.textContent.trim(),
          element: el,
          level
        };
      }
      if (el.classList.contains("so-context-menu-divider")) {
        return {
          id: `divider-${level}-${index}`,
          type: "divider",
          element: el,
          level
        };
      }
      if (el.classList.contains("so-context-menu-group")) {
        const groupId = el.dataset.groupId || `group-${index}`;
        const groupItems = [];
        for (let i = 0; i < el.children.length; i++) {
          const childItem = this._parseItemElement(el.children[i], level, i);
          if (childItem) {
            childItem.groupId = groupId;
            groupItems.push(childItem);
            this._items.push(childItem);
          }
        }
        this._groups.set(groupId, groupItems.map((i) => i.id));
        return null;
      }
      if (el.classList.contains("so-context-menu-item")) {
        const textEl = el.querySelector(".so-context-menu-item-text");
        const iconEl = el.querySelector(".so-context-menu-item-icon .material-icons");
        const shortcutEl = el.querySelector(".so-context-menu-item-shortcut");
        const submenuEl = el.querySelector(".so-context-menu-submenu");
        const item = {
          id: el.dataset.id || `item-${level}-${index}`,
          type: "item",
          label: textEl ? textEl.textContent.trim() : el.textContent.trim(),
          icon: iconEl ? iconEl.textContent.trim() : null,
          shortcut: shortcutEl ? shortcutEl.textContent.trim() : null,
          disabled: el.classList.contains("so-disabled"),
          danger: el.classList.contains(so_config_default.cls("danger")),
          checked: el.classList.contains(so_config_default.cls("checked")),
          data: el.dataset.data ? JSON.parse(el.dataset.data) : {},
          element: el,
          level,
          items: []
        };
        if (submenuEl && level < 2) {
          for (let i = 0; i < submenuEl.children.length; i++) {
            const subItem = this._parseItemElement(submenuEl.children[i], level + 1, i);
            if (subItem)
              item.items.push(subItem);
          }
        }
        return item;
      }
      return null;
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      if (this._target) {
        const triggerEvent = this.options.trigger === "click" ? "click" : "contextmenu";
        this.on(triggerEvent, this._handleTrigger, this._target);
      }
      if (this._menuElement) {
        this.on("click", this._handleItemClick, this._menuElement);
        this.on("mouseenter", this._handleItemHover, this._menuElement, { capture: true });
        this.on("mouseleave", this._handleItemLeave, this._menuElement, { capture: true });
      }
      if (this.options.closeOnOutsideClick) {
        this.on("click", this._handleOutsideClick, document);
        this.on("contextmenu", this._handleOutsideContextMenu, document);
      }
      this.on("keydown", this._handleKeydown, document);
      this.on("scroll", () => {
        if (this._isOpen)
          this.close();
      }, window, { passive: true });
      this.on("resize", () => {
        if (this._isOpen)
          this.close();
      }, window, { passive: true });
    }
    /**
     * Handle trigger event (contextmenu or click)
     * @param {Event} e - Event object
     * @private
     */
    _handleTrigger(e) {
      e.preventDefault();
      e.stopPropagation();
      if (this._disabled)
        return;
      const x = e.clientX || e.pageX;
      const y = e.clientY || e.pageY;
      this.open(x, y, e);
    }
    /**
     * Handle item click
     * @param {Event} e - Click event
     * @private
     */
    _handleItemClick(e) {
      var _a;
      const itemEl = e.target.closest(".so-context-menu-item");
      if (!itemEl)
        return;
      if (itemEl.classList.contains("so-disabled")) {
        e.stopPropagation();
        return;
      }
      if (itemEl.classList.contains("so-has-submenu")) {
        e.stopPropagation();
        return;
      }
      e.stopPropagation();
      const itemId = itemEl.dataset.id;
      const item = this._items.find((i) => i.id === itemId) || {
        id: itemId,
        label: (_a = itemEl.querySelector(".so-context-menu-item-text")) == null ? void 0 : _a.textContent.trim(),
        data: itemEl.dataset.data ? JSON.parse(itemEl.dataset.data) : {},
        element: itemEl
      };
      if (itemEl.classList.contains(so_config_default.cls("checked")) || item.checkable) {
        itemEl.classList.toggle(so_config_default.cls("checked"));
        item.checked = itemEl.classList.contains(so_config_default.cls("checked"));
      }
      this.emit(_SOContextMenu.EVENTS.SELECT, {
        item,
        id: item.id,
        label: item.label,
        data: item.data,
        checked: item.checked
      });
      if (this.options.closeOnSelect) {
        this.close();
      }
    }
    /**
     * Handle item hover for submenus
     * @param {Event} e - Mouse event
     * @private
     */
    _handleItemHover(e) {
      const itemEl = e.target.closest(".so-context-menu-item");
      if (!itemEl)
        return;
      if (this._submenuTimeout) {
        clearTimeout(this._submenuTimeout);
        this._submenuTimeout = null;
      }
      const parent = itemEl.parentElement;
      const siblings = parent.querySelectorAll(":scope > .so-context-menu-item.submenu-open");
      siblings.forEach((sib) => {
        if (sib !== itemEl) {
          sib.classList.remove("submenu-open");
          const submenu = sib.querySelector(".so-context-menu-submenu");
          if (submenu)
            submenu.classList.remove("so-open");
        }
      });
      if (!itemEl.classList.contains("so-has-submenu"))
        return;
      this._submenuTimeout = setTimeout(() => {
        this._openSubmenu(itemEl);
      }, this.options.submenuDelay);
    }
    /**
     * Handle item leave
     * @param {Event} e - Mouse event
     * @private
     */
    _handleItemLeave(e) {
      if (this._submenuTimeout) {
        clearTimeout(this._submenuTimeout);
        this._submenuTimeout = null;
      }
    }
    /**
     * Open a submenu
     * @param {Element} parentItem - Parent item element
     * @private
     */
    _openSubmenu(parentItem) {
      const submenu = parentItem.querySelector(".so-context-menu-submenu");
      if (!submenu)
        return;
      parentItem.classList.add("submenu-open");
      this._positionSubmenu(parentItem, submenu);
      submenu.classList.add("so-open");
      const itemId = parentItem.dataset.id;
      const item = this._items.find((i) => i.id === itemId);
      this.emit(_SOContextMenu.EVENTS.SUBMENU_SHOW, {
        parentItem: item,
        items: (item == null ? void 0 : item.items) || []
      });
      this._activeSubmenu = submenu;
    }
    /**
     * Position submenu relative to parent
     * @param {Element} parentItem - Parent item element
     * @param {Element} submenu - Submenu element
     * @private
     */
    _positionSubmenu(parentItem, submenu) {
      submenu.classList.remove("so-flip-x");
      const parentRect = parentItem.getBoundingClientRect();
      const submenuWidth = submenu.offsetWidth || 160;
      const viewportWidth = window.innerWidth;
      if (parentRect.right + submenuWidth > viewportWidth - 10) {
        submenu.classList.add("so-flip-x");
      }
      const submenuHeight = submenu.offsetHeight || 100;
      const viewportHeight = window.innerHeight;
      if (parentRect.top + submenuHeight > viewportHeight - 10) {
        const offset = Math.min(
          parentRect.top + submenuHeight - viewportHeight + 10,
          parentRect.top - 10
        );
        submenu.style.top = `-${offset}px`;
      } else {
        submenu.style.top = "0";
      }
    }
    /**
     * Handle outside click
     * @param {Event} e - Click event
     * @private
     */
    _handleOutsideClick(e) {
      if (!this._isOpen)
        return;
      if (this._menuElement && this._menuElement.contains(e.target))
        return;
      this.close();
    }
    /**
     * Handle outside context menu
     * @param {Event} e - Context menu event
     * @private
     */
    _handleOutsideContextMenu(e) {
      if (!this._isOpen)
        return;
      if (this._target && this._target.contains(e.target))
        return;
      if (this._menuElement && this._menuElement.contains(e.target)) {
        e.preventDefault();
        return;
      }
      this.close();
    }
    /**
     * Handle keyboard navigation
     * @param {KeyboardEvent} e - Keyboard event
     * @private
     */
    _handleKeydown(e) {
      if (!this._isOpen)
        return;
      switch (e.key) {
        case "Escape":
          e.preventDefault();
          this.close();
          break;
        case "ArrowDown":
          e.preventDefault();
          this._focusNextItem(1);
          break;
        case "ArrowUp":
          e.preventDefault();
          this._focusNextItem(-1);
          break;
        case "ArrowRight":
          e.preventDefault();
          this._openFocusedSubmenu();
          break;
        case "ArrowLeft":
          e.preventDefault();
          this._closeActiveSubmenu();
          break;
        case "Enter":
        case " ":
          e.preventDefault();
          this._selectFocusedItem();
          break;
        case "Home":
          e.preventDefault();
          this._focusItem(0);
          break;
        case "End":
          e.preventDefault();
          this._focusItem(this._getNavigableItems().length - 1);
          break;
      }
    }
    /**
     * Get navigable items (excluding headers, dividers, disabled)
     * @param {Element} [container] - Container to search in
     * @returns {Element[]} Array of navigable items
     * @private
     */
    _getNavigableItems(container) {
      const cont = container || this._menuElement;
      return Array.from(cont.querySelectorAll(":scope > .so-context-menu-item:not(.disabled)"));
    }
    /**
     * Focus next/previous item
     * @param {number} direction - 1 for next, -1 for previous
     * @private
     */
    _focusNextItem(direction) {
      const items = this._getNavigableItems();
      if (items.length === 0)
        return;
      let newIndex = this._focusedIndex + direction;
      if (newIndex < 0)
        newIndex = items.length - 1;
      if (newIndex >= items.length)
        newIndex = 0;
      this._focusItem(newIndex);
    }
    /**
     * Focus item by index
     * @param {number} index - Item index
     * @private
     */
    _focusItem(index) {
      const items = this._getNavigableItems();
      items.forEach((item) => item.classList.remove("so-focused"));
      this._focusedIndex = index;
      if (items[index]) {
        items[index].classList.add("so-focused");
        items[index].scrollIntoView({ block: "nearest" });
      }
    }
    /**
     * Open submenu of focused item
     * @private
     */
    _openFocusedSubmenu() {
      const items = this._getNavigableItems();
      if (this._focusedIndex < 0 || !items[this._focusedIndex])
        return;
      const item = items[this._focusedIndex];
      if (item.classList.contains("so-has-submenu")) {
        this._openSubmenu(item);
        const submenu = item.querySelector(".so-context-menu-submenu");
        if (submenu) {
          const subItems = this._getNavigableItems(submenu);
          if (subItems[0])
            subItems[0].classList.add("so-focused");
        }
      }
    }
    /**
     * Close active submenu
     * @private
     */
    _closeActiveSubmenu() {
      if (!this._activeSubmenu)
        return;
      const parentItem = this._activeSubmenu.closest(".so-context-menu-item");
      if (parentItem) {
        parentItem.classList.remove("submenu-open");
        this._activeSubmenu.classList.remove("so-open");
        const itemId = parentItem.dataset.id;
        const item = this._items.find((i) => i.id === itemId);
        this.emit(_SOContextMenu.EVENTS.SUBMENU_HIDE, { parentItem: item });
      }
      this._activeSubmenu = null;
    }
    /**
     * Select the focused item
     * @private
     */
    _selectFocusedItem() {
      const items = this._getNavigableItems();
      if (this._focusedIndex < 0 || !items[this._focusedIndex])
        return;
      const item = items[this._focusedIndex];
      if (item.classList.contains("so-has-submenu")) {
        this._openFocusedSubmenu();
        return;
      }
      item.click();
    }
    // ============================================
    // PUBLIC API - MENU CONTROL
    // ============================================
    /**
     * Open the context menu at coordinates
     * @param {number} x - X coordinate
     * @param {number} y - Y coordinate
     * @param {Event} [originalEvent] - Original event that triggered open
     * @returns {this} For chaining
     */
    open(x, y, originalEvent = null) {
      if (this._isOpen || this._disabled || !this._menuElement)
        return this;
      const showAllowed = this.emit(_SOContextMenu.EVENTS.SHOW, {
        x,
        y,
        originalEvent
      }, true, true);
      if (!showAllowed)
        return this;
      this._isOpen = true;
      this._positionMenu(x, y);
      this._menuElement.classList.add("so-open");
      this._focusedIndex = -1;
      setTimeout(() => {
        this.emit(_SOContextMenu.EVENTS.SHOWN, { x, y });
      }, 150);
      return this;
    }
    /**
     * Position the menu at coordinates
     * @param {number} x - X coordinate
     * @param {number} y - Y coordinate
     * @private
     */
    _positionMenu(x, y) {
      const menu = this._menuElement;
      menu.classList.remove("so-flip-x", "so-flip-y");
      menu.style.visibility = "hidden";
      menu.style.display = "block";
      menu.style.opacity = "0";
      const menuWidth = menu.offsetWidth;
      const menuHeight = menu.offsetHeight;
      menu.style.visibility = "";
      menu.style.display = "";
      menu.style.opacity = "";
      const viewportWidth = window.innerWidth;
      const viewportHeight = window.innerHeight;
      let finalX = x;
      let finalY = y;
      if (x + menuWidth > viewportWidth - 10) {
        finalX = x - menuWidth;
        menu.classList.add("so-flip-x");
      }
      if (y + menuHeight > viewportHeight - 10) {
        finalY = y - menuHeight;
        menu.classList.add("so-flip-y");
      }
      finalX = Math.max(10, finalX);
      finalY = Math.max(10, finalY);
      menu.style.left = `${finalX}px`;
      menu.style.top = `${finalY}px`;
    }
    /**
     * Close the context menu
     * @returns {this} For chaining
     */
    close() {
      if (!this._isOpen || !this._menuElement)
        return this;
      const hideAllowed = this.emit(_SOContextMenu.EVENTS.HIDE, {}, true, true);
      if (!hideAllowed)
        return this;
      this._isOpen = false;
      this._closeAllSubmenus();
      const focused = this._menuElement.querySelector(".so-context-menu-item.so-focused");
      if (focused)
        focused.classList.remove("so-focused");
      this._focusedIndex = -1;
      if (this.options.animated) {
        this._menuElement.classList.add("so-closing");
        setTimeout(() => {
          this._menuElement.classList.remove("so-open", "so-closing");
          this.emit(_SOContextMenu.EVENTS.HIDDEN);
        }, 150);
      } else {
        this._menuElement.classList.remove("so-open");
        setTimeout(() => {
          this.emit(_SOContextMenu.EVENTS.HIDDEN);
        }, 150);
      }
      return this;
    }
    /**
     * Close all submenus
     * @private
     */
    _closeAllSubmenus() {
      if (!this._menuElement)
        return;
      const openSubmenus = this._menuElement.querySelectorAll(".so-context-menu-submenu.so-open");
      openSubmenus.forEach((submenu) => submenu.classList.remove("so-open"));
      const openParents = this._menuElement.querySelectorAll(".so-context-menu-item.submenu-open");
      openParents.forEach((parent) => parent.classList.remove("submenu-open"));
      this._activeSubmenu = null;
    }
    /**
     * Toggle the context menu
     * @param {number} x - X coordinate
     * @param {number} y - Y coordinate
     * @returns {this} For chaining
     */
    toggle(x, y) {
      return this._isOpen ? this.close() : this.open(x, y);
    }
    /**
     * Check if menu is open
     * @returns {boolean} Open state
     */
    isOpen() {
      return this._isOpen;
    }
    /**
     * Enable the entire menu
     * @returns {this} For chaining
     */
    enable() {
      this._disabled = false;
      return this;
    }
    /**
     * Disable the entire menu
     * @returns {this} For chaining
     */
    disable() {
      this._disabled = true;
      if (this._isOpen)
        this.close();
      return this;
    }
    /**
     * Check if menu is disabled
     * @returns {boolean} Disabled state
     */
    isDisabled() {
      return this._disabled;
    }
    // ============================================
    // PUBLIC API - ITEM MANAGEMENT
    // ============================================
    /**
     * Add an item to the menu
     * @param {Object} item - Item configuration
     * @param {number|string|Object} [position='bottom'] - Position: index, 'top', 'bottom', {before:'id'}, {after:'id'}, {group:'id',position:'top'|'bottom'}
     * @returns {this} For chaining
     */
    add(item, position = "bottom") {
      if (!this._menuElement)
        return this;
      const itemEl = this._createItemElement(item, 0);
      let referenceNode = null;
      let insertBefore = true;
      if (typeof position === "number") {
        const children = Array.from(this._menuElement.children);
        referenceNode = children[position] || null;
      } else if (position === "top") {
        referenceNode = this._menuElement.firstChild;
      } else if (position === "bottom") {
        referenceNode = null;
        insertBefore = false;
      } else if (typeof position === "object") {
        if (position.before) {
          referenceNode = this._menuElement.querySelector(`[data-id="${position.before}"]`);
        } else if (position.after) {
          const afterEl = this._menuElement.querySelector(`[data-id="${position.after}"]`);
          referenceNode = (afterEl == null ? void 0 : afterEl.nextSibling) || null;
        } else if (position.group) {
          const groupEl = this._menuElement.querySelector(`[data-group-id="${position.group}"]`);
          if (groupEl) {
            if (position.position === "top") {
              referenceNode = groupEl.firstChild;
              insertBefore = true;
            } else {
              referenceNode = null;
              insertBefore = false;
            }
            if (insertBefore && referenceNode) {
              groupEl.insertBefore(itemEl, referenceNode);
            } else {
              groupEl.appendChild(itemEl);
            }
            this._storeItem(item, itemEl, 0);
            return this;
          }
        }
      }
      if (insertBefore && referenceNode) {
        this._menuElement.insertBefore(itemEl, referenceNode);
      } else {
        this._menuElement.appendChild(itemEl);
      }
      this._storeItem(item, itemEl, 0);
      return this;
    }
    /**
     * Store item data
     * @param {Object} item - Item config
     * @param {Element} itemEl - Item element
     * @param {number} level - Nesting level
     * @private
     */
    _storeItem(item, itemEl, level) {
      const itemData = __spreadProps(__spreadValues({}, item), {
        id: item.id || `item-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
        element: itemEl,
        level
      });
      itemEl.dataset.id = itemData.id;
      this._items.push(itemData);
      if (item.groupId) {
        if (!this._groups.has(item.groupId)) {
          this._groups.set(item.groupId, []);
        }
        this._groups.get(item.groupId).push(itemData.id);
      }
    }
    /**
     * Add a group of items
     * @param {string} groupId - Group identifier
     * @param {Array} items - Items to add
     * @param {string|number} [position='bottom'] - Position in menu
     * @returns {this} For chaining
     */
    addGroup(groupId, items, position = "bottom") {
      const groupConfig = {
        type: "group",
        id: groupId,
        groupId,
        items
      };
      return this.add(groupConfig, position);
    }
    /**
     * Add a separator/divider
     * @param {number|string|Object} [position='bottom'] - Position
     * @returns {this} For chaining
     */
    addSeparator(position = "bottom") {
      return this.add({ type: "divider" }, position);
    }
    /**
     * Add a header
     * @param {string} text - Header text
     * @param {number|string|Object} [position='bottom'] - Position
     * @returns {this} For chaining
     */
    addHeader(text, position = "bottom") {
      return this.add({ type: "header", label: text }, position);
    }
    /**
     * Remove an item by id or index
     * @param {string|number} identifier - Item id or index
     * @returns {this} For chaining
     */
    remove(identifier) {
      let item;
      if (typeof identifier === "number") {
        item = this._items[identifier];
      } else {
        item = this._items.find((i) => i.id === identifier);
      }
      if (item && item.element) {
        item.element.remove();
        this._items = this._items.filter((i) => i !== item);
        if (item.groupId && this._groups.has(item.groupId)) {
          const groupItems = this._groups.get(item.groupId);
          this._groups.set(item.groupId, groupItems.filter((id) => id !== item.id));
        }
      }
      return this;
    }
    /**
     * Remove all items
     * @returns {this} For chaining
     */
    removeAll() {
      if (this._menuElement) {
        this._menuElement.innerHTML = "";
      }
      this._items = [];
      this._groups.clear();
      return this;
    }
    /**
     * Get an item by id or index
     * @param {string|number} identifier - Item id or index
     * @returns {Object|null} Item data
     */
    getItem(identifier) {
      if (typeof identifier === "number") {
        return this._items[identifier] || null;
      }
      return this._items.find((i) => i.id === identifier) || null;
    }
    /**
     * Get all items
     * @returns {Array} All items
     */
    getItems() {
      return [...this._items];
    }
    /**
     * Update an item's properties
     * @param {string|number} identifier - Item id or index
     * @param {Object} updates - Properties to update
     * @returns {this} For chaining
     */
    updateItem(identifier, updates) {
      const item = this.getItem(identifier);
      if (!item || !item.element)
        return this;
      Object.assign(item, updates);
      const el = item.element;
      if (updates.label !== void 0) {
        const textEl = el.querySelector(".so-context-menu-item-text");
        if (textEl)
          textEl.textContent = updates.label;
      }
      if (updates.icon !== void 0) {
        let iconEl = el.querySelector(".so-context-menu-item-icon .material-icons");
        if (iconEl) {
          iconEl.textContent = updates.icon;
        } else if (updates.icon) {
          const iconWrapper = document.createElement("span");
          iconWrapper.className = "so-context-menu-item-icon";
          iconWrapper.innerHTML = `<span class="material-icons">${updates.icon}</span>`;
          el.insertBefore(iconWrapper, el.firstChild);
        }
      }
      if (updates.disabled !== void 0) {
        el.classList.toggle("so-disabled", updates.disabled);
      }
      if (updates.danger !== void 0) {
        el.classList.toggle(so_config_default.cls("danger"), updates.danger);
      }
      if (updates.checked !== void 0) {
        el.classList.toggle(so_config_default.cls("checked"), updates.checked);
      }
      if (updates.shortcut !== void 0) {
        let shortcutEl = el.querySelector(".so-context-menu-item-shortcut");
        if (shortcutEl) {
          shortcutEl.textContent = updates.shortcut;
        } else if (updates.shortcut) {
          const arrow = el.querySelector(".so-context-menu-item-arrow");
          const shortcutSpan = document.createElement("span");
          shortcutSpan.className = "so-context-menu-item-shortcut";
          shortcutSpan.textContent = updates.shortcut;
          if (arrow) {
            el.insertBefore(shortcutSpan, arrow);
          } else {
            el.appendChild(shortcutSpan);
          }
        }
      }
      return this;
    }
    // ============================================
    // PUBLIC API - ITEM STATE
    // ============================================
    /**
     * Enable a specific item
     * @param {string|number} identifier - Item id or index
     * @returns {this} For chaining
     */
    enableItem(identifier) {
      return this.updateItem(identifier, { disabled: false });
    }
    /**
     * Disable a specific item
     * @param {string|number} identifier - Item id or index
     * @returns {this} For chaining
     */
    disableItem(identifier) {
      return this.updateItem(identifier, { disabled: true });
    }
    /**
     * Enable all items in a group
     * @param {string} groupId - Group identifier
     * @returns {this} For chaining
     */
    enableGroup(groupId) {
      var _a;
      const groupEl = (_a = this._menuElement) == null ? void 0 : _a.querySelector(`[data-group-id="${groupId}"]`);
      if (groupEl) {
        groupEl.classList.remove("so-disabled");
      }
      const itemIds = this._groups.get(groupId) || [];
      itemIds.forEach((id) => this.enableItem(id));
      return this;
    }
    /**
     * Disable all items in a group
     * @param {string} groupId - Group identifier
     * @returns {this} For chaining
     */
    disableGroup(groupId) {
      var _a;
      const groupEl = (_a = this._menuElement) == null ? void 0 : _a.querySelector(`[data-group-id="${groupId}"]`);
      if (groupEl) {
        groupEl.classList.add("so-disabled");
      }
      const itemIds = this._groups.get(groupId) || [];
      itemIds.forEach((id) => this.disableItem(id));
      return this;
    }
    // ============================================
    // PUBLIC API - ATTACHMENT
    // ============================================
    /**
     * Attach menu to a trigger element
     * @param {Element|string} element - Element or selector
     * @returns {this} For chaining
     */
    attach(element) {
      this.detach();
      const el = typeof element === "string" ? document.querySelector(element) : element;
      if (!el)
        return this;
      this._target = el;
      const triggerEvent = this.options.trigger === "click" ? "click" : "contextmenu";
      this.on(triggerEvent, this._handleTrigger, this._target);
      return this;
    }
    /**
     * Detach menu from current trigger element
     * @returns {this} For chaining
     */
    detach() {
      if (!this._target)
        return this;
      const triggerEvent = this.options.trigger === "click" ? "click" : "contextmenu";
      this._boundHandlers.forEach((stored, handler) => {
        if (stored.target === this._target && stored.event === triggerEvent) {
          this._target.removeEventListener(triggerEvent, stored.boundHandler);
          this._boundHandlers.delete(handler);
        }
      });
      this._target = null;
      return this;
    }
    /**
     * Get current trigger element
     * @returns {Element|null} Trigger element
     */
    getTarget() {
      return this._target;
    }
    // ============================================
    // PUBLIC API - LIFECYCLE
    // ============================================
    /**
     * Destroy the context menu and cleanup
     */
    destroy() {
      if (this._isOpen)
        this.close();
      if (this._submenuTimeout) {
        clearTimeout(this._submenuTimeout);
      }
      this.detach();
      if (this._menuElement && !this._menuElement.id) {
        this._menuElement.remove();
      }
      this._items = [];
      this._groups.clear();
      this._menuElement = null;
      super.destroy();
    }
    // ============================================
    // STATIC FACTORY METHODS
    // ============================================
    /**
     * Create a context menu programmatically
     * @param {Object} options - Menu configuration
     * @returns {SOContextMenu} Menu instance
     */
    static create(options = {}) {
      const _a = options, {
        target,
        items = [],
        trigger = "contextmenu"
      } = _a, rest = __objRest(_a, [
        "target",
        "items",
        "trigger"
      ]);
      const wrapper = document.createElement("div");
      wrapper.style.display = "none";
      document.body.appendChild(wrapper);
      const menu = new _SOContextMenu(wrapper, __spreadValues({
        items,
        trigger
      }, rest));
      if (target) {
        menu.attach(target);
      }
      return menu;
    }
  };
  __publicField(_SOContextMenu, "NAME", "contextMenu");
  __publicField(_SOContextMenu, "DEFAULTS", {
    items: [],
    // Menu items configuration
    trigger: "contextmenu",
    // 'contextmenu' or 'click'
    disabled: false,
    // Disable entire menu
    closeOnSelect: true,
    // Close menu when item selected
    closeOnOutsideClick: true,
    // Close on click outside
    submenuDelay: 200,
    // Delay before opening submenu (ms)
    animated: false
    // Use animation keyframes
  });
  __publicField(_SOContextMenu, "EVENTS", {
    SHOW: "contextmenu:show",
    SHOWN: "contextmenu:shown",
    HIDE: "contextmenu:hide",
    HIDDEN: "contextmenu:hidden",
    SELECT: "contextmenu:select",
    SUBMENU_SHOW: "contextmenu:submenu:show",
    SUBMENU_HIDE: "contextmenu:submenu:hide"
  });
  var SOContextMenu = _SOContextMenu;
  SOContextMenu.register();
  window.SOContextMenu = SOContextMenu;
  var so_context_menu_default = SOContextMenu;

  // src/js/components/so-progress-button.js
  var _SOProgressButton = class _SOProgressButton extends so_component_default {
    // ============================================
    // INITIALIZATION
    // ============================================
    /**
     * Initialize the progress button component
     * @private
     */
    _init() {
      this._state = _SOProgressButton.STATES.IDLE;
      this._progress = 0;
      this._simulateInterval = null;
      this._progressBar = this.$(".so-btn-progress-bar");
      this._textEl = this.$(".so-btn-text");
      this._startEl = this.$(".so-btn-start");
      this._doneEl = this.$(".so-btn-done");
      this._parseDataOptions();
      this._bindEvents();
    }
    /**
     * Parse additional data attributes
     * @private
     */
    _parseDataOptions() {
      const el = this.element;
      if (el.dataset.autoDisable !== void 0) {
        this.options.autoDisable = el.dataset.autoDisable !== "false";
      }
      if (el.dataset.autoReset !== void 0) {
        this.options.autoReset = parseInt(el.dataset.autoReset, 10) || 0;
      }
      if (el.dataset.simulateOnClick !== void 0) {
        this.options.simulateOnClick = el.dataset.simulateOnClick === "true";
      }
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      if (this.options.simulateOnClick) {
        this.on("click", this._handleClick);
      }
    }
    /**
     * Handle click for simulate mode
     * @param {Event} e - Click event
     * @private
     */
    _handleClick(e) {
      if (this._state === _SOProgressButton.STATES.COMPLETED) {
        this.reset();
      } else if (this._state === _SOProgressButton.STATES.IDLE) {
        this.simulate();
      }
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Start progress (enter progressing state)
     * @param {number} [initialProgress=0] - Initial progress value (0-100)
     * @returns {this} For chaining
     */
    start(initialProgress = 0) {
      if (this._state === _SOProgressButton.STATES.PROGRESSING) {
        return this;
      }
      this._state = _SOProgressButton.STATES.PROGRESSING;
      this._progress = Math.max(0, Math.min(100, initialProgress));
      this.element.classList.add("so-progressing");
      this.element.classList.remove("so-completed");
      this._updateProgressBar();
      if (this.options.autoDisable) {
        this.element.disabled = true;
      }
      this.emit(_SOProgressButton.EVENTS.START, {
        progress: this._progress,
        state: this._state
      });
      return this;
    }
    /**
     * Set progress value
     * @param {number} value - Progress value (0-100)
     * @returns {this} For chaining
     */
    setProgress(value) {
      if (this._state === _SOProgressButton.STATES.IDLE) {
        this.start(value);
        return this;
      }
      if (this._state !== _SOProgressButton.STATES.PROGRESSING) {
        return this;
      }
      const oldProgress = this._progress;
      this._progress = Math.max(0, Math.min(100, value));
      this._updateProgressBar();
      this.emit(_SOProgressButton.EVENTS.PROGRESS, {
        progress: this._progress,
        previousProgress: oldProgress,
        state: this._state
      });
      if (this._progress >= 100) {
        this._doComplete();
      }
      return this;
    }
    /**
     * Increment progress by a value
     * @param {number} amount - Amount to increment
     * @returns {this} For chaining
     */
    increment(amount) {
      return this.setProgress(this._progress + amount);
    }
    /**
     * Complete the progress (enter completed state)
     * @returns {this} For chaining
     */
    complete() {
      if (this._state === _SOProgressButton.STATES.COMPLETED) {
        return this;
      }
      this._stopSimulation();
      this._progress = 100;
      this._updateProgressBar();
      setTimeout(() => this._doComplete(), 200);
      return this;
    }
    /**
     * Internal complete handler
     * @private
     */
    _doComplete() {
      this._state = _SOProgressButton.STATES.COMPLETED;
      this.element.classList.remove("so-progressing");
      this.element.classList.add("so-completed");
      if (this.options.autoDisable) {
        this.element.disabled = false;
      }
      this.emit(_SOProgressButton.EVENTS.COMPLETE, {
        progress: 100,
        state: this._state
      });
      if (this.options.autoReset > 0) {
        setTimeout(() => this.reset(), this.options.autoReset);
      }
    }
    /**
     * Reset to initial state
     * @returns {this} For chaining
     */
    reset() {
      this._stopSimulation();
      this._state = _SOProgressButton.STATES.IDLE;
      this._progress = 0;
      this.element.classList.remove("so-progressing", "so-completed");
      this._updateProgressBar();
      this.element.disabled = false;
      this.emit(_SOProgressButton.EVENTS.RESET, {
        progress: 0,
        state: this._state
      });
      return this;
    }
    /**
     * Simulate progress automatically
     * @param {Object} [options] - Simulation options
     * @param {number} [options.speed] - Interval in ms
     * @param {number[]} [options.increment] - [min, max] random increment
     * @returns {this} For chaining
     */
    simulate(options = {}) {
      const speed = options.speed || this.options.simulateSpeed;
      const [minInc, maxInc] = options.increment || this.options.simulateIncrement;
      this.start(0);
      this._simulateInterval = setInterval(() => {
        const increment = Math.random() * (maxInc - minInc) + minInc;
        const newProgress = this._progress + increment;
        if (newProgress >= 100) {
          this._stopSimulation();
          this.setProgress(100);
        } else {
          this.setProgress(newProgress);
        }
      }, speed);
      return this;
    }
    /**
     * Stop simulation
     * @private
     */
    _stopSimulation() {
      if (this._simulateInterval) {
        clearInterval(this._simulateInterval);
        this._simulateInterval = null;
      }
    }
    /**
     * Update progress bar CSS
     * @private
     */
    _updateProgressBar() {
      this.element.style.setProperty("--progress", `${this._progress}%`);
    }
    // ============================================
    // GETTERS
    // ============================================
    /**
     * Get current progress value
     * @returns {number} Progress (0-100)
     */
    getProgress() {
      return this._progress;
    }
    /**
     * Get current state
     * @returns {string} Current state (idle, progressing, completed)
     */
    getState() {
      return this._state;
    }
    /**
     * Check if button is progressing
     * @returns {boolean}
     */
    isProgressing() {
      return this._state === _SOProgressButton.STATES.PROGRESSING;
    }
    /**
     * Check if button is completed
     * @returns {boolean}
     */
    isCompleted() {
      return this._state === _SOProgressButton.STATES.COMPLETED;
    }
    /**
     * Check if button is idle
     * @returns {boolean}
     */
    isIdle() {
      return this._state === _SOProgressButton.STATES.IDLE;
    }
    // ============================================
    // CONTENT MANIPULATION
    // ============================================
    /**
     * Set the main text content
     * @param {string} html - HTML content
     * @returns {this} For chaining
     */
    setText(html) {
      if (this._textEl) {
        this._textEl.innerHTML = html;
      }
      return this;
    }
    /**
     * Set the start content (shown during progress)
     * @param {string} html - HTML content
     * @returns {this} For chaining
     */
    setStartContent(html) {
      if (this._startEl) {
        this._startEl.innerHTML = html;
      }
      return this;
    }
    /**
     * Set the done content (shown on complete)
     * @param {string} html - HTML content
     * @returns {this} For chaining
     */
    setDoneContent(html) {
      if (this._doneEl) {
        this._doneEl.innerHTML = html;
      }
      return this;
    }
    // ============================================
    // LIFECYCLE
    // ============================================
    /**
     * Destroy the component
     */
    destroy() {
      this._stopSimulation();
      this.reset();
      super.destroy();
    }
  };
  __publicField(_SOProgressButton, "NAME", "progressButton");
  __publicField(_SOProgressButton, "DEFAULTS", {
    autoDisable: true,
    // Disable button during progress
    autoReset: false,
    // Auto reset after complete (ms, 0 = disabled)
    simulateOnClick: false,
    // Auto-simulate progress on click
    simulateSpeed: 150,
    // Interval for simulated progress (ms)
    simulateIncrement: [5, 15]
    // Random increment range [min, max]
  });
  __publicField(_SOProgressButton, "EVENTS", {
    START: "progress:start",
    PROGRESS: "progress:update",
    COMPLETE: "progress:complete",
    RESET: "progress:reset"
  });
  __publicField(_SOProgressButton, "STATES", {
    IDLE: "idle",
    PROGRESSING: "progressing",
    COMPLETED: "completed"
  });
  var SOProgressButton = _SOProgressButton;
  SOProgressButton.register();
  document.addEventListener("DOMContentLoaded", () => {
    SOProgressButton.initAll(".so-btn-progress[data-so-progress]");
  });
  window.SOProgressButton = SOProgressButton;
  var so_progress_button_default = SOProgressButton;

  // src/js/components/so-button-group.js
  var _SOButtonGroup = class _SOButtonGroup extends so_component_default {
    // ============================================
    // INITIALIZATION
    // ============================================
    /**
     * Initialize the button group component
     * @private
     */
    _init() {
      this.options.type = this.element.dataset.toggleType || this.options.type;
      this.options.enforceSelection = this.element.dataset.enforceSelection === "true" || this.options.enforceSelection;
      this._inputs = this.$$(".so-btn-check");
      this._buttons = this._inputs.map((input) => input.nextElementSibling);
      this._bindEvents();
      this._setupAria();
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this._inputs.forEach((input) => {
        this.on("change", this._handleChange, input);
      });
      if (this.options.enforceSelection && this.options.type === "radio") {
        this._inputs.forEach((input) => {
          this.on("click", this._handleRadioClick, input);
        });
      }
      if (this.options.keyboard) {
        this.on("keydown", this._handleKeydown);
      }
    }
    /**
     * Set up ARIA attributes
     * @private
     */
    _setupAria() {
      if (this.options.type === "radio") {
        this.element.setAttribute("role", "group");
      } else {
        this.element.setAttribute("role", "group");
      }
      if (this.element.classList.contains("so-btn-group-vertical")) {
        this.element.setAttribute("aria-orientation", "vertical");
      }
      this._inputs.forEach((input, index) => {
        const button = this._buttons[index];
        if (button) {
          if (button.tagName === "LABEL") {
          }
        }
      });
    }
    // ============================================
    // EVENT HANDLERS
    // ============================================
    /**
     * Handle input change
     * @param {Event} e - Change event
     * @private
     */
    _handleChange(e) {
      const input = e.target;
      const value = input.value;
      const checked = input.checked;
      if (this.options.enforceSelection && this.options.type === "checkbox" && !checked) {
        const checkedInputs = this._inputs.filter((i) => i.checked);
        if (checkedInputs.length === 0) {
          input.checked = true;
          return;
        }
      }
      this.emit(_SOButtonGroup.EVENTS.CHANGE, {
        value: this.getValue(),
        changed: value,
        checked,
        input
      });
    }
    /**
     * Handle radio click for enforced selection
     * @param {Event} e - Click event
     * @private
     */
    _handleRadioClick(e) {
      const input = e.target;
      if (input._wasChecked && this.options.enforceSelection) {
        e.preventDefault();
        input.checked = true;
      }
      this._inputs.forEach((i) => {
        i._wasChecked = i.checked;
      });
    }
    /**
     * Handle keyboard navigation
     * @param {KeyboardEvent} e - Keyboard event
     * @private
     */
    _handleKeydown(e) {
      const isVertical = this.element.classList.contains("so-btn-group-vertical");
      const enabledInputs = this._inputs.filter((input) => !input.disabled);
      if (enabledInputs.length === 0)
        return;
      const focusedElement = document.activeElement;
      const currentInput = enabledInputs.find((input) => {
        const label = input.nextElementSibling;
        return label === focusedElement || input === focusedElement;
      });
      if (!currentInput)
        return;
      const currentIndex = enabledInputs.indexOf(currentInput);
      let newIndex = currentIndex;
      switch (e.key) {
        case "ArrowLeft":
          if (!isVertical) {
            e.preventDefault();
            newIndex = currentIndex - 1;
            if (newIndex < 0)
              newIndex = enabledInputs.length - 1;
          }
          break;
        case "ArrowRight":
          if (!isVertical) {
            e.preventDefault();
            newIndex = currentIndex + 1;
            if (newIndex >= enabledInputs.length)
              newIndex = 0;
          }
          break;
        case "ArrowUp":
          if (isVertical) {
            e.preventDefault();
            newIndex = currentIndex - 1;
            if (newIndex < 0)
              newIndex = enabledInputs.length - 1;
          }
          break;
        case "ArrowDown":
          if (isVertical) {
            e.preventDefault();
            newIndex = currentIndex + 1;
            if (newIndex >= enabledInputs.length)
              newIndex = 0;
          }
          break;
        case "Home":
          e.preventDefault();
          newIndex = 0;
          break;
        case "End":
          e.preventDefault();
          newIndex = enabledInputs.length - 1;
          break;
        case " ":
        case "Enter":
          e.preventDefault();
          if (this.options.type === "checkbox") {
            enabledInputs[currentIndex].checked = !enabledInputs[currentIndex].checked;
            enabledInputs[currentIndex].dispatchEvent(new Event("change", { bubbles: true }));
          } else {
            enabledInputs[currentIndex].checked = true;
            enabledInputs[currentIndex].dispatchEvent(new Event("change", { bubbles: true }));
          }
          return;
        default:
          return;
      }
      if (newIndex !== currentIndex && newIndex >= 0) {
        const newLabel = enabledInputs[newIndex].nextElementSibling;
        if (newLabel) {
          newLabel.focus();
        }
      }
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Get current selected value(s)
     * @returns {string|string[]|null} Selected value (radio) or array of values (checkbox)
     */
    getValue() {
      if (this.options.type === "radio") {
        const checked = this._inputs.find((input) => input.checked);
        return checked ? checked.value : null;
      } else {
        return this._inputs.filter((input) => input.checked).map((input) => input.value);
      }
    }
    /**
     * Set selected value(s)
     * @param {string|string[]} value - Value or array of values to select
     * @returns {this} For chaining
     */
    setValue(value) {
      if (this.options.type === "radio") {
        const valueStr = String(value);
        this._inputs.forEach((input) => {
          input.checked = input.value === valueStr;
        });
      } else {
        const values = Array.isArray(value) ? value : [value];
        this._inputs.forEach((input) => {
          input.checked = values.includes(input.value);
        });
      }
      this.emit(_SOButtonGroup.EVENTS.CHANGE, {
        value: this.getValue(),
        changed: null,
        checked: null,
        programmatic: true
      });
      return this;
    }
    /**
     * Toggle a specific button by value
     * @param {string} value - Value of button to toggle
     * @returns {this} For chaining
     */
    toggle(value) {
      const input = this._inputs.find((i) => i.value === value);
      if (!input || input.disabled)
        return this;
      if (this.options.type === "radio") {
        input.checked = true;
      } else {
        if (this.options.enforceSelection && input.checked) {
          const checkedCount = this._inputs.filter((i) => i.checked).length;
          if (checkedCount <= 1) {
            return this;
          }
        }
        input.checked = !input.checked;
      }
      input.dispatchEvent(new Event("change", { bubbles: true }));
      return this;
    }
    /**
     * Toggle button by index
     * @param {number} index - Index of button to toggle (0-based)
     * @returns {this} For chaining
     */
    toggleIndex(index) {
      const input = this._inputs[index];
      if (!input)
        return this;
      return this.toggle(input.value);
    }
    /**
     * Select all buttons (checkbox mode only)
     * @returns {this} For chaining
     */
    selectAll() {
      if (this.options.type !== "checkbox")
        return this;
      this._inputs.forEach((input) => {
        if (!input.disabled) {
          input.checked = true;
        }
      });
      this.emit(_SOButtonGroup.EVENTS.CHANGE, {
        value: this.getValue(),
        changed: null,
        checked: true,
        programmatic: true
      });
      return this;
    }
    /**
     * Deselect all buttons
     * @returns {this} For chaining
     */
    deselectAll() {
      if (this.options.enforceSelection)
        return this;
      this._inputs.forEach((input) => {
        input.checked = false;
      });
      this.emit(_SOButtonGroup.EVENTS.CHANGE, {
        value: this.getValue(),
        changed: null,
        checked: false,
        programmatic: true
      });
      return this;
    }
    /**
     * Enable all buttons
     * @returns {this} For chaining
     */
    enable() {
      this._inputs.forEach((input) => {
        input.disabled = false;
      });
      return super.enable();
    }
    /**
     * Disable all buttons
     * @returns {this} For chaining
     */
    disable() {
      this._inputs.forEach((input) => {
        input.disabled = true;
      });
      return super.disable();
    }
    /**
     * Enable a specific button by value
     * @param {string} value - Value of button to enable
     * @returns {this} For chaining
     */
    enableButton(value) {
      const input = this._inputs.find((i) => i.value === value);
      if (input) {
        input.disabled = false;
      }
      return this;
    }
    /**
     * Disable a specific button by value
     * @param {string} value - Value of button to disable
     * @returns {this} For chaining
     */
    disableButton(value) {
      const input = this._inputs.find((i) => i.value === value);
      if (input) {
        input.disabled = true;
      }
      return this;
    }
    /**
     * Get all button values
     * @returns {string[]} Array of all button values
     */
    getValues() {
      return this._inputs.map((input) => input.value);
    }
    /**
     * Check if a specific value is selected
     * @param {string} value - Value to check
     * @returns {boolean} Whether the value is selected
     */
    isSelected(value) {
      const input = this._inputs.find((i) => i.value === value);
      return input ? input.checked : false;
    }
    /**
     * Get the number of selected buttons
     * @returns {number} Count of selected buttons
     */
    getSelectedCount() {
      return this._inputs.filter((input) => input.checked).length;
    }
    /**
     * Refresh the component (re-scan for inputs)
     * @returns {this} For chaining
     */
    refresh() {
      this._inputs = this.$$(".so-btn-check");
      this._buttons = this._inputs.map((input) => input.nextElementSibling);
      this._setupAria();
      return this;
    }
  };
  __publicField(_SOButtonGroup, "NAME", "buttonGroup");
  __publicField(_SOButtonGroup, "DEFAULTS", {
    type: "checkbox",
    // 'radio' or 'checkbox'
    enforceSelection: false,
    // Prevent deselecting last item
    keyboard: true
    // Enable keyboard navigation
  });
  __publicField(_SOButtonGroup, "EVENTS", {
    CHANGE: "toggle:change"
  });
  var SOButtonGroup = _SOButtonGroup;
  SOButtonGroup.register();
  document.addEventListener("DOMContentLoaded", () => {
    SOButtonGroup.initAll('[data-so-toggle="buttons"]');
  });
  window.SOButtonGroup = SOButtonGroup;
  var so_button_group_default = SOButtonGroup;

  // src/js/components/so-alert.js
  var _SOAlert = class _SOAlert extends so_component_default {
    /**
     * Initialize the alert
     * @private
     */
    _init() {
      this._isClosing = false;
      this._autoDismissTimer = null;
      this._bindEvents();
      if (this.options.autoDismiss) {
        this._startAutoDismiss();
      }
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this.delegate("click", '.so-alert-close, [data-dismiss="alert"]', () => this.close());
    }
    /**
     * Start auto-dismiss timer
     * @private
     */
    _startAutoDismiss() {
      this._autoDismissTimer = setTimeout(() => {
        this.close();
      }, this.options.autoDismissDelay);
    }
    /**
     * Clear auto-dismiss timer
     * @private
     */
    _clearAutoDismiss() {
      if (this._autoDismissTimer) {
        clearTimeout(this._autoDismissTimer);
        this._autoDismissTimer = null;
      }
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Close/dismiss the alert
     * @returns {this} For chaining
     */
    close() {
      if (this._isClosing)
        return this;
      if (!this.emit(_SOAlert.EVENTS.CLOSE)) {
        return this;
      }
      this._isClosing = true;
      this._clearAutoDismiss();
      if (this.options.animation) {
        this.element.style.opacity = "0";
        this.element.style.transform = "translateY(-10px)";
        this.element.style.transition = "opacity 0.15s ease, transform 0.15s ease, margin 0.15s ease, padding 0.15s ease";
        setTimeout(() => {
          this.element.style.overflow = "hidden";
          this.element.style.height = this.element.offsetHeight + "px";
          this.element.style.marginTop = "0";
          this.element.style.marginBottom = "0";
          this.element.style.paddingTop = "0";
          this.element.style.paddingBottom = "0";
          this.element.offsetHeight;
          this.element.style.height = "0";
        }, 150);
        this.element.addEventListener("transitionend", (e) => {
          if (e.propertyName === "height") {
            this._removeElement();
          }
        }, { once: true });
      } else {
        this._removeElement();
      }
      return this;
    }
    /**
     * Remove element from DOM and cleanup
     * @private
     */
    _removeElement() {
      if (!this.element || !this.element.parentNode)
        return;
      this.emit(_SOAlert.EVENTS.CLOSED);
      this.element.remove();
      this.destroy();
    }
    /**
     * Show a hidden alert
     * @returns {this} For chaining
     */
    show() {
      this.element.style.display = "";
      this.element.style.opacity = "";
      this.element.style.transform = "";
      this.element.style.height = "";
      this.element.style.overflow = "";
      if (this.options.autoDismiss) {
        this._startAutoDismiss();
      }
      return this;
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Create an alert programmatically
     * @param {Object} options - Alert configuration
     * @returns {SOAlert} Alert instance
     */
    static create(options = {}) {
      const {
        type = "info",
        title = "",
        message = "",
        icon = null,
        dismissible = true,
        outline = false,
        small = false,
        autoDismiss = false,
        autoDismissDelay = 5e3,
        container = document.body,
        insertPosition = "afterbegin",
        // 'beforeend' | 'afterbegin'
        className = ""
      } = options;
      const alertIcon = icon || _SOAlert.ICONS[type] || "info";
      const classes = [
        "so-alert",
        `so-alert-${type}`,
        dismissible ? "so-alert-dismissible" : "",
        outline ? "so-alert-outline" : "",
        small ? "so-alert-sm" : "",
        className
      ].filter(Boolean).join(" ");
      const alert2 = document.createElement("div");
      alert2.className = classes;
      alert2.setAttribute("role", "alert");
      let html = `
      <span class="so-alert-icon">
        <span class="material-icons">${alertIcon}</span>
      </span>
      <div class="so-alert-content">
        ${title ? `<strong>${title}</strong>` : ""}
        ${message}
      </div>
    `;
      if (dismissible) {
        html += `
        <button type="button" class="so-alert-close" data-dismiss="alert" aria-label="Close">
          <span class="material-icons">close</span>
        </button>
      `;
      }
      alert2.innerHTML = html;
      const containerEl = typeof container === "string" ? document.querySelector(container) : container;
      if (containerEl) {
        containerEl.insertAdjacentElement(insertPosition, alert2);
      }
      return new _SOAlert(alert2, {
        dismissible,
        animation: true,
        autoDismiss,
        autoDismissDelay
      });
    }
    /**
     * Create a success alert
     * @param {string} message - Alert message
     * @param {Object} options - Additional options
     * @returns {SOAlert} Alert instance
     */
    static success(message, options = {}) {
      return _SOAlert.create(__spreadProps(__spreadValues({}, options), { type: "success", message }));
    }
    /**
     * Create an error/danger alert
     * @param {string} message - Alert message
     * @param {Object} options - Additional options
     * @returns {SOAlert} Alert instance
     */
    static error(message, options = {}) {
      return _SOAlert.create(__spreadProps(__spreadValues({}, options), { type: "danger", message }));
    }
    /**
     * Create a warning alert
     * @param {string} message - Alert message
     * @param {Object} options - Additional options
     * @returns {SOAlert} Alert instance
     */
    static warning(message, options = {}) {
      return _SOAlert.create(__spreadProps(__spreadValues({}, options), { type: "warning", message }));
    }
    /**
     * Create an info alert
     * @param {string} message - Alert message
     * @param {Object} options - Additional options
     * @returns {SOAlert} Alert instance
     */
    static info(message, options = {}) {
      return _SOAlert.create(__spreadProps(__spreadValues({}, options), { type: "info", message }));
    }
    /**
     * Initialize all dismissible alerts on page
     * @param {string} selector - Optional custom selector
     * @returns {SOAlert[]} Array of instances
     */
    static initAll(selector = ".so-alert-dismissible") {
      const elements = document.querySelectorAll(selector);
      return Array.from(elements).map((el) => _SOAlert.getInstance(el));
    }
  };
  __publicField(_SOAlert, "NAME", "alert");
  __publicField(_SOAlert, "DEFAULTS", {
    dismissible: true,
    animation: true,
    autoDismiss: false,
    autoDismissDelay: 5e3
  });
  __publicField(_SOAlert, "EVENTS", {
    CLOSE: "alert:close",
    CLOSED: "alert:closed"
  });
  // Icon map for contextual types
  __publicField(_SOAlert, "ICONS", {
    primary: "lightbulb",
    secondary: "info",
    success: "check_circle",
    danger: "error",
    error: "error",
    warning: "warning",
    info: "info",
    light: "help_outline",
    dark: "info"
  });
  var SOAlert = _SOAlert;
  SOAlert.register();
  window.SOAlert = SOAlert;
  var so_alert_default = SOAlert;

  // src/js/components/so-toast.js
  var _SOToast = class _SOToast extends so_component_default {
    /**
     * Initialize the toast
     * @private
     */
    _init() {
      this._isShown = false;
      this._isHiding = false;
      this._isPaused = false;
      this._autohideTimer = null;
      this._remainingTime = this.options.delay;
      this._startTime = null;
      this._progressBar = null;
      this._progressAnimation = null;
      this._bindEvents();
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this.delegate("click", '.so-toast-close, [data-dismiss="toast"]', (e) => {
        e.stopPropagation();
        this.hide();
      });
      this.on("click", (e) => {
        if (!e.target.closest(".so-toast-close")) {
          this.emit(_SOToast.EVENTS.CLICK);
        }
      });
      if (this.options.pauseOnHover && this.options.autohide) {
        this._handleMouseEnter = () => this.pause();
        this._handleMouseLeave = () => this.resume();
        this.element.addEventListener("mouseenter", this._handleMouseEnter);
        this.element.addEventListener("mouseleave", this._handleMouseLeave);
      }
      if (this.options.pauseOnFocusLoss && this.options.autohide) {
        this._handleWindowBlur = () => this.pause();
        this._handleWindowFocus = () => this.resume();
        window.addEventListener("blur", this._handleWindowBlur);
        window.addEventListener("focus", this._handleWindowFocus);
      }
    }
    /**
     * Start auto-hide timer
     * @private
     */
    _startAutohide() {
      if (!this.options.autohide)
        return;
      this._startTime = Date.now();
      this._autohideTimer = setTimeout(() => {
        this.hide();
      }, this._remainingTime);
      if (this.options.showProgress && this._progressBar) {
        this._animateProgress();
      }
    }
    /**
     * Animate progress bar
     * @private
     */
    _animateProgress() {
      if (!this._progressBar)
        return;
      const elapsed = this.options.delay - this._remainingTime;
      const startPercentage = elapsed / this.options.delay;
      this._progressBar.style.transition = "none";
      this._progressBar.style.transform = `scaleX(${1 - startPercentage})`;
      this._progressBar.offsetHeight;
      this._progressBar.style.transition = `transform ${this._remainingTime}ms linear`;
      this._progressBar.style.transform = "scaleX(0)";
    }
    /**
     * Clear auto-hide timer
     * @private
     */
    _clearAutohide() {
      if (this._autohideTimer) {
        clearTimeout(this._autohideTimer);
        this._autohideTimer = null;
      }
      if (this._progressBar) {
        const computedStyle = getComputedStyle(this._progressBar);
        const currentTransform = computedStyle.transform;
        this._progressBar.style.transition = "none";
        this._progressBar.style.transform = currentTransform;
      }
    }
    // ============================================
    // PUBLIC API
    // ============================================
    /**
     * Show the toast
     * @returns {this} For chaining
     */
    show() {
      if (this._isShown)
        return this;
      if (!this.emit(_SOToast.EVENTS.SHOW)) {
        return this;
      }
      this._isShown = true;
      _SOToast._activeToasts.push(this);
      this._enforceMaxVisible();
      const customCoords = this.options.position === "custom" ? { x: this.options.x, y: this.options.y } : null;
      const container = _SOToast._getContainer(this.options.position, customCoords);
      if (this.options.newestOnTop) {
        container.prepend(this.element);
      } else {
        container.appendChild(this.element);
      }
      if (this.options.animation) {
        this.element.offsetHeight;
        this.addClass("so-show");
        this.element.addEventListener("transitionend", () => {
          this.emit(_SOToast.EVENTS.SHOWN);
        }, { once: true });
      } else {
        this.addClass("so-show");
        this.emit(_SOToast.EVENTS.SHOWN);
      }
      if (this.options.autohide) {
        this._remainingTime = this.options.delay;
        this._startAutohide();
      }
      return this;
    }
    /**
     * Hide the toast
     * @returns {this} For chaining
     */
    hide() {
      if (!this._isShown || this._isHiding)
        return this;
      if (!this.emit(_SOToast.EVENTS.HIDE)) {
        return this;
      }
      this._isHiding = true;
      this._clearAutohide();
      this.removeClass("so-show");
      this.addClass("so-hiding");
      const hideComplete = () => {
        if (!this.element || !this.element.parentNode)
          return;
        this._isShown = false;
        this._isHiding = false;
        const index = _SOToast._activeToasts.indexOf(this);
        if (index > -1) {
          _SOToast._activeToasts.splice(index, 1);
        }
        this.element.remove();
        this.emit(_SOToast.EVENTS.HIDDEN);
        this.destroy();
      };
      if (this.options.animation) {
        this.element.addEventListener("transitionend", hideComplete, { once: true });
        setTimeout(hideComplete, 350);
      } else {
        hideComplete();
      }
      return this;
    }
    /**
     * Pause auto-hide timer
     * @returns {this} For chaining
     */
    pause() {
      if (!this.options.autohide)
        return this;
      if (!this._autohideTimer)
        return this;
      if (this._startTime) {
        const elapsed = Date.now() - this._startTime;
        this._remainingTime = Math.max(100, this._remainingTime - elapsed);
      }
      this._clearAutohide();
      this._isPaused = true;
      return this;
    }
    /**
     * Resume auto-hide timer
     * @returns {this} For chaining
     */
    resume() {
      if (!this.options.autohide)
        return this;
      if (!this._isPaused)
        return this;
      if (!this._isShown)
        return this;
      if (this._isHiding)
        return this;
      this._isPaused = false;
      this._startAutohide();
      return this;
    }
    /**
     * Update toast content
     * @param {Object} options - New options
     * @returns {this} For chaining
     */
    update(options = {}) {
      const { title, message } = options;
      if (title !== void 0) {
        const titleEl = this.$(".so-toast-title");
        if (titleEl)
          titleEl.textContent = title;
      }
      if (message !== void 0) {
        const bodyEl = this.$(".so-toast-body");
        const messageEl = this.$(".so-toast-message");
        if (messageEl) {
          messageEl.textContent = message;
        } else if (bodyEl) {
          bodyEl.textContent = message;
        }
      }
      return this;
    }
    /**
     * Enforce max visible toasts
     * @private
     */
    _enforceMaxVisible() {
      const samePositionToasts = _SOToast._activeToasts.filter(
        (t) => t.options.position === this.options.position && t !== this
      );
      while (samePositionToasts.length >= this.options.maxVisible) {
        const oldest = this.options.newestOnTop ? samePositionToasts.pop() : samePositionToasts.shift();
        if (oldest) {
          oldest.hide();
        }
      }
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Get or create container for position
     * @param {string} position - Toast position
     * @param {Object} customCoords - Custom coordinates { x, y } for 'custom' position
     * @returns {HTMLElement} Container element
     * @private
     */
    static _getContainer(position, customCoords = null) {
      const containerKey = position === "custom" && customCoords ? `custom-${customCoords.x}-${customCoords.y}` : position;
      if (!_SOToast._containers[containerKey]) {
        const container = document.createElement("div");
        container.className = `so-toast-container ${position}`;
        container.setAttribute("aria-live", "polite");
        container.setAttribute("aria-atomic", "true");
        if (position === "custom" && customCoords) {
          const { x, y } = customCoords;
          if (x !== null) {
            container.style.left = typeof x === "number" ? `${x}px` : x;
          }
          if (y !== null) {
            container.style.top = typeof y === "number" ? `${y}px` : y;
          }
        }
        document.body.appendChild(container);
        _SOToast._containers[containerKey] = container;
      }
      return _SOToast._containers[containerKey];
    }
    /**
     * Create and show a toast
     * @param {Object} options - Toast options
     * @returns {SOToast} Toast instance
     */
    static show(options = {}) {
      const {
        type = "info",
        title = "",
        message = "",
        icon = null,
        position = "top-right",
        autohide = true,
        delay = 5e3,
        showProgress = true,
        pauseOnHover = true,
        closeButton = true,
        simple = false,
        actions = null,
        className = "",
        onClick = null,
        x = null,
        y = null
      } = options;
      const toastIcon = icon || _SOToast.ICONS[type] || "info";
      const classes = [
        "so-toast",
        `so-toast-${type}`,
        className
      ].filter(Boolean).join(" ");
      const toast = document.createElement("div");
      toast.className = classes;
      toast.setAttribute("role", "status");
      toast.setAttribute("aria-live", "polite");
      toast.setAttribute("aria-atomic", "true");
      let html = "";
      if (simple) {
        html = `
        <div class="so-toast-simple">
          <span class="so-toast-icon">
            <span class="material-icons">${toastIcon}</span>
          </span>
          <div class="so-toast-content">
            ${title ? `<div class="so-toast-title">${title}</div>` : ""}
            <div class="so-toast-message">${message}</div>
          </div>
          ${closeButton ? `
            <button type="button" class="so-toast-close" data-dismiss="toast" aria-label="Close">
              <span class="material-icons">close</span>
            </button>
          ` : ""}
        </div>
      `;
      } else {
        html = `
        <div class="so-toast-header">
          <span class="so-toast-icon">
            <span class="material-icons">${toastIcon}</span>
          </span>
          <strong class="so-toast-title">${title || type.charAt(0).toUpperCase() + type.slice(1)}</strong>
          <small class="so-toast-time">just now</small>
          ${closeButton ? `
            <button type="button" class="so-toast-close" data-dismiss="toast" aria-label="Close">
              <span class="material-icons">close</span>
            </button>
          ` : ""}
        </div>
        <div class="so-toast-body">
          ${message}
          ${actions ? `
            <div class="so-toast-actions">
              ${actions}
            </div>
          ` : ""}
        </div>
      `;
      }
      if (autohide && showProgress) {
        html += `
        <div class="so-toast-progress-wrapper">
          <div class="so-toast-progress">
            <div class="so-toast-progress-bar"></div>
          </div>
        </div>
      `;
      }
      toast.innerHTML = html;
      const instance = new _SOToast(toast, {
        position,
        autohide,
        delay,
        showProgress,
        pauseOnHover,
        closeButton,
        animation: true,
        x,
        y
      });
      instance._progressBar = toast.querySelector(".so-toast-progress-bar");
      if (onClick) {
        toast.addEventListener(so_config_default.evt(_SOToast.EVENTS.CLICK), onClick);
      }
      instance.show();
      return instance;
    }
    /**
     * Quick success toast
     * @param {string} message - Toast message
     * @param {Object} options - Additional options
     * @returns {SOToast} Toast instance
     */
    static success(message, options = {}) {
      return _SOToast.show(__spreadValues({
        type: "success",
        title: "Success",
        message,
        simple: true
      }, options));
    }
    /**
     * Quick error toast
     * @param {string} message - Toast message
     * @param {Object} options - Additional options
     * @returns {SOToast} Toast instance
     */
    static error(message, options = {}) {
      return _SOToast.show(__spreadValues({
        type: "danger",
        title: "Error",
        message,
        simple: true,
        delay: 8e3
      }, options));
    }
    /**
     * Quick warning toast
     * @param {string} message - Toast message
     * @param {Object} options - Additional options
     * @returns {SOToast} Toast instance
     */
    static warning(message, options = {}) {
      return _SOToast.show(__spreadValues({
        type: "warning",
        title: "Warning",
        message,
        simple: true
      }, options));
    }
    /**
     * Quick info toast
     * @param {string} message - Toast message
     * @param {Object} options - Additional options
     * @returns {SOToast} Toast instance
     */
    static info(message, options = {}) {
      return _SOToast.show(__spreadValues({
        type: "info",
        title: "Info",
        message,
        simple: true
      }, options));
    }
    /**
     * Clear all toasts
     * @param {string} [position] - Optional position to clear
     */
    static clear(position = null) {
      const toastsToClear = position ? _SOToast._activeToasts.filter((t) => t.options.position === position) : [..._SOToast._activeToasts];
      toastsToClear.forEach((toast) => toast.hide());
    }
    /**
     * Clear toasts by type
     * @param {string} type - Toast type (success, error, warning, info)
     */
    static clearByType(type) {
      const toastsToClear = _SOToast._activeToasts.filter(
        (t) => t.element.classList.contains(`so-toast-${type}`)
      );
      toastsToClear.forEach((toast) => toast.hide());
    }
    /**
     * Get count of active toasts
     * @param {string} [position] - Optional position filter
     * @returns {number} Count of active toasts
     */
    static getCount(position = null) {
      if (position) {
        return _SOToast._activeToasts.filter((t) => t.options.position === position).length;
      }
      return _SOToast._activeToasts.length;
    }
  };
  __publicField(_SOToast, "NAME", "toast");
  __publicField(_SOToast, "DEFAULTS", {
    position: "top-right",
    // top-left, top-center, top-right, bottom-left, bottom-center, bottom-right, center, custom
    autohide: true,
    delay: 5e3,
    animation: true,
    showProgress: true,
    pauseOnHover: true,
    pauseOnFocusLoss: false,
    closeButton: true,
    newestOnTop: true,
    maxVisible: 5,
    // Custom position coordinates (only used when position: 'custom')
    x: null,
    // left position in px or percentage (e.g., 100 or '50%')
    y: null
    // top position in px or percentage (e.g., 100 or '50%')
  });
  __publicField(_SOToast, "EVENTS", {
    SHOW: "toast:show",
    SHOWN: "toast:shown",
    HIDE: "toast:hide",
    HIDDEN: "toast:hidden",
    CLICK: "toast:click"
  });
  // Icon map for contextual types
  __publicField(_SOToast, "ICONS", {
    primary: "star",
    secondary: "info",
    success: "check_circle",
    danger: "error",
    error: "error",
    warning: "warning",
    info: "info",
    light: "lightbulb",
    dark: "info"
  });
  // Container cache by position
  __publicField(_SOToast, "_containers", {});
  // Track all active toasts
  __publicField(_SOToast, "_activeToasts", []);
  var SOToast = _SOToast;
  SOToast.register();
  window.SOToast = SOToast;
  var so_toast_default = SOToast;

  // src/js/components/so-select.js
  var _SOSelect = class _SOSelect extends so_component_default {
    // ============================================
    // INITIALIZATION
    // ============================================
    _init() {
      this._isNativeSelect = this.element.tagName === "SELECT";
      if (this._isNativeSelect) {
        this._enhanceNativeSelect();
      } else {
        this._initCustomSelect();
      }
    }
    /**
     * Enhance a native select element
     * @private
     */
    _enhanceNativeSelect() {
      if (this.element.multiple) {
        this.options.multiple = true;
      }
      if (this.element.disabled) {
        this.options.disabled = true;
      }
      this._parseNativeOptions();
      const wrapper = this._createSelectStructure();
      this.element.parentNode.insertBefore(wrapper, this.element.nextSibling);
      this.element.classList.add("so-select-enhanced");
      this._wrapper = wrapper;
      this._nativeSelect = this.element;
      this.element = wrapper;
      wrapper._soSelectInstance = this;
      this._cacheElements();
      this._initState();
      this._bindEvents();
      this._applyModifierClasses();
      this._syncFromNative();
    }
    /**
     * Initialize custom select (non-native)
     * @private
     */
    _initCustomSelect() {
      this._cacheElements();
      if (this.options.options.length > 0) {
        this._renderOptions(this.options.options);
      } else {
        this._parseOptionsFromDOM();
      }
      this._initState();
      this._bindEvents();
      this._applyModifierClasses();
    }
    /**
     * Parse options from native select element
     * @private
     */
    _parseNativeOptions() {
      const nativeOptions = [];
      const optgroups = this.element.querySelectorAll("optgroup");
      if (optgroups.length > 0) {
        optgroups.forEach((group) => {
          const groupOptions = [];
          group.querySelectorAll("option").forEach((opt) => {
            if (opt.value) {
              groupOptions.push({
                value: opt.value,
                label: opt.textContent,
                icon: opt.dataset.icon || null,
                description: opt.dataset.description || null,
                disabled: opt.disabled,
                selected: opt.selected
              });
            }
          });
          nativeOptions.push({
            label: group.label,
            options: groupOptions
          });
        });
        const rootOptions = [];
        this.element.querySelectorAll(":scope > option").forEach((opt) => {
          if (opt.value) {
            rootOptions.push({
              value: opt.value,
              label: opt.textContent,
              icon: opt.dataset.icon || null,
              description: opt.dataset.description || null,
              disabled: opt.disabled,
              selected: opt.selected
            });
          }
        });
        if (rootOptions.length > 0) {
          nativeOptions.unshift(...rootOptions);
        }
      } else {
        this.element.querySelectorAll("option").forEach((opt) => {
          if (opt.value) {
            nativeOptions.push({
              value: opt.value,
              label: opt.textContent,
              icon: opt.dataset.icon || null,
              description: opt.dataset.description || null,
              disabled: opt.disabled,
              selected: opt.selected
            });
          }
        });
      }
      this._optionsData = nativeOptions;
    }
    /**
     * Parse options from DOM structure
     * @private
     */
    _parseOptionsFromDOM() {
      this._optionsData = [];
      const groups = this.$$(".so-select-group");
      if (groups.length > 0) {
        groups.forEach((group) => {
          var _a;
          const label = ((_a = group.querySelector(".so-select-group-label")) == null ? void 0 : _a.textContent) || "";
          const options = [];
          group.querySelectorAll(".so-select-option").forEach((opt) => {
            options.push(this._parseOptionElement(opt));
          });
          this._optionsData.push({ label, options });
        });
      } else {
        this.$$(".so-select-option").forEach((opt) => {
          this._optionsData.push(this._parseOptionElement(opt));
        });
      }
    }
    /**
     * Parse a single option element
     * @param {Element} opt - Option element
     * @returns {Object} Option data
     * @private
     */
    _parseOptionElement(opt) {
      var _a, _b, _c, _d;
      return {
        value: opt.dataset.value,
        label: ((_a = opt.querySelector(".so-select-option-text")) == null ? void 0 : _a.textContent) || ((_b = opt.querySelector(".so-select-option-content")) == null ? void 0 : _b.textContent) || opt.textContent.trim(),
        icon: (_c = opt.querySelector(".so-select-option-icon .material-icons")) == null ? void 0 : _c.textContent,
        description: (_d = opt.querySelector(".so-select-option-desc")) == null ? void 0 : _d.textContent,
        disabled: opt.classList.contains("so-disabled"),
        selected: opt.classList.contains("so-selected")
      };
    }
    /**
     * Create select structure for native enhancement
     * @returns {HTMLElement} Wrapper element
     * @private
     */
    _createSelectStructure() {
      const wrapper = document.createElement("div");
      wrapper.className = "so-select";
      Array.from(this.element.attributes).forEach((attr) => {
        if (attr.name.startsWith("data-so-") && attr.name !== "data-so-select") {
          wrapper.setAttribute(attr.name, attr.value);
        }
      });
      wrapper.innerHTML = this._buildSelectHTML();
      return wrapper;
    }
    /**
     * Build select HTML structure
     * @returns {string} HTML string
     * @private
     */
    _buildSelectHTML() {
      const placeholder = this.options.placeholder;
      const selectionStyle = this.options.selectionStyle;
      const selectionIcon = this.options.selectionIcon;
      let optionsHTML = this._buildOptionsHTML(this._optionsData, selectionStyle, selectionIcon);
      let searchHTML = "";
      if (this.options.searchable) {
        searchHTML = `
        <div class="so-select-search">
          <span class="material-icons">search</span>
          <input type="text" class="so-select-search-input" placeholder="${this.options.searchPlaceholder}">
        </div>
      `;
      }
      let actionsHTML = "";
      if (this.options.multiple && this.options.showActions) {
        actionsHTML = `
        <div class="so-select-actions">
          <button type="button" class="so-select-action so-select-action-all">${this.options.selectAllText}</button>
          ${this.options.selectNoneText ? `
            <span class="so-select-action-separator">|</span>
            <button type="button" class="so-select-action so-select-action-none">${this.options.selectNoneText}</button>
          ` : ""}
        </div>
      `;
      }
      let clearHTML = "";
      if (this.options.clearable) {
        clearHTML = `
        <button type="button" class="so-select-clear" style="display: none;">
          <span class="material-icons">close</span>
        </button>
      `;
      }
      return `
      <div class="so-select-trigger" tabindex="0">
        ${this.options.multiple && this.options.displayMode !== "text" ? '<div class="so-select-chips"></div>' : `<span class="so-select-placeholder">${placeholder}</span>`}
        ${clearHTML}
        <span class="so-select-arrow"><span class="material-icons">expand_more</span></span>
      </div>
      <div class="so-select-dropdown">
        ${searchHTML}
        ${actionsHTML}
        <div class="so-select-options">
          ${optionsHTML}
        </div>
        <div class="so-select-no-results" style="display: none;">${this.options.noResultsText}</div>
        <div class="so-select-loading-text" style="display: none;">${this.options.loadingText}</div>
      </div>
    `;
    }
    /**
     * Build options HTML
     * @param {Array} options - Options data
     * @param {string} selectionStyle - Selection style
     * @param {string} selectionIcon - Selection icon
     * @returns {string} HTML string
     * @private
     */
    _buildOptionsHTML(options, selectionStyle, selectionIcon) {
      if (!options || options.length === 0)
        return "";
      let html = "";
      options.forEach((item) => {
        if (item.options) {
          html += `<div class="so-select-group">`;
          html += `<div class="so-select-group-label">${item.label}</div>`;
          item.options.forEach((opt) => {
            html += this._buildOptionHTML(opt, selectionStyle, selectionIcon);
          });
          html += `</div>`;
        } else {
          html += this._buildOptionHTML(item, selectionStyle, selectionIcon);
        }
      });
      return html;
    }
    /**
     * Build single option HTML
     * @param {Object} opt - Option data
     * @param {string} selectionStyle - Selection style
     * @param {string} selectionIcon - Selection icon
     * @returns {string} HTML string
     * @private
     */
    _buildOptionHTML(opt, selectionStyle, selectionIcon) {
      const classes = ["so-select-option"];
      if (opt.disabled)
        classes.push("so-disabled");
      if (opt.selected)
        classes.push("so-selected");
      let checkboxHTML = "";
      if (selectionStyle === "checkbox" || selectionStyle === "checkbox-bg") {
        checkboxHTML = `<span class="so-checkbox-box"><span class="material-icons">${selectionIcon}</span></span>`;
      }
      let radioHTML = "";
      if (selectionStyle === "radio" || selectionStyle === "radio-bg") {
        radioHTML = `<span class="so-radio-circle"></span>`;
      }
      let iconHTML = "";
      if (opt.icon) {
        iconHTML = `<span class="so-select-option-icon"><span class="material-icons">${opt.icon}</span></span>`;
      }
      let contentHTML = "";
      if (opt.description) {
        contentHTML = `
        <div class="so-select-option-content">
          <span class="so-select-option-text">${opt.label}</span>
          <span class="so-select-option-desc">${opt.description}</span>
        </div>
      `;
      } else {
        contentHTML = `<span class="so-select-option-content">${opt.label}</span>`;
      }
      let checkHTML = "";
      const noCheckStyles = ["checkbox", "checkbox-bg", "radio", "radio-bg", "bg"];
      if (!noCheckStyles.includes(selectionStyle)) {
        checkHTML = `<span class="so-select-option-check"><span class="material-icons">${selectionIcon}</span></span>`;
      }
      return `
      <div class="${classes.join(" ")}" data-value="${opt.value}">
        ${checkboxHTML}
        ${radioHTML}
        ${iconHTML}
        ${contentHTML}
        ${checkHTML}
      </div>
    `;
    }
    /**
     * Cache DOM elements
     * @private
     */
    _cacheElements() {
      this._trigger = this.$(".so-select-trigger");
      this._dropdown = this.$(".so-select-dropdown");
      this._optionsList = this.$(".so-select-options");
      this._searchInput = this.$(".so-select-search-input");
      this._placeholder = this.$(".so-select-placeholder");
      this._valueEl = this.$(".so-select-value");
      this._chipsContainer = this.$(".so-select-chips");
      this._clearBtn = this.$(".so-select-clear");
      this._noResults = this.$(".so-select-no-results");
      this._loadingText = this.$(".so-select-loading-text");
      this._actionsAll = this.$(".so-select-action-all");
      this._actionsNone = this.$(".so-select-action-none");
    }
    /**
     * Initialize state
     * @private
     */
    _initState() {
      this._isOpen = false;
      this._disabled = this.options.disabled;
      this._selectedValues = [];
      this._selectedTexts = [];
      this._focusedIndex = -1;
      this._searchQuery = "";
      this._getInitialSelections();
    }
    /**
     * Get initial selections from DOM
     * @private
     */
    _getInitialSelections() {
      const selected = this.$$(".so-select-option.so-selected");
      selected.forEach((opt) => {
        this._selectedValues.push(opt.dataset.value);
        this._selectedTexts.push(this._getOptionText(opt));
      });
      this._updateDisplay();
    }
    /**
     * Apply modifier classes based on options
     * @private
     */
    _applyModifierClasses() {
      if (this.options.searchable) {
        this.addClass("so-select-searchable");
      }
      if (this.options.multiple) {
        this.addClass("so-select-multiple");
      }
      if (this.options.clearable) {
        this.addClass("so-select-clearable");
      }
      if (this.options.disabled) {
        this.addClass("so-select-disabled");
      }
      if (this.options.selectionStyle !== "icon-bg") {
        this.addClass(`so-select-style-${this.options.selectionStyle}`);
      }
      if (this.options.displayMode !== "text") {
        this.addClass(`so-select-display-${this.options.displayMode}`);
      }
      if (this.options.size) {
        this.addClass(`so-select-${this.options.size}`);
      }
      if (this.options.variant) {
        this.addClass(`so-select-${this.options.variant}`);
      }
      if (this.options.nowrap) {
        this.addClass("so-select-nowrap");
      }
    }
    /**
     * Sync from native select
     * @private
     */
    _syncFromNative() {
      if (!this._nativeSelect)
        return;
      const selectedOptions = Array.from(this._nativeSelect.selectedOptions);
      this._selectedValues = [];
      this._selectedTexts = [];
      selectedOptions.forEach((opt) => {
        if (opt.value) {
          this._selectedValues.push(opt.value);
          this._selectedTexts.push(opt.textContent);
          const customOpt = this.$$(`.so-select-option[data-value="${opt.value}"]`);
          if (customOpt.length) {
            customOpt[0].classList.add("so-selected");
          }
        }
      });
      this._updateDisplay();
    }
    /**
     * Sync to native select
     * @private
     */
    _syncToNative() {
      if (!this._nativeSelect)
        return;
      this._syncingToNative = true;
      Array.from(this._nativeSelect.options).forEach((opt) => {
        opt.selected = this._selectedValues.includes(opt.value);
      });
      this._nativeSelect.dispatchEvent(new Event("change", { bubbles: true }));
      this._syncingToNative = false;
    }
    // ============================================
    // EVENT BINDING
    // ============================================
    _bindEvents() {
      this.on("click", this._handleTriggerClick, this._trigger);
      this.on("keydown", this._handleTriggerKeydown, this._trigger);
      this.delegate("click", ".so-select-option", this._handleOptionClick);
      if (this._searchInput) {
        this.on("input", this._handleSearch, this._searchInput);
        this.on("click", (e) => e.stopPropagation(), this._searchInput);
      }
      if (this._clearBtn) {
        this.on("click", this._handleClear, this._clearBtn);
      }
      if (this._actionsAll) {
        this.on("click", this._handleSelectAll, this._actionsAll);
      }
      if (this._actionsNone) {
        this.on("click", this._handleSelectNone, this._actionsNone);
      }
      this.delegate("click", ".so-select-chip-remove", this._handleChipRemove);
      this.on("click", this._handleOutsideClick, document);
      this.on("keydown", this._handleKeydown, this.element);
      if (this._nativeSelect) {
        this._nativeChangeHandler = this._handleNativeChange.bind(this);
        this._nativeSelect.addEventListener("change", this._nativeChangeHandler);
      }
    }
    /**
     * Handle native select change (for bidirectional sync)
     * This allows external code to change the native select and have the custom UI update
     * @private
     */
    _handleNativeChange() {
      if (this._syncingToNative)
        return;
      this._syncFromNativeExternal();
    }
    /**
     * Sync from native select when changed externally
     * @private
     */
    _syncFromNativeExternal() {
      if (!this._nativeSelect)
        return;
      this.$$(".so-select-option.so-selected").forEach((opt) => {
        opt.classList.remove("so-selected");
      });
      const selectedOptions = Array.from(this._nativeSelect.selectedOptions);
      this._selectedValues = [];
      this._selectedTexts = [];
      selectedOptions.forEach((opt) => {
        if (opt.value) {
          this._selectedValues.push(opt.value);
          this._selectedTexts.push(opt.textContent);
          const customOpt = this.$$(`.so-select-option[data-value="${opt.value}"]`);
          if (customOpt.length) {
            customOpt[0].classList.add("so-selected");
          }
        }
      });
      this._updateDisplay();
      this.emit(_SOSelect.EVENTS.CHANGE, {
        value: this._selectedValues[0] || null,
        values: [...this._selectedValues],
        text: this._selectedTexts[0] || null,
        texts: [...this._selectedTexts]
      });
    }
    // ============================================
    // EVENT HANDLERS
    // ============================================
    _handleTriggerClick(e) {
      if (e.target.closest(".so-select-chip-remove")) {
        e.stopPropagation();
        const chip = e.target.closest(".so-select-chip");
        if (chip == null ? void 0 : chip.dataset.value) {
          this.removeValue(chip.dataset.value);
        }
        return;
      }
      e.stopPropagation();
      if (this._disabled)
        return;
      this.toggle();
    }
    _handleTriggerKeydown(e) {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        this.toggle();
      } else if (e.key === "ArrowDown" && !this._isOpen) {
        e.preventDefault();
        this.open();
      }
    }
    _handleOptionClick(e, item) {
      e.stopPropagation();
      if (item.classList.contains("so-disabled"))
        return;
      const value = item.dataset.value;
      const text = this._getOptionText(item);
      if (this.options.multiple) {
        this._toggleSelection(value, text, item);
      } else {
        this._selectSingle(value, text, item);
        if (this.options.closeOnSelect) {
          this.close();
        }
      }
    }
    _handleSearch(e) {
      const query = e.target.value.toLowerCase().trim();
      this._searchQuery = query;
      this._filterOptions(query);
      this.emit(_SOSelect.EVENTS.SEARCH, { query });
    }
    _handleClear(e) {
      e.stopPropagation();
      this.clear();
    }
    _handleSelectAll(e) {
      e.preventDefault();
      e.stopPropagation();
      this.selectAll();
    }
    _handleSelectNone(e) {
      e.preventDefault();
      e.stopPropagation();
      this.selectNone();
    }
    _handleChipRemove(e, chip) {
      var _a;
      e.stopPropagation();
      const value = (_a = chip.closest(".so-select-chip")) == null ? void 0 : _a.dataset.value;
      if (value) {
        this.removeValue(value);
      }
    }
    _handleOutsideClick(e) {
      if (!this._isOpen)
        return;
      if (this._justOpened)
        return;
      if (this.element.contains(e.target))
        return;
      this.close();
    }
    _handleKeydown(e) {
      var _a;
      if (!this._isOpen)
        return;
      const items = this._getNavigableOptions();
      switch (e.key) {
        case "Escape":
          e.preventDefault();
          this.close();
          (_a = this._trigger) == null ? void 0 : _a.focus();
          break;
        case "ArrowDown":
          e.preventDefault();
          this._focusNextOption(items, 1);
          break;
        case "ArrowUp":
          e.preventDefault();
          this._focusNextOption(items, -1);
          break;
        case "Enter":
        case " ":
          e.preventDefault();
          if (this._focusedIndex >= 0 && items[this._focusedIndex]) {
            items[this._focusedIndex].click();
          }
          break;
        case "Home":
          e.preventDefault();
          this._focusOption(items, 0);
          break;
        case "End":
          e.preventDefault();
          this._focusOption(items, items.length - 1);
          break;
      }
    }
    // ============================================
    // SELECTION LOGIC
    // ============================================
    _selectSingle(value, text, item) {
      const previousValues = [...this._selectedValues];
      this.$$(".so-select-option.so-selected").forEach((opt) => {
        opt.classList.remove("so-selected");
      });
      this._selectedValues = [value];
      this._selectedTexts = [text];
      item.classList.add("so-selected");
      this._updateDisplay();
      this._syncToNative();
      this.emit(_SOSelect.EVENTS.CHANGE, {
        value,
        text,
        values: this._selectedValues,
        texts: this._selectedTexts,
        previousValues
      });
    }
    _toggleSelection(value, text, item) {
      const previousValues = [...this._selectedValues];
      const index = this._selectedValues.indexOf(value);
      if (index > -1) {
        const minSelections = this.options.minSelections || 0;
        if (this._selectedValues.length <= minSelections) {
          return;
        }
        this._selectedValues.splice(index, 1);
        this._selectedTexts.splice(index, 1);
        item.classList.remove("so-selected");
      } else {
        if (this.options.maxSelections && this._selectedValues.length >= this.options.maxSelections) {
          return;
        }
        this._selectedValues.push(value);
        this._selectedTexts.push(text);
        item.classList.add("so-selected");
      }
      this._updateDisplay();
      this._syncToNative();
      this.emit(_SOSelect.EVENTS.CHANGE, {
        value,
        text,
        values: this._selectedValues,
        texts: this._selectedTexts,
        previousValues,
        action: index > -1 ? "deselect" : "select"
      });
    }
    // ============================================
    // DISPLAY UPDATE
    // ============================================
    _updateDisplay() {
      const count = this._selectedValues.length;
      if (this._clearBtn) {
        this._clearBtn.style.display = count > 0 ? "flex" : "none";
      }
      if (count === 0) {
        this._showPlaceholder();
        return;
      }
      if (this.options.multiple) {
        this._updateMultipleDisplay();
      } else {
        this._updateSingleDisplay();
      }
    }
    _showPlaceholder() {
      if (this._placeholder) {
        this._placeholder.style.display = "";
        this._placeholder.textContent = this.options.placeholder;
      }
      if (this._valueEl) {
        this._valueEl.style.display = "none";
      }
      if (this._chipsContainer) {
        this._chipsContainer.innerHTML = "";
      }
    }
    _updateSingleDisplay() {
      const text = this._selectedTexts[0];
      if (this._placeholder) {
        this._placeholder.textContent = text;
        this._placeholder.classList.remove("so-select-placeholder");
        this._placeholder.classList.add("so-select-value");
      }
    }
    _updateMultipleDisplay() {
      const count = this._selectedValues.length;
      const totalItems = this._getTotalSelectableOptions();
      const displayMode = this.options.displayMode;
      if (displayMode === "chips" || displayMode === "chips-overflow") {
        this._renderChips();
      } else {
        let text;
        if (count === totalItems && this.options.allSelectedText) {
          text = this.options.allSelectedText.replace("{count}", count);
        } else {
          text = this.options.multipleSelectedText.replace("{count}", count);
        }
        if (this._placeholder) {
          this._placeholder.textContent = text;
          this._placeholder.classList.remove("so-select-placeholder");
          this._placeholder.classList.add("so-select-value");
        }
      }
    }
    _renderChips() {
      if (!this._chipsContainer)
        return;
      const displayMode = this.options.displayMode;
      const maxChips = this.options.maxVisibleChips;
      let chips = "";
      const valuesToShow = displayMode === "chips-overflow" ? this._selectedValues.slice(0, maxChips) : this._selectedValues;
      valuesToShow.forEach((value, i) => {
        const text = this._selectedTexts[i] || value;
        chips += `
        <span class="so-select-chip" data-value="${value}">
          <span>${text}</span>
          <button type="button" class="so-select-chip-remove">
            <span class="material-icons">close</span>
          </button>
        </span>
      `;
      });
      if (displayMode === "chips-overflow" && this._selectedValues.length > maxChips) {
        const overflowCount = this._selectedValues.length - maxChips;
        const overflowText = this.options.overflowText.replace("{count}", overflowCount);
        chips += `<span class="so-select-overflow">${overflowText}</span>`;
      }
      this._chipsContainer.innerHTML = chips;
      if (this._placeholder) {
        this._placeholder.style.display = "none";
      }
    }
    // ============================================
    // FILTERING
    // ============================================
    _filterOptions(query) {
      const options = this.$$(".so-select-option");
      const groups = this.$$(".so-select-group");
      let visibleCount = 0;
      options.forEach((opt) => {
        const text = this._getOptionText(opt).toLowerCase();
        const matches = !query || text.includes(query);
        opt.style.display = matches ? "" : "none";
        if (matches)
          visibleCount++;
      });
      groups.forEach((group) => {
        const visibleOptions = group.querySelectorAll('.so-select-option:not([style*="display: none"])');
        group.style.display = visibleOptions.length > 0 ? "" : "none";
      });
      if (this._noResults) {
        this._noResults.style.display = visibleCount === 0 ? "" : "none";
      }
    }
    // ============================================
    // KEYBOARD NAVIGATION
    // ============================================
    _getNavigableOptions() {
      return this.$$(".so-select-option").filter(
        (opt) => !opt.classList.contains("so-disabled") && opt.style.display !== "none"
      );
    }
    _focusNextOption(items, direction) {
      if (items.length === 0)
        return;
      let newIndex = this._focusedIndex + direction;
      if (newIndex < 0)
        newIndex = items.length - 1;
      if (newIndex >= items.length)
        newIndex = 0;
      this._focusOption(items, newIndex);
    }
    _focusOption(items, index) {
      this.$$(".so-select-option").forEach((opt) => opt.classList.remove("so-focused"));
      this._focusedIndex = index;
      if (items[index]) {
        items[index].classList.add("so-focused");
        items[index].scrollIntoView({ block: "nearest" });
      }
    }
    _clearFocus() {
      this.$$(".so-select-option").forEach((opt) => opt.classList.remove("so-focused"));
      this._focusedIndex = -1;
    }
    // ============================================
    // UTILITY METHODS
    // ============================================
    _getOptionText(opt) {
      const textEl = opt.querySelector(".so-select-option-text");
      if (textEl)
        return textEl.textContent;
      const contentEl = opt.querySelector(".so-select-option-content");
      if (contentEl)
        return contentEl.textContent;
      const clone = opt.cloneNode(true);
      clone.querySelectorAll(".so-select-option-check, .so-checkbox-box").forEach((el) => el.remove());
      return clone.textContent.trim();
    }
    _getTotalSelectableOptions() {
      return this.$$(".so-select-option").filter(
        (opt) => !opt.classList.contains("so-disabled")
      ).length;
    }
    _findOptionByValue(value) {
      return this.$(`.so-select-option[data-value="${value}"]`);
    }
    // ============================================
    // PUBLIC API - DROPDOWN CONTROL
    // ============================================
    open() {
      if (this._isOpen || this._disabled)
        return this;
      const allowed = this.emit(_SOSelect.EVENTS.OPEN, {}, true, true);
      if (!allowed)
        return this;
      _SOSelect.closeAllExcept(this);
      this._isOpen = true;
      this.addClass("so-select-open");
      this._justOpened = true;
      requestAnimationFrame(() => {
        this._justOpened = false;
      });
      if (this._searchInput) {
        setTimeout(() => this._searchInput.focus(), 50);
      }
      this._focusedIndex = -1;
      setTimeout(() => {
        this.emit(_SOSelect.EVENTS.OPENED);
      }, 150);
      return this;
    }
    close() {
      if (!this._isOpen)
        return this;
      const allowed = this.emit(_SOSelect.EVENTS.CLOSE, {}, true, true);
      if (!allowed)
        return this;
      this._isOpen = false;
      this.removeClass("so-select-open");
      if (this._searchInput) {
        this._searchInput.value = "";
        this._filterOptions("");
      }
      this._clearFocus();
      setTimeout(() => {
        this.emit(_SOSelect.EVENTS.CLOSED);
      }, 150);
      return this;
    }
    toggle() {
      return this._isOpen ? this.close() : this.open();
    }
    // ============================================
    // PUBLIC API - VALUE MANAGEMENT
    // ============================================
    getValue() {
      return this._selectedValues[0] || null;
    }
    getValues() {
      return [...this._selectedValues];
    }
    getText() {
      return this._selectedTexts[0] || null;
    }
    getTexts() {
      return [...this._selectedTexts];
    }
    setValue(value) {
      const opt = this._findOptionByValue(value);
      if (opt) {
        const text = this._getOptionText(opt);
        this._selectSingle(value, text, opt);
      }
      return this;
    }
    setValues(values) {
      if (!this.options.multiple) {
        return this.setValue(values[0]);
      }
      this._selectedValues = [];
      this._selectedTexts = [];
      this.$$(".so-select-option.so-selected").forEach((opt) => {
        opt.classList.remove("so-selected");
      });
      values.forEach((value) => {
        const opt = this._findOptionByValue(value);
        if (opt && !opt.classList.contains("so-disabled")) {
          this._selectedValues.push(value);
          this._selectedTexts.push(this._getOptionText(opt));
          opt.classList.add("so-selected");
        }
      });
      this._updateDisplay();
      this._syncToNative();
      return this;
    }
    addValue(value) {
      if (!this.options.multiple)
        return this.setValue(value);
      const opt = this._findOptionByValue(value);
      if (opt && !this._selectedValues.includes(value)) {
        const text = this._getOptionText(opt);
        this._toggleSelection(value, text, opt);
      }
      return this;
    }
    removeValue(value) {
      const index = this._selectedValues.indexOf(value);
      if (index > -1) {
        const opt = this._findOptionByValue(value);
        if (opt) {
          const text = this._selectedTexts[index];
          this._toggleSelection(value, text, opt);
        }
      }
      return this;
    }
    clear() {
      const previousValues = [...this._selectedValues];
      this._selectedValues = [];
      this._selectedTexts = [];
      this.$$(".so-select-option.so-selected").forEach((opt) => {
        opt.classList.remove("so-selected");
      });
      this._updateDisplay();
      this._syncToNative();
      this.emit(_SOSelect.EVENTS.CLEAR, { previousValues });
      this.emit(_SOSelect.EVENTS.CHANGE, {
        value: null,
        text: null,
        values: [],
        texts: [],
        previousValues,
        action: "clear"
      });
      return this;
    }
    selectAll() {
      if (!this.options.multiple)
        return this;
      const previousValues = [...this._selectedValues];
      this._selectedValues = [];
      this._selectedTexts = [];
      this.$$(".so-select-option").forEach((opt) => {
        if (opt.classList.contains("so-disabled") || opt.style.display === "none") {
          return;
        }
        if (this.options.maxSelections && this._selectedValues.length >= this.options.maxSelections) {
          return;
        }
        const value = opt.dataset.value;
        const text = this._getOptionText(opt);
        this._selectedValues.push(value);
        this._selectedTexts.push(text);
        opt.classList.add("so-selected");
      });
      this._updateDisplay();
      this._syncToNative();
      this.emit(_SOSelect.EVENTS.CHANGE, {
        value: this._selectedValues[0] || null,
        text: this._selectedTexts[0] || null,
        values: this._selectedValues,
        texts: this._selectedTexts,
        previousValues,
        action: "selectAll"
      });
      return this;
    }
    selectNone() {
      if (!this.options.multiple)
        return this;
      const minSelections = this.options.minSelections || 0;
      if (minSelections > 0)
        return this;
      return this.clear();
    }
    // ============================================
    // PUBLIC API - STATE CONTROL
    // ============================================
    enable() {
      this._disabled = false;
      this.removeClass("so-select-disabled");
      if (this._trigger) {
        this._trigger.removeAttribute("disabled");
      }
      return this;
    }
    disable() {
      this._disabled = true;
      this.addClass("so-select-disabled");
      if (this._trigger) {
        this._trigger.setAttribute("disabled", "");
      }
      if (this._isOpen) {
        this.close();
      }
      return this;
    }
    isDisabled() {
      return this._disabled;
    }
    isOpen() {
      return this._isOpen;
    }
    setOptionDisabled(value, disabled = true) {
      const opt = this._findOptionByValue(value);
      if (opt) {
        opt.classList.toggle("so-disabled", disabled);
      }
      return this;
    }
    // ============================================
    // PUBLIC API - OPTION MANAGEMENT
    // ============================================
    setOptions(options) {
      this._optionsData = options;
      this._renderOptions(options);
      this._selectedValues = [];
      this._selectedTexts = [];
      this._updateDisplay();
      return this;
    }
    getOptions() {
      return [...this._optionsData];
    }
    _renderOptions(options) {
      if (!this._optionsList)
        return;
      const html = this._buildOptionsHTML(
        options,
        this.options.selectionStyle,
        this.options.selectionIcon
      );
      this._optionsList.innerHTML = html;
    }
    addOption(option) {
      return this.addOptionAt(option, -1);
    }
    prependOption(option) {
      return this.addOptionAt(option, 0);
    }
    appendOption(option) {
      return this.addOption(option);
    }
    addOptionAt(option, index) {
      const html = this._buildOptionHTML(
        option,
        this.options.selectionStyle,
        this.options.selectionIcon
      );
      const temp = document.createElement("div");
      temp.innerHTML = html;
      const newOpt = temp.firstElementChild;
      const options = this.$$(".so-select-option");
      if (index < 0 || index >= options.length) {
        this._optionsList.appendChild(newOpt);
      } else {
        options[index].before(newOpt);
      }
      if (index < 0 || index >= this._optionsData.length) {
        this._optionsData.push(option);
      } else {
        this._optionsData.splice(index, 0, option);
      }
      return this;
    }
    addOptionBefore(option, beforeValue) {
      const beforeOpt = this._findOptionByValue(beforeValue);
      if (beforeOpt) {
        const html = this._buildOptionHTML(
          option,
          this.options.selectionStyle,
          this.options.selectionIcon
        );
        beforeOpt.insertAdjacentHTML("beforebegin", html);
      }
      return this;
    }
    addOptionAfter(option, afterValue) {
      const afterOpt = this._findOptionByValue(afterValue);
      if (afterOpt) {
        const html = this._buildOptionHTML(
          option,
          this.options.selectionStyle,
          this.options.selectionIcon
        );
        afterOpt.insertAdjacentHTML("afterend", html);
      }
      return this;
    }
    addOptionToGroup(option, groupLabel) {
      const group = this._findGroupByLabel(groupLabel);
      if (group) {
        const html = this._buildOptionHTML(
          option,
          this.options.selectionStyle,
          this.options.selectionIcon
        );
        group.insertAdjacentHTML("beforeend", html);
      }
      return this;
    }
    addGroup(label, options = []) {
      let html = `<div class="so-select-group">`;
      html += `<div class="so-select-group-label">${label}</div>`;
      options.forEach((opt) => {
        html += this._buildOptionHTML(opt, this.options.selectionStyle, this.options.selectionIcon);
      });
      html += `</div>`;
      this._optionsList.insertAdjacentHTML("beforeend", html);
      this._optionsData.push({ label, options });
      return this;
    }
    removeOption(value) {
      const opt = this._findOptionByValue(value);
      if (opt) {
        opt.remove();
        const index = this._selectedValues.indexOf(value);
        if (index > -1) {
          this._selectedValues.splice(index, 1);
          this._selectedTexts.splice(index, 1);
          this._updateDisplay();
          this._syncToNative();
        }
      }
      return this;
    }
    removeGroup(label) {
      const group = this._findGroupByLabel(label);
      if (group) {
        group.querySelectorAll(".so-select-option").forEach((opt) => {
          const value = opt.dataset.value;
          const index = this._selectedValues.indexOf(value);
          if (index > -1) {
            this._selectedValues.splice(index, 1);
            this._selectedTexts.splice(index, 1);
          }
        });
        group.remove();
        this._updateDisplay();
        this._syncToNative();
      }
      return this;
    }
    clearOptions() {
      this._optionsList.innerHTML = "";
      this._optionsData = [];
      this._selectedValues = [];
      this._selectedTexts = [];
      this._updateDisplay();
      this._syncToNative();
      return this;
    }
    updateOption(value, newOption) {
      const opt = this._findOptionByValue(value);
      if (opt) {
        const wasSelected = opt.classList.contains("so-selected");
        const html = this._buildOptionHTML(
          __spreadProps(__spreadValues({}, newOption), { value: newOption.value || value, selected: wasSelected }),
          this.options.selectionStyle,
          this.options.selectionIcon
        );
        opt.outerHTML = html;
        const index = this._selectedValues.indexOf(value);
        if (index > -1 && newOption.label) {
          this._selectedTexts[index] = newOption.label;
          this._updateDisplay();
        }
      }
      return this;
    }
    getOption(value) {
      const opt = this._findOptionByValue(value);
      if (opt) {
        return this._parseOptionElement(opt);
      }
      return null;
    }
    hasOption(value) {
      return !!this._findOptionByValue(value);
    }
    /**
     * Destroy the component and clean up
     */
    destroy() {
      if (this._nativeSelect && this._nativeChangeHandler) {
        this._nativeSelect.removeEventListener("change", this._nativeChangeHandler);
      }
      if (this._nativeSelect) {
        this._nativeSelect.classList.remove("so-select-enhanced");
      }
      if (this.element && this.element.parentNode) {
        this.element.parentNode.removeChild(this.element);
      }
      if (super.destroy) {
        super.destroy();
      }
      return this;
    }
    _findGroupByLabel(label) {
      const groups = this.$$(".so-select-group");
      return groups.find((g) => {
        var _a;
        const groupLabel = (_a = g.querySelector(".so-select-group-label")) == null ? void 0 : _a.textContent;
        return groupLabel === label;
      });
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    static create(options = {}) {
      const wrapper = document.createElement("div");
      wrapper.className = "so-select";
      if (options.searchable)
        wrapper.setAttribute("data-so-searchable", "true");
      if (options.multiple)
        wrapper.setAttribute("data-so-multiple", "true");
      if (options.clearable)
        wrapper.setAttribute("data-so-clearable", "true");
      if (options.placeholder)
        wrapper.setAttribute("data-so-placeholder", options.placeholder);
      const instance = new _SOSelect(wrapper, options);
      instance.element = wrapper;
      instance._optionsData = options.options || [];
      wrapper.innerHTML = instance._buildSelectHTML();
      instance._cacheElements();
      instance._initState();
      instance._bindEvents();
      instance._applyModifierClasses();
      return instance;
    }
    static createFromSelect(selectElement, options = {}) {
      return _SOSelect.getInstance(selectElement, options);
    }
    /**
     * Close all open selects except the specified one
     * @param {SOSelect} exceptInstance - Instance to exclude from closing
     */
    static closeAllExcept(exceptInstance = null) {
      const openSelects = document.querySelectorAll(".so-select.so-select-open");
      openSelects.forEach((wrapperEl) => {
        const instance = wrapperEl._soSelectInstance;
        if (instance && instance !== exceptInstance && instance._isOpen) {
          instance.close();
        }
      });
    }
    /**
     * Close all open selects
     */
    static closeAll() {
      _SOSelect.closeAllExcept(null);
    }
  };
  __publicField(_SOSelect, "NAME", "select");
  __publicField(_SOSelect, "DEFAULTS", {
    placeholder: "Select an option",
    searchable: false,
    searchPlaceholder: "Search...",
    multiple: false,
    clearable: false,
    closeOnSelect: true,
    disabled: false,
    options: [],
    noResultsText: "No results found",
    loadingText: "Loading...",
    // Selection limits
    minSelections: null,
    maxSelections: null,
    // Select All/None actions
    showActions: false,
    selectAllText: "All",
    selectNoneText: "None",
    // Display mode
    displayMode: "text",
    // 'text', 'chips', 'chips-overflow'
    maxVisibleChips: 3,
    allSelectedText: null,
    multipleSelectedText: "{count} selected",
    overflowText: "+{count} more",
    // Selection style
    // For multiple: 'checkbox', 'checkbox-bg', 'icon', 'bg', 'icon-bg'
    // For single: 'radio', 'radio-bg', 'icon', 'bg', 'icon-bg'
    selectionStyle: "icon-bg",
    selectionIcon: "check",
    // Visual options
    size: null,
    // 'sm', 'lg', or null for default
    variant: null,
    // 'primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'
    nowrap: false,
    // Prevent text wrapping in dropdown options
    // Async options
    async: false,
    asyncUrl: null,
    asyncMethod: "GET",
    minSearchLength: 0,
    debounceTime: 300
  });
  __publicField(_SOSelect, "EVENTS", {
    OPEN: "select:open",
    OPENED: "select:opened",
    CLOSE: "select:close",
    CLOSED: "select:closed",
    CHANGE: "select:change",
    SEARCH: "select:search",
    CLEAR: "select:clear"
  });
  var SOSelect = _SOSelect;
  SOSelect.register();
  window.SOSelect = SOSelect;
  var so_select_default = SOSelect;

  // src/js/components/so-autocomplete.js
  var _SOAutocomplete = class _SOAutocomplete extends so_component_default {
    // ============================================
    // INITIALIZATION
    // ============================================
    _init() {
      this._isOpen = false;
      this._isLoading = false;
      this._disabled = this.options.disabled;
      this._selectedValues = [];
      this._selectedTexts = [];
      this._tokens = [];
      this._allOptions = [];
      this._filteredOptions = [];
      this._focusedIndex = -1;
      this._debounceTimer = null;
      this._abortController = null;
      this._buildStructure();
      this._cacheElements();
      if (this.options.options.length > 0) {
        this.setOptions(this.options.options);
      }
      this._bindEvents();
      this._applyModifierClasses();
      if (this._disabled) {
        this.disable();
      }
    }
    /**
     * Build the HTML structure programmatically
     * @private
     */
    _buildStructure() {
      const existingInput = this.element.querySelector(".so-autocomplete-input");
      if (!existingInput) {
        const structure = this._createStructureHTML();
        this.element.innerHTML = structure;
        this.element.classList.add("so-autocomplete");
        if (this.options.multiple) {
          this.element.classList.add("so-autocomplete-multiple");
        }
      } else {
        this.element.classList.add("so-autocomplete");
        if (this.options.multiple) {
          this.element.classList.add("so-autocomplete-multiple");
        }
      }
    }
    /**
     * Create HTML structure
     * @private
     * @returns {string} HTML string
     */
    _createStructureHTML() {
      const containerId = `autocomplete-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
      const dropdownId = `${containerId}-dropdown`;
      const inputArea = this.options.multiple ? `<div class="so-autocomplete-tokens">
           <input type="text"
                  class="so-autocomplete-input"
                  placeholder="${this.options.placeholder}"
                  autocomplete="off"
                  role="combobox"
                  aria-expanded="false"
                  aria-haspopup="listbox"
                  aria-owns="${dropdownId}"
                  aria-autocomplete="list">
         </div>` : `<input type="text"
                class="so-autocomplete-input"
                placeholder="${this.options.placeholder}"
                autocomplete="off"
                role="combobox"
                aria-expanded="false"
                aria-haspopup="listbox"
                aria-owns="${dropdownId}"
                aria-autocomplete="list">`;
      return `
      <div class="so-autocomplete-container" id="${containerId}">
        ${inputArea}
        <button type="button" class="so-autocomplete-clear" style="display: none;" aria-label="Clear all">
          <span class="material-icons">close</span>
        </button>
        <span class="so-autocomplete-arrow">
          <span class="material-icons">expand_more</span>
        </span>
      </div>
      <div class="so-autocomplete-dropdown" id="${dropdownId}" role="listbox">
        <div class="so-autocomplete-loading" style="display: none;">
          <span class="so-spinner so-spinner-sm"></span>
          <span>${this.options.loadingText}</span>
        </div>
        <div class="so-autocomplete-options"></div>
        <div class="so-autocomplete-no-results" style="display: none;">
          ${this.options.noResultsText}
        </div>
      </div>
    `;
    }
    /**
     * Cache DOM elements
     * @private
     */
    _cacheElements() {
      this._container = this.$(".so-autocomplete-container");
      this._input = this.$(".so-autocomplete-input");
      this._clearBtn = this.$(".so-autocomplete-clear");
      this._arrow = this.$(".so-autocomplete-arrow");
      this._dropdown = this.$(".so-autocomplete-dropdown");
      this._loadingEl = this.$(".so-autocomplete-loading");
      this._optionsContainer = this.$(".so-autocomplete-options");
      this._noResultsEl = this.$(".so-autocomplete-no-results");
      if (this.options.multiple) {
        this._tokensContainer = this.$(".so-autocomplete-tokens");
      }
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      if (this._input) {
        this.on("input", this._handleInput, this._input);
        this.on("focus", this._handleFocus, this._input);
        this.on("blur", this._handleBlur, this._input);
        this.on("keydown", this._handleKeydown, this._input);
        this.on("click", this._handleInputClick, this._input);
      }
      if (this._container) {
        this.on("click", this._handleContainerClick, this._container);
      }
      if (this._clearBtn) {
        this.on("click", this._handleClearClick, this._clearBtn);
      }
      if (this._arrow) {
        this.on("click", this._handleArrowClick, this._arrow);
      }
      this.delegate("click", ".so-autocomplete-option", this._handleOptionClick);
      this.delegate("mouseenter", ".so-autocomplete-option", this._handleOptionHover);
      this.on("click", this._handleOutsideClick, document);
      if (this.options.freeSolo && this.options.multiple && this._input) {
        this.on("paste", this._handlePaste, this._input);
      }
    }
    /**
     * Apply modifier classes based on options
     * @private
     */
    _applyModifierClasses() {
      if (this.options.size) {
        this.element.classList.add(`so-autocomplete-${this.options.size}`);
      }
      if (this.options.variant) {
        this.element.classList.add(`so-autocomplete-${this.options.variant}`);
      }
      if (this.options.multiple) {
        this.element.classList.add(`so-autocomplete-display-${this.options.displayMode}`);
      }
    }
    // ============================================
    // EVENT HANDLERS
    // ============================================
    /**
     * Handle input event
     * @private
     */
    _handleInput(e) {
      const query = e.target.value;
      this.emit(_SOAutocomplete.EVENTS.INPUT, { query });
      this._debounceSearch(query);
      this._updateClearButton();
    }
    /**
     * Handle focus event
     * @private
     */
    _handleFocus(e) {
      this.element.classList.add("so-autocomplete-focused");
      if (this.options.openOnFocus !== false) {
        this.open();
      }
    }
    /**
     * Handle blur event
     * @private
     */
    _handleBlur(e) {
      setTimeout(() => {
        if (!this._dropdown.contains(document.activeElement) && !this._container.contains(document.activeElement)) {
          this.element.classList.remove("so-autocomplete-focused");
          if (this.options.createOnBlur && this.options.freeSolo && this.options.multiple) {
            const value = this._input.value.trim();
            if (value) {
              this._createToken(value);
              this._input.value = "";
            }
          }
        }
      }, 200);
    }
    /**
     * Handle keydown event
     * @private
     */
    _handleKeydown(e) {
      switch (e.key) {
        case "ArrowDown":
          e.preventDefault();
          if (!this._isOpen) {
            this.open();
          } else {
            this._focusNextOption();
          }
          break;
        case "ArrowUp":
          e.preventDefault();
          if (this._isOpen) {
            this._focusPreviousOption();
          }
          break;
        case "Enter":
          e.preventDefault();
          if (this._isOpen && this._focusedIndex >= 0) {
            this._selectFocusedOption();
          } else if (this.options.freeSolo && this.options.multiple) {
            const value = this._input.value.trim();
            if (value) {
              this._createToken(value);
              this._input.value = "";
            }
          }
          break;
        case "Escape":
          e.preventDefault();
          if (this._isOpen) {
            this.close();
          } else if (this.options.clearOnEscape) {
            this.clear();
          }
          break;
        case "Tab":
          if (this.options.selectOnTab && this._isOpen && this._focusedIndex >= 0) {
            e.preventDefault();
            this._selectFocusedOption();
          }
          break;
        case "Backspace":
          if (this.options.multiple && !this._input.value && this._tokens.length > 0) {
            e.preventDefault();
            this.removeToken(this._tokens.length - 1);
          }
          break;
        case "Home":
          if (this._isOpen) {
            e.preventDefault();
            this._focusOptionAt(0);
          }
          break;
        case "End":
          if (this._isOpen) {
            e.preventDefault();
            this._focusOptionAt(this._filteredOptions.length - 1);
          }
          break;
        default:
          if (this.options.freeSolo && this.options.multiple) {
            if (this.options.tokenDelimiters.includes(e.key)) {
              e.preventDefault();
              const value = this._input.value.trim();
              if (value) {
                this._createToken(value);
                this._input.value = "";
              }
            }
          }
          break;
      }
    }
    /**
     * Handle input click
     * @private
     */
    _handleInputClick() {
      if (!this._isOpen) {
        this.open();
      }
    }
    /**
     * Handle container click
     * @private
     */
    _handleContainerClick(e) {
      if (e.target.closest(".so-autocomplete-clear, .so-autocomplete-arrow")) {
        return;
      }
      if (e.target.closest(".so-autocomplete-token-remove")) {
        return;
      }
      if (this._input && !this._disabled) {
        this._input.focus();
        if (!this._isOpen) {
          this.open();
        }
      }
    }
    /**
     * Handle clear button click
     * @private
     */
    _handleClearClick(e) {
      e.stopPropagation();
      const wasOpen = this._isOpen;
      this.clear();
      this._input.focus();
      if (!wasOpen) {
        this.open();
      }
    }
    /**
     * Handle arrow click
     * @private
     */
    _handleArrowClick(e) {
      e.stopPropagation();
      if (this._disabled)
        return;
      this.toggle();
    }
    /**
     * Handle option click
     * @private
     */
    _handleOptionClick(e) {
      const optionEl = e.target.closest(".so-autocomplete-option");
      if (!optionEl || optionEl.classList.contains("so-autocomplete-option-disabled"))
        return;
      const index = parseInt(optionEl.dataset.index, 10);
      const option = this._filteredOptions[index];
      if (option) {
        this._selectOption(option, index);
      }
    }
    /**
     * Handle option hover
     * @private
     */
    _handleOptionHover(e) {
      const optionEl = e.target.closest(".so-autocomplete-option");
      if (!optionEl)
        return;
      const index = parseInt(optionEl.dataset.index, 10);
      this._focusOptionAt(index);
    }
    /**
     * Handle outside click
     * @private
     */
    _handleOutsideClick(e) {
      if (this._isOpen && !this.element.contains(e.target)) {
        this.close();
      }
    }
    /**
     * Handle paste event (for free solo + multiple)
     * @private
     */
    _handlePaste(e) {
      e.preventDefault();
      const pastedText = (e.clipboardData || window.clipboardData).getData("text");
      const delimiter = this.options.tokenDelimiters[0] || ",";
      const values = pastedText.split(new RegExp(`[${this.options.tokenDelimiters.join("")}]`)).map((v) => v.trim()).filter((v) => v);
      values.forEach((value) => {
        this._createToken(value);
      });
    }
    // ============================================
    // DROPDOWN CONTROL
    // ============================================
    /**
     * Open the dropdown
     * @returns {SOAutocomplete} this
     */
    open() {
      if (this._disabled || this._isOpen)
        return this;
      const event = this.emit(_SOAutocomplete.EVENTS.OPEN, null, true, true);
      if (event.defaultPrevented)
        return this;
      this._isOpen = true;
      this.element.classList.add("so-autocomplete-open");
      this._input.setAttribute("aria-expanded", "true");
      if (this.options.loadOnOpen && this.options.async && this._allOptions.length === 0) {
        this.loadOptions("");
      } else if (!this.options.async) {
        this._performSearch(this._input.value);
      }
      this.emit(_SOAutocomplete.EVENTS.OPENED);
      return this;
    }
    /**
     * Close the dropdown
     * @returns {SOAutocomplete} this
     */
    close() {
      if (!this._isOpen)
        return this;
      const event = this.emit(_SOAutocomplete.EVENTS.CLOSE, null, true, true);
      if (event.defaultPrevented)
        return this;
      this._isOpen = false;
      this.element.classList.remove("so-autocomplete-open");
      this._input.setAttribute("aria-expanded", "false");
      this._focusedIndex = -1;
      this.emit(_SOAutocomplete.EVENTS.CLOSED);
      return this;
    }
    /**
     * Toggle the dropdown
     * @returns {SOAutocomplete} this
     */
    toggle() {
      return this._isOpen ? this.close() : this.open();
    }
    /**
     * Check if dropdown is open
     * @returns {boolean}
     */
    isOpen() {
      return this._isOpen;
    }
    // ============================================
    // VALUE MANAGEMENT
    // ============================================
    /**
     * Get single selected value
     * @returns {string|null}
     */
    getValue() {
      return this._selectedValues[0] || null;
    }
    /**
     * Get array of selected values
     * @returns {Array<string>}
     */
    getValues() {
      return [...this._selectedValues];
    }
    /**
     * Get single selected text
     * @returns {string|null}
     */
    getText() {
      return this._selectedTexts[0] || null;
    }
    /**
     * Get array of selected texts
     * @returns {Array<string>}
     */
    getTexts() {
      return [...this._selectedTexts];
    }
    /**
     * Set single value
     * @param {string} value - Value to set
     * @returns {SOAutocomplete} this
     */
    setValue(value) {
      const option = this._allOptions.find((opt) => opt.value === value);
      if (option) {
        this._selectOption(option);
      }
      return this;
    }
    /**
     * Set multiple values
     * @param {Array<string>} values - Values to set
     * @returns {SOAutocomplete} this
     */
    setValues(values) {
      if (!this.options.multiple) {
        console.warn("setValues() requires multiple mode");
        return this;
      }
      this.clear();
      values.forEach((value) => this.addValue(value));
      return this;
    }
    /**
     * Add a value (multiple mode)
     * @param {string} value - Value to add
     * @returns {SOAutocomplete} this
     */
    addValue(value) {
      if (!this.options.multiple) {
        return this.setValue(value);
      }
      const option = this._allOptions.find((opt) => opt.value === value);
      if (option) {
        this._selectOption(option);
      } else if (this.options.freeSolo) {
        this._createToken(value);
      }
      return this;
    }
    /**
     * Remove a value
     * @param {string} value - Value to remove
     * @returns {SOAutocomplete} this
     */
    removeValue(value) {
      const index = this._selectedValues.indexOf(value);
      if (index >= 0) {
        if (this.options.multiple) {
          this.removeToken(index);
        } else {
          this.clear();
        }
      }
      return this;
    }
    /**
     * Clear all selections
     * @returns {SOAutocomplete} this
     */
    clear() {
      const hadValues = this._selectedValues.length > 0;
      this._selectedValues = [];
      this._selectedTexts = [];
      this._tokens = [];
      this._input.value = "";
      if (this.options.multiple) {
        this._renderTokens();
        this._updatePlaceholder();
      }
      this._updateClearButton();
      if (this._isOpen) {
        this._performSearch("");
      }
      if (hadValues) {
        this.emit(_SOAutocomplete.EVENTS.CLEAR);
        this._emitChange();
      }
      return this;
    }
    // ============================================
    // TOKEN MANAGEMENT (Multiple Mode)
    // ============================================
    /**
     * Get array of token objects
     * @returns {Array<{value: string, text: string}>}
     */
    getTokens() {
      return [...this._tokens];
    }
    /**
     * Add a token
     * @param {string} value - Token value
     * @param {string} [text] - Token text (defaults to value)
     * @returns {SOAutocomplete} this
     */
    addToken(value, text = null) {
      if (!this.options.multiple) {
        console.warn("addToken() requires multiple mode");
        return this;
      }
      this._createToken(value, text);
      return this;
    }
    /**
     * Remove token by index
     * @param {number} index - Token index
     * @returns {SOAutocomplete} this
     */
    removeToken(index) {
      if (index < 0 || index >= this._tokens.length)
        return this;
      const token = this._tokens[index];
      this._tokens.splice(index, 1);
      const valueIndex = this._selectedValues.indexOf(token.value);
      if (valueIndex >= 0) {
        this._selectedValues.splice(valueIndex, 1);
        this._selectedTexts.splice(valueIndex, 1);
      }
      this._renderTokens();
      this._updatePlaceholder();
      this._updateClearButton();
      if (this._isOpen) {
        this._renderOptions();
      }
      this.emit(_SOAutocomplete.EVENTS.TOKEN_REMOVE, { token, tokens: this._tokens, index });
      this._emitChange();
      return this;
    }
    /**
     * Remove token by value
     * @param {string} value - Token value
     * @returns {SOAutocomplete} this
     */
    removeTokenByValue(value) {
      const index = this._tokens.findIndex((t) => t.value === value);
      if (index >= 0) {
        this.removeToken(index);
      }
      return this;
    }
    /**
     * Clear all tokens
     * @returns {SOAutocomplete} this
     */
    clearTokens() {
      return this.clear();
    }
    // ============================================
    // INPUT CONTROL
    // ============================================
    /**
     * Get current input text
     * @returns {string}
     */
    getInputValue() {
      return this._input.value;
    }
    /**
     * Set input text
     * @param {string} text - Text to set
     * @returns {SOAutocomplete} this
     */
    setInputValue(text) {
      this._input.value = text;
      this._updateClearButton();
      return this;
    }
    /**
     * Clear input text
     * @returns {SOAutocomplete} this
     */
    clearInput() {
      return this.setInputValue("");
    }
    /**
     * Focus the input
     * @returns {SOAutocomplete} this
     */
    focus() {
      this._input.focus();
      return this;
    }
    /**
     * Blur the input
     * @returns {SOAutocomplete} this
     */
    blur() {
      this._input.blur();
      return this;
    }
    // ============================================
    // OPTIONS MANAGEMENT
    // ============================================
    /**
     * Set all options
     * @param {Array<Object>} options - Options array
     * @returns {SOAutocomplete} this
     */
    setOptions(options) {
      this._allOptions = options.map((opt, idx) => {
        if (typeof opt === "string") {
          return { value: opt, text: opt };
        }
        return __spreadProps(__spreadValues({}, opt), { _index: idx });
      });
      this._performSearch(this._input.value);
      return this;
    }
    /**
     * Get current options
     * @returns {Array<Object>}
     */
    getOptions() {
      return [...this._allOptions];
    }
    /**
     * Add single option
     * @param {Object|string} option - Option to add
     * @returns {SOAutocomplete} this
     */
    addOption(option) {
      const opt = typeof option === "string" ? { value: option, text: option } : option;
      opt._index = this._allOptions.length;
      this._allOptions.push(opt);
      this._performSearch(this._input.value);
      return this;
    }
    /**
     * Add multiple options
     * @param {Array<Object>} options - Options to add
     * @returns {SOAutocomplete} this
     */
    addOptions(options) {
      options.forEach((opt) => this.addOption(opt));
      return this;
    }
    /**
     * Remove option by value
     * @param {string} value - Option value
     * @returns {SOAutocomplete} this
     */
    removeOption(value) {
      this._allOptions = this._allOptions.filter((opt) => opt.value !== value);
      this._performSearch(this._input.value);
      return this;
    }
    /**
     * Clear all options
     * @returns {SOAutocomplete} this
     */
    clearOptions() {
      this._allOptions = [];
      this._filteredOptions = [];
      this._renderOptions();
      return this;
    }
    /**
     * Filter options manually
     * @param {string} query - Search query
     * @returns {SOAutocomplete} this
     */
    filterOptions(query) {
      this._performSearch(query);
      return this;
    }
    /**
     * Load options from remote URL
     * @param {string} query - Search query
     * @returns {Promise<void>}
     */
    loadOptions(query) {
      return __async(this, null, function* () {
        if (!this.options.async || !this.options.asyncUrl) {
          console.warn("loadOptions() requires async mode and asyncUrl");
          return;
        }
        if (this._abortController) {
          this._abortController.abort();
        }
        this._abortController = new AbortController();
        try {
          this.setLoading(true);
          this.emit(_SOAutocomplete.EVENTS.LOAD_START, { query });
          const url = new URL(this.options.asyncUrl, window.location.origin);
          url.searchParams.set(this.options.asyncParam, query);
          const response = yield fetch(url, {
            method: this.options.asyncMethod,
            signal: this._abortController.signal
          });
          if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
          }
          const data = yield response.json();
          const options = Array.isArray(data) ? data : data.results || data.data || [];
          this.setOptions(options);
          this.emit(_SOAutocomplete.EVENTS.LOAD_END, { data: options, query, count: options.length });
        } catch (error) {
          if (error.name !== "AbortError") {
            console.error("SOAutocomplete: Load error", error);
            this.emit(_SOAutocomplete.EVENTS.LOAD_ERROR, { error, query });
          }
        } finally {
          this.setLoading(false);
          this._abortController = null;
        }
      });
    }
    // ============================================
    // STATE CONTROL
    // ============================================
    /**
     * Enable component
     * @returns {SOAutocomplete} this
     */
    enable() {
      this._disabled = false;
      this.element.classList.remove("so-autocomplete-disabled");
      this._input.disabled = false;
      return this;
    }
    /**
     * Disable component
     * @returns {SOAutocomplete} this
     */
    disable() {
      this._disabled = true;
      this.element.classList.add("so-autocomplete-disabled");
      this._input.disabled = true;
      this.close();
      return this;
    }
    /**
     * Check if disabled
     * @returns {boolean}
     */
    isDisabled() {
      return this._disabled;
    }
    /**
     * Set loading state
     * @param {boolean} loading - Loading state
     * @returns {SOAutocomplete} this
     */
    setLoading(loading) {
      this._isLoading = loading;
      this._loadingEl.style.display = loading ? "flex" : "none";
      if (loading) {
        this.element.classList.add("so-autocomplete-loading");
      } else {
        this.element.classList.remove("so-autocomplete-loading");
      }
      return this;
    }
    /**
     * Check if loading
     * @returns {boolean}
     */
    isLoading() {
      return this._isLoading;
    }
    /**
     * Set option disabled state
     * @param {string} value - Option value
     * @param {boolean} disabled - Disabled state
     * @returns {SOAutocomplete} this
     */
    setOptionDisabled(value, disabled) {
      const option = this._allOptions.find((opt) => opt.value === value);
      if (option) {
        option.disabled = disabled;
        this._performSearch(this._input.value);
      }
      return this;
    }
    /**
     * Check if option is disabled
     * @param {string} value - Option value
     * @returns {boolean}
     */
    isOptionDisabled(value) {
      const option = this._allOptions.find((opt) => opt.value === value);
      return option ? option.disabled || false : false;
    }
    // ============================================
    // PRIVATE METHODS - Search & Filter
    // ============================================
    /**
     * Debounce search
     * @private
     */
    _debounceSearch(query) {
      if (this._debounceTimer) {
        clearTimeout(this._debounceTimer);
      }
      this._debounceTimer = setTimeout(() => {
        this._performSearch(query);
      }, this.options.debounceTime);
    }
    /**
     * Perform search/filter
     * @private
     */
    _performSearch(query) {
      const trimmedQuery = query.trim();
      if (this.options.async && trimmedQuery.length < this.options.minSearchLength) {
        this._filteredOptions = [];
        this._renderOptions();
        return;
      }
      if (this.options.async) {
        this.loadOptions(trimmedQuery);
        return;
      }
      if (!trimmedQuery) {
        this._filteredOptions = [...this._allOptions];
      } else {
        this._filteredOptions = this._allOptions.filter((option) => {
          if (this.options.filterFunction) {
            return this.options.filterFunction(option, trimmedQuery);
          }
          const text = option.text || option.value;
          const searchText = this.options.caseSensitive ? text : text.toLowerCase();
          const searchQuery = this.options.caseSensitive ? trimmedQuery : trimmedQuery.toLowerCase();
          return searchText.includes(searchQuery);
        });
      }
      if (this._filteredOptions.length > 0 && trimmedQuery) {
        if (!this._isOpen) {
          this.open();
        }
      }
      this.emit(_SOAutocomplete.EVENTS.SEARCH, { query: trimmedQuery, count: this._filteredOptions.length });
      this._renderOptions();
    }
    /**
     * Render options in dropdown
     * @private
     */
    _renderOptions() {
      this._optionsContainer.innerHTML = "";
      if (this._filteredOptions.length === 0) {
        this._noResultsEl.style.display = "block";
        return;
      }
      this._noResultsEl.style.display = "none";
      if (this.options.grouped && this.options.groupBy) {
        this._renderGroupedOptions();
      } else {
        this._renderFlatOptions();
      }
    }
    /**
     * Render flat (ungrouped) options
     * @private
     */
    _renderFlatOptions() {
      this._filteredOptions.forEach((option, index) => {
        const optionEl = this._createOptionElement(option, index);
        this._optionsContainer.appendChild(optionEl);
      });
    }
    /**
     * Render grouped options
     * @private
     */
    _renderGroupedOptions() {
      const groups = {};
      this._filteredOptions.forEach((option, index) => {
        const groupName = this.options.groupBy(option) || "Other";
        if (!groups[groupName]) {
          groups[groupName] = [];
        }
        groups[groupName].push({ option, index });
      });
      Object.entries(groups).forEach(([groupName, items]) => {
        const groupEl = document.createElement("div");
        groupEl.className = "so-autocomplete-group-header";
        groupEl.textContent = groupName;
        this._optionsContainer.appendChild(groupEl);
        items.forEach(({ option, index }) => {
          const optionEl = this._createOptionElement(option, index);
          this._optionsContainer.appendChild(optionEl);
        });
      });
    }
    /**
     * Create option element
     * @private
     */
    _createOptionElement(option, index) {
      const optionEl = document.createElement("div");
      optionEl.className = "so-autocomplete-option";
      optionEl.dataset.index = index;
      optionEl.dataset.value = option.value;
      optionEl.setAttribute("role", "option");
      if (option.disabled) {
        optionEl.classList.add("so-autocomplete-option-disabled");
        optionEl.setAttribute("aria-disabled", "true");
      }
      if (this._selectedValues.includes(option.value)) {
        optionEl.classList.add("so-selected");
        optionEl.setAttribute("aria-selected", "true");
      } else {
        optionEl.setAttribute("aria-selected", "false");
      }
      if (this.options.optionTemplate) {
        optionEl.innerHTML = this.options.optionTemplate(option);
      } else {
        const text = option.text || option.value;
        const highlightedText = this.options.highlightMatches ? this._highlightMatch(text, this._input.value) : text;
        optionEl.innerHTML = `
        <span class="so-autocomplete-option-text">${highlightedText}</span>
        <span class="so-autocomplete-option-check">
          <span class="material-icons">check</span>
        </span>
      `;
      }
      return optionEl;
    }
    /**
     * Highlight matching text
     * @private
     */
    _highlightMatch(text, query) {
      if (!query)
        return text;
      const searchText = this.options.caseSensitive ? text : text.toLowerCase();
      const searchQuery = this.options.caseSensitive ? query : query.toLowerCase();
      const index = searchText.indexOf(searchQuery);
      if (index === -1)
        return text;
      const before = text.substring(0, index);
      const match = text.substring(index, index + query.length);
      const after = text.substring(index + query.length);
      return `${before}<mark>${match}</mark>${after}`;
    }
    // ============================================
    // PRIVATE METHODS - Selection
    // ============================================
    /**
     * Select an option
     * @private
     */
    _selectOption(option, index = -1) {
      if (option.disabled)
        return;
      const isSelected = this._selectedValues.includes(option.value);
      if (this.options.multiple) {
        if (isSelected) {
          this.removeTokenByValue(option.value);
          this.emit(_SOAutocomplete.EVENTS.DESELECT, {
            value: option.value,
            text: option.text,
            item: option,
            index
          });
        } else {
          if (this.options.maxSelections && this._selectedValues.length >= this.options.maxSelections) {
            return;
          }
          this._createToken(option.value, option.text);
          this.emit(_SOAutocomplete.EVENTS.SELECT, {
            value: option.value,
            text: option.text,
            item: option,
            index
          });
        }
        this._input.value = "";
        this._input.focus();
        this._renderOptions();
      } else {
        this._selectedValues = [option.value];
        this._selectedTexts = [option.text || option.value];
        this._input.value = option.text || option.value;
        this.emit(_SOAutocomplete.EVENTS.SELECT, {
          value: option.value,
          text: option.text,
          item: option,
          index
        });
        if (this.options.closeOnSelect) {
          this.close();
        }
      }
      this._updateClearButton();
      this._emitChange();
    }
    /**
     * Select focused option
     * @private
     */
    _selectFocusedOption() {
      if (this._focusedIndex >= 0 && this._focusedIndex < this._filteredOptions.length) {
        const option = this._filteredOptions[this._focusedIndex];
        this._selectOption(option, this._focusedIndex);
      }
    }
    /**
     * Create a token (free solo or from option)
     * @private
     */
    _createToken(value, text = null) {
      if (!this.options.multiple)
        return;
      const tokenText = text || value;
      const tokenValue = value;
      if (this.options.tokenValidation && !this.options.tokenValidation(tokenValue)) {
        return;
      }
      if (!this.options.allowDuplicates && this._selectedValues.includes(tokenValue)) {
        return;
      }
      if (this.options.maxSelections && this._tokens.length >= this.options.maxSelections) {
        return;
      }
      const token = { value: tokenValue, text: tokenText };
      this._tokens.push(token);
      this._selectedValues.push(tokenValue);
      this._selectedTexts.push(tokenText);
      this._renderTokens();
      this._updatePlaceholder();
      this._updateClearButton();
      this.emit(_SOAutocomplete.EVENTS.TOKEN_ADD, { token, tokens: this._tokens });
      if (this.options.freeSolo && !this._allOptions.find((opt) => opt.value === tokenValue)) {
        this.emit(_SOAutocomplete.EVENTS.CREATE, { value: tokenValue, text: tokenText });
      }
    }
    /**
     * Render tokens
     * @private
     */
    _renderTokens() {
      if (!this.options.multiple || !this._tokensContainer)
        return;
      const tokenEls = this._tokensContainer.querySelectorAll(".so-autocomplete-token, .so-autocomplete-selected-text");
      tokenEls.forEach((el) => el.remove());
      if (this.options.displayMode === "chips" || this.options.displayMode === "chips-overflow") {
        const tokensToShow = this.options.displayMode === "chips-overflow" ? this._tokens.slice(0, this.options.maxVisibleTokens) : this._tokens;
        tokensToShow.forEach((token, index) => {
          const tokenEl = this._createTokenElement(token, index);
          this._tokensContainer.insertBefore(tokenEl, this._input);
        });
        if (this.options.displayMode === "chips-overflow" && this._tokens.length > this.options.maxVisibleTokens) {
          const overflowCount = this._tokens.length - this.options.maxVisibleTokens;
          const overflowEl = document.createElement("span");
          overflowEl.className = "so-autocomplete-token so-autocomplete-token-overflow";
          overflowEl.textContent = this.options.overflowText.replace("{count}", overflowCount);
          this._tokensContainer.insertBefore(overflowEl, this._input);
        }
      } else if (this.options.displayMode === "text") {
        const textEl = document.createElement("span");
        textEl.className = "so-autocomplete-selected-text";
        textEl.textContent = this.options.multipleSelectedText.replace("{count}", this._tokens.length);
        this._tokensContainer.insertBefore(textEl, this._input);
      }
    }
    /**
     * Get the current color variant from element classes
     * @private
     * @returns {string} The variant name (primary, success, danger, etc.)
     */
    _getColorVariant() {
      const variants = ["primary", "secondary", "success", "danger", "warning", "info", "dark", "light"];
      for (const variant of variants) {
        if (this.element.classList.contains(`so-autocomplete-${variant}`)) {
          return variant;
        }
      }
      return "primary";
    }
    /**
     * Create token element
     * @private
     */
    _createTokenElement(token, index) {
      const tokenEl = document.createElement("span");
      const variant = this._getColorVariant();
      tokenEl.className = `so-autocomplete-token so-chip so-chip-sm so-chip-soft-${variant}`;
      tokenEl.dataset.index = index;
      tokenEl.dataset.value = token.value;
      if (this.options.tokenSize) {
        tokenEl.classList.remove("so-chip-sm");
        tokenEl.classList.add(`so-chip-${this.options.tokenSize}`);
      }
      if (this.options.tokenTemplate) {
        tokenEl.innerHTML = this.options.tokenTemplate(token);
      } else {
        tokenEl.innerHTML = `
        <span class="so-autocomplete-token-text">${token.text}</span>
        <button type="button" class="so-autocomplete-token-remove so-chip-close" data-index="${index}">
          <span class="material-icons">close</span>
        </button>
      `;
        const removeBtn = tokenEl.querySelector(".so-autocomplete-token-remove");
        this.on("click", (e) => {
          e.stopPropagation();
          this.removeToken(index);
        }, removeBtn);
      }
      return tokenEl;
    }
    /**
     * Update placeholder based on tokens
     * @private
     */
    _updatePlaceholder() {
      if (!this.options.multiple)
        return;
      if (this._tokens.length > 0) {
        this._input.placeholder = "";
      } else {
        this._input.placeholder = this.options.placeholder;
      }
    }
    /**
     * Update clear button visibility
     * @private
     */
    _updateClearButton() {
      if (!this.options.clearable) {
        this._clearBtn.style.display = "none";
        return;
      }
      const hasValue = this.options.multiple ? this._tokens.length > 0 : this._input.value.length > 0 || this._selectedValues.length > 0;
      this._clearBtn.style.display = hasValue ? "flex" : "none";
    }
    /**
     * Emit change event
     * @private
     */
    _emitChange() {
      this.emit(_SOAutocomplete.EVENTS.CHANGE, {
        value: this.getValue(),
        values: this.getValues(),
        text: this.getText(),
        texts: this.getTexts()
      });
    }
    // ============================================
    // PRIVATE METHODS - Keyboard Navigation
    // ============================================
    /**
     * Focus next option
     * @private
     */
    _focusNextOption() {
      if (this._filteredOptions.length === 0)
        return;
      this._focusedIndex++;
      if (this._focusedIndex >= this._filteredOptions.length) {
        this._focusedIndex = 0;
      }
      this._updateFocusedOption();
    }
    /**
     * Focus previous option
     * @private
     */
    _focusPreviousOption() {
      if (this._filteredOptions.length === 0)
        return;
      this._focusedIndex--;
      if (this._focusedIndex < 0) {
        this._focusedIndex = this._filteredOptions.length - 1;
      }
      this._updateFocusedOption();
    }
    /**
     * Focus option at index
     * @private
     */
    _focusOptionAt(index) {
      if (index < 0 || index >= this._filteredOptions.length)
        return;
      this._focusedIndex = index;
      this._updateFocusedOption();
    }
    /**
     * Update focused option visual state
     * @private
     */
    _updateFocusedOption() {
      const prevFocused = this._optionsContainer.querySelector(".so-autocomplete-option-focused");
      if (prevFocused) {
        prevFocused.classList.remove("so-autocomplete-option-focused");
      }
      if (this._focusedIndex >= 0) {
        const optionEl = this._optionsContainer.querySelector(`[data-index="${this._focusedIndex}"]`);
        if (optionEl) {
          optionEl.classList.add("so-autocomplete-option-focused");
          optionEl.scrollIntoView({ block: "nearest", behavior: "smooth" });
        }
      }
    }
    // ============================================
    // DESTROY
    // ============================================
    /**
     * Destroy the component
     */
    destroy() {
      this.close();
      if (this._debounceTimer) {
        clearTimeout(this._debounceTimer);
      }
      if (this._abortController) {
        this._abortController.abort();
      }
      super.destroy();
    }
  };
  __publicField(_SOAutocomplete, "NAME", "autocomplete");
  __publicField(_SOAutocomplete, "DEFAULTS", {
    // Basic options
    placeholder: "Type to search...",
    noResultsText: "No results found",
    loadingText: "Loading...",
    clearable: true,
    disabled: false,
    autoFocus: false,
    // Mode options
    multiple: false,
    // Enable multiple selection with tokens
    freeSolo: false,
    // Allow custom values not in predefined options
    // Data source options
    options: [],
    // Static options array: [{ value, text, disabled, group }, ...]
    async: false,
    // Enable async data loading
    asyncUrl: null,
    // Remote API endpoint
    asyncMethod: "GET",
    // HTTP method
    asyncParam: "q",
    // Query parameter name
    minSearchLength: 0,
    // Minimum characters before search
    debounceTime: 300,
    // Debounce delay in milliseconds
    loadOnOpen: false,
    // Load data when dropdown opens
    // Filtering options
    filterFunction: null,
    // Custom filter function
    caseSensitive: false,
    // Case-sensitive filtering
    highlightMatches: true,
    // Highlight typed text in results
    // Display options (multiple mode)
    displayMode: "chips",
    // 'chips', 'text', 'chips-overflow'
    maxVisibleTokens: 3,
    // Max visible tokens before "+N more"
    tokenSize: null,
    // 'sm', 'lg', or null
    overflowText: "+{count} more",
    multipleSelectedText: "{count} selected",
    // Selection options
    minSelections: null,
    // Minimum selections (multiple mode)
    maxSelections: null,
    // Maximum selections (multiple mode)
    closeOnSelect: true,
    // Close dropdown after selection (single mode)
    allowDuplicates: false,
    // Allow duplicate tokens (free solo)
    // Token options (free solo + multiple)
    tokenDelimiters: [",", ";"],
    // Characters that create tokens
    tokenValidation: null,
    // Function to validate tokens: (value) => boolean
    // Grouping options
    grouped: false,
    // Enable option grouping
    groupBy: null,
    // Function to group options: (option) => groupName
    // Visual options
    size: null,
    // 'sm', 'lg', or null for default
    variant: null,
    // 'primary', 'secondary', 'success', 'danger', 'warning', 'info'
    maxDropdownHeight: 280,
    // Max dropdown height in pixels
    // Template options
    optionTemplate: null,
    // Custom option render function: (option) => HTML string
    tokenTemplate: null,
    // Custom token render function: (token) => HTML string
    noDataTemplate: null,
    // Custom no data template: () => HTML string
    // Behavior options
    openOnFocus: false,
    // Open dropdown on input focus
    selectOnTab: false,
    // Select focused option on Tab key
    clearOnEscape: false,
    // Clear input on Escape key
    createOnBlur: false
    // Create token on blur (free solo)
  });
  __publicField(_SOAutocomplete, "EVENTS", {
    // Dropdown events
    OPEN: "autocomplete:open",
    OPENED: "autocomplete:opened",
    CLOSE: "autocomplete:close",
    CLOSED: "autocomplete:closed",
    // Selection events
    SELECT: "autocomplete:select",
    DESELECT: "autocomplete:deselect",
    CHANGE: "autocomplete:change",
    // Token events (multiple mode)
    TOKEN_ADD: "autocomplete:token-add",
    TOKEN_REMOVE: "autocomplete:token-remove",
    // Data events
    SEARCH: "autocomplete:search",
    INPUT: "autocomplete:input",
    CLEAR: "autocomplete:clear",
    CREATE: "autocomplete:create",
    // Async events
    LOAD_START: "autocomplete:load-start",
    LOAD_END: "autocomplete:load-end",
    LOAD_ERROR: "autocomplete:load-error"
  });
  var SOAutocomplete = _SOAutocomplete;
  SOAutocomplete.initAll = function(selector = "[data-so-autocomplete]", options = {}) {
    const elements = document.querySelectorAll(selector);
    return Array.from(elements).map((el) => SOAutocomplete.getInstance(el, options));
  };
  SOAutocomplete.register();
  var so_autocomplete_default = SOAutocomplete;

  // src/js/components/so-table.js
  var _SOTable = class _SOTable extends so_component_default {
    // ============================================
    // INITIALIZATION
    // ============================================
    /**
     * Initialize the table component
     * @private
     */
    _init() {
      this._cacheElements();
      this._initState();
      this._setupFeatures();
      this._bindEvents();
    }
    /**
     * Cache DOM elements
     * @private
     */
    _cacheElements() {
      this._thead = this.$("thead");
      this._tbody = this.$("tbody");
      this._headers = this._thead ? Array.from(this._thead.querySelectorAll("th")) : [];
      this._rows = this._tbody ? Array.from(this._tbody.querySelectorAll("tr:not(.so-table-expand-row)")) : [];
      this._headerCheckbox = this.$('.so-table-check-all input[type="checkbox"]');
    }
    /**
     * Initialize state
     * @private
     */
    _initState() {
      this._sortColumn = null;
      this._sortDirection = "asc";
      this._selectedRows = /* @__PURE__ */ new Set();
      this._expandedRows = /* @__PURE__ */ new Set();
      this._originalData = [];
      this._rows.forEach((row, index) => {
        row.dataset.rowIndex = index;
        this._originalData.push({
          element: row,
          cells: Array.from(row.querySelectorAll("td")).map((td) => td.textContent.trim())
        });
      });
    }
    /**
     * Set up features based on options
     * @private
     */
    _setupFeatures() {
      if (this.options.sortable) {
        this.addClass("so-table-sortable");
        this._setupSortableHeaders();
      }
      if (this.options.selectable) {
        this.addClass("so-table-selectable");
        this._setupSelectable();
      }
      if (this.options.expandable) {
        this.addClass("so-table-expandable");
        this._setupExpandable();
      }
      if (this.options.sortColumn !== null) {
        this._applySorting(this.options.sortColumn, this.options.sortDirection);
      }
    }
    /**
     * Set up sortable headers
     * @private
     */
    _setupSortableHeaders() {
      this._headers.forEach((header, index) => {
        const sortKey = header.dataset.sort;
        if (sortKey !== void 0) {
          if (!header.querySelector(".so-table-sort")) {
            const content = header.innerHTML;
            header.innerHTML = `
            <span class="so-table-sort">
              <span class="so-table-sort-text">${content}</span>
              <span class="so-table-sort-icon">
                <span class="material-icons">${this.options.sortIcons.none}</span>
              </span>
            </span>
          `;
          }
          header.setAttribute("aria-sort", "none");
        }
      });
    }
    /**
     * Set up selectable rows
     * @private
     */
    _setupSelectable() {
      this._rows.forEach((row, index) => {
        if (!row.querySelector(".so-table-check")) {
          const firstCell = row.querySelector("td");
          if (firstCell && firstCell.classList.contains("so-table-check")) {
            return;
          }
        }
      });
    }
    /**
     * Set up expandable rows
     * @private
     */
    _setupExpandable() {
      this._rows.forEach((row, index) => {
        const expandBtn = row.querySelector(".so-table-expand-btn");
        if (expandBtn && !expandBtn.dataset.initialized) {
          expandBtn.dataset.initialized = "true";
          const icon = expandBtn.querySelector(".material-icons");
          if (icon) {
            icon.textContent = this.options.expandIcon;
          }
        }
      });
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      if (this.options.sortable) {
        this.delegate("click", "th[data-sort]", this._handleHeaderClick);
      }
      if (this.options.selectable) {
        this.delegate("change", '.so-table-check input[type="checkbox"]', this._handleCheckboxChange);
        if (this._headerCheckbox) {
          this.on("change", this._handleSelectAllChange, this._headerCheckbox);
        }
        if (this.options.selectOnClick) {
          this.delegate("click", "tbody tr:not(.so-table-expand-row)", this._handleRowClick);
        }
      }
      if (this.options.expandable) {
        this.delegate("click", ".so-table-expand-btn", this._handleExpandClick);
      }
    }
    // ============================================
    // EVENT HANDLERS
    // ============================================
    /**
     * Handle header click for sorting
     * @param {Event} e - Click event
     * @param {Element} header - Header element
     * @private
     */
    _handleHeaderClick(e, header) {
      const sortKey = header.dataset.sort;
      const columnIndex = this._headers.indexOf(header);
      if (sortKey === void 0)
        return;
      let direction = "asc";
      if (this._sortColumn === columnIndex) {
        direction = this._sortDirection === "asc" ? "desc" : "asc";
      }
      this._applySorting(columnIndex, direction);
    }
    /**
     * Handle checkbox change
     * @param {Event} e - Change event
     * @param {Element} checkbox - Checkbox element
     * @private
     */
    _handleCheckboxChange(e, checkbox) {
      e.stopPropagation();
      const row = checkbox.closest("tr");
      if (!row || row.closest("thead"))
        return;
      const rowIndex = parseInt(row.dataset.rowIndex, 10);
      if (checkbox.checked) {
        this.selectRow(rowIndex);
      } else {
        this.deselectRow(rowIndex);
      }
    }
    /**
     * Handle select all checkbox
     * @param {Event} e - Change event
     * @private
     */
    _handleSelectAllChange(e) {
      if (e.target.checked) {
        this.selectAll();
      } else {
        this.deselectAll();
      }
    }
    /**
     * Handle row click for selection
     * @param {Event} e - Click event
     * @param {Element} row - Row element
     * @private
     */
    _handleRowClick(e, row) {
      if (e.target.closest("input, button, a, .so-table-expand-btn, .so-table-check, .so-checkbox"))
        return;
      const rowIndex = parseInt(row.dataset.rowIndex, 10);
      if (this.options.multiSelect) {
        this.toggleRow(rowIndex);
      } else {
        this.deselectAll();
        this.selectRow(rowIndex);
      }
    }
    /**
     * Handle expand button click
     * @param {Event} e - Click event
     * @param {Element} btn - Expand button element
     * @private
     */
    _handleExpandClick(e, btn) {
      e.stopPropagation();
      const row = btn.closest("tr");
      if (!row)
        return;
      const rowIndex = parseInt(row.dataset.rowIndex, 10);
      this.toggleExpand(rowIndex);
    }
    // ============================================
    // SORTING METHODS
    // ============================================
    /**
     * Apply sorting to the table
     * @param {number|string} column - Column index or data-sort value
     * @param {string} direction - Sort direction ('asc' or 'desc')
     * @private
     */
    _applySorting(column, direction) {
      var _a, _b;
      let columnIndex = column;
      if (typeof column === "string") {
        columnIndex = this._headers.findIndex((h) => h.dataset.sort === column);
      }
      if (columnIndex < 0 || columnIndex >= this._headers.length)
        return;
      const prevColumn = this._sortColumn;
      this._sortColumn = columnIndex;
      this._sortDirection = direction;
      this._headers.forEach((header, index) => {
        const sortKey = header.dataset.sort;
        if (sortKey === void 0)
          return;
        const icon = header.querySelector(".so-table-sort-icon .material-icons");
        if (!icon)
          return;
        if (index === columnIndex) {
          header.setAttribute("aria-sort", direction === "asc" ? "ascending" : "descending");
          icon.textContent = this.options.sortIcons[direction];
        } else {
          header.setAttribute("aria-sort", "none");
          icon.textContent = this.options.sortIcons.none;
        }
      });
      const sortedData = [...this._originalData].sort((a, b) => {
        const aVal = a.cells[columnIndex] || "";
        const bVal = b.cells[columnIndex] || "";
        const aNum = parseFloat(aVal.replace(/[^0-9.-]/g, ""));
        const bNum = parseFloat(bVal.replace(/[^0-9.-]/g, ""));
        if (!isNaN(aNum) && !isNaN(bNum)) {
          return direction === "asc" ? aNum - bNum : bNum - aNum;
        }
        const comparison = aVal.localeCompare(bVal, void 0, { numeric: true, sensitivity: "base" });
        return direction === "asc" ? comparison : -comparison;
      });
      sortedData.forEach((item) => {
        this._tbody.appendChild(item.element);
      });
      this.emit(_SOTable.EVENTS.SORT, {
        column: columnIndex,
        columnKey: (_a = this._headers[columnIndex]) == null ? void 0 : _a.dataset.sort,
        direction
      });
      if (typeof this.options.onSort === "function") {
        this.options.onSort({
          column: columnIndex,
          columnKey: (_b = this._headers[columnIndex]) == null ? void 0 : _b.dataset.sort,
          direction
        });
      }
    }
    /**
     * Sort by column
     * @param {number|string} column - Column index or data-sort value
     * @param {string} [direction='asc'] - Sort direction
     */
    sort(column, direction = "asc") {
      this._applySorting(column, direction);
    }
    /**
     * Clear sorting and restore original order
     */
    clearSort() {
      this._sortColumn = null;
      this._sortDirection = "asc";
      this._headers.forEach((header) => {
        const sortKey = header.dataset.sort;
        if (sortKey === void 0)
          return;
        header.setAttribute("aria-sort", "none");
        const icon = header.querySelector(".so-table-sort-icon .material-icons");
        if (icon) {
          icon.textContent = this.options.sortIcons.none;
        }
      });
      this._originalData.forEach((item) => {
        this._tbody.appendChild(item.element);
      });
    }
    // ============================================
    // SELECTION METHODS
    // ============================================
    /**
     * Select a row by index
     * @param {number} index - Row index
     */
    selectRow(index) {
      const row = this._rows[index];
      if (!row)
        return;
      this._selectedRows.add(index);
      row.classList.add("so-selected");
      const checkbox = row.querySelector('.so-table-check input[type="checkbox"]');
      if (checkbox) {
        checkbox.checked = true;
      }
      this._updateHeaderCheckbox();
      this.emit(_SOTable.EVENTS.SELECT, {
        rowIndex: index,
        row,
        selected: true,
        selectedRows: this.getSelectedRows()
      });
      if (typeof this.options.onSelect === "function") {
        this.options.onSelect({
          rowIndex: index,
          row,
          selected: true,
          selectedRows: this.getSelectedRows()
        });
      }
    }
    /**
     * Deselect a row by index
     * @param {number} index - Row index
     */
    deselectRow(index) {
      const row = this._rows[index];
      if (!row)
        return;
      this._selectedRows.delete(index);
      row.classList.remove("so-selected");
      const checkbox = row.querySelector('.so-table-check input[type="checkbox"]');
      if (checkbox) {
        checkbox.checked = false;
      }
      this._updateHeaderCheckbox();
      this.emit(_SOTable.EVENTS.SELECT, {
        rowIndex: index,
        row,
        selected: false,
        selectedRows: this.getSelectedRows()
      });
      if (typeof this.options.onSelect === "function") {
        this.options.onSelect({
          rowIndex: index,
          row,
          selected: false,
          selectedRows: this.getSelectedRows()
        });
      }
    }
    /**
     * Toggle row selection
     * @param {number} index - Row index
     */
    toggleRow(index) {
      if (this._selectedRows.has(index)) {
        this.deselectRow(index);
      } else {
        this.selectRow(index);
      }
    }
    /**
     * Select all rows
     */
    selectAll() {
      this._rows.forEach((row, index) => {
        this._selectedRows.add(index);
        row.classList.add("so-selected");
        const checkbox = row.querySelector('.so-table-check input[type="checkbox"]');
        if (checkbox) {
          checkbox.checked = true;
        }
      });
      this._updateHeaderCheckbox();
      this.emit(_SOTable.EVENTS.SELECT_ALL, {
        selectedRows: this.getSelectedRows()
      });
    }
    /**
     * Deselect all rows
     */
    deselectAll() {
      this._rows.forEach((row, index) => {
        row.classList.remove("so-selected");
        const checkbox = row.querySelector('.so-table-check input[type="checkbox"]');
        if (checkbox) {
          checkbox.checked = false;
        }
      });
      this._selectedRows.clear();
      this._updateHeaderCheckbox();
      this.emit(_SOTable.EVENTS.DESELECT_ALL, {
        selectedRows: []
      });
    }
    /**
     * Get selected rows
     * @returns {Array} Array of selected row data
     */
    getSelectedRows() {
      return Array.from(this._selectedRows).map((index) => ({
        index,
        element: this._rows[index],
        data: this._getRowData(this._rows[index])
      }));
    }
    /**
     * Get row data from cells
     * @param {Element} row - Row element
     * @returns {Object} Row data
     * @private
     */
    _getRowData(row) {
      const data = {};
      const cells = row.querySelectorAll("td");
      this._headers.forEach((header, index) => {
        const key = header.dataset.sort || header.dataset.key || `col${index}`;
        const cell = cells[index];
        if (cell) {
          data[key] = cell.textContent.trim();
        }
      });
      return data;
    }
    /**
     * Update header checkbox state
     * @private
     */
    _updateHeaderCheckbox() {
      if (!this._headerCheckbox)
        return;
      const total = this._rows.length;
      const selected = this._selectedRows.size;
      if (selected === 0) {
        this._headerCheckbox.checked = false;
        this._headerCheckbox.indeterminate = false;
      } else if (selected === total) {
        this._headerCheckbox.checked = true;
        this._headerCheckbox.indeterminate = false;
      } else {
        this._headerCheckbox.checked = false;
        this._headerCheckbox.indeterminate = true;
      }
    }
    // ============================================
    // EXPANSION METHODS
    // ============================================
    /**
     * Expand a row
     * @param {number} index - Row index
     */
    expandRow(index) {
      const row = this._rows[index];
      if (!row)
        return;
      const expandBtn = row.querySelector(".so-table-expand-btn");
      const expandRow = row.nextElementSibling;
      if (!expandRow || !expandRow.classList.contains("so-table-expand-row"))
        return;
      this._expandedRows.add(index);
      if (expandBtn) {
        expandBtn.classList.add("so-expanded");
      }
      expandRow.removeAttribute("hidden");
      this.emit(_SOTable.EVENTS.EXPAND, {
        rowIndex: index,
        row,
        expandRow
      });
      if (typeof this.options.onExpand === "function") {
        this.options.onExpand({
          rowIndex: index,
          row,
          expandRow,
          expanded: true
        });
      }
    }
    /**
     * Collapse a row
     * @param {number} index - Row index
     */
    collapseRow(index) {
      const row = this._rows[index];
      if (!row)
        return;
      const expandBtn = row.querySelector(".so-table-expand-btn");
      const expandRow = row.nextElementSibling;
      if (!expandRow || !expandRow.classList.contains("so-table-expand-row"))
        return;
      this._expandedRows.delete(index);
      if (expandBtn) {
        expandBtn.classList.remove("so-expanded");
      }
      expandRow.setAttribute("hidden", "");
      this.emit(_SOTable.EVENTS.COLLAPSE, {
        rowIndex: index,
        row,
        expandRow
      });
      if (typeof this.options.onExpand === "function") {
        this.options.onExpand({
          rowIndex: index,
          row,
          expandRow,
          expanded: false
        });
      }
    }
    /**
     * Toggle row expansion
     * @param {number} index - Row index
     */
    toggleExpand(index) {
      if (this._expandedRows.has(index)) {
        this.collapseRow(index);
      } else {
        this.expandRow(index);
      }
    }
    /**
     * Expand all rows
     */
    expandAll() {
      this._rows.forEach((row, index) => {
        this.expandRow(index);
      });
    }
    /**
     * Collapse all rows
     */
    collapseAll() {
      this._rows.forEach((row, index) => {
        this.collapseRow(index);
      });
    }
    // ============================================
    // UTILITY METHODS
    // ============================================
    /**
     * Refresh table (re-cache elements and state)
     */
    refresh() {
      this._cacheElements();
      this._initState();
      if (this._sortColumn !== null) {
        this._applySorting(this._sortColumn, this._sortDirection);
      }
    }
    /**
     * Get table data as array
     * @returns {Array} Array of row data objects
     */
    getData() {
      return this._rows.map((row) => this._getRowData(row));
    }
    /**
     * Get current sort state
     * @returns {Object} Sort state
     */
    getSortState() {
      var _a;
      return {
        column: this._sortColumn,
        columnKey: this._sortColumn !== null ? (_a = this._headers[this._sortColumn]) == null ? void 0 : _a.dataset.sort : null,
        direction: this._sortDirection
      };
    }
    /**
     * Get selection count
     * @returns {number} Number of selected rows
     */
    getSelectionCount() {
      return this._selectedRows.size;
    }
    /**
     * Check if a row is selected
     * @param {number} index - Row index
     * @returns {boolean} Whether the row is selected
     */
    isSelected(index) {
      return this._selectedRows.has(index);
    }
    /**
     * Check if a row is expanded
     * @param {number} index - Row index
     * @returns {boolean} Whether the row is expanded
     */
    isExpanded(index) {
      return this._expandedRows.has(index);
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Get or create instance
     * @param {Element|string} element - Element or selector
     * @param {Object} [options] - Options
     * @returns {SOTable} Instance
     */
    static getInstance(element, options = {}) {
      const el = typeof element === "string" ? document.querySelector(element) : element;
      return so_config_default.getInstance(el, this.NAME, options);
    }
    /**
     * Initialize all tables on page
     * @param {string} [selector] - Custom selector
     * @param {Object} [options] - Default options
     * @returns {Array<SOTable>} Array of instances
     */
    static initAll(selector, options = {}) {
      const sel = selector || so_config_default.dataSel(this.NAME);
      const elements = document.querySelectorAll(sel);
      return Array.from(elements).map((el) => this.getInstance(el, options));
    }
  };
  __publicField(_SOTable, "NAME", "table");
  __publicField(_SOTable, "DEFAULTS", {
    sortable: false,
    // Enable column sorting
    selectable: false,
    // Enable row selection
    expandable: false,
    // Enable row expansion
    multiSelect: true,
    // Allow multiple row selection
    selectOnClick: true,
    // Select row when clicking anywhere on it
    sortColumn: null,
    // Initial sort column (index or data-sort value)
    sortDirection: "asc",
    // Initial sort direction ('asc' or 'desc')
    sortIcons: {
      asc: "arrow_upward",
      desc: "arrow_downward",
      none: "unfold_more"
    },
    expandIcon: "expand_more",
    onSort: null,
    // Callback when sorting changes
    onSelect: null,
    // Callback when selection changes
    onExpand: null
    // Callback when row expands/collapses
  });
  __publicField(_SOTable, "EVENTS", {
    SORT: "table:sort",
    SELECT: "table:select",
    SELECT_ALL: "table:selectall",
    DESELECT_ALL: "table:deselectall",
    EXPAND: "table:expand",
    COLLAPSE: "table:collapse"
  });
  var SOTable = _SOTable;
  SOTable.register = function() {
    so_config_default.registerComponent(this.NAME, this);
  };
  SOTable.register();
  window.SOTable = SOTable;
  var so_table_default = SOTable;

  // src/js/components/so-pagination.js
  var _SOPagination = class _SOPagination extends so_component_default {
    // ============================================
    // INITIALIZATION
    // ============================================
    /**
     * Initialize the pagination component
     * @private
     */
    _init() {
      this._cacheElements();
      this._parseExistingStructure();
      this._bindEvents();
      this._render();
    }
    /**
     * Cache DOM elements
     * @private
     */
    _cacheElements() {
      this._nav = this.$(".so-pagination-nav");
      this._pageInfo = this.$(".so-pagination-info");
      this._perPageSelect = this.$(".so-pagination-select");
      this._jumpInput = this.$(".so-pagination-jump-input");
      this._jumpBtn = this.$(".so-pagination-jump-btn");
    }
    /**
     * Parse existing structure to get current state
     * @private
     */
    _parseExistingStructure() {
      const activeItem = this.$(".so-page-item.so-active .so-page-link");
      if (activeItem) {
        const page = parseInt(activeItem.textContent, 10);
        if (!isNaN(page)) {
          this.options.currentPage = page;
        }
      }
      if (this.element.dataset.totalItems) {
        this.options.totalItems = parseInt(this.element.dataset.totalItems, 10);
      }
      if (this.element.dataset.itemsPerPage) {
        this.options.itemsPerPage = parseInt(this.element.dataset.itemsPerPage, 10);
      }
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this.delegate("click", ".so-page-link", this._handlePageClick);
      if (this._perPageSelect) {
        this.on("change", this._handlePerPageChange, this._perPageSelect);
      }
      if (this._jumpInput) {
        this.on("keydown", this._handleJumpKeydown, this._jumpInput);
      }
      if (this._jumpBtn) {
        this.on("click", this._handleJumpClick, this._jumpBtn);
      }
      this.on("keydown", this._handleKeydown);
    }
    // ============================================
    // EVENT HANDLERS
    // ============================================
    /**
     * Handle page link click
     * @param {Event} e - Click event
     * @param {Element} link - Page link element
     * @private
     */
    _handlePageClick(e, link) {
      e.preventDefault();
      const item = link.closest(".so-page-item");
      if (item && item.classList.contains("so-disabled"))
        return;
      const action = link.dataset.page;
      switch (action) {
        case "first":
          this.firstPage();
          break;
        case "prev":
          this.prevPage();
          break;
        case "next":
          this.nextPage();
          break;
        case "last":
          this.lastPage();
          break;
        default:
          const page = parseInt(action, 10);
          if (!isNaN(page)) {
            this.goToPage(page);
          }
      }
    }
    /**
     * Handle per page select change
     * @param {Event} e - Change event
     * @private
     */
    _handlePerPageChange(e) {
      const perPage = parseInt(e.target.value, 10);
      if (!isNaN(perPage)) {
        this.setItemsPerPage(perPage);
      }
    }
    /**
     * Handle jump input keydown
     * @param {Event} e - Keydown event
     * @private
     */
    _handleJumpKeydown(e) {
      if (e.key === "Enter") {
        e.preventDefault();
        this._executeJump();
      }
    }
    /**
     * Handle jump button click
     * @param {Event} e - Click event
     * @private
     */
    _handleJumpClick(e) {
      this._executeJump();
    }
    /**
     * Execute jump to page
     * @private
     */
    _executeJump() {
      if (!this._jumpInput)
        return;
      const page = parseInt(this._jumpInput.value, 10);
      if (!isNaN(page) && page >= 1 && page <= this.getTotalPages()) {
        this.goToPage(page);
        this._jumpInput.value = "";
      }
    }
    /**
     * Handle keyboard navigation
     * @param {Event} e - Keydown event
     * @private
     */
    _handleKeydown(e) {
      if (!this._nav || !this._nav.contains(document.activeElement))
        return;
      switch (e.key) {
        case "ArrowLeft":
          e.preventDefault();
          this._focusPrevPage();
          break;
        case "ArrowRight":
          e.preventDefault();
          this._focusNextPage();
          break;
        case "Home":
          e.preventDefault();
          this._focusFirstPage();
          break;
        case "End":
          e.preventDefault();
          this._focusLastPage();
          break;
      }
    }
    /**
     * Focus previous page button
     * @private
     */
    _focusPrevPage() {
      const items = this._nav.querySelectorAll(".so-page-item:not(.so-disabled) .so-page-link");
      const current = Array.from(items).indexOf(document.activeElement);
      if (current > 0) {
        items[current - 1].focus();
      }
    }
    /**
     * Focus next page button
     * @private
     */
    _focusNextPage() {
      const items = this._nav.querySelectorAll(".so-page-item:not(.so-disabled) .so-page-link");
      const current = Array.from(items).indexOf(document.activeElement);
      if (current < items.length - 1) {
        items[current + 1].focus();
      }
    }
    /**
     * Focus first page button
     * @private
     */
    _focusFirstPage() {
      const first = this._nav.querySelector(".so-page-item:not(.so-disabled) .so-page-link");
      if (first)
        first.focus();
    }
    /**
     * Focus last page button
     * @private
     */
    _focusLastPage() {
      const items = this._nav.querySelectorAll(".so-page-item:not(.so-disabled) .so-page-link");
      if (items.length)
        items[items.length - 1].focus();
    }
    // ============================================
    // NAVIGATION METHODS
    // ============================================
    /**
     * Go to a specific page
     * @param {number} page - Page number
     */
    goToPage(page) {
      const totalPages = this.getTotalPages();
      const newPage = Math.max(1, Math.min(page, totalPages));
      if (newPage === this.options.currentPage)
        return;
      const prevPage = this.options.currentPage;
      this.options.currentPage = newPage;
      this._render();
      this._emitChange(prevPage);
    }
    /**
     * Go to next page
     */
    nextPage() {
      this.goToPage(this.options.currentPage + 1);
    }
    /**
     * Go to previous page
     */
    prevPage() {
      this.goToPage(this.options.currentPage - 1);
    }
    /**
     * Go to first page
     */
    firstPage() {
      this.goToPage(1);
    }
    /**
     * Go to last page
     */
    lastPage() {
      this.goToPage(this.getTotalPages());
    }
    /**
     * Emit page change event
     * @param {number} prevPage - Previous page number
     * @private
     */
    _emitChange(prevPage) {
      const detail = __spreadValues({
        page: this.options.currentPage,
        previousPage: prevPage,
        totalPages: this.getTotalPages(),
        itemsPerPage: this.options.itemsPerPage
      }, this.getPageRange());
      this.emit(_SOPagination.EVENTS.PAGE_CHANGE, detail);
      if (typeof this.options.onChange === "function") {
        this.options.onChange(detail);
      }
    }
    // ============================================
    // ITEMS PER PAGE
    // ============================================
    /**
     * Set items per page
     * @param {number} count - Items per page
     */
    setItemsPerPage(count) {
      if (count === this.options.itemsPerPage)
        return;
      const prevPerPage = this.options.itemsPerPage;
      this.options.itemsPerPage = count;
      const totalPages = this.getTotalPages();
      if (this.options.currentPage > totalPages) {
        this.options.currentPage = Math.max(1, totalPages);
      }
      if (this._perPageSelect) {
        this._perPageSelect.value = count;
      }
      this._render();
      const detail = {
        itemsPerPage: count,
        previousItemsPerPage: prevPerPage,
        currentPage: this.options.currentPage,
        totalPages: this.getTotalPages()
      };
      this.emit(_SOPagination.EVENTS.PER_PAGE_CHANGE, detail);
      if (typeof this.options.onPerPageChange === "function") {
        this.options.onPerPageChange(detail);
      }
    }
    /**
     * Set total items
     * @param {number} total - Total items
     */
    setTotalItems(total) {
      this.options.totalItems = total;
      const totalPages = this.getTotalPages();
      if (this.options.currentPage > totalPages) {
        this.options.currentPage = Math.max(1, totalPages);
      }
      this._render();
    }
    // ============================================
    // GETTERS
    // ============================================
    /**
     * Get current page number
     * @returns {number} Current page
     */
    getCurrentPage() {
      return this.options.currentPage;
    }
    /**
     * Get total number of pages
     * @returns {number} Total pages
     */
    getTotalPages() {
      if (this.options.totalItems === 0)
        return 1;
      return Math.ceil(this.options.totalItems / this.options.itemsPerPage);
    }
    /**
     * Get page range (start and end item numbers)
     * @returns {Object} {start, end, total}
     */
    getPageRange() {
      const start = (this.options.currentPage - 1) * this.options.itemsPerPage + 1;
      const end = Math.min(
        this.options.currentPage * this.options.itemsPerPage,
        this.options.totalItems
      );
      return {
        start: this.options.totalItems > 0 ? start : 0,
        end,
        total: this.options.totalItems
      };
    }
    // ============================================
    // RENDERING
    // ============================================
    /**
     * Render pagination
     * @private
     */
    _render() {
      this._renderNav();
      this._renderPageInfo();
      this._updatePerPageSelect();
    }
    /**
     * Render navigation
     * @private
     */
    _renderNav() {
      if (!this._nav)
        return;
      const totalPages = this.getTotalPages();
      const currentPage = this.options.currentPage;
      const html = [];
      if (this.options.showFirstLast) {
        html.push(this._renderPageItem("first", this.options.firstIcon, currentPage === 1));
      }
      if (this.options.showPrevNext) {
        html.push(this._renderPageItem("prev", this.options.prevIcon, currentPage === 1));
      }
      if (this.options.showPageNumbers) {
        const pages = this._getVisiblePages();
        let prevPage = 0;
        pages.forEach((page) => {
          if (page - prevPage > 1) {
            html.push('<li class="so-page-ellipsis">...</li>');
          }
          html.push(this._renderPageItem(page, page.toString(), false, page === currentPage));
          prevPage = page;
        });
      }
      if (this.options.showPrevNext) {
        html.push(this._renderPageItem("next", this.options.nextIcon, currentPage === totalPages));
      }
      if (this.options.showFirstLast) {
        html.push(this._renderPageItem("last", this.options.lastIcon, currentPage === totalPages));
      }
      this._nav.innerHTML = html.join("");
    }
    /**
     * Render a page item
     * @param {string|number} page - Page identifier
     * @param {string} content - Button content
     * @param {boolean} disabled - Whether disabled
     * @param {boolean} active - Whether active
     * @returns {string} HTML string
     * @private
     */
    _renderPageItem(page, content, disabled = false, active = false) {
      const disabledClass = disabled ? " so-disabled" : "";
      const activeClass = active ? " so-active" : "";
      const isIcon = ["first", "prev", "next", "last"].includes(page);
      const ariaCurrent = active ? ' aria-current="page"' : "";
      const ariaDisabled = disabled ? ' aria-disabled="true"' : "";
      const tabindex = disabled ? ' tabindex="-1"' : "";
      const contentHtml = isIcon ? `<span class="material-icons">${content}</span>` : content;
      return `
      <li class="so-page-item${disabledClass}${activeClass}">
        <a href="#" class="so-page-link" data-page="${page}"${ariaCurrent}${ariaDisabled}${tabindex}>
          ${contentHtml}
        </a>
      </li>
    `;
    }
    /**
     * Get array of visible page numbers
     * @returns {Array<number>} Page numbers
     * @private
     */
    _getVisiblePages() {
      const totalPages = this.getTotalPages();
      const currentPage = this.options.currentPage;
      const maxVisible = this.options.maxVisiblePages;
      if (totalPages <= maxVisible) {
        return Array.from({ length: totalPages }, (_, i) => i + 1);
      }
      const pages = [];
      const halfVisible = Math.floor(maxVisible / 2);
      pages.push(1);
      let start = Math.max(2, currentPage - halfVisible);
      let end = Math.min(totalPages - 1, currentPage + halfVisible);
      if (currentPage <= halfVisible + 1) {
        end = Math.min(totalPages - 1, maxVisible - 1);
      }
      if (currentPage >= totalPages - halfVisible) {
        start = Math.max(2, totalPages - maxVisible + 2);
      }
      for (let i = start; i <= end; i++) {
        pages.push(i);
      }
      if (totalPages > 1) {
        pages.push(totalPages);
      }
      return pages;
    }
    /**
     * Render page info
     * @private
     */
    _renderPageInfo() {
      if (!this._pageInfo)
        return;
      const { start, end, total } = this.getPageRange();
      const text = this.options.pageInfoTemplate.replace("{start}", start).replace("{end}", end).replace("{total}", total);
      this._pageInfo.innerHTML = text;
    }
    /**
     * Update per page select value
     * @private
     */
    _updatePerPageSelect() {
      if (!this._perPageSelect)
        return;
      this._perPageSelect.value = this.options.itemsPerPage;
    }
    /**
     * Refresh pagination
     */
    refresh() {
      this._render();
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Get or create instance
     * @param {Element|string} element - Element or selector
     * @param {Object} [options] - Options
     * @returns {SOPagination} Instance
     */
    static getInstance(element, options = {}) {
      const el = typeof element === "string" ? document.querySelector(element) : element;
      return so_config_default.getInstance(el, this.NAME, options);
    }
    /**
     * Initialize all pagination components on page
     * @param {string} [selector] - Custom selector
     * @param {Object} [options] - Default options
     * @returns {Array<SOPagination>} Array of instances
     */
    static initAll(selector, options = {}) {
      const sel = selector || so_config_default.dataSel(this.NAME);
      const elements = document.querySelectorAll(sel);
      return Array.from(elements).map((el) => this.getInstance(el, options));
    }
    /**
     * Create pagination programmatically
     * @param {Object} options - Options
     * @returns {SOPagination} Instance
     */
    static create(options = {}) {
      const container = document.createElement("nav");
      container.className = "so-pagination";
      container.setAttribute("aria-label", options.ariaLabel || _SOPagination.DEFAULTS.ariaLabel);
      let html = "";
      if (options.showPageInfo) {
        html += '<span class="so-pagination-info"></span>';
      }
      if (options.showPerPageSelect) {
        const perPageOptions = (options.itemsPerPageOptions || _SOPagination.DEFAULTS.itemsPerPageOptions).map((n) => `<option value="${n}">${n}</option>`).join("");
        html += `
        <div class="so-pagination-per-page">
          <span class="so-pagination-label">${options.perPageLabel || _SOPagination.DEFAULTS.perPageLabel}</span>
          <select class="so-pagination-select">${perPageOptions}</select>
        </div>
      `;
      }
      html += '<ul class="so-pagination-nav"></ul>';
      if (options.showJumpToPage) {
        html += `
        <div class="so-pagination-jump">
          <span class="so-pagination-jump-label">${options.jumpLabel || _SOPagination.DEFAULTS.jumpLabel}</span>
          <input type="number" class="so-pagination-jump-input" min="1">
          <button type="button" class="so-pagination-jump-btn">${options.jumpButtonText || _SOPagination.DEFAULTS.jumpButtonText}</button>
        </div>
      `;
      }
      container.innerHTML = html;
      const instance = new _SOPagination(container, options);
      return instance;
    }
  };
  __publicField(_SOPagination, "NAME", "pagination");
  __publicField(_SOPagination, "DEFAULTS", {
    currentPage: 1,
    totalItems: 0,
    itemsPerPage: 10,
    itemsPerPageOptions: [10, 25, 50, 100],
    maxVisiblePages: 5,
    // Max page numbers to show
    showFirstLast: true,
    // Show first/last buttons
    showPrevNext: true,
    // Show prev/next buttons
    showPageNumbers: true,
    // Show page number buttons
    showPageInfo: false,
    // Show "Showing X-Y of Z"
    showPerPageSelect: false,
    // Show items per page selector
    showJumpToPage: false,
    // Show "Go to page" input
    pageInfoTemplate: "Showing {start}-{end} of {total}",
    perPageLabel: "Rows per page:",
    jumpLabel: "Go to page:",
    jumpButtonText: "Go",
    firstIcon: "first_page",
    prevIcon: "chevron_left",
    nextIcon: "chevron_right",
    lastIcon: "last_page",
    ariaLabel: "Pagination navigation",
    onChange: null,
    // Callback when page changes
    onPerPageChange: null
    // Callback when items per page changes
  });
  __publicField(_SOPagination, "EVENTS", {
    PAGE_CHANGE: "pagination:change",
    PER_PAGE_CHANGE: "pagination:perpagechange"
  });
  var SOPagination = _SOPagination;
  SOPagination.register = function() {
    so_config_default.registerComponent(this.NAME, this);
  };
  SOPagination.register();
  window.SOPagination = SOPagination;
  var so_pagination_default = SOPagination;

  // src/js/components/so-copy.js
  var _SOCopy = class _SOCopy extends so_component_default {
    /**
     * Initialize the copy component
     * @private
     */
    _init() {
      this._originalContent = null;
      this._icon = this.$(".material-icons");
      this._isProcessing = false;
      this._bindEvents();
    }
    /**
     * Bind event listeners
     * @private
     */
    _bindEvents() {
      this.on("click", (e) => {
        e.preventDefault();
        this.copy();
      });
    }
    /**
     * Get the text to copy
     * @returns {string|null}
     * @private
     */
    _getTextToCopy() {
      var _a;
      if (this.options.text) {
        return this.options.text;
      }
      const dataText = this.element.getAttribute("data-so-copy-text");
      if (dataText) {
        return dataText;
      }
      const target = this.options.target || this.element.getAttribute("data-so-copy-target");
      if (target) {
        if (target === "self") {
          return this.element.textContent.trim();
        }
        if (target === "parent") {
          const parent = this.element.parentElement;
          if (parent) {
            const clone = parent.cloneNode(true);
            const button = clone.querySelector("[data-so-copy], .so-btn");
            if (button)
              button.remove();
            return clone.textContent.trim();
          }
        }
        if (target === "previous" || target === "prev") {
          const prev = this.element.previousElementSibling;
          return prev ? prev.value || prev.textContent.trim() : null;
        }
        const targetEl = document.querySelector(target);
        if (targetEl) {
          if (targetEl.tagName === "INPUT" || targetEl.tagName === "TEXTAREA") {
            return targetEl.value;
          }
          if (targetEl.tagName === "SELECT") {
            return ((_a = targetEl.options[targetEl.selectedIndex]) == null ? void 0 : _a.text) || targetEl.value;
          }
          if (targetEl.isContentEditable) {
            return targetEl.textContent.trim();
          }
          return targetEl.textContent.trim();
        }
      }
      const wrapper = this.element.closest(".so-copy-wrapper, .so-input-group, .so-code-block");
      if (wrapper) {
        const input = wrapper.querySelector("input, textarea");
        if (input)
          return input.value;
        const code = wrapper.querySelector("code, pre, .so-copy-content");
        if (code)
          return code.textContent.trim();
      }
      return null;
    }
    /**
     * Copy text to clipboard
     * @param {string} [text] - Optional text to copy (overrides configured target)
     * @returns {Promise<boolean>}
     */
    copy(text = null) {
      return __async(this, null, function* () {
        if (this._isProcessing)
          return false;
        const textToCopy = text || this._getTextToCopy();
        if (!textToCopy) {
          console.warn("SOCopy: No text to copy");
          this._showError();
          return false;
        }
        this._isProcessing = true;
        this.emit(_SOCopy.EVENTS.COPY, { text: textToCopy });
        try {
          yield navigator.clipboard.writeText(textToCopy);
          this._showSuccess();
          this.emit(_SOCopy.EVENTS.SUCCESS, { text: textToCopy });
          if (typeof this.options.onSuccess === "function") {
            this.options.onSuccess(textToCopy, this);
          }
          return true;
        } catch (err) {
          const success = this._fallbackCopy(textToCopy);
          if (success) {
            this._showSuccess();
            this.emit(_SOCopy.EVENTS.SUCCESS, { text: textToCopy });
            if (typeof this.options.onSuccess === "function") {
              this.options.onSuccess(textToCopy, this);
            }
            return true;
          } else {
            this._showError();
            this.emit(_SOCopy.EVENTS.ERROR, { error: err });
            if (typeof this.options.onError === "function") {
              this.options.onError(err, this);
            }
            return false;
          }
        }
      });
    }
    /**
     * Fallback copy method for older browsers
     * @param {string} text
     * @returns {boolean}
     * @private
     */
    _fallbackCopy(text) {
      const textarea = document.createElement("textarea");
      textarea.value = text;
      textarea.style.cssText = "position:fixed;left:-9999px;top:-9999px;";
      document.body.appendChild(textarea);
      textarea.select();
      try {
        const success = document.execCommand("copy");
        document.body.removeChild(textarea);
        return success;
      } catch (err) {
        document.body.removeChild(textarea);
        return false;
      }
    }
    /**
     * Show success feedback
     * @private
     */
    _showSuccess() {
      this.element.classList.add("so-copy-success");
      if (this._icon) {
        this._originalContent = this._icon.textContent;
        this._icon.textContent = this.options.successIcon;
      }
      if (this.options.showTooltip) {
        so_tooltip_default.showTemporary(this.element, {
          content: this.options.successText,
          color: "success",
          autoHide: this.options.feedbackDuration
        });
      }
      setTimeout(() => {
        this._resetState();
      }, this.options.feedbackDuration);
    }
    /**
     * Show error feedback
     * @private
     */
    _showError() {
      this.element.classList.add("so-copy-error");
      if (this.options.showTooltip) {
        so_tooltip_default.showTemporary(this.element, {
          content: this.options.errorText,
          color: "danger",
          autoHide: this.options.feedbackDuration
        });
      }
      setTimeout(() => {
        this._resetState();
      }, this.options.feedbackDuration);
    }
    /**
     * Reset to original state
     * @private
     */
    _resetState() {
      this._isProcessing = false;
      this.element.classList.remove("so-copy-success", "so-copy-error");
      if (this._icon && this._originalContent) {
        this._icon.textContent = this._originalContent;
        this._originalContent = null;
      }
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Copy text directly (without a component instance)
     * @param {string} text - Text to copy
     * @param {Object} [options] - Optional callbacks
     * @returns {Promise<boolean>}
     */
    static copyText(_0) {
      return __async(this, arguments, function* (text, options = {}) {
        try {
          yield navigator.clipboard.writeText(text);
          if (options.onSuccess)
            options.onSuccess(text);
          return true;
        } catch (err) {
          const textarea = document.createElement("textarea");
          textarea.value = text;
          textarea.style.cssText = "position:fixed;left:-9999px;top:-9999px;";
          document.body.appendChild(textarea);
          textarea.select();
          try {
            const success = document.execCommand("copy");
            document.body.removeChild(textarea);
            if (success && options.onSuccess)
              options.onSuccess(text);
            if (!success && options.onError)
              options.onError(new Error("Copy failed"));
            return success;
          } catch (e) {
            document.body.removeChild(textarea);
            if (options.onError)
              options.onError(e);
            return false;
          }
        }
      });
    }
    /**
     * Copy from an element
     * @param {string|HTMLElement} target - Selector or element
     * @param {Object} [options] - Optional callbacks
     * @returns {Promise<boolean>}
     */
    static copyFrom(_0) {
      return __async(this, arguments, function* (target, options = {}) {
        var _a;
        const el = typeof target === "string" ? document.querySelector(target) : target;
        if (!el) {
          if (options.onError)
            options.onError(new Error("Element not found"));
          return false;
        }
        let text;
        if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
          text = el.value;
        } else if (el.tagName === "SELECT") {
          text = ((_a = el.options[el.selectedIndex]) == null ? void 0 : _a.text) || el.value;
        } else {
          text = el.textContent.trim();
        }
        return _SOCopy.copyText(text, options);
      });
    }
    /**
     * Create a copy button dynamically
     * Uses existing button classes: so-btn, so-btn-icon, so-btn-ghost
     * @param {Object} options - Configuration options
     * @returns {HTMLElement}
     */
    static createButton(options = {}) {
      const {
        target = null,
        text = null,
        icon = "content_copy",
        label = "",
        className = "",
        size = "sm",
        // xs, sm, (default), lg
        variant = "ghost"
        // ghost, outline, primary, etc.
      } = options;
      const button = document.createElement("button");
      button.type = "button";
      const classes = ["so-btn"];
      if (!label)
        classes.push("so-btn-icon");
      if (variant)
        classes.push(`so-btn-${variant}`);
      if (size)
        classes.push(`so-btn-${size}`);
      if (className)
        classes.push(className);
      button.className = classes.join(" ");
      if (target) {
        button.setAttribute("data-so-copy-target", target);
      }
      if (text) {
        button.setAttribute("data-so-copy-text", text);
      }
      button.setAttribute("data-so-copy", "");
      button.innerHTML = `<span class="material-icons">${icon}</span>${label ? `<span>${label}</span>` : ""}`;
      new _SOCopy(button, options);
      return button;
    }
    /**
     * Initialize all copy buttons on the page
     */
    static initAll() {
      document.querySelectorAll("[data-so-copy]").forEach((el) => {
        if (!el._soCopyInstance) {
          el._soCopyInstance = new _SOCopy(el);
        }
      });
    }
  };
  __publicField(_SOCopy, "NAME", "copy");
  __publicField(_SOCopy, "DEFAULTS", {
    // What to copy - can be: selector, 'self', 'value', or direct text
    target: null,
    // Direct text to copy (overrides target)
    text: null,
    // Feedback duration in ms
    feedbackDuration: 2e3,
    // Success icon (Material Icons name)
    successIcon: "check",
    // Default icon (Material Icons name)
    defaultIcon: "content_copy",
    // Show tooltip feedback
    showTooltip: true,
    // Success tooltip text
    successText: "Copied!",
    // Error tooltip text
    errorText: "Failed to copy",
    // Callback on success
    onSuccess: null,
    // Callback on error
    onError: null
  });
  __publicField(_SOCopy, "EVENTS", {
    COPY: "copy:copy",
    SUCCESS: "copy:success",
    ERROR: "copy:error"
  });
  var SOCopy = _SOCopy;
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", () => SOCopy.initAll());
  } else {
    SOCopy.initAll();
  }
  var copyObserver = new MutationObserver((mutations) => {
    mutations.forEach((mutation) => {
      mutation.addedNodes.forEach((node) => {
        if (node.nodeType === Node.ELEMENT_NODE) {
          if (node.matches("[data-so-copy]")) {
            if (!node._soCopyInstance) {
              node._soCopyInstance = new SOCopy(node);
            }
          }
          node.querySelectorAll("[data-so-copy]").forEach((el) => {
            if (!el._soCopyInstance) {
              el._soCopyInstance = new SOCopy(el);
            }
          });
        }
      });
    });
  });
  copyObserver.observe(document.body, { childList: true, subtree: true });
  so_config_default.registerComponent(SOCopy);
  var so_copy_default = SOCopy;

  // src/js/components/so-go-to-top.js
  var _SOGoToTop = class _SOGoToTop extends so_component_default {
    /**
     * Initialize the component
     * @private
     */
    _init() {
      this._isVisible = false;
      this._scrollTimeout = null;
      this._progressRing = null;
      this._progressCircle = null;
      if (!this.options.icon) {
        this.options.icon = this.options.direction === "bottom" ? "arrow_downward" : "arrow_upward";
      }
      this._boundScrollHandler = this._handleScroll.bind(this);
      window.addEventListener("scroll", this._boundScrollHandler, { passive: true });
      this.on("click", (e) => {
        e.preventDefault();
        this.scrollTo();
      });
      this._updateVisibility();
      if (this.options.showProgress) {
        this.element.classList.add("so-go-to-top-progress");
        this._createProgressRing();
        this._updateProgress();
      }
    }
    /**
     * Create SVG progress ring
     * @private
     */
    _createProgressRing() {
      const buttonSizes = {
        xs: 28,
        sm: 32,
        md: 40,
        lg: 48
      };
      let buttonSize = buttonSizes[this.options.size] || buttonSizes.md;
      if (!this.options.size || this.options.size === "md") {
        if (this.element.classList.contains("so-btn-xs"))
          buttonSize = buttonSizes.xs;
        else if (this.element.classList.contains("so-btn-sm"))
          buttonSize = buttonSizes.sm;
        else if (this.element.classList.contains("so-btn-lg"))
          buttonSize = buttonSizes.lg;
      }
      const size = buttonSize + 8;
      const radius = size / 2 - 3;
      const circumference = 2 * Math.PI * radius;
      const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      svg.setAttribute("class", "so-progress-ring");
      svg.setAttribute("viewBox", `0 0 ${size} ${size}`);
      const trackCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
      trackCircle.setAttribute("class", "so-progress-ring-track");
      trackCircle.setAttribute("cx", size / 2);
      trackCircle.setAttribute("cy", size / 2);
      trackCircle.setAttribute("r", radius);
      const progressCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
      progressCircle.setAttribute("class", "so-progress-ring-progress");
      progressCircle.setAttribute("cx", size / 2);
      progressCircle.setAttribute("cy", size / 2);
      progressCircle.setAttribute("r", radius);
      progressCircle.setAttribute("stroke-dasharray", circumference);
      progressCircle.setAttribute("stroke-dashoffset", circumference);
      svg.appendChild(trackCircle);
      svg.appendChild(progressCircle);
      this.element.insertBefore(svg, this.element.firstChild);
      this._progressRing = svg;
      this._progressCircle = progressCircle;
      this._circumference = circumference;
    }
    /**
     * Handle scroll event (debounced)
     * @private
     */
    _handleScroll() {
      if (this._scrollTimeout) {
        cancelAnimationFrame(this._scrollTimeout);
      }
      this._scrollTimeout = requestAnimationFrame(() => {
        this._updateVisibility();
        if (this.options.showProgress) {
          this._updateProgress();
        }
      });
    }
    /**
     * Update button visibility based on scroll position
     * @private
     */
    _updateVisibility() {
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const distanceFromBottom = docHeight - scrollTop;
      let shouldShow;
      if (this.options.direction === "bottom") {
        shouldShow = distanceFromBottom > this.options.showAfter;
      } else {
        shouldShow = scrollTop > this.options.showAfter;
      }
      if (shouldShow && !this._isVisible) {
        this._show();
      } else if (!shouldShow && this._isVisible) {
        this._hide();
      }
    }
    /**
     * Update scroll progress indicator
     * @private
     */
    _updateProgress() {
      if (!this._progressCircle || !this._circumference)
        return;
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = docHeight > 0 ? Math.min(100, Math.max(0, scrollTop / docHeight * 100)) : 0;
      const offset = this._circumference - progress / 100 * this._circumference;
      this._progressCircle.setAttribute("stroke-dashoffset", offset);
    }
    /**
     * Show the button
     * @private
     */
    _show() {
      this._isVisible = true;
      this.element.classList.add("so-show");
      this.emit(_SOGoToTop.EVENTS.SHOW);
    }
    /**
     * Hide the button
     * @private
     */
    _hide() {
      this._isVisible = false;
      this.element.classList.remove("so-show");
      this.emit(_SOGoToTop.EVENTS.HIDE);
    }
    /**
     * Scroll to target position
     * @returns {this}
     */
    scrollTo() {
      const behavior = this.options.smooth ? "smooth" : "instant";
      const target = this.options.direction === "bottom" ? document.documentElement.scrollHeight : 0;
      window.scrollTo({
        top: target,
        behavior
      });
      this.emit(_SOGoToTop.EVENTS.SCROLL);
      if (typeof this.options.onScroll === "function") {
        this.options.onScroll(this);
      }
      if (typeof this.options.onScrollToTop === "function") {
        this.options.onScrollToTop(this);
      }
      return this;
    }
    /**
     * Scroll to top of page (legacy method)
     * @returns {this}
     */
    scrollToTop() {
      const originalDirection = this.options.direction;
      this.options.direction = "top";
      this.scrollTo();
      this.options.direction = originalDirection;
      return this;
    }
    /**
     * Scroll to bottom of page
     * @returns {this}
     */
    scrollToBottom() {
      const originalDirection = this.options.direction;
      this.options.direction = "bottom";
      this.scrollTo();
      this.options.direction = originalDirection;
      return this;
    }
    /**
     * Manually show the button
     * @returns {this}
     */
    show() {
      this._show();
      return this;
    }
    /**
     * Manually hide the button
     * @returns {this}
     */
    hide() {
      this._hide();
      return this;
    }
    /**
     * Check if button is visible
     * @returns {boolean}
     */
    isVisible() {
      return this._isVisible;
    }
    /**
     * Get current scroll progress (0-100)
     * @returns {number}
     */
    getProgress() {
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      return docHeight > 0 ? Math.min(100, Math.max(0, scrollTop / docHeight * 100)) : 0;
    }
    /**
     * Destroy the component
     */
    destroy() {
      window.removeEventListener("scroll", this._boundScrollHandler);
      if (this._scrollTimeout) {
        cancelAnimationFrame(this._scrollTimeout);
      }
      super.destroy();
    }
    // ============================================
    // STATIC METHODS
    // ============================================
    /**
     * Create and inject a scroll navigation button
     * @param {Object} options - Configuration options
     * @returns {SOGoToTop}
     */
    static create(options = {}) {
      const _a = options, {
        direction = "top",
        position = "bottom-right",
        icon = null,
        size = "md",
        variant = "primary",
        showProgress = false,
        container = document.body
      } = _a, restOptions = __objRest(_a, [
        "direction",
        "position",
        "icon",
        "size",
        "variant",
        "showProgress",
        "container"
      ]);
      const finalIcon = icon || (direction === "bottom" ? "arrow_downward" : "arrow_upward");
      const button = document.createElement("button");
      button.type = "button";
      button.setAttribute("aria-label", direction === "bottom" ? "Scroll to bottom" : "Scroll to top");
      button.setAttribute("data-so-go-to-top", "");
      button.setAttribute("data-direction", direction);
      const classes = [
        "so-btn",
        "so-btn-icon",
        "so-btn-circle",
        `so-btn-${variant}`,
        "so-go-to-top",
        `so-go-to-top-${position}`
      ];
      if (direction === "bottom") {
        classes.push("so-go-to-bottom");
      }
      if (size && size !== "md") {
        classes.push(`so-btn-${size}`);
      }
      if (showProgress) {
        classes.push("so-go-to-top-progress");
      }
      button.className = classes.join(" ");
      button.innerHTML = `<span class="material-icons">${finalIcon}</span>`;
      const containerEl = typeof container === "string" ? document.querySelector(container) : container;
      if (containerEl) {
        containerEl.appendChild(button);
      }
      return new _SOGoToTop(button, __spreadValues({
        direction,
        position,
        icon: finalIcon,
        size,
        variant,
        showProgress
      }, restOptions));
    }
    /**
     * Create both go-to-top and go-to-bottom buttons
     * They show/hide based on scroll position
     * @param {Object} options - Configuration options
     * @returns {{ top: SOGoToTop, bottom: SOGoToTop }}
     */
    static createPair(options = {}) {
      const _a = options, {
        position = "bottom-right",
        size = "md",
        variant = "primary",
        showProgress = false,
        container = document.body,
        topIcon = "arrow_upward",
        bottomIcon = "arrow_downward",
        showAfter = 300
      } = _a, restOptions = __objRest(_a, [
        "position",
        "size",
        "variant",
        "showProgress",
        "container",
        "topIcon",
        "bottomIcon",
        "showAfter"
      ]);
      let topPosition = position;
      let bottomPosition = position;
      if (position === "bottom-right") {
      } else if (position === "bottom-left") {
      }
      const top = _SOGoToTop.create(__spreadValues({
        direction: "top",
        position: topPosition,
        icon: topIcon,
        size,
        variant,
        showProgress,
        container,
        showAfter
      }, restOptions));
      const bottom = _SOGoToTop.create(__spreadValues({
        direction: "bottom",
        position: bottomPosition,
        icon: bottomIcon,
        size,
        variant,
        showProgress: false,
        // Only show progress on top button
        container,
        showAfter
      }, restOptions));
      bottom.element.classList.add("so-go-to-top-paired");
      return { top, bottom };
    }
    /**
     * Initialize all scroll navigation buttons on the page
     */
    static initAll() {
      document.querySelectorAll("[data-so-go-to-top]").forEach((el) => {
        if (!el._soGoToTopInstance) {
          const direction = el.getAttribute("data-direction") || "top";
          el._soGoToTopInstance = new _SOGoToTop(el, { direction });
        }
      });
    }
  };
  __publicField(_SOGoToTop, "NAME", "go-to-top");
  __publicField(_SOGoToTop, "DEFAULTS", {
    // Direction: 'top' or 'bottom'
    direction: "top",
    // Show after scrolling this many pixels (for top direction)
    // For bottom, shows when NOT scrolled past this threshold from bottom
    showAfter: 300,
    // Position on screen: bottom-right, bottom-left, bottom-center
    position: "bottom-right",
    // Material icon name (auto-set based on direction if not provided)
    icon: null,
    // Button size: xs, sm, md, lg
    size: "md",
    // Button variant: primary, secondary, ghost, outline, etc.
    variant: "primary",
    // Use smooth scroll
    smooth: true,
    // Show scroll progress indicator ring
    showProgress: false,
    // Callback when scrolled
    onScroll: null,
    // Legacy callback support
    onScrollToTop: null
  });
  __publicField(_SOGoToTop, "EVENTS", {
    SHOW: "go-to-top:show",
    HIDE: "go-to-top:hide",
    SCROLL: "go-to-top:scroll"
  });
  var SOGoToTop = _SOGoToTop;
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", () => SOGoToTop.initAll());
  } else {
    SOGoToTop.initAll();
  }
  so_config_default.registerComponent(SOGoToTop);
  var so_go_to_top_default = SOGoToTop;

  // src/js/components/so-form-enhancers.js
  var _SOInputMask = class _SOInputMask extends so_component_default {
    _init() {
      this._rawValue = "";
      this._cursorPosition = 0;
      this.element.classList.add(so_config_default.cls("input-mask"));
      this._pattern = this._getPattern();
      if (this.options.showMask && this._pattern) {
        this.element.placeholder = this._formatMaskPlaceholder();
      }
      this._bindEvents();
      if (this.element.value) {
        this._handleInput();
      }
    }
    _getPattern() {
      if (this.options.pattern) {
        return this.options.pattern;
      }
      const mask = this.options.mask.toLowerCase();
      if (_SOInputMask.MASKS[mask]) {
        return _SOInputMask.MASKS[mask];
      }
      switch (mask) {
        case "phone":
          return this.options.phoneFormat;
        case "date":
          return this._dateFormatToPattern(this.options.dateFormat);
        case "time":
          return this._timeFormatToPattern(this.options.timeFormat);
        case "currency":
        case "percentage":
          return null;
        default:
          return this.options.pattern;
      }
    }
    _dateFormatToPattern(format) {
      return format.replace(/YYYY/g, "####").replace(/YY/g, "##").replace(/MM/g, "##").replace(/DD/g, "##");
    }
    _timeFormatToPattern(format) {
      return format.replace(/HH/g, "##").replace(/MM/g, "##").replace(/SS/g, "##").replace(/AA/g, "AA");
    }
    _formatMaskPlaceholder() {
      return this._pattern.replace(/#/g, this.options.placeholder).replace(/A/g, this.options.placeholder).replace(/\*/g, this.options.placeholder);
    }
    _bindEvents() {
      this.on("input", this._handleInput);
      this.on("keydown", this._handleKeydown);
      this.on("focus", this._handleFocus);
      this.on("blur", this._handleBlur);
      this.on("paste", this._handlePaste);
    }
    _handleInput(e) {
      const mask = this.options.mask.toLowerCase();
      if (mask === "currency") {
        this._formatCurrency();
      } else if (mask === "percentage") {
        this._formatPercentage();
      } else if (this._pattern) {
        this._applyMask();
      }
      this._checkComplete();
    }
    _handleKeydown(e) {
      if ([8, 9, 27, 13, 46].includes(e.keyCode)) {
        return;
      }
      if ((e.ctrlKey || e.metaKey) && [65, 67, 86, 88].includes(e.keyCode)) {
        return;
      }
      if (e.keyCode >= 35 && e.keyCode <= 40) {
        return;
      }
      const mask = this.options.mask.toLowerCase();
      if (["phone", "card", "date", "time", "ssn", "zip", "currency", "percentage"].includes(mask)) {
        if (e.shiftKey || (e.keyCode < 48 || e.keyCode > 57) && (e.keyCode < 96 || e.keyCode > 105)) {
          if (mask === "currency" && (e.key === "." || e.key === this.options.decimalSeparator)) {
            return;
          }
          e.preventDefault();
        }
      }
    }
    _handleFocus(e) {
      if (this.options.showMask && !this.element.value && this._pattern) {
      }
    }
    _handleBlur(e) {
      this._checkComplete();
      const isComplete = this._isComplete();
      this.emit(isComplete ? _SOInputMask.EVENTS.COMPLETE : _SOInputMask.EVENTS.INCOMPLETE, {
        value: this.element.value,
        rawValue: this._rawValue
      });
    }
    _handlePaste(e) {
      e.preventDefault();
      const pastedText = (e.clipboardData || window.clipboardData).getData("text");
      const cleanText = this._extractDigits(pastedText);
      this.element.value = cleanText;
      this._handleInput();
    }
    _applyMask() {
      const value = this.element.value;
      const cursorPos = this.element.selectionStart;
      const rawValue = this._extractRawValue(value);
      this._rawValue = rawValue;
      let formatted = "";
      let rawIndex = 0;
      for (let i = 0; i < this._pattern.length && rawIndex < rawValue.length; i++) {
        const maskChar = this._pattern[i];
        if (maskChar === "#") {
          if (/\d/.test(rawValue[rawIndex])) {
            formatted += rawValue[rawIndex];
            rawIndex++;
          }
        } else if (maskChar === "A") {
          if (/[a-zA-Z]/.test(rawValue[rawIndex])) {
            formatted += rawValue[rawIndex].toUpperCase();
            rawIndex++;
          }
        } else if (maskChar === "*") {
          if (/[a-zA-Z0-9]/.test(rawValue[rawIndex])) {
            formatted += rawValue[rawIndex];
            rawIndex++;
          }
        } else {
          formatted += maskChar;
          if (rawValue[rawIndex] === maskChar) {
            rawIndex++;
          }
        }
      }
      this.element.value = formatted;
      const newCursorPos = this._calculateCursorPosition(cursorPos, value, formatted);
      this.element.setSelectionRange(newCursorPos, newCursorPos);
    }
    _extractRawValue(value) {
      const mask = this.options.mask.toLowerCase();
      if (["phone", "card", "date", "time", "ssn", "zip"].includes(mask)) {
        return value.replace(/\D/g, "");
      }
      return value.replace(/[^a-zA-Z0-9]/g, "");
    }
    _extractDigits(value) {
      return value.replace(/\D/g, "");
    }
    _calculateCursorPosition(oldPos, oldValue, newValue) {
      const diff = newValue.length - oldValue.length;
      return Math.max(0, Math.min(newValue.length, oldPos + diff));
    }
    _formatCurrency() {
      let value = this.element.value;
      value = value.replace(/[^\d.]/g, "");
      const parts = value.split(".");
      if (parts.length > 2) {
        value = parts[0] + "." + parts.slice(1).join("");
      }
      if (value) {
        const numParts = value.split(".");
        let intPart = numParts[0];
        let decPart = numParts[1] || "";
        intPart = intPart.replace(/\B(?=(\d{3})+(?!\d))/g, this.options.thousandsSeparator);
        if (decPart.length > this.options.decimalPlaces) {
          decPart = decPart.substring(0, this.options.decimalPlaces);
        }
        value = intPart + (numParts.length > 1 ? this.options.decimalSeparator + decPart : "");
      }
      this.element.value = value;
      this._rawValue = value.replace(/[^\d.]/g, "");
    }
    _formatPercentage() {
      let value = this.element.value;
      value = value.replace(/[^\d.]/g, "");
      const num = parseFloat(value);
      if (!isNaN(num) && num > 100) {
        value = "100";
      }
      this.element.value = value;
      this._rawValue = value;
    }
    _isComplete() {
      if (!this._pattern)
        return true;
      const requiredLength = (this._pattern.match(/[#A*]/g) || []).length;
      return this._rawValue.length >= requiredLength;
    }
    _checkComplete() {
      const isComplete = this._isComplete();
      this.element.classList.toggle(so_config_default.cls("mask-complete"), isComplete);
      this.element.classList.toggle(so_config_default.cls("mask-incomplete"), !isComplete && this._rawValue.length > 0);
    }
    // Public methods
    getValue() {
      return this.element.value;
    }
    getRawValue() {
      return this._rawValue;
    }
    setValue(value) {
      this.element.value = value;
      this._handleInput();
    }
    clear() {
      this.element.value = "";
      this._rawValue = "";
      this._checkComplete();
    }
    static initAll() {
      document.querySelectorAll("[data-so-input-mask]").forEach((el) => {
        if (!el._soInputMaskInstance) {
          el._soInputMaskInstance = new _SOInputMask(el);
        }
      });
    }
  };
  __publicField(_SOInputMask, "NAME", "input-mask");
  __publicField(_SOInputMask, "DEFAULTS", {
    // Mask type: phone, card, date, time, currency, percentage, ssn, zip, custom
    mask: "phone",
    // Custom pattern (for mask='custom')
    // # = digit, A = letter, * = alphanumeric
    pattern: null,
    // Placeholder character
    placeholder: "_",
    // Show mask while typing
    showMask: true,
    // Allow incomplete values
    allowIncomplete: true,
    // Prefix text
    prefix: "",
    // Suffix text
    suffix: "",
    // Thousands separator for currency
    thousandsSeparator: ",",
    // Decimal separator for currency
    decimalSeparator: ".",
    // Decimal places for currency
    decimalPlaces: 2,
    // Currency symbol
    currencySymbol: "$",
    // Phone format
    phoneFormat: "(###) ###-####",
    // Date format
    dateFormat: "MM/DD/YYYY",
    // Time format
    timeFormat: "HH:MM"
  });
  __publicField(_SOInputMask, "EVENTS", {
    CHANGE: "input-mask:change",
    COMPLETE: "input-mask:complete",
    INCOMPLETE: "input-mask:incomplete"
  });
  // Predefined masks
  __publicField(_SOInputMask, "MASKS", {
    phone: "(###) ###-####",
    phoneIntl: "+# (###) ###-####",
    card: "#### #### #### ####",
    cardAmex: "#### ###### #####",
    date: "##/##/####",
    dateIso: "####-##-##",
    time: "##:##",
    time24: "##:##",
    time12: "##:## AA",
    ssn: "###-##-####",
    zip: "#####",
    zipExt: "#####-####",
    ein: "##-#######"
  });
  var SOInputMask = _SOInputMask;
  var _SOPasswordStrength = class _SOPasswordStrength extends so_component_default {
    _init() {
      this._score = 0;
      this._strength = "none";
      this._requirements = {};
      this._createElements();
      this._bindEvents();
      if (this.element.value) {
        this._evaluate();
      }
    }
    _createElements() {
      const existingWrapper = this.element.parentElement;
      const isInInputWrapper = existingWrapper.classList.contains(so_config_default.cls("input-wrapper"));
      if (isInInputWrapper) {
        existingWrapper.classList.add(so_config_default.cls("password-wrapper"));
        this._wrapper = existingWrapper;
      } else if (!existingWrapper.classList.contains(so_config_default.cls("password-wrapper"))) {
        const wrapper = document.createElement("div");
        wrapper.className = so_config_default.cls("password-wrapper");
        this.element.parentNode.insertBefore(wrapper, this.element);
        wrapper.appendChild(this.element);
        this._wrapper = wrapper;
      } else {
        this._wrapper = existingWrapper;
      }
      if (this.options.showBar) {
        this._strengthContainer = document.createElement("div");
        this._strengthContainer.className = so_config_default.cls("password-strength");
        this._strengthContainer.innerHTML = `
        <div class="${so_config_default.cls("password-strength-bar")}">
          <div class="${so_config_default.cls("password-strength-segment")}"></div>
          <div class="${so_config_default.cls("password-strength-segment")}"></div>
          <div class="${so_config_default.cls("password-strength-segment")}"></div>
          <div class="${so_config_default.cls("password-strength-segment")}"></div>
        </div>
        <div class="${so_config_default.cls("password-strength-text")}">
          <span class="${so_config_default.cls("password-strength-label")}"></span>
          <span class="${so_config_default.cls("password-strength-score")}"></span>
        </div>
      `;
        this._wrapper.insertAdjacentElement("afterend", this._strengthContainer);
        this._segments = this._strengthContainer.querySelectorAll(`.${so_config_default.cls("password-strength-segment")}`);
        this._label = this._strengthContainer.querySelector(`.${so_config_default.cls("password-strength-label")}`);
      }
      if (this.options.showInline) {
        this._inlineIndicator = document.createElement("div");
        this._inlineIndicator.className = so_config_default.cls("password-strength-inline");
        this._inlineIndicator.innerHTML = `
        <span class="${so_config_default.cls("strength-dot")}"></span>
        <span class="${so_config_default.cls("strength-dot")}"></span>
        <span class="${so_config_default.cls("strength-dot")}"></span>
        <span class="${so_config_default.cls("strength-dot")}"></span>
      `;
        this._wrapper.appendChild(this._inlineIndicator);
        this._dots = this._inlineIndicator.querySelectorAll(`.${so_config_default.cls("strength-dot")}`);
      }
      if (this.options.showRequirements) {
        this._reqContainer = document.createElement("div");
        this._reqContainer.className = so_config_default.cls("password-requirements");
        const requirements = [];
        if (this.options.minLength > 0) {
          requirements.push({ key: "length", label: this.options.requirementLabels.length.replace("{min}", this.options.minLength) });
        }
        if (this.options.requireUppercase) {
          requirements.push({ key: "uppercase", label: this.options.requirementLabels.uppercase });
        }
        if (this.options.requireLowercase) {
          requirements.push({ key: "lowercase", label: this.options.requirementLabels.lowercase });
        }
        if (this.options.requireNumbers) {
          requirements.push({ key: "number", label: this.options.requirementLabels.number });
        }
        if (this.options.requireSpecial) {
          requirements.push({ key: "special", label: this.options.requirementLabels.special });
        }
        this._reqContainer.innerHTML = requirements.map((req) => `
        <div class="${so_config_default.cls("password-requirement")}" data-requirement="${req.key}">
          <span class="material-icons">radio_button_unchecked</span>
          <span>${req.label}</span>
        </div>
      `).join("");
        if (this._strengthContainer) {
          this._strengthContainer.insertAdjacentElement("afterend", this._reqContainer);
        } else {
          this._wrapper.insertAdjacentElement("afterend", this._reqContainer);
        }
      }
    }
    _bindEvents() {
      this.on("input", this._evaluate);
      this.on("focus", () => {
        if (this._strengthContainer)
          this._strengthContainer.style.display = "";
        if (this._reqContainer)
          this._reqContainer.style.display = "";
      });
    }
    _evaluate() {
      const password = this.element.value;
      this._score = 0;
      this._requirements = {};
      this._requirements.length = password.length >= this.options.minLength;
      if (this._requirements.length)
        this._score++;
      this._requirements.uppercase = /[A-Z]/.test(password);
      if (this._requirements.uppercase && this.options.requireUppercase)
        this._score++;
      this._requirements.lowercase = /[a-z]/.test(password);
      if (this._requirements.lowercase && this.options.requireLowercase)
        this._score++;
      this._requirements.number = /\d/.test(password);
      if (this._requirements.number && this.options.requireNumbers)
        this._score++;
      this._requirements.special = this.options.specialChars.test(password);
      if (this._requirements.special && this.options.requireSpecial)
        this._score++;
      const { thresholds } = this.options;
      if (this._score <= thresholds.weak) {
        this._strength = "weak";
      } else if (this._score <= thresholds.fair) {
        this._strength = "fair";
      } else if (this._score <= thresholds.good) {
        this._strength = "good";
      } else {
        this._strength = "strong";
      }
      if (password.length === 0) {
        this._strength = "none";
        this._score = 0;
      }
      this._updateUI();
      this._emitEvents();
    }
    _updateUI() {
      const strengthClass = `${so_config_default.cls("strength")}-${this._strength}`;
      if (this._segments) {
        const activeCount = this._strength === "none" ? 0 : this._strength === "weak" ? 1 : this._strength === "fair" ? 2 : this._strength === "good" ? 3 : 4;
        this._segments.forEach((segment, i) => {
          segment.classList.remove(
            so_config_default.cls("active"),
            `${so_config_default.cls("strength")}-weak`,
            `${so_config_default.cls("strength")}-fair`,
            `${so_config_default.cls("strength")}-good`,
            `${so_config_default.cls("strength")}-strong`
          );
          if (i < activeCount) {
            segment.classList.add(so_config_default.cls("active"), strengthClass);
          }
        });
        if (this._label) {
          this._label.textContent = this._strength === "none" ? "" : this.options.labels[this._strength];
          this._label.className = `${so_config_default.cls("password-strength-label")} ${strengthClass}`;
        }
      }
      if (this._dots) {
        const activeCount = this._strength === "none" ? 0 : this._strength === "weak" ? 1 : this._strength === "fair" ? 2 : this._strength === "good" ? 3 : 4;
        this._dots.forEach((dot, i) => {
          dot.classList.remove(
            so_config_default.cls("active"),
            `${so_config_default.cls("strength")}-weak`,
            `${so_config_default.cls("strength")}-fair`,
            `${so_config_default.cls("strength")}-good`,
            `${so_config_default.cls("strength")}-strong`
          );
          if (i < activeCount) {
            dot.classList.add(so_config_default.cls("active"), strengthClass);
          }
        });
      }
      if (this._reqContainer) {
        Object.keys(this._requirements).forEach((key) => {
          const el = this._reqContainer.querySelector(`[data-requirement="${key}"]`);
          if (el) {
            const icon = el.querySelector(".material-icons");
            if (this._requirements[key]) {
              el.classList.add(so_config_default.cls("met"));
              icon.textContent = "check_circle";
            } else {
              el.classList.remove(so_config_default.cls("met"));
              icon.textContent = "radio_button_unchecked";
            }
          }
        });
      }
    }
    _emitEvents() {
      this.emit(_SOPasswordStrength.EVENTS.CHANGE, {
        score: this._score,
        strength: this._strength,
        requirements: this._requirements
      });
      const isValid = this._checkValidity();
      this.emit(isValid ? _SOPasswordStrength.EVENTS.VALID : _SOPasswordStrength.EVENTS.INVALID, {
        score: this._score,
        strength: this._strength,
        requirements: this._requirements
      });
    }
    _checkValidity() {
      if (this.options.minLength > 0 && !this._requirements.length)
        return false;
      if (this.options.requireUppercase && !this._requirements.uppercase)
        return false;
      if (this.options.requireLowercase && !this._requirements.lowercase)
        return false;
      if (this.options.requireNumbers && !this._requirements.number)
        return false;
      if (this.options.requireSpecial && !this._requirements.special)
        return false;
      return true;
    }
    // Public methods
    getScore() {
      return this._score;
    }
    getStrength() {
      return this._strength;
    }
    getRequirements() {
      return __spreadValues({}, this._requirements);
    }
    isValid() {
      return this._checkValidity();
    }
    static initAll() {
      document.querySelectorAll("[data-so-password-strength]").forEach((el) => {
        if (!el._soPasswordStrengthInstance) {
          el._soPasswordStrengthInstance = new _SOPasswordStrength(el);
        }
      });
    }
  };
  __publicField(_SOPasswordStrength, "NAME", "password-strength");
  __publicField(_SOPasswordStrength, "DEFAULTS", {
    // Minimum password length
    minLength: 8,
    // Require uppercase
    requireUppercase: true,
    // Require lowercase
    requireLowercase: true,
    // Require numbers
    requireNumbers: true,
    // Require special characters
    requireSpecial: true,
    // Special characters regex
    specialChars: /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,
    // Show strength bar
    showBar: true,
    // Show requirements list
    showRequirements: false,
    // Show inline indicator
    showInline: false,
    // Strength labels
    labels: {
      weak: "Weak",
      fair: "Fair",
      good: "Good",
      strong: "Strong"
    },
    // Requirements labels
    requirementLabels: {
      length: "At least {min} characters",
      uppercase: "One uppercase letter",
      lowercase: "One lowercase letter",
      number: "One number",
      special: "One special character"
    },
    // Score thresholds
    thresholds: {
      weak: 1,
      fair: 2,
      good: 3,
      strong: 4
    }
  });
  __publicField(_SOPasswordStrength, "EVENTS", {
    CHANGE: "password-strength:change",
    VALID: "password-strength:valid",
    INVALID: "password-strength:invalid"
  });
  var SOPasswordStrength = _SOPasswordStrength;
  var _SOCharCounter = class _SOCharCounter extends so_component_default {
    _init() {
      this._count = 0;
      this._percentage = 0;
      this._createElements();
      this._bindEvents();
      this._updateCount();
    }
    _createElements() {
      if (!this.element.parentElement.classList.contains(so_config_default.cls("char-counter-wrapper"))) {
        const wrapper = document.createElement("div");
        wrapper.className = so_config_default.cls("char-counter-wrapper");
        this.element.parentNode.insertBefore(wrapper, this.element);
        wrapper.appendChild(this.element);
      }
      this._wrapper = this.element.parentElement;
      if (this.options.showBar) {
        this._counterContainer = document.createElement("div");
        this._counterContainer.className = so_config_default.cls("char-counter-bar");
        this._counterContainer.innerHTML = `
        <div class="${so_config_default.cls("char-counter-progress")}">
          <div class="${so_config_default.cls("char-counter-fill")}"></div>
        </div>
        <div class="${so_config_default.cls("char-counter-text")}">
          <span class="${so_config_default.cls("char-counter-hint")}"></span>
          <span class="${so_config_default.cls("char-counter-value")}"></span>
        </div>
      `;
        this._wrapper.appendChild(this._counterContainer);
        this._fill = this._counterContainer.querySelector(`.${so_config_default.cls("char-counter-fill")}`);
        this._valueEl = this._counterContainer.querySelector(`.${so_config_default.cls("char-counter-value")}`);
      } else if (this.options.showInline) {
        this._counterEl = document.createElement("span");
        this._counterEl.className = so_config_default.cls("char-counter-inline");
        this._wrapper.appendChild(this._counterEl);
        this.element.classList.add(so_config_default.cls("has-counter-inline"));
      } else {
        this._counterEl = document.createElement("div");
        this._counterEl.className = so_config_default.cls("char-counter");
        this._wrapper.appendChild(this._counterEl);
      }
    }
    _bindEvents() {
      this.on("input", this._updateCount);
      this.on("paste", () => setTimeout(() => this._updateCount(), 0));
    }
    _updateCount() {
      const value = this.element.value;
      switch (this.options.mode) {
        case "words":
          this._count = value.trim() ? value.trim().split(/\s+/).length : 0;
          break;
        case "lines":
          this._count = value.split(/\r\n|\r|\n/).length;
          break;
        default:
          this._count = value.length;
      }
      if (this.options.maxLength > 0) {
        this._percentage = this._count / this.options.maxLength * 100;
      } else {
        this._percentage = 0;
      }
      this._updateUI();
      this._emitEvents();
    }
    _updateUI() {
      const { maxLength, warningThreshold, mode } = this.options;
      const isWarning = maxLength > 0 && this._percentage >= warningThreshold && this._percentage < 100;
      const isDanger = maxLength > 0 && this._percentage >= 100;
      const isSuccess = maxLength > 0 && this._count >= (this.options.minLength || 0) && this._percentage < warningThreshold;
      let text;
      if (maxLength > 0) {
        text = mode === "words" ? this.options.wordTemplate.replace("{current}", this._count).replace("{max}", maxLength) : this.options.template.replace("{current}", this._count).replace("{max}", maxLength);
      } else {
        text = mode === "words" ? this.options.wordTemplateNoMax.replace("{current}", this._count) : this.options.templateNoMax.replace("{current}", this._count);
      }
      if (this._fill) {
        this._fill.style.width = `${Math.min(100, this._percentage)}%`;
        this._fill.classList.remove(so_config_default.cls("warning"), so_config_default.cls("danger"));
        if (isDanger) {
          this._fill.classList.add(so_config_default.cls("danger"));
        } else if (isWarning) {
          this._fill.classList.add(so_config_default.cls("warning"));
        }
        if (this._valueEl) {
          this._valueEl.textContent = text;
        }
      }
      if (this._counterEl) {
        this._counterEl.textContent = text;
        this._counterEl.classList.remove(
          so_config_default.cls("warning"),
          so_config_default.cls("danger"),
          so_config_default.cls("success")
        );
        if (isDanger) {
          this._counterEl.classList.add(so_config_default.cls("danger"));
        } else if (isWarning) {
          this._counterEl.classList.add(so_config_default.cls("warning"));
        } else if (isSuccess) {
          this._counterEl.classList.add(so_config_default.cls("success"));
        }
      }
    }
    _emitEvents() {
      const { maxLength, warningThreshold } = this.options;
      this.emit(_SOCharCounter.EVENTS.CHANGE, {
        count: this._count,
        percentage: this._percentage,
        remaining: maxLength > 0 ? maxLength - this._count : null
      });
      if (maxLength > 0) {
        if (this._percentage >= 100) {
          this.emit(_SOCharCounter.EVENTS.LIMIT, {
            count: this._count,
            max: maxLength
          });
        } else if (this._percentage >= warningThreshold) {
          this.emit(_SOCharCounter.EVENTS.WARNING, {
            count: this._count,
            percentage: this._percentage
          });
        } else {
          this.emit(_SOCharCounter.EVENTS.VALID, {
            count: this._count,
            percentage: this._percentage
          });
        }
      }
    }
    // Public methods
    getCount() {
      return this._count;
    }
    getPercentage() {
      return this._percentage;
    }
    getRemaining() {
      return this.options.maxLength > 0 ? this.options.maxLength - this._count : null;
    }
    setMaxLength(max) {
      this.options.maxLength = max;
      this._updateCount();
    }
    static initAll() {
      document.querySelectorAll("[data-so-char-counter]").forEach((el) => {
        if (!el._soCharCounterInstance) {
          el._soCharCounterInstance = new _SOCharCounter(el);
        }
      });
    }
  };
  __publicField(_SOCharCounter, "NAME", "char-counter");
  __publicField(_SOCharCounter, "DEFAULTS", {
    // Max characters (0 = no limit, just count)
    maxLength: 0,
    // Min characters
    minLength: 0,
    // Count mode: 'characters', 'words', 'lines'
    mode: "characters",
    // Warning threshold (percentage of max)
    warningThreshold: 80,
    // Show progress bar
    showBar: false,
    // Show inline (inside input)
    showInline: false,
    // Format template
    template: "{current} / {max}",
    // Template for no max
    templateNoMax: "{current} characters",
    // Word template
    wordTemplate: "{current} / {max} words",
    // Word template no max
    wordTemplateNoMax: "{current} words"
  });
  __publicField(_SOCharCounter, "EVENTS", {
    CHANGE: "char-counter:change",
    WARNING: "char-counter:warning",
    LIMIT: "char-counter:limit",
    VALID: "char-counter:valid"
  });
  var SOCharCounter = _SOCharCounter;
  var _SOInputClear = class _SOInputClear extends so_component_default {
    _init() {
      this._createButton();
      this._bindEvents();
      this._updateVisibility();
    }
    _createButton() {
      if (!this.element.parentElement.classList.contains(so_config_default.cls("input-clearable"))) {
        const wrapper = document.createElement("div");
        wrapper.className = so_config_default.cls("input-clearable");
        const existingWrapper = this.element.closest(`.${so_config_default.cls("input-wrapper")}`);
        if (existingWrapper && existingWrapper.querySelector(`.${so_config_default.cls("input-icon")}`)) {
          wrapper.classList.add(so_config_default.cls("has-icon"));
        }
        if (existingWrapper && existingWrapper.querySelector(`.${so_config_default.cls("input-action")}`)) {
          wrapper.classList.add(so_config_default.cls("has-action"));
        }
        this.element.parentNode.insertBefore(wrapper, this.element);
        wrapper.appendChild(this.element);
      }
      this._wrapper = this.element.parentElement;
      this._button = document.createElement("button");
      this._button.type = "button";
      this._button.className = so_config_default.cls("input-clear-btn");
      this._button.setAttribute("tabindex", "-1");
      this._button.setAttribute("aria-label", "Clear input");
      this._button.innerHTML = `<span class="material-icons">${this.options.icon}</span>`;
      this._wrapper.appendChild(this._button);
    }
    _bindEvents() {
      this._button.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        this.clear();
      });
      this.on("input", this._updateVisibility);
      this.on("change", this._updateVisibility);
      this.on("keydown", (e) => {
        if (e.key === "Escape" && this.element.value) {
          e.preventDefault();
          this.clear();
        }
      });
    }
    _updateVisibility() {
      const hasValue = this.element.value.length > 0;
      this.element.setAttribute("data-has-value", hasValue);
      if (this.options.showOnValue) {
        this._button.style.display = hasValue ? "flex" : "none";
      }
    }
    clear() {
      if (typeof this.options.onBeforeClear === "function") {
        const result = this.options.onBeforeClear(this.element.value, this);
        if (result === false)
          return;
      }
      const beforeEvent = this.emit(_SOInputClear.EVENTS.BEFORE_CLEAR, {
        value: this.element.value
      });
      if (!beforeEvent)
        return;
      const oldValue = this.element.value;
      this.element.value = "";
      this.element.dispatchEvent(new Event("input", { bubbles: true }));
      this.element.dispatchEvent(new Event("change", { bubbles: true }));
      this._updateVisibility();
      if (this.options.focusAfterClear) {
        this.element.focus();
      }
      if (typeof this.options.onClear === "function") {
        this.options.onClear(oldValue, this);
      }
      this.emit(_SOInputClear.EVENTS.CLEAR, {
        previousValue: oldValue
      });
    }
    // Public methods
    showButton() {
      this._button.style.display = "flex";
    }
    hideButton() {
      this._button.style.display = "none";
    }
    static initAll() {
      document.querySelectorAll("[data-so-input-clear]").forEach((el) => {
        if (!el._soInputClearInstance) {
          el._soInputClearInstance = new _SOInputClear(el);
        }
      });
    }
  };
  __publicField(_SOInputClear, "NAME", "input-clear");
  __publicField(_SOInputClear, "DEFAULTS", {
    // Icon to show
    icon: "close",
    // Show only when input has value
    showOnValue: true,
    // Focus input after clear
    focusAfterClear: true,
    // Callback before clear (return false to prevent)
    onBeforeClear: null,
    // Callback after clear
    onClear: null
  });
  __publicField(_SOInputClear, "EVENTS", {
    CLEAR: "input-clear:clear",
    BEFORE_CLEAR: "input-clear:before-clear"
  });
  var SOInputClear = _SOInputClear;
  function initAllFormEnhancers() {
    SOInputMask.initAll();
    SOPasswordStrength.initAll();
    SOCharCounter.initAll();
    SOInputClear.initAll();
  }
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initAllFormEnhancers);
  } else {
    initAllFormEnhancers();
  }
  var formEnhancersObserver = new MutationObserver((mutations) => {
    let shouldInit = false;
    mutations.forEach((mutation) => {
      mutation.addedNodes.forEach((node) => {
        if (node.nodeType === Node.ELEMENT_NODE) {
          if (node.matches("[data-so-input-mask], [data-so-password-strength], [data-so-char-counter], [data-so-input-clear]")) {
            shouldInit = true;
          }
          if (node.querySelector("[data-so-input-mask], [data-so-password-strength], [data-so-char-counter], [data-so-input-clear]")) {
            shouldInit = true;
          }
        }
      });
    });
    if (shouldInit) {
      initAllFormEnhancers();
    }
  });
  formEnhancersObserver.observe(document.body, { childList: true, subtree: true });
  so_config_default.registerComponent(SOInputMask);
  so_config_default.registerComponent(SOPasswordStrength);
  so_config_default.registerComponent(SOCharCounter);
  so_config_default.registerComponent(SOInputClear);

  // src/js/features/so-forms.js
  var SOForms = class _SOForms {
    /**
     * Initialize all form components on the page
     */
    static initAll() {
      document.querySelectorAll(".so-dropdown").forEach((el) => {
        SODropdown.getInstance(el);
      });
      document.querySelectorAll(".so-searchable-dropdown").forEach((el) => {
        SODropdown.getInstance(el);
      });
      document.querySelectorAll(".so-options-dropdown").forEach((el) => {
        SODropdown.getInstance(el);
      });
      document.querySelectorAll(".so-outlet-dropdown").forEach((el) => {
        SODropdown.getInstance(el);
      });
      document.querySelectorAll(".so-otp-group").forEach((el) => {
        SOOtpInput.getInstance(el);
      });
      document.querySelectorAll('[data-so-toggle="buttons"]').forEach((el) => {
        SOButtonGroup.getInstance(el);
      });
      document.querySelectorAll(".so-btn-progress[data-so-progress]").forEach((el) => {
        SOProgressButton.getInstance(el);
      });
      _SOForms._initCheckboxes();
      _SOForms._initInputEnhancements();
    }
    /**
     * Initialize custom checkbox styling
     * @private
     */
    static _initCheckboxes() {
      document.querySelectorAll('input[type="checkbox"]:not(.so-checkbox input)').forEach((checkbox) => {
        if (checkbox.closest(".so-checkbox, .so-toggle, .so-switch, .so-btn-check"))
          return;
        const wrapper = document.createElement("label");
        wrapper.className = "so-checkbox";
        const box = document.createElement("span");
        box.className = "so-checkbox-box";
        box.innerHTML = '<span class="material-icons">check</span>';
        checkbox.parentNode.insertBefore(wrapper, checkbox);
        wrapper.appendChild(checkbox);
        wrapper.appendChild(box);
      });
    }
    /**
     * Initialize input enhancements
     * @private
     */
    static _initInputEnhancements() {
      document.querySelectorAll(".so-password-toggle").forEach((btn) => {
        btn.addEventListener("click", () => {
          const wrapper = btn.closest(".so-form-input-wrapper, .so-auth-input-wrapper");
          const input = wrapper == null ? void 0 : wrapper.querySelector("input");
          if (!input)
            return;
          const isPassword = input.type === "password";
          input.type = isPassword ? "text" : "password";
          btn.querySelector(".material-icons").textContent = isPassword ? "visibility_off" : "visibility";
        });
      });
      document.querySelectorAll(".so-input-clear").forEach((btn) => {
        const wrapper = btn.closest(".so-input-wrapper, .so-form-input-wrapper");
        const input = wrapper == null ? void 0 : wrapper.querySelector("input");
        btn.addEventListener("click", () => {
          if (input) {
            input.value = "";
            input.focus();
            input.dispatchEvent(new Event("input", { bubbles: true }));
          }
        });
        if (input) {
          input.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && input.value.trim() !== "") {
              e.preventDefault();
              e.stopPropagation();
              input.value = "";
              input.dispatchEvent(new Event("input", { bubbles: true }));
            }
          });
        }
      });
      document.querySelectorAll(".so-form-floating input, .so-form-floating textarea").forEach((input) => {
        const updateState = () => {
          const hasValue = input.value.trim() !== "";
          input.classList.toggle("has-value", hasValue);
        };
        input.addEventListener("input", updateState);
        input.addEventListener("change", updateState);
        updateState();
      });
      document.querySelectorAll(".so-form-control-autosize, .so-form-control-autosize-sm, .so-form-control-autosize-lg").forEach((textarea) => {
        let defaultMinHeight = 80;
        let defaultMaxHeight = 400;
        if (textarea.classList.contains("so-form-control-autosize-sm")) {
          defaultMinHeight = 60;
          defaultMaxHeight = 200;
        } else if (textarea.classList.contains("so-form-control-autosize-lg")) {
          defaultMinHeight = 120;
          defaultMaxHeight = 600;
        }
        const options = {
          minHeight: parseInt(textarea.dataset.minHeight) || defaultMinHeight,
          maxHeight: parseInt(textarea.dataset.maxHeight) || defaultMaxHeight
        };
        SOTextareaAutosize.getInstance(textarea, options);
      });
    }
    // ============================================
    // VALIDATION
    // ============================================
    /**
     * Validate an email address
     * @param {string} email - Email to validate
     * @returns {boolean} Whether email is valid
     */
    static validateEmail(email) {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return regex.test(email);
    }
    /**
     * Validate a phone number (10 digits)
     * @param {string} phone - Phone number to validate
     * @returns {boolean} Whether phone is valid
     */
    static validatePhone(phone) {
      const cleaned = phone.replace(/[\s\-\(\)]/g, "");
      return /^[0-9]{10}$/.test(cleaned);
    }
    /**
     * Validate a required field
     * @param {string} value - Value to validate
     * @returns {boolean} Whether value is not empty
     */
    static validateRequired(value) {
      return value !== null && value !== void 0 && value.toString().trim() !== "";
    }
    /**
     * Validate minimum length
     * @param {string} value - Value to validate
     * @param {number} minLength - Minimum length
     * @returns {boolean} Whether value meets minimum length
     */
    static validateMinLength(value, minLength) {
      return value.length >= minLength;
    }
    /**
     * Validate maximum length
     * @param {string} value - Value to validate
     * @param {number} maxLength - Maximum length
     * @returns {boolean} Whether value is within maximum length
     */
    static validateMaxLength(value, maxLength) {
      return value.length <= maxLength;
    }
    /**
     * Validate password strength
     * @param {string} password - Password to validate
     * @param {Object} options - Validation options
     * @returns {Object} Validation result with individual checks
     */
    static validatePassword(password, options = {}) {
      const {
        minLength = 8,
        requireUppercase = true,
        requireLowercase = true,
        requireNumber = true,
        requireSpecial = false
      } = options;
      const result = {
        valid: true,
        length: password.length >= minLength,
        uppercase: !requireUppercase || /[A-Z]/.test(password),
        lowercase: !requireLowercase || /[a-z]/.test(password),
        number: !requireNumber || /[0-9]/.test(password),
        special: !requireSpecial || /[!@#$%^&*(),.?":{}|<>]/.test(password)
      };
      result.valid = result.length && result.uppercase && result.lowercase && result.number && result.special;
      return result;
    }
    /**
     * Validate that two values match
     * @param {string} value1 - First value
     * @param {string} value2 - Second value
     * @returns {boolean} Whether values match
     */
    static validateMatch(value1, value2) {
      return value1 === value2;
    }
    // ============================================
    // FORM STATE
    // ============================================
    /**
     * Show error state on a form group
     * @param {string} fieldId - Field ID (without 'Group' suffix)
     * @param {string} message - Error message
     */
    static showError(fieldId, message) {
      const group = document.getElementById(`${fieldId}Group`);
      const errorEl = document.getElementById(`${fieldId}Error`);
      if (group) {
        group.classList.remove("has-success", "has-warning", "has-info");
        group.classList.add("has-error");
      }
      if (errorEl && message) {
        errorEl.textContent = message;
      }
    }
    /**
     * Show success state on a form group
     * @param {string} fieldId - Field ID (without 'Group' suffix)
     * @param {string} message - Success message (optional)
     */
    static showSuccess(fieldId, message = "") {
      const group = document.getElementById(`${fieldId}Group`);
      const successEl = document.getElementById(`${fieldId}Success`);
      if (group) {
        group.classList.remove("has-error", "has-warning", "has-info");
        group.classList.add("has-success");
      }
      if (successEl && message) {
        successEl.textContent = message;
      }
    }
    /**
     * Show warning state on a form group
     * @param {string} fieldId - Field ID (without 'Group' suffix)
     * @param {string} message - Warning message
     */
    static showWarning(fieldId, message) {
      const group = document.getElementById(`${fieldId}Group`);
      const warningEl = document.getElementById(`${fieldId}Warning`);
      if (group) {
        group.classList.remove("has-error", "has-success", "has-info");
        group.classList.add("has-warning");
      }
      if (warningEl && message) {
        warningEl.textContent = message;
      }
    }
    /**
     * Show info state on a form group
     * @param {string} fieldId - Field ID (without 'Group' suffix)
     * @param {string} message - Info message
     */
    static showInfo(fieldId, message) {
      const group = document.getElementById(`${fieldId}Group`);
      const infoEl = document.getElementById(`${fieldId}Info`);
      if (group) {
        group.classList.remove("has-error", "has-success", "has-warning");
        group.classList.add("has-info");
      }
      if (infoEl && message) {
        infoEl.textContent = message;
      }
    }
    /**
     * Clear error state on a form group
     * @param {string} fieldId - Field ID (without 'Group' suffix)
     */
    static clearError(fieldId) {
      const group = document.getElementById(`${fieldId}Group`);
      if (group) {
        group.classList.remove("has-error");
      }
    }
    /**
     * Clear all validation states on a form group
     * @param {string} fieldId - Field ID (without 'Group' suffix)
     */
    static clearValidation(fieldId) {
      const group = document.getElementById(`${fieldId}Group`);
      if (group) {
        group.classList.remove("has-error", "has-success", "has-warning", "has-info");
      }
    }
    /**
     * Clear all errors in a form
     * @param {HTMLFormElement|string} form - Form element or selector
     */
    static clearAllErrors(form) {
      const formEl = typeof form === "string" ? document.querySelector(form) : form;
      if (!formEl)
        return;
      formEl.querySelectorAll(".has-error").forEach((el) => {
        el.classList.remove("has-error");
      });
    }
    /**
     * Set loading state on a button
     * @param {HTMLButtonElement|string} button - Button element or selector
     * @param {boolean} isLoading - Whether to show loading state
     */
    static setButtonLoading(button, isLoading) {
      const btn = typeof button === "string" ? document.querySelector(button) : button;
      if (!btn)
        return;
      if (isLoading) {
        btn.classList.add("so-loading");
        btn.disabled = true;
      } else {
        btn.classList.remove("so-loading");
        btn.disabled = false;
      }
    }
    /**
     * Get form data as an object
     * @param {HTMLFormElement|string} form - Form element or selector
     * @returns {Object} Form data object
     */
    static getFormData(form) {
      const formEl = typeof form === "string" ? document.querySelector(form) : form;
      if (!formEl)
        return {};
      const formData = new FormData(formEl);
      const data = {};
      for (const [key, value] of formData.entries()) {
        if (data[key]) {
          if (!Array.isArray(data[key])) {
            data[key] = [data[key]];
          }
          data[key].push(value);
        } else {
          data[key] = value;
        }
      }
      return data;
    }
    /**
     * Set form data from an object
     * @param {HTMLFormElement|string} form - Form element or selector
     * @param {Object} data - Data object
     */
    static setFormData(form, data) {
      const formEl = typeof form === "string" ? document.querySelector(form) : form;
      if (!formEl)
        return;
      Object.entries(data).forEach(([name, value]) => {
        const field = formEl.elements[name];
        if (!field)
          return;
        if (field.type === "checkbox") {
          field.checked = !!value;
        } else if (field.type === "radio") {
          const radio = formEl.querySelector(`input[name="${name}"][value="${value}"]`);
          if (radio)
            radio.checked = true;
        } else {
          field.value = value;
        }
      });
    }
    /**
     * Reset form to initial state
     * @param {HTMLFormElement|string} form - Form element or selector
     */
    static resetForm(form) {
      const formEl = typeof form === "string" ? document.querySelector(form) : form;
      if (!formEl)
        return;
      formEl.reset();
      _SOForms.clearAllErrors(formEl);
    }
    // ============================================
    // MASKING
    // ============================================
    /**
     * Mask an email address
     * @param {string} email - Email to mask
     * @returns {string} Masked email
     */
    static maskEmail(email) {
      const [local, domain] = email.split("@");
      if (!domain)
        return email;
      const maskedLocal = local.charAt(0) + "*".repeat(Math.min(local.length - 2, 4)) + local.charAt(local.length - 1);
      return `${maskedLocal}@${domain}`;
    }
    /**
     * Mask a phone number
     * @param {string} phone - Phone number to mask
     * @returns {string} Masked phone
     */
    static maskPhone(phone) {
      const cleaned = phone.replace(/[\s\-\(\)]/g, "");
      if (cleaned.length < 4)
        return phone;
      return cleaned.slice(0, 2) + "*".repeat(cleaned.length - 4) + cleaned.slice(-2);
    }
  };
  var SOTextareaAutosize = class _SOTextareaAutosize {
    /**
     * Create autosize textarea
     * @param {HTMLTextAreaElement} element - The textarea element
     * @param {Object} options - Configuration options
     */
    constructor(element, options = {}) {
      this.element = element;
      this.options = __spreadValues({
        minHeight: options.minHeight || 80,
        maxHeight: options.maxHeight || 400
      }, options);
      this._init();
    }
    /**
     * Initialize the autosize functionality
     * @private
     */
    _init() {
      this._originalStyles = {
        height: this.element.style.height,
        overflow: this.element.style.overflow,
        resize: this.element.style.resize
      };
      this.element.style.overflow = "hidden";
      this.element.style.resize = "none";
      this.element.style.minHeight = `${this.options.minHeight}px`;
      this.element.style.maxHeight = `${this.options.maxHeight}px`;
      this._boundResize = this._resize.bind(this);
      this.element.addEventListener("input", this._boundResize);
      this.element.addEventListener("change", this._boundResize);
      this._resize();
      this._boundWindowResize = this._resize.bind(this);
      window.addEventListener("resize", this._boundWindowResize);
    }
    /**
     * Resize the textarea based on content
     * @private
     */
    _resize() {
      this.element.style.height = "auto";
      const scrollHeight = this.element.scrollHeight;
      const newHeight = Math.min(
        Math.max(scrollHeight, this.options.minHeight),
        this.options.maxHeight
      );
      this.element.style.height = `${newHeight}px`;
      if (scrollHeight > this.options.maxHeight) {
        this.element.style.overflow = "auto";
      } else {
        this.element.style.overflow = "hidden";
      }
      this.element.dispatchEvent(new CustomEvent("so:autosize", {
        detail: { height: newHeight, scrollHeight }
      }));
    }
    /**
     * Update the content and resize
     * @param {string} value - New value
     */
    update(value) {
      this.element.value = value;
      this._resize();
    }
    /**
     * Destroy the autosize instance
     */
    destroy() {
      this.element.removeEventListener("input", this._boundResize);
      this.element.removeEventListener("change", this._boundResize);
      window.removeEventListener("resize", this._boundWindowResize);
      this.element.style.height = this._originalStyles.height;
      this.element.style.overflow = this._originalStyles.overflow;
      this.element.style.resize = this._originalStyles.resize;
      this.element.style.minHeight = "";
      this.element.style.maxHeight = "";
      delete this.element._soAutosize;
    }
    /**
     * Get or create instance for element
     * @param {HTMLTextAreaElement} element - The textarea element
     * @param {Object} options - Configuration options
     * @returns {SOTextareaAutosize}
     */
    static getInstance(element, options = {}) {
      if (!element._soAutosize) {
        element._soAutosize = new _SOTextareaAutosize(element, options);
      }
      return element._soAutosize;
    }
  };
  document.addEventListener("DOMContentLoaded", () => {
    SOForms.initAll();
  });
  window.SOForms = SOForms;
  window.SOTextareaAutosize = SOTextareaAutosize;
  window.SOButtonGroup = SOButtonGroup;
  window.SOProgressButton = SOProgressButton;
  var so_forms_default = SOForms;

  // src/js/ui-engine/core/Element.js
  var _Element = class _Element extends so_component_default {
    /**
     * Create a new Element
     * @param {Element|Object} elementOrConfig - DOM element or config object
     * @param {Object} [options={}] - Additional options
     */
    constructor(elementOrConfig, options = {}) {
      if (elementOrConfig && typeof elementOrConfig === "object" && !elementOrConfig.nodeType) {
        const config = elementOrConfig;
        super(null, {});
        this.element = null;
        this._config = config;
        this._initFromConfig(config);
      } else {
        super(elementOrConfig, options);
        this._config = options;
      }
      this._extraClasses = /* @__PURE__ */ new Set();
      this._extraAttributes = /* @__PURE__ */ new Map();
      this._dataAttributes = /* @__PURE__ */ new Map();
      this._children = [];
    }
    /**
     * Initialize from config object
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      this.options = __spreadValues(__spreadValues({}, this.constructor.DEFAULTS), config);
      this._type = config.type || "element";
      this._tagName = config.tagName || "div";
      this._id = config.id || null;
      this._content = config.content || null;
      if (config.class) {
        const classes = Array.isArray(config.class) ? config.class : String(config.class).split(/\s+/);
        classes.forEach((cls) => this._extraClasses.add(cls));
      }
      if (config.attributes) {
        Object.entries(config.attributes).forEach(([key, value]) => {
          this._extraAttributes.set(key, value);
        });
      }
      if (config.data) {
        Object.entries(config.data).forEach(([key, value]) => {
          this._dataAttributes.set(key, value);
        });
      }
    }
    /**
     * Factory method to create from config
     * @param {Object} config
     * @returns {Element}
     */
    static make(config = {}) {
      return new this(config);
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set element ID
     * @param {string} id
     * @returns {this}
     */
    setId(id) {
      this._id = id;
      if (this.element) {
        this.element.id = id;
      }
      return this;
    }
    /**
     * Get element ID
     * @returns {string|null}
     */
    getId() {
      return this._id;
    }
    /**
     * Set element ID (alias for setId)
     * @param {string} id
     * @returns {this}
     */
    id(id) {
      return this.setId(id);
    }
    /**
     * Add CSS class
     * @param {string} className
     * @returns {this}
     */
    setClass(className) {
      const classes = String(className).split(/\s+/);
      classes.forEach((cls) => {
        if (cls)
          this._extraClasses.add(cls);
      });
      if (this.element) {
        this.element.classList.add(...classes.filter(Boolean));
      }
      return this;
    }
    /**
     * Remove CSS class
     * @param {string} className
     * @returns {this}
     */
    unsetClass(className) {
      const classes = String(className).split(/\s+/);
      classes.forEach((cls) => this._extraClasses.delete(cls));
      if (this.element) {
        this.element.classList.remove(...classes);
      }
      return this;
    }
    /**
     * Set HTML attribute
     * @param {string} name
     * @param {*} value
     * @returns {this}
     */
    setAttr(name, value) {
      this._extraAttributes.set(name, value);
      if (this.element) {
        if (value === true) {
          this.element.setAttribute(name, "");
        } else if (value !== false && value !== null) {
          this.element.setAttribute(name, value);
        }
      }
      return this;
    }
    /**
     * Get HTML attribute
     * @param {string} name
     * @returns {*}
     */
    getAttr(name) {
      var _a;
      return (_a = this._extraAttributes.get(name)) != null ? _a : this.element ? this.element.getAttribute(name) : null;
    }
    /**
     * Remove HTML attribute
     * @param {string} name
     * @returns {this}
     */
    removeAttr(name) {
      this._extraAttributes.delete(name);
      if (this.element) {
        this.element.removeAttribute(name);
      }
      return this;
    }
    /**
     * Set data attribute
     * @param {string} name - Without data- prefix
     * @param {*} value
     * @returns {this}
     */
    setDataAttr(name, value) {
      this._dataAttributes.set(name, value);
      if (this.element) {
        this.element.dataset[this._camelCase(name)] = value;
      }
      return this;
    }
    /**
     * Get data attribute
     * @param {string} name
     * @returns {*}
     */
    getDataAttr(name) {
      var _a;
      return (_a = this._dataAttributes.get(name)) != null ? _a : this.element ? this.element.dataset[this._camelCase(name)] : null;
    }
    /**
     * Set text content
     * @param {string} content
     * @returns {this}
     */
    setContent(content) {
      this._content = content;
      if (this.element) {
        this.element.textContent = content;
      }
      return this;
    }
    /**
     * Conditional fluent method
     * @param {boolean} condition
     * @param {Function} callback
     * @param {Function} [fallback]
     * @returns {this}
     */
    when(condition, callback, fallback = null) {
      if (condition) {
        callback(this);
      } else if (fallback) {
        fallback(this);
      }
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get the HTML tag name
     * @returns {string}
     */
    getTagName() {
      return this._tagName || "div";
    }
    /**
     * Get element type
     * @returns {string}
     */
    getType() {
      return this._type || "element";
    }
    /**
     * Check if element is self-closing
     * @returns {boolean}
     */
    isSelfClosing() {
      const voidElements = [
        "area",
        "base",
        "br",
        "col",
        "embed",
        "hr",
        "img",
        "input",
        "link",
        "meta",
        "param",
        "source",
        "track",
        "wbr"
      ];
      return voidElements.includes(this.getTagName());
    }
    /**
     * Build CSS class string
     * @returns {string}
     */
    buildClassString() {
      return Array.from(this._extraClasses).join(" ");
    }
    /**
     * Build attributes object
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = {};
      if (this._id) {
        attrs.id = this._id;
      }
      const classString = this.buildClassString();
      if (classString) {
        attrs.class = classString;
      }
      this._extraAttributes.forEach((value, key) => {
        attrs[key] = value;
      });
      this._dataAttributes.forEach((value, key) => {
        attrs[`data-${this._kebabCase(key)}`] = value;
      });
      return attrs;
    }
    /**
     * Build attributes string for HTML
     * @returns {string}
     */
    buildAttributeString() {
      const attrs = this.buildAttributes();
      const parts = [];
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === false || value === null || value === void 0) {
          return;
        }
        if (value === true) {
          parts.push(this._escapeHtml(name));
        } else {
          parts.push(`${this._escapeHtml(name)}="${this._escapeHtml(String(value))}"`);
        }
      });
      return parts.join(" ");
    }
    /**
     * Render content inside the element
     * @returns {string}
     */
    renderContent() {
      let html = "";
      if (this._content) {
        html += this._escapeHtml(this._content);
      }
      this._children.forEach((child) => {
        if (child instanceof _Element) {
          html += child.toHtml();
        } else if (typeof child === "string") {
          html += this._escapeHtml(child);
        }
      });
      return html;
    }
    /**
     * Render to DOM element
     * @returns {HTMLElement}
     */
    render() {
      const el = document.createElement(this.getTagName());
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          el.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          el.setAttribute(name, value);
        }
      });
      if (!this.isSelfClosing()) {
        if (this._content) {
          el.textContent = this._content;
        }
        this._children.forEach((child) => {
          if (child instanceof _Element) {
            el.appendChild(child.render());
          } else if (child instanceof HTMLElement) {
            el.appendChild(child);
          } else if (typeof child === "string") {
            el.appendChild(document.createTextNode(child));
          }
        });
      }
      this.element = el;
      return el;
    }
    /**
     * Render to HTML string
     * @returns {string}
     */
    toHtml() {
      const tag = this.getTagName();
      const attrs = this.buildAttributeString();
      const attrStr = attrs ? ` ${attrs}` : "";
      if (this.isSelfClosing()) {
        return `<${tag}${attrStr}>`;
      }
      return `<${tag}${attrStr}>${this.renderContent()}</${tag}>`;
    }
    /**
     * Append to a container
     * @param {Element|HTMLElement|string} container
     * @returns {this}
     */
    appendTo(container) {
      const target = typeof container === "string" ? document.querySelector(container) : container instanceof _Element ? container.element : container;
      if (target) {
        target.appendChild(this.render());
      }
      return this;
    }
    /**
     * Prepend to a container
     * @param {Element|HTMLElement|string} container
     * @returns {this}
     */
    prependTo(container) {
      const target = typeof container === "string" ? document.querySelector(container) : container instanceof _Element ? container.element : container;
      if (target) {
        target.insertBefore(this.render(), target.firstChild);
      }
      return this;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config object
     * @returns {Object}
     */
    toConfig() {
      const config = {
        type: this.getType()
      };
      if (this._id)
        config.id = this._id;
      if (this._extraClasses.size > 0)
        config.class = Array.from(this._extraClasses);
      if (this._extraAttributes.size > 0)
        config.attributes = Object.fromEntries(this._extraAttributes);
      if (this._dataAttributes.size > 0)
        config.data = Object.fromEntries(this._dataAttributes);
      if (this._content)
        config.content = this._content;
      if (this._children.length > 0) {
        config.children = this._children.map(
          (child) => child instanceof _Element ? child.toConfig() : child
        );
      }
      return config;
    }
    /**
     * Convert to JSON string
     * @param {number} [indent]
     * @returns {string}
     */
    toJson(indent = 0) {
      return JSON.stringify(this.toConfig(), null, indent);
    }
    // ==================
    // Utility Methods
    // ==================
    /**
     * Convert to camelCase
     * @param {string} str
     * @returns {string}
     * @private
     */
    _camelCase(str) {
      return str.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase());
    }
    /**
     * Convert to kebab-case
     * @param {string} str
     * @returns {string}
     * @private
     */
    _kebabCase(str) {
      return str.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
    }
    /**
     * Escape HTML special characters
     * @param {string} str
     * @returns {string}
     * @private
     */
    _escapeHtml(str) {
      const div = document.createElement("div");
      div.textContent = str;
      return div.innerHTML.replace(/"/g, "&quot;").replace(/'/g, "&#39;");
    }
    /**
     * Dispatch custom event on the element
     * @param {string} eventName - Event name (e.g., 'so:progress:change')
     * @param {Object} detail - Event detail data
     * @private
     */
    _dispatchEvent(eventName, detail = {}) {
      if (this.element) {
        const event = new CustomEvent(eventName, {
          bubbles: true,
          cancelable: true,
          detail
        });
        this.element.dispatchEvent(event);
      }
    }
    /**
     * Clone the element
     * @returns {Element}
     */
    clone() {
      const config = this.toConfig();
      return this.constructor.make(config);
    }
  };
  __publicField(_Element, "NAME", "ui-element");
  __publicField(_Element, "DEFAULTS", {
    type: "element",
    tagName: "div",
    renderMode: "dom"
    // 'dom' | 'html'
  });
  var Element2 = _Element;

  // src/js/ui-engine/core/FormElement.js
  var FormElement = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      var _a;
      super._initFromConfig(config);
      this._name = config.name || null;
      this._label = config.label || null;
      this._value = (_a = config.value) != null ? _a : null;
      this._placeholder = config.placeholder || null;
      this._help = config.help || null;
      this._disabled = config.disabled || false;
      this._readonly = config.readonly || false;
      this._required = config.required || false;
      this._error = config.error || null;
      this._rules = config.rules || {};
      this._messages = config.messages || {};
      this._eventHandlers = config.events || {};
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set field name
     * @param {string} name
     * @returns {this}
     */
    setName(name) {
      this._name = name;
      return this;
    }
    /**
     * Get field name
     * @returns {string|null}
     */
    getName() {
      return this._name;
    }
    /**
     * Set label
     * @param {string} label
     * @returns {this}
     */
    setLabel(label) {
      this._label = label;
      return this;
    }
    /**
     * Get label
     * @returns {string|null}
     */
    getLabel() {
      return this._label;
    }
    /**
     * Set value
     * @param {*} value
     * @returns {this}
     */
    setValue(value) {
      this._value = value;
      if (this.element) {
        this.element.value = value;
      }
      return this;
    }
    /**
     * Get value
     * @returns {*}
     */
    getValue() {
      if (this.element) {
        return this.element.value;
      }
      return this._value;
    }
    /**
     * Set placeholder
     * @param {string} placeholder
     * @returns {this}
     */
    setPlaceholder(placeholder) {
      this._placeholder = placeholder;
      return this;
    }
    /**
     * Get placeholder
     * @returns {string|null}
     */
    getPlaceholder() {
      return this._placeholder;
    }
    /**
     * Set help text
     * @param {string} help
     * @returns {this}
     */
    setHelp(help) {
      this._help = help;
      return this;
    }
    /**
     * Get help text
     * @returns {string|null}
     */
    getHelp() {
      return this._help;
    }
    /**
     * Set disabled state
     * @param {boolean} disabled
     * @returns {this}
     */
    setDisabled(disabled = true) {
      this._disabled = disabled;
      if (this.element) {
        this.element.disabled = disabled;
      }
      return this;
    }
    /**
     * Check if disabled
     * @returns {boolean}
     */
    isDisabled() {
      return this._disabled;
    }
    /**
     * Set readonly state
     * @param {boolean} readonly
     * @returns {this}
     */
    setReadonly(readonly = true) {
      this._readonly = readonly;
      if (this.element) {
        this.element.readOnly = readonly;
      }
      return this;
    }
    /**
     * Check if readonly
     * @returns {boolean}
     */
    isReadonly() {
      return this._readonly;
    }
    /**
     * Set required state
     * @param {boolean} required
     * @returns {this}
     */
    setRequired(required = true) {
      this._required = required;
      if (!this._rules.required && required) {
        this._rules.required = true;
      }
      return this;
    }
    /**
     * Check if required
     * @returns {boolean}
     */
    isRequired() {
      return this._required || !!this._rules.required;
    }
    // ==================
    // Validation
    // ==================
    /**
     * Set validation rules
     * @param {Object|string} rules
     * @returns {this}
     */
    setRules(rules2) {
      if (typeof rules2 === "string") {
        this._rules = this._parseRuleString(rules2);
      } else {
        this._rules = __spreadValues(__spreadValues({}, this._rules), rules2);
      }
      return this;
    }
    /**
     * Get validation rules
     * @returns {Object}
     */
    getRules() {
      return this._rules;
    }
    /**
     * Check if has rules
     * @returns {boolean}
     */
    hasRules() {
      return Object.keys(this._rules).length > 0;
    }
    /**
     * Add a validation rule
     * @param {string} rule
     * @param {*} params
     * @returns {this}
     */
    addRule(rule, params = true) {
      this._rules[rule] = params;
      return this;
    }
    /**
     * Set custom validation messages
     * @param {Object} messages
     * @returns {this}
     */
    setMessages(messages) {
      this._messages = __spreadValues(__spreadValues({}, this._messages), messages);
      return this;
    }
    /**
     * Get custom messages
     * @returns {Object}
     */
    getMessages() {
      return this._messages;
    }
    /**
     * Parse rule string like "required|email|max:255"
     * @param {string} rules
     * @returns {Object}
     * @private
     */
    _parseRuleString(rules2) {
      const parsed = {};
      rules2.split("|").forEach((rule) => {
        rule = rule.trim();
        if (!rule)
          return;
        if (rule.includes(":")) {
          const [name, params] = rule.split(":", 2);
          parsed[name] = params.includes(",") ? params.split(",") : params;
        } else {
          parsed[rule] = true;
        }
      });
      return parsed;
    }
    // ==================
    // Error Handling
    // ==================
    /**
     * Set error message
     * @param {string|null} error
     * @returns {this}
     */
    setError(error) {
      this._error = error;
      if (this.element) {
        if (error) {
          this.element.classList.add(so_config_default.cls("is-invalid"));
          this._updateErrorDisplay(error);
        } else {
          this.element.classList.remove(so_config_default.cls("is-invalid"));
          this._updateErrorDisplay(null);
        }
      }
      return this;
    }
    /**
     * Get error message
     * @returns {string|null}
     */
    getError() {
      return this._error;
    }
    /**
     * Check if has error
     * @returns {boolean}
     */
    hasError() {
      return this._error !== null;
    }
    /**
     * Clear error
     * @returns {this}
     */
    clearError() {
      return this.setError(null);
    }
    /**
     * Update error display in DOM
     * @param {string|null} error
     * @private
     */
    _updateErrorDisplay(error) {
      const wrapper = this.element.closest(so_config_default.sel("form-group"));
      if (!wrapper)
        return;
      let errorEl = wrapper.querySelector(so_config_default.sel("invalid-feedback"));
      if (error) {
        if (!errorEl) {
          errorEl = document.createElement("div");
          errorEl.className = so_config_default.cls("invalid-feedback");
          wrapper.appendChild(errorEl);
        }
        errorEl.textContent = error;
        errorEl.style.display = "block";
      } else if (errorEl) {
        errorEl.style.display = "none";
      }
    }
    // ==================
    // Events
    // ==================
    /**
     * Set event handler
     * @param {string} event
     * @param {string|Function} handler
     * @returns {this}
     */
    onEvent(event, handler) {
      this._eventHandlers[event] = handler;
      return this;
    }
    /**
     * Set change handler
     * @param {string|Function} handler
     * @returns {this}
     */
    onChange(handler) {
      return this.onEvent("change", handler);
    }
    /**
     * Set blur handler
     * @param {string|Function} handler
     * @returns {this}
     */
    onBlur(handler) {
      return this.onEvent("blur", handler);
    }
    /**
     * Set focus handler
     * @param {string|Function} handler
     * @returns {this}
     */
    onFocus(handler) {
      return this.onEvent("focus", handler);
    }
    /**
     * Set input handler
     * @param {string|Function} handler
     * @returns {this}
     */
    onInput(handler) {
      return this.onEvent("input", handler);
    }
    // ==================
    // Validation Convenience
    // ==================
    /** Required validation */
    required() {
      return this.addRule("required", true);
    }
    /** Email validation */
    email() {
      return this.addRule("email", true);
    }
    /** Min length/value */
    min(value) {
      return this.addRule("min", value);
    }
    /** Max length/value */
    max(value) {
      return this.addRule("max", value);
    }
    /** Between range */
    between(min, max) {
      return this.addRule("between", [min, max]);
    }
    /** Numeric validation */
    numeric() {
      return this.addRule("numeric", true);
    }
    /** Integer validation */
    integer() {
      return this.addRule("integer", true);
    }
    /** URL validation */
    url() {
      return this.addRule("url", true);
    }
    /** Pattern validation */
    pattern(regex) {
      return this.addRule("regex", regex);
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build attributes including form-specific ones
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      if (this._name)
        attrs.name = this._name;
      if (this._placeholder)
        attrs.placeholder = this._placeholder;
      if (this._disabled)
        attrs.disabled = true;
      if (this._readonly)
        attrs.readonly = true;
      if (this.isRequired())
        attrs.required = true;
      if (this._value !== null && this._shouldRenderValueAttr()) {
        attrs.value = this._value;
      }
      return attrs;
    }
    /**
     * Whether to render value as attribute
     * @returns {boolean}
     * @protected
     */
    _shouldRenderValueAttr() {
      return true;
    }
    /**
     * Build CSS class string
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("form-control"));
      if (this._error) {
        this._extraClasses.add(so_config_default.cls("is-invalid"));
      }
      return super.buildClassString();
    }
    /**
     * Render with label and help
     * @returns {HTMLElement}
     */
    renderGroup() {
      const group = document.createElement("div");
      group.className = so_config_default.cls("form-group");
      if (this._label) {
        const label = document.createElement("label");
        label.className = so_config_default.cls("form-label");
        label.textContent = this._label;
        if (this._id) {
          label.setAttribute("for", this._id);
        }
        if (this.isRequired()) {
          const star = document.createElement("span");
          star.className = so_config_default.cls("text-danger");
          star.textContent = " *";
          label.appendChild(star);
        }
        group.appendChild(label);
      }
      group.appendChild(this.render());
      if (this._help) {
        const help = document.createElement("div");
        help.className = so_config_default.cls("form-text");
        help.textContent = this._help;
        group.appendChild(help);
      }
      if (this._error) {
        const error = document.createElement("div");
        error.className = so_config_default.cls("invalid-feedback");
        error.style.display = "block";
        error.textContent = this._error;
        group.appendChild(error);
      }
      return group;
    }
    /**
     * Attach event handlers after render
     * @protected
     */
    _attachEventHandlers() {
      if (!this.element)
        return;
      Object.entries(this._eventHandlers).forEach(([event, handler]) => {
        if (typeof handler === "function") {
          this.element.addEventListener(event, handler);
        } else if (typeof handler === "string" && typeof window[handler] === "function") {
          this.element.addEventListener(event, window[handler]);
        }
      });
    }
    /**
     * Render to DOM
     * @returns {HTMLElement}
     */
    render() {
      const el = super.render();
      this._attachEventHandlers();
      return el;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config object
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._name)
        config.name = this._name;
      if (this._label)
        config.label = this._label;
      if (this._value !== null)
        config.value = this._value;
      if (this._placeholder)
        config.placeholder = this._placeholder;
      if (this._help)
        config.help = this._help;
      if (this._disabled)
        config.disabled = true;
      if (this._readonly)
        config.readonly = true;
      if (this._required)
        config.required = true;
      if (Object.keys(this._rules).length > 0)
        config.rules = this._rules;
      if (Object.keys(this._messages).length > 0)
        config.messages = this._messages;
      if (Object.keys(this._eventHandlers).length > 0)
        config.events = this._eventHandlers;
      return config;
    }
    /**
     * Export validation for JS engine
     * @returns {Object}
     */
    exportValidation() {
      return {
        rules: this._rules,
        messages: this._messages
      };
    }
  };
  __publicField(FormElement, "NAME", "ui-form-element");
  __publicField(FormElement, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "form-element",
    inputType: "text"
  }));

  // src/js/ui-engine/core/ContainerElement.js
  var _ContainerElement = class _ContainerElement extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      if (config.children && Array.isArray(config.children)) {
        config.children.forEach((childConfig) => {
          if (childConfig instanceof Element2) {
            this._children.push(childConfig);
          } else if (typeof childConfig === "object") {
            const child = this._createChildFromConfig(childConfig);
            if (child) {
              this._children.push(child);
            }
          }
        });
      }
    }
    /**
     * Create child element from config
     * @param {Object} config
     * @returns {Element|null}
     * @protected
     */
    _createChildFromConfig(config) {
      return config;
    }
    // ==================
    // Children Management
    // ==================
    /**
     * Get all children
     * @returns {Array}
     */
    getChildren() {
      return [...this._children];
    }
    /**
     * Add a child element
     * @param {Element|Object} element
     * @returns {this}
     */
    add(element) {
      if (element instanceof Element2) {
        this._children.push(element);
      } else if (typeof element === "object") {
        const child = this._createChildFromConfig(element);
        if (child) {
          this._children.push(child);
        }
      }
      return this;
    }
    /**
     * Add multiple children
     * @param {Array} elements
     * @returns {this}
     */
    addMany(elements) {
      elements.forEach((el) => this.add(el));
      return this;
    }
    /**
     * Prepend a child
     * @param {Element|Object} element
     * @returns {this}
     */
    prepend(element) {
      if (element instanceof Element2) {
        this._children.unshift(element);
      } else if (typeof element === "object") {
        const child = this._createChildFromConfig(element);
        if (child) {
          this._children.unshift(child);
        }
      }
      return this;
    }
    /**
     * Insert at specific index
     * @param {number} index
     * @param {Element|Object} element
     * @returns {this}
     */
    insertAt(index, element) {
      let child = element;
      if (!(element instanceof Element2) && typeof element === "object") {
        child = this._createChildFromConfig(element);
      }
      if (child) {
        this._children.splice(index, 0, child);
      }
      return this;
    }
    /**
     * Remove a child
     * @param {Element|string} element - Element or ID
     * @returns {this}
     */
    remove(element) {
      if (typeof element === "string") {
        this._children = this._children.filter(
          (child) => !(child instanceof Element2) || child.getId() !== element
        );
      } else {
        this._children = this._children.filter((child) => child !== element);
      }
      return this;
    }
    /**
     * Remove child at index
     * @param {number} index
     * @returns {this}
     */
    removeAt(index) {
      this._children.splice(index, 1);
      return this;
    }
    /**
     * Check if has children
     * @returns {boolean}
     */
    hasChildren() {
      return this._children.length > 0;
    }
    /**
     * Get child count
     * @returns {number}
     */
    count() {
      return this._children.length;
    }
    /**
     * Clear all children
     * @returns {this}
     */
    clear() {
      this._children = [];
      return this;
    }
    /**
     * Find child by ID
     * @param {string} id
     * @returns {Element|null}
     */
    find(id) {
      for (const child of this._children) {
        if (child instanceof Element2) {
          if (child.getId() === id) {
            return child;
          }
          if (child instanceof _ContainerElement) {
            const found = child.find(id);
            if (found)
              return found;
          }
        }
      }
      return null;
    }
    /**
     * Find all matching a callback
     * @param {Function} callback
     * @returns {Array}
     */
    findAll(callback) {
      const found = [];
      for (const child of this._children) {
        if (child instanceof Element2) {
          if (callback(child)) {
            found.push(child);
          }
          if (child instanceof _ContainerElement) {
            found.push(...child.findAll(callback));
          }
        }
      }
      return found;
    }
    /**
     * Find first matching callback
     * @param {Function} callback
     * @returns {Element|null}
     */
    findFirst(callback) {
      for (const child of this._children) {
        if (child instanceof Element2) {
          if (callback(child)) {
            return child;
          }
          if (child instanceof _ContainerElement) {
            const found = child.findFirst(callback);
            if (found)
              return found;
          }
        }
      }
      return null;
    }
    /**
     * Find by name (for form elements)
     * @param {string} name
     * @returns {Element|null}
     */
    findByName(name) {
      return this.findFirst(
        (el) => typeof el.getName === "function" && el.getName() === name
      );
    }
    /**
     * Get all form elements
     * @returns {Array}
     */
    getFormElements() {
      return this.findAll((el) => typeof el.getName === "function");
    }
    /**
     * Get child at index
     * @param {number} index
     * @returns {Element|null}
     */
    getChildAt(index) {
      return this._children[index] || null;
    }
    /**
     * Get first child
     * @returns {Element|null}
     */
    first() {
      return this._children[0] || null;
    }
    /**
     * Get last child
     * @returns {Element|null}
     */
    last() {
      return this._children[this._children.length - 1] || null;
    }
    /**
     * Map over children
     * @param {Function} callback
     * @returns {Array}
     */
    map(callback) {
      return this._children.map(callback);
    }
    /**
     * Execute for each child
     * @param {Function} callback
     * @returns {this}
     */
    each(callback) {
      this._children.forEach(callback);
      return this;
    }
    /**
     * Filter children
     * @param {Function} callback
     * @returns {this}
     */
    filter(callback) {
      this._children = this._children.filter(callback);
      return this;
    }
    // ==================
    // Data Operations
    // ==================
    /**
     * Fill form elements with data
     * @param {Object} data
     * @returns {this}
     */
    fill(data) {
      this.getFormElements().forEach((element) => {
        const name = element.getName();
        if (name && data.hasOwnProperty(name)) {
          element.setValue(data[name]);
        }
      });
      return this;
    }
    /**
     * Set errors on form elements
     * @param {Object} errors
     * @returns {this}
     */
    setErrors(errors) {
      this.getFormElements().forEach((element) => {
        const name = element.getName();
        if (name && errors[name]) {
          const error = Array.isArray(errors[name]) ? errors[name][0] : errors[name];
          element.setError(error);
        }
      });
      return this;
    }
    /**
     * Clear all errors
     * @returns {this}
     */
    clearErrors() {
      this.getFormElements().forEach((element) => {
        if (typeof element.clearError === "function") {
          element.clearError();
        }
      });
      return this;
    }
    /**
     * Get values from all form elements
     * @returns {Object}
     */
    getValues() {
      const values = {};
      this.getFormElements().forEach((element) => {
        const name = element.getName();
        if (name) {
          values[name] = element.getValue();
        }
      });
      return values;
    }
    /**
     * Export validation rules
     * @returns {Object}
     */
    exportValidation() {
      const rules2 = {};
      this.getFormElements().forEach((element) => {
        const name = element.getName();
        if (name && typeof element.hasRules === "function" && element.hasRules()) {
          rules2[name] = element.exportValidation();
        }
      });
      return rules2;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Render children
     * @returns {DocumentFragment}
     */
    renderChildren() {
      const fragment = document.createDocumentFragment();
      this._children.forEach((child) => {
        if (child instanceof Element2) {
          fragment.appendChild(child.render());
        } else if (child instanceof HTMLElement) {
          fragment.appendChild(child);
        } else if (typeof child === "string") {
          fragment.appendChild(document.createTextNode(child));
        } else if (typeof child === "object" && child.type) {
          if (window.UiEngine) {
            const element = window.UiEngine.fromConfig(child);
            fragment.appendChild(element.render());
          }
        }
      });
      return fragment;
    }
    /**
     * Render content (children HTML)
     * @returns {string}
     */
    renderContent() {
      let html = super.renderContent();
      this._children.forEach((child) => {
        if (child instanceof Element2) {
          html += child.toHtml();
        } else if (typeof child === "string") {
          html += this._escapeHtml(child);
        } else if (typeof child === "object" && child.type) {
          if (window.UiEngine) {
            const element = window.UiEngine.fromConfig(child);
            html += element.toHtml();
          }
        }
      });
      return html;
    }
    /**
     * Render to DOM
     * @returns {HTMLElement}
     */
    render() {
      const el = document.createElement(this.getTagName());
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          el.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          el.setAttribute(name, value);
        }
      });
      if (this._content) {
        el.appendChild(document.createTextNode(this._content));
      }
      el.appendChild(this.renderChildren());
      this.element = el;
      return el;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._children.length > 0) {
        config.children = this._children.map((child) => {
          if (child instanceof Element2) {
            return child.toConfig();
          }
          return child;
        });
      }
      return config;
    }
  };
  __publicField(_ContainerElement, "NAME", "ui-container");
  __publicField(_ContainerElement, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "container"
  }));
  var ContainerElement = _ContainerElement;

  // src/js/ui-engine/validation/rules/index.js
  var isEmpty = (value) => {
    if (value === null || value === void 0)
      return true;
    if (typeof value === "string")
      return value.trim() === "";
    if (Array.isArray(value))
      return value.length === 0;
    if (typeof value === "object")
      return Object.keys(value).length === 0;
    return false;
  };
  var rules = {
    // ==================
    // Required Rules
    // ==================
    required: {
      validator: (value) => !isEmpty(value),
      message: "This field is required."
    },
    accepted: {
      validator: (value) => ["yes", "on", "1", 1, true, "true"].includes(value),
      message: "This field must be accepted."
    },
    // ==================
    // Type Rules
    // ==================
    email: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
      },
      message: "Please enter a valid email address."
    },
    url: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        try {
          new URL(value);
          return true;
        } catch (e) {
          return /^https?:\/\/.+/.test(value);
        }
      },
      message: "Please enter a valid URL."
    },
    numeric: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        return /^-?\d*\.?\d+$/.test(String(value));
      },
      message: "Please enter a number."
    },
    integer: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        return /^-?\d+$/.test(String(value));
      },
      message: "Please enter a whole number."
    },
    alpha: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        return /^[a-zA-Z]+$/.test(value);
      },
      message: "Only letters are allowed."
    },
    alpha_num: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        return /^[a-zA-Z0-9]+$/.test(value);
      },
      message: "Only letters and numbers are allowed."
    },
    alpha_dash: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        return /^[a-zA-Z0-9_-]+$/.test(value);
      },
      message: "Only letters, numbers, dashes and underscores are allowed."
    },
    // ==================
    // Size Rules
    // ==================
    min: {
      validator: (value, min) => {
        if (isEmpty(value))
          return true;
        const minVal = parseInt(min, 10);
        if (!isNaN(Number(value))) {
          return Number(value) >= minVal;
        }
        return String(value).length >= minVal;
      },
      message: "Must be at least :min characters."
    },
    max: {
      validator: (value, max) => {
        if (isEmpty(value))
          return true;
        const maxVal = parseInt(max, 10);
        if (!isNaN(Number(value))) {
          return Number(value) <= maxVal;
        }
        return String(value).length <= maxVal;
      },
      message: "Must not exceed :max characters."
    },
    between: {
      validator: (value, params) => {
        if (isEmpty(value))
          return true;
        const [min, max] = Array.isArray(params) ? params : [params, params];
        const minVal = parseInt(min, 10);
        const maxVal = parseInt(max, 10);
        if (!isNaN(Number(value))) {
          const numVal = Number(value);
          return numVal >= minVal && numVal <= maxVal;
        }
        const len = String(value).length;
        return len >= minVal && len <= maxVal;
      },
      message: "Must be between :min and :max."
    },
    size: {
      validator: (value, size) => {
        if (isEmpty(value))
          return true;
        const sizeVal = parseInt(size, 10);
        if (!isNaN(Number(value))) {
          return Number(value) === sizeVal;
        }
        return String(value).length === sizeVal;
      },
      message: "Must be exactly :value characters."
    },
    digits: {
      validator: (value, length) => {
        if (isEmpty(value))
          return true;
        const len = parseInt(length, 10);
        return /^\d+$/.test(value) && String(value).length === len;
      },
      message: "Must be exactly :value digits."
    },
    digits_between: {
      validator: (value, params) => {
        if (isEmpty(value))
          return true;
        const [min, max] = Array.isArray(params) ? params : [params, params];
        if (!/^\d+$/.test(value))
          return false;
        const len = String(value).length;
        return len >= parseInt(min, 10) && len <= parseInt(max, 10);
      },
      message: "Must be between :min and :max digits."
    },
    // ==================
    // Pattern Rules
    // ==================
    regex: {
      validator: (value, pattern) => {
        if (isEmpty(value))
          return true;
        const regex = pattern instanceof RegExp ? pattern : new RegExp(pattern);
        return regex.test(value);
      },
      message: "The format is invalid."
    },
    // ==================
    // Comparison Rules
    // ==================
    in: {
      validator: (value, allowedValues) => {
        if (isEmpty(value))
          return true;
        const values = Array.isArray(allowedValues) ? allowedValues : String(allowedValues).split(",");
        return values.map((v) => String(v).trim()).includes(String(value));
      },
      message: "Please select a valid option."
    },
    not_in: {
      validator: (value, disallowedValues) => {
        if (isEmpty(value))
          return true;
        const values = Array.isArray(disallowedValues) ? disallowedValues : String(disallowedValues).split(",");
        return !values.map((v) => String(v).trim()).includes(String(value));
      },
      message: "The selected value is not allowed."
    },
    confirmed: {
      validator: (value, fieldName, element) => {
        if (isEmpty(value))
          return true;
        const name = element.name || (element.getName ? element.getName() : "");
        const confirmationName = `${name}_confirmation`;
        let confirmField = document.querySelector(`[name="${confirmationName}"]`);
        if (!confirmField && element.form) {
          confirmField = element.form.elements[confirmationName];
        }
        if (!confirmField)
          return true;
        return value === confirmField.value;
      },
      message: "The confirmation does not match."
    },
    same: {
      validator: (value, otherField, element) => {
        if (isEmpty(value))
          return true;
        let otherValue;
        if (element.form) {
          const other = element.form.elements[otherField];
          otherValue = other ? other.value : null;
        } else {
          const other = document.querySelector(`[name="${otherField}"]`);
          otherValue = other ? other.value : null;
        }
        return value === otherValue;
      },
      message: "This field must match :other."
    },
    different: {
      validator: (value, otherField, element) => {
        if (isEmpty(value))
          return true;
        let otherValue;
        if (element.form) {
          const other = element.form.elements[otherField];
          otherValue = other ? other.value : null;
        } else {
          const other = document.querySelector(`[name="${otherField}"]`);
          otherValue = other ? other.value : null;
        }
        return value !== otherValue;
      },
      message: "This field must be different from :other."
    },
    // ==================
    // Date Rules
    // ==================
    date: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        const date = new Date(value);
        return !isNaN(date.getTime());
      },
      message: "Please enter a valid date."
    },
    before: {
      validator: (value, beforeDate) => {
        if (isEmpty(value))
          return true;
        const date = new Date(value);
        const before = new Date(beforeDate);
        return date < before;
      },
      message: "Must be a date before :value."
    },
    after: {
      validator: (value, afterDate) => {
        if (isEmpty(value))
          return true;
        const date = new Date(value);
        const after = new Date(afterDate);
        return date > after;
      },
      message: "Must be a date after :value."
    },
    // ==================
    // Custom Validators
    // ==================
    phone: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        return /^[\d\s\-\+\(\)]{7,20}$/.test(value);
      },
      message: "Please enter a valid phone number."
    },
    credit_card: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        const digits = String(value).replace(/\D/g, "");
        if (digits.length < 13 || digits.length > 19)
          return false;
        let sum = 0;
        let isEven = false;
        for (let i = digits.length - 1; i >= 0; i--) {
          let digit = parseInt(digits[i], 10);
          if (isEven) {
            digit *= 2;
            if (digit > 9)
              digit -= 9;
          }
          sum += digit;
          isEven = !isEven;
        }
        return sum % 10 === 0;
      },
      message: "Please enter a valid credit card number."
    },
    json: {
      validator: (value) => {
        if (isEmpty(value))
          return true;
        try {
          JSON.parse(value);
          return true;
        } catch (e) {
          return false;
        }
      },
      message: "Must be valid JSON."
    }
  };

  // src/js/ui-engine/validation/ValidationEngine.js
  var ValidationEngine = class {
    /**
     * Load validation rules from PHP export
     * @param {string|Object} formSelectorOrRules - Form selector or rules object
     * @param {Object} [rules] - Rules if first param is selector
     */
    static loadRules(formSelectorOrRules, rules2 = null) {
      if (typeof formSelectorOrRules === "string") {
        const formId = formSelectorOrRules.replace("#", "");
        this.fieldRules[formId] = rules2;
      } else {
        Object.assign(this.fieldRules, formSelectorOrRules);
      }
    }
    /**
     * Register a custom validation rule
     * @param {string} name - Rule name
     * @param {Function} validator - Validation function (value, params, element) => boolean
     * @param {string} [message] - Default error message
     */
    static registerRule(name, validator, message = null) {
      this.rules[name] = {
        validator,
        message: message || `Validation failed for ${name}.`
      };
    }
    /**
     * Get rules for a field
     * @param {string} fieldName
     * @param {string} [formId]
     * @returns {Object}
     */
    static getRulesForField(fieldName, formId = null) {
      if (formId && this.fieldRules[formId] && this.fieldRules[formId][fieldName]) {
        return this.fieldRules[formId][fieldName];
      }
      for (const rules2 of Object.values(this.fieldRules)) {
        if (rules2[fieldName]) {
          return rules2[fieldName];
        }
      }
      return null;
    }
    /**
     * Validate a single field
     * @param {HTMLElement|Object} element - Form element or FormElement instance
     * @param {Object} [customRules] - Override rules
     * @returns {{valid: boolean, errors: string[]}}
     */
    static validateField(element, customRules = null) {
      var _a;
      const name = element.name || (element.getName ? element.getName() : null);
      const value = (_a = element.value) != null ? _a : element.getValue ? element.getValue() : null;
      let fieldConfig = customRules || this.getRulesForField(name);
      if (!fieldConfig && element.getRules) {
        const elementRules = element.getRules();
        if (Object.keys(elementRules).length > 0) {
          fieldConfig = {
            rules: elementRules,
            messages: element.getMessages ? element.getMessages() : {}
          };
        }
      }
      if (!fieldConfig) {
        return { valid: true, errors: [] };
      }
      const rules2 = fieldConfig.rules || fieldConfig;
      const customMessages = fieldConfig.messages || {};
      const errors = [];
      for (const [ruleName, params] of Object.entries(rules2)) {
        const isValid = this.runRule(ruleName, value, params, element);
        if (!isValid) {
          const message = this.getMessage(name, ruleName, params, customMessages);
          errors.push(message);
        }
      }
      if (element.setError) {
        element.setError(errors.length > 0 ? errors[0] : null);
      } else if (element.classList) {
        if (errors.length > 0) {
          element.classList.add(so_config_default.cls("is-invalid"));
        } else {
          element.classList.remove(so_config_default.cls("is-invalid"));
        }
      }
      return {
        valid: errors.length === 0,
        errors
      };
    }
    /**
     * Validate an entire form
     * @param {HTMLFormElement|Object} form - Form element or ContainerElement
     * @returns {{valid: boolean, errors: Object}}
     */
    static validateForm(form) {
      const allErrors = {};
      let isValid = true;
      let fields;
      if (form.getFormElements) {
        fields = form.getFormElements();
      } else if (form.elements) {
        fields = Array.from(form.elements).filter(
          (el) => el.name && ["INPUT", "SELECT", "TEXTAREA"].includes(el.tagName)
        );
      } else {
        return { valid: true, errors: {} };
      }
      fields.forEach((field) => {
        const result = this.validateField(field);
        if (!result.valid) {
          isValid = false;
          const name = field.name || (field.getName ? field.getName() : "field");
          allErrors[name] = result.errors;
        }
      });
      return {
        valid: isValid,
        errors: allErrors
      };
    }
    /**
     * Run a single validation rule
     * @param {string} ruleName
     * @param {*} value
     * @param {*} params
     * @param {*} element
     * @returns {boolean}
     */
    static runRule(ruleName, value, params, element) {
      const rule = this.rules[ruleName];
      if (!rule) {
        console.warn(`Unknown validation rule: ${ruleName}`);
        return true;
      }
      try {
        return rule.validator(value, params, element);
      } catch (error) {
        console.error(`Error in validation rule ${ruleName}:`, error);
        return true;
      }
    }
    /**
     * Get error message for a rule
     * @param {string} field - Field name
     * @param {string} rule - Rule name
     * @param {*} params - Rule parameters
     * @param {Object} [customMessages] - Custom messages
     * @returns {string}
     */
    static getMessage(field, rule, params, customMessages = {}) {
      if (customMessages[rule]) {
        return this.replacePlaceholders(customMessages[rule], params, field);
      }
      const ruleConfig = this.rules[rule];
      if (ruleConfig && ruleConfig.message) {
        return this.replacePlaceholders(ruleConfig.message, params, field);
      }
      const defaultMsg = this.defaultMessages[rule] || `Validation failed for ${field}.`;
      return this.replacePlaceholders(defaultMsg, params, field);
    }
    /**
     * Replace placeholders in message
     * @param {string} message
     * @param {*} params
     * @param {string} field
     * @returns {string}
     */
    static replacePlaceholders(message, params, field) {
      let result = message;
      result = result.replace(/:attribute/g, this.formatFieldName(field));
      if (typeof params === "object" && !Array.isArray(params)) {
        Object.entries(params).forEach(([key, value]) => {
          result = result.replace(new RegExp(`:${key}`, "g"), value);
        });
      } else if (Array.isArray(params)) {
        if (params[0] !== void 0) {
          result = result.replace(/:min/g, params[0]);
        }
        if (params[1] !== void 0) {
          result = result.replace(/:max/g, params[1]);
        }
        result = result.replace(/:value/g, params.join(", "));
      } else if (params !== true && params !== void 0) {
        result = result.replace(/:value/g, params);
        result = result.replace(/:min/g, params);
        result = result.replace(/:max/g, params);
      }
      return result;
    }
    /**
     * Format field name for display
     * @param {string} field
     * @returns {string}
     */
    static formatFieldName(field) {
      return field.replace(/([a-z])([A-Z])/g, "$1 $2").replace(/[_-]/g, " ").replace(/\b\w/g, (l) => l.toUpperCase());
    }
    /**
     * Set default message for a rule
     * @param {string} rule
     * @param {string} message
     */
    static setDefaultMessage(rule, message) {
      this.defaultMessages[rule] = message;
    }
    /**
     * Set multiple default messages
     * @param {Object} messages
     */
    static setDefaultMessages(messages) {
      Object.assign(this.defaultMessages, messages);
    }
    /**
     * Validate on blur (attach to form)
     * @param {HTMLFormElement|string} form
     */
    static attachBlurValidation(form) {
      const formEl = typeof form === "string" ? document.querySelector(form) : form;
      if (!formEl)
        return;
      formEl.addEventListener("blur", (e) => {
        if (e.target.name) {
          this.validateField(e.target);
        }
      }, true);
    }
    /**
     * Validate on submit (attach to form)
     * @param {HTMLFormElement|string} form
     * @param {Function} [onSuccess] - Callback on successful validation
     * @param {Function} [onError] - Callback on validation error
     */
    static attachSubmitValidation(form, onSuccess = null, onError = null) {
      const formEl = typeof form === "string" ? document.querySelector(form) : form;
      if (!formEl)
        return;
      formEl.addEventListener("submit", (e) => {
        const result = this.validateForm(formEl);
        if (!result.valid) {
          e.preventDefault();
          if (window.UiEngine && window.UiEngine.errors) {
            window.UiEngine.errors.showAll(result.errors);
          }
          if (onError) {
            onError(result.errors, e);
          }
          const firstErrorField = Object.keys(result.errors)[0];
          const field = formEl.elements[firstErrorField];
          if (field) {
            field.focus();
          }
        } else {
          if (onSuccess) {
            onSuccess(e);
          }
        }
      });
    }
    /**
     * Clear all validation errors on a form
     * @param {HTMLFormElement|string} form
     */
    static clearFormErrors(form) {
      const formEl = typeof form === "string" ? document.querySelector(form) : form;
      if (!formEl)
        return;
      formEl.querySelectorAll(so_config_default.sel("is-invalid")).forEach((el) => {
        el.classList.remove(so_config_default.cls("is-invalid"));
      });
      formEl.querySelectorAll(so_config_default.sel("invalid-feedback")).forEach((el) => {
        el.style.display = "none";
      });
    }
  };
  /**
   * Registered validation rules
   * @type {Object}
   */
  __publicField(ValidationEngine, "rules", __spreadValues({}, rules));
  /**
   * Field rules loaded from PHP
   * @type {Object}
   */
  __publicField(ValidationEngine, "fieldRules", {});
  /**
   * Default error messages
   * @type {Object}
   */
  __publicField(ValidationEngine, "defaultMessages", {
    required: "This field is required.",
    email: "Please enter a valid email address.",
    url: "Please enter a valid URL.",
    numeric: "Please enter a number.",
    integer: "Please enter a whole number.",
    min: "Must be at least :min characters.",
    max: "Must not exceed :max characters.",
    between: "Must be between :min and :max characters.",
    in: "Please select a valid option.",
    confirmed: "The confirmation does not match.",
    date: "Please enter a valid date.",
    accepted: "This field must be accepted.",
    regex: "The format is invalid.",
    alpha: "Only letters are allowed.",
    alpha_num: "Only letters and numbers are allowed.",
    same: "This field must match :other.",
    different: "This field must be different from :other."
  });

  // src/js/ui-engine/validation/ErrorReporter.js
  var _ErrorReporter = class _ErrorReporter extends so_component_default {
    /**
     * Get singleton instance
     * @param {Object} options
     * @returns {ErrorReporter}
     */
    static getInstance(options = {}) {
      if (!this._instance) {
        this._instance = new _ErrorReporter(null, options);
      }
      return this._instance;
    }
    /**
     * Create a new ErrorReporter
     * @param {Element|null} element
     * @param {Object} options
     */
    constructor(element, options = {}) {
      if (!element) {
        element = document.createElement("div");
        element.className = so_config_default.cls("error-reporter");
        document.body.appendChild(element);
      }
      super(element, options);
      this._errors = {};
      this._autoHideTimer = null;
    }
    /**
     * Initialize the component
     * @private
     */
    _init() {
      this._updatePosition();
      this._bindEvents();
    }
    /**
     * Update container position
     * @private
     */
    _updatePosition() {
      const position = this.options.position;
      Object.values(_ErrorReporter.POSITIONS).forEach((pos) => {
        this.element.classList.remove(so_config_default.cls("error-reporter", pos));
      });
      this.element.classList.add(so_config_default.cls("error-reporter", position));
    }
    /**
     * Bind event handlers
     * @private
     */
    _bindEvents() {
      this.delegate("click", so_config_default.sel("error-reporter-close"), () => {
        this.clearAll();
      });
      if (this.options.showFieldLinks) {
        this.delegate("click", so_config_default.sel("error-reporter-item"), (e, target) => {
          const field = target.dataset.field;
          if (field) {
            this._focusField(field);
          }
        });
      }
      if (this.options.dismissible) {
        this.delegate("click", so_config_default.sel("error-item-close"), (e, target) => {
          e.stopPropagation();
          const item = target.closest(so_config_default.sel("error-reporter-item"));
          if (item) {
            const field = item.dataset.field;
            if (field) {
              this.clearField(field);
            }
          }
        });
      }
    }
    // ==================
    // Configuration
    // ==================
    /**
     * Configure the reporter
     * @param {Object} options
     * @returns {this}
     */
    configure(options) {
      this.setOptions(options);
      if (options.position) {
        this._updatePosition();
      }
      return this;
    }
    /**
     * Set position
     * @param {string} position
     * @returns {this}
     */
    setPosition(position) {
      this.options.position = position;
      this._updatePosition();
      return this;
    }
    // ==================
    // Error Management
    // ==================
    /**
     * Show all errors at once
     * @param {Object} errors - Field => messages map
     * @returns {this}
     */
    showAll(errors) {
      this._errors = __spreadValues({}, errors);
      this._render();
      this._startAutoHide();
      return this;
    }
    /**
     * Add errors (merge with existing)
     * @param {Object} errors
     * @returns {this}
     */
    addErrors(errors) {
      Object.entries(errors).forEach(([field, messages]) => {
        this._errors[field] = Array.isArray(messages) ? messages : [messages];
      });
      this._render();
      this._startAutoHide();
      return this;
    }
    /**
     * Add error for single field
     * @param {string} field
     * @param {string|string[]} messages
     * @returns {this}
     */
    addError(field, messages) {
      this._errors[field] = Array.isArray(messages) ? messages : [messages];
      this._render();
      this._startAutoHide();
      return this;
    }
    /**
     * Clear errors for a field
     * @param {string} field
     * @returns {this}
     */
    clearField(field) {
      delete this._errors[field];
      this._render();
      return this;
    }
    /**
     * Clear all errors
     * @returns {this}
     */
    clearAll() {
      this._errors = {};
      this._render();
      this._stopAutoHide();
      return this;
    }
    /**
     * Get all errors
     * @returns {Object}
     */
    getErrors() {
      return __spreadValues({}, this._errors);
    }
    /**
     * Check if has errors
     * @returns {boolean}
     */
    hasErrors() {
      return Object.keys(this._errors).length > 0;
    }
    /**
     * Get error count
     * @returns {number}
     */
    getErrorCount() {
      let count = 0;
      Object.values(this._errors).forEach((messages) => {
        count += Array.isArray(messages) ? messages.length : 1;
      });
      return count;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Render the error display
     * @private
     */
    _render() {
      const errorCount = Object.keys(this._errors).length;
      if (errorCount === 0) {
        this.element.innerHTML = "";
        this.element.classList.remove(so_config_default.cls("show"));
        this.emit("cleared");
        return;
      }
      const totalMessages = this.getErrorCount();
      this.element.innerHTML = `
            <div class="${so_config_default.cls("error-reporter-content")}">
                <div class="${so_config_default.cls("error-reporter-header")}">
                    <span class="material-icons ${so_config_default.cls("text-danger")}">error</span>
                    <span class="${so_config_default.cls("error-reporter-title")}">
                        ${totalMessages} ${totalMessages === 1 ? "error" : "errors"} found
                    </span>
                    <button type="button" class="${so_config_default.cls("error-reporter-close")}" aria-label="Close">
                        <span class="material-icons">close</span>
                    </button>
                </div>
                <ul class="${so_config_default.cls("error-reporter-list")}">
                    ${this._renderErrors()}
                </ul>
            </div>
        `;
      this.element.classList.add(so_config_default.cls("show"));
      this.emit("shown", { errors: this._errors, count: totalMessages });
    }
    /**
     * Render error list items
     * @returns {string}
     * @private
     */
    _renderErrors() {
      const maxErrors = this.options.maxErrors;
      let renderedCount = 0;
      let html = "";
      for (const [field, messages] of Object.entries(this._errors)) {
        const fieldMessages = Array.isArray(messages) ? messages : [messages];
        for (const message of fieldMessages) {
          if (renderedCount >= maxErrors) {
            const remaining = this.getErrorCount() - maxErrors;
            html += `
                        <li class="${so_config_default.cls("error-reporter-item")} ${so_config_default.cls("error-reporter-more")}">
                            <span class="${so_config_default.cls("text-muted")}">... and ${remaining} more error(s)</span>
                        </li>
                    `;
            return html;
          }
          html += `
                    <li class="${so_config_default.cls("error-reporter-item")}" data-field="${this._escapeHtml(field)}">
                        ${this.options.groupByField ? `
                            <span class="${so_config_default.cls("error-field")}">${this._formatFieldName(field)}:</span>
                        ` : ""}
                        <span class="${so_config_default.cls("error-message")}">${this._escapeHtml(message)}</span>
                        ${this.options.dismissible ? `
                            <button type="button" class="${so_config_default.cls("error-item-close")}" aria-label="Dismiss">
                                <span class="material-icons">close</span>
                            </button>
                        ` : ""}
                    </li>
                `;
          renderedCount++;
        }
      }
      return html;
    }
    /**
     * Format field name for display
     * @param {string} field
     * @returns {string}
     * @private
     */
    _formatFieldName(field) {
      return field.replace(/([a-z])([A-Z])/g, "$1 $2").replace(/[_-]/g, " ").replace(/\b\w/g, (l) => l.toUpperCase());
    }
    /**
     * Escape HTML
     * @param {string} str
     * @returns {string}
     * @private
     */
    _escapeHtml(str) {
      const div = document.createElement("div");
      div.textContent = str;
      return div.innerHTML;
    }
    // ==================
    // Auto-hide
    // ==================
    /**
     * Start auto-hide timer
     * @private
     */
    _startAutoHide() {
      if (!this.options.autoHide)
        return;
      this._stopAutoHide();
      this._autoHideTimer = setTimeout(() => {
        this.clearAll();
      }, this.options.autoHideDelay);
    }
    /**
     * Stop auto-hide timer
     * @private
     */
    _stopAutoHide() {
      if (this._autoHideTimer) {
        clearTimeout(this._autoHideTimer);
        this._autoHideTimer = null;
      }
    }
    // ==================
    // Field Focus
    // ==================
    /**
     * Focus a field by name
     * @param {string} fieldName
     * @private
     */
    _focusField(fieldName) {
      const field = document.querySelector(`[name="${fieldName}"]`);
      if (field) {
        field.focus();
        field.scrollIntoView({ behavior: "smooth", block: "center" });
      }
    }
    // ==================
    // Lifecycle
    // ==================
    /**
     * Destroy the component
     */
    destroy() {
      this._stopAutoHide();
      this.element.remove();
      _ErrorReporter._instance = null;
      super.destroy();
    }
  };
  __publicField(_ErrorReporter, "NAME", "error-reporter");
  /**
   * Supported positions
   */
  __publicField(_ErrorReporter, "POSITIONS", {
    TOP_RIGHT: "top-right",
    TOP_LEFT: "top-left",
    TOP_CENTER: "top-center",
    BOTTOM_RIGHT: "bottom-right",
    BOTTOM_LEFT: "bottom-left",
    BOTTOM_CENTER: "bottom-center",
    INLINE_TOP: "inline-top",
    INLINE_BOTTOM: "inline-bottom"
  });
  __publicField(_ErrorReporter, "DEFAULTS", {
    position: "top-right",
    autoHide: false,
    autoHideDelay: 5e3,
    animation: "fade",
    maxErrors: 10,
    groupByField: true,
    showFieldLinks: true,
    dismissible: true,
    theme: "default"
  });
  /**
   * Singleton instance
   * @type {ErrorReporter|null}
   */
  __publicField(_ErrorReporter, "_instance", null);
  var ErrorReporter = _ErrorReporter;
  ErrorReporter.register();

  // src/js/ui-engine/elements/form/Input.js
  var Input = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      var _a, _b, _c, _d, _e;
      super._initFromConfig(config);
      this._inputType = config.inputType || "text";
      this._min = (_a = config.min) != null ? _a : null;
      this._max = (_b = config.max) != null ? _b : null;
      this._step = (_c = config.step) != null ? _c : null;
      this._maxlength = (_d = config.maxlength) != null ? _d : null;
      this._minlength = (_e = config.minlength) != null ? _e : null;
      this._pattern = config.pattern || null;
      this._autocomplete = config.autocomplete || null;
      this._prefix = config.prefix || null;
      this._suffix = config.suffix || null;
    }
    // ==================
    // Fluent API - Input Type
    // ==================
    /**
     * Set input type
     * @param {string} type
     * @returns {this}
     */
    inputType(type) {
      this._inputType = type;
      return this;
    }
    /** Set as email input */
    email() {
      return this.inputType("email");
    }
    /** Set as password input */
    password() {
      return this.inputType("password");
    }
    /** Set as number input */
    number() {
      return this.inputType("number");
    }
    /** Set as telephone input */
    tel() {
      return this.inputType("tel");
    }
    /** Set as URL input */
    url() {
      return this.inputType("url");
    }
    /** Set as search input */
    search() {
      return this.inputType("search");
    }
    /** Set as date input */
    date() {
      return this.inputType("date");
    }
    /** Set as time input */
    time() {
      return this.inputType("time");
    }
    /** Set as datetime-local input */
    datetime() {
      return this.inputType("datetime-local");
    }
    /** Set as month input */
    month() {
      return this.inputType("month");
    }
    /** Set as week input */
    week() {
      return this.inputType("week");
    }
    /** Set as color input */
    color() {
      return this.inputType("color");
    }
    /** Set as range input */
    range() {
      return this.inputType("range");
    }
    // ==================
    // Fluent API - Constraints
    // ==================
    /**
     * Set minimum value
     * @param {*} min
     * @returns {this}
     */
    min(min) {
      this._min = min;
      return this;
    }
    /**
     * Set maximum value
     * @param {*} max
     * @returns {this}
     */
    max(max) {
      this._max = max;
      return this;
    }
    /**
     * Set step value
     * @param {*} step
     * @returns {this}
     */
    step(step) {
      this._step = step;
      return this;
    }
    /**
     * Set maximum length
     * @param {number} maxlength
     * @returns {this}
     */
    maxlength(maxlength) {
      this._maxlength = maxlength;
      return this;
    }
    /**
     * Set minimum length
     * @param {number} minlength
     * @returns {this}
     */
    minlength(minlength) {
      this._minlength = minlength;
      return this;
    }
    /**
     * Set validation pattern
     * @param {string} pattern
     * @returns {this}
     */
    pattern(pattern) {
      this._pattern = pattern;
      return this;
    }
    /**
     * Set autocomplete attribute
     * @param {string} autocomplete
     * @returns {this}
     */
    autocomplete(autocomplete) {
      this._autocomplete = autocomplete;
      return this;
    }
    /**
     * Disable autocomplete
     * @returns {this}
     */
    noAutocomplete() {
      return this.autocomplete("off");
    }
    /**
     * Set input prefix
     * @param {string} prefix
     * @returns {this}
     */
    prefix(prefix) {
      this._prefix = prefix;
      return this;
    }
    /**
     * Set input suffix
     * @param {string} suffix
     * @returns {this}
     */
    suffix(suffix) {
      this._suffix = suffix;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      return "input";
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.type = this._inputType;
      if (this._min !== null)
        attrs.min = this._min;
      if (this._max !== null)
        attrs.max = this._max;
      if (this._step !== null)
        attrs.step = this._step;
      if (this._maxlength !== null)
        attrs.maxlength = this._maxlength;
      if (this._minlength !== null)
        attrs.minlength = this._minlength;
      if (this._pattern)
        attrs.pattern = this._pattern;
      if (this._autocomplete)
        attrs.autocomplete = this._autocomplete;
      return attrs;
    }
    /**
     * Render content (empty for input)
     * @returns {string}
     */
    renderContent() {
      return "";
    }
    /**
     * Render with prefix/suffix if needed
     * @returns {HTMLElement}
     */
    render() {
      if (!this._prefix && !this._suffix) {
        return super.render();
      }
      const group = document.createElement("div");
      group.className = so_config_default.cls("input-group");
      if (this._prefix) {
        const prefixEl = document.createElement("span");
        prefixEl.className = so_config_default.cls("input-group-text");
        prefixEl.textContent = this._prefix;
        group.appendChild(prefixEl);
      }
      group.appendChild(super.render());
      if (this._suffix) {
        const suffixEl = document.createElement("span");
        suffixEl.className = so_config_default.cls("input-group-text");
        suffixEl.textContent = this._suffix;
        group.appendChild(suffixEl);
      }
      return group;
    }
    /**
     * Render to HTML string
     * @returns {string}
     */
    toHtml() {
      if (!this._prefix && !this._suffix) {
        return super.toHtml();
      }
      const inputHtml = super.toHtml();
      let html = `<div class="${so_config_default.cls("input-group")}">`;
      if (this._prefix) {
        html += `<span class="${so_config_default.cls("input-group-text")}">${this._escapeHtml(this._prefix)}</span>`;
      }
      html += inputHtml;
      if (this._suffix) {
        html += `<span class="${so_config_default.cls("input-group-text")}">${this._escapeHtml(this._suffix)}</span>`;
      }
      html += "</div>";
      return html;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._inputType !== "text")
        config.inputType = this._inputType;
      if (this._min !== null)
        config.min = this._min;
      if (this._max !== null)
        config.max = this._max;
      if (this._step !== null)
        config.step = this._step;
      if (this._maxlength !== null)
        config.maxlength = this._maxlength;
      if (this._minlength !== null)
        config.minlength = this._minlength;
      if (this._pattern)
        config.pattern = this._pattern;
      if (this._autocomplete)
        config.autocomplete = this._autocomplete;
      if (this._prefix)
        config.prefix = this._prefix;
      if (this._suffix)
        config.suffix = this._suffix;
      return config;
    }
  };
  __publicField(Input, "NAME", "ui-input");
  __publicField(Input, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "input",
    tagName: "input",
    inputType: "text"
  }));

  // src/js/ui-engine/elements/form/Select.js
  var Select = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      var _a;
      super._initFromConfig(config);
      this._options = config.options || [];
      this._multiple = config.multiple || false;
      this._visibleSize = config.visibleSize || null;
      this._emptyOptionText = (_a = config.emptyOption) != null ? _a : null;
      this._emptyOptionValue = config.emptyValue || "";
      this._searchable = config.searchable || false;
      this._enhanced = config.enhanced || false;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set options
     * @param {Array} opts - Array of {value, label, disabled?, selected?}
     * @returns {this}
     */
    options(opts) {
      this._options = opts;
      return this;
    }
    /**
     * Add single option
     * @param {string|number} value
     * @param {string} label
     * @param {boolean} disabled
     * @returns {this}
     */
    option(value, label, disabled = false) {
      const opt = { value, label };
      if (disabled)
        opt.disabled = true;
      this._options.push(opt);
      return this;
    }
    /**
     * Add option group
     * @param {string} label - Group label
     * @param {Array} opts - Options in the group
     * @returns {this}
     */
    optgroup(label, opts) {
      this._options.push({ label, options: opts });
      return this;
    }
    /**
     * Enable multiple selection
     * @param {boolean} val
     * @returns {this}
     */
    multiple(val = true) {
      this._multiple = val;
      return this;
    }
    /**
     * Set visible options size
     * @param {number} size
     * @returns {this}
     */
    visibleSize(size) {
      this._visibleSize = size;
      return this;
    }
    /**
     * Add empty/placeholder option
     * @param {string} text
     * @param {string} value
     * @returns {this}
     */
    emptyOption(text, value = "") {
      this._emptyOptionText = text;
      this._emptyOptionValue = value;
      return this;
    }
    /**
     * Enable searchable mode (for JS enhancement)
     * @param {boolean} val
     * @returns {this}
     */
    searchable(val = true) {
      this._searchable = val;
      return this;
    }
    /**
     * Enable enhanced SOSelect component
     * Adds data-so-select attribute to trigger JS enhancement
     * @param {boolean} val
     * @returns {this}
     */
    enhanced(val = true) {
      this._enhanced = val;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      return "select";
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      if (this._multiple)
        attrs.multiple = true;
      if (this._visibleSize)
        attrs.size = this._visibleSize;
      if (this._searchable)
        attrs[so_config_default.data("searchable")] = "true";
      if (this._enhanced)
        attrs[so_config_default.data("select")] = "";
      delete attrs.value;
      return attrs;
    }
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("form-control"));
      if (this._error) {
        this._extraClasses.add(so_config_default.cls("is-invalid"));
      }
      return super.buildClassString();
    }
    /**
     * Don't render value as attribute
     * @returns {boolean}
     */
    _shouldRenderValueAttr() {
      return false;
    }
    /**
     * Render options HTML
     * @returns {string}
     */
    _renderOptionsHtml() {
      let html = "";
      if (this._emptyOptionText !== null) {
        const selected = this._isSelected(this._emptyOptionValue) ? " selected" : "";
        html += `<option value="${this._escapeHtml(this._emptyOptionValue)}"${selected}>${this._escapeHtml(this._emptyOptionText)}</option>`;
      }
      html += this._renderOptions(this._options);
      return html;
    }
    /**
     * Render options array (handles optgroups)
     * @param {Array} options
     * @returns {string}
     * @private
     */
    _renderOptions(options) {
      let html = "";
      options.forEach((opt, key) => {
        var _a, _b;
        if (typeof opt === "object" && opt.options) {
          const disabled = opt.disabled ? " disabled" : "";
          html += `<optgroup label="${this._escapeHtml(opt.label)}"${disabled}>`;
          html += this._renderOptions(opt.options);
          html += "</optgroup>";
        } else if (typeof opt === "object") {
          const value = (_a = opt.value) != null ? _a : key;
          const label = (_b = opt.label) != null ? _b : value;
          const disabled = opt.disabled ? " disabled" : "";
          const selected = this._isSelected(value) ? " selected" : "";
          html += `<option value="${this._escapeHtml(String(value))}"${disabled}${selected}>${this._escapeHtml(String(label))}</option>`;
        } else {
          const selected = this._isSelected(key) ? " selected" : "";
          html += `<option value="${this._escapeHtml(String(key))}"${selected}>${this._escapeHtml(String(opt))}</option>`;
        }
      });
      return html;
    }
    /**
     * Check if value is selected
     * @param {*} value
     * @returns {boolean}
     * @private
     */
    _isSelected(value) {
      if (this._multiple && Array.isArray(this._value)) {
        return this._value.includes(value);
      }
      return this._value == value;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      return this._renderOptionsHtml();
    }
    /**
     * Render to DOM
     * @returns {HTMLElement}
     */
    render() {
      const el = document.createElement(this.getTagName());
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          el.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          el.setAttribute(name, value);
        }
      });
      el.innerHTML = this._renderOptionsHtml();
      this.element = el;
      this._attachEventHandlers();
      return el;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._options.length > 0)
        config.options = this._options;
      if (this._multiple)
        config.multiple = true;
      if (this._visibleSize)
        config.visibleSize = this._visibleSize;
      if (this._emptyOptionText !== null) {
        config.emptyOption = this._emptyOptionText;
        config.emptyValue = this._emptyOptionValue;
      }
      if (this._searchable)
        config.searchable = true;
      if (this._enhanced)
        config.enhanced = true;
      return config;
    }
  };
  __publicField(Select, "NAME", "ui-select");
  __publicField(Select, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "select",
    tagName: "select"
  }));

  // src/js/ui-engine/elements/form/Checkbox.js
  var Checkbox = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._checked = config.checked || false;
      this._indeterminate = config.indeterminate || false;
      this._switch = config.switch || false;
      this._inline = config.inline || false;
      this._options = config.options || [];
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set checked state
     * @param {boolean} val
     * @returns {this}
     */
    checked(val = true) {
      this._checked = val;
      if (this.element) {
        this.element.checked = val;
      }
      return this;
    }
    /**
     * Set unchecked state
     * @returns {this}
     */
    unchecked() {
      return this.checked(false);
    }
    /**
     * Check if checked
     * @returns {boolean}
     */
    isChecked() {
      if (this.element) {
        return this.element.checked;
      }
      return this._checked;
    }
    /**
     * Set indeterminate state
     * @param {boolean} val
     * @returns {this}
     */
    indeterminate(val = true) {
      this._indeterminate = val;
      if (this.element) {
        this.element.indeterminate = val;
      }
      return this;
    }
    /**
     * Render as switch style
     * @param {boolean} val
     * @returns {this}
     */
    switch(val = true) {
      this._switch = val;
      return this;
    }
    /**
     * Display inline
     * @param {boolean} val
     * @returns {this}
     */
    inline(val = true) {
      this._inline = val;
      return this;
    }
    /**
     * Set checkbox options (for groups)
     * @param {Array} options - Array of {value, label, checked?, disabled?}
     * @returns {this}
     */
    options(options) {
      this._options = options;
      return this;
    }
    /**
     * Add a single option
     * @param {string|number} value
     * @param {string} label
     * @param {boolean} checked
     * @returns {this}
     */
    option(value, label, checked = false) {
      this._options.push({ value, label, checked });
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build attributes for the input element
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = {};
      attrs.type = "checkbox";
      if (this._name) {
        attrs.name = this._name;
      }
      if (this._id) {
        attrs.id = this._id;
      }
      if (this._value !== null && this._value !== void 0) {
        attrs.value = this._value;
      }
      if (this._checked) {
        attrs.checked = true;
      }
      if (this._disabled) {
        attrs.disabled = true;
      }
      if (this._indeterminate) {
        attrs[so_config_default.data("indeterminate")] = "true";
      }
      return attrs;
    }
    /**
     * Render to DOM with proper so-checkbox structure
     * @returns {HTMLElement}
     */
    render() {
      if (this._options.length > 0) {
        return this._renderCheckboxGroup();
      }
      return this._renderSingleCheckbox();
    }
    /**
     * Render a single checkbox
     * @returns {HTMLElement}
     * @private
     */
    _renderSingleCheckbox() {
      const wrapper = document.createElement("label");
      wrapper.className = so_config_default.cls("checkbox");
      if (this._disabled) {
        wrapper.classList.add(so_config_default.cls("disabled"));
      }
      const input = document.createElement("input");
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          input.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          input.setAttribute(name, value);
        }
      });
      if (this._indeterminate) {
        input.indeterminate = true;
      }
      wrapper.appendChild(input);
      this.element = input;
      const box = document.createElement("span");
      box.className = so_config_default.cls("checkbox-box");
      const icon = document.createElement("span");
      icon.className = "material-icons";
      icon.textContent = this._indeterminate ? "remove" : "check";
      box.appendChild(icon);
      wrapper.appendChild(box);
      if (this._label) {
        const labelSpan = document.createElement("span");
        labelSpan.className = so_config_default.cls("checkbox-label");
        labelSpan.textContent = this._label;
        wrapper.appendChild(labelSpan);
      }
      this._attachEventHandlers();
      return wrapper;
    }
    /**
     * Render checkbox group
     * @returns {HTMLElement}
     * @private
     */
    _renderCheckboxGroup() {
      const container = document.createElement("div");
      container.className = so_config_default.cls("form-group");
      if (this._label) {
        const groupLabel = document.createElement("label");
        groupLabel.className = `${so_config_default.cls("form-label")} ${so_config_default.cls("mb-2")}`;
        groupLabel.textContent = this._label;
        container.appendChild(groupLabel);
      }
      const group = document.createElement("div");
      group.className = so_config_default.cls("checkbox-group");
      group.classList.add(
        this._inline ? so_config_default.cls("checkbox-group-inline") : so_config_default.cls("checkbox-group-vertical")
      );
      this._options.forEach((opt, index) => {
        var _a, _b, _c, _d;
        const value = (_a = opt.value) != null ? _a : index;
        const label = (_b = opt.label) != null ? _b : value;
        const checked = (_c = opt.checked) != null ? _c : false;
        const optDisabled = (_d = opt.disabled) != null ? _d : false;
        const isDisabled = optDisabled || this._disabled;
        const wrapper = document.createElement("label");
        wrapper.className = so_config_default.cls("checkbox");
        if (isDisabled) {
          wrapper.classList.add(so_config_default.cls("disabled"));
        }
        const input = document.createElement("input");
        input.type = "checkbox";
        input.name = `${this._name}[]`;
        input.value = value;
        if (checked)
          input.checked = true;
        if (isDisabled)
          input.disabled = true;
        wrapper.appendChild(input);
        const box = document.createElement("span");
        box.className = so_config_default.cls("checkbox-box");
        const icon = document.createElement("span");
        icon.className = "material-icons";
        icon.textContent = "check";
        box.appendChild(icon);
        wrapper.appendChild(box);
        const labelSpan = document.createElement("span");
        labelSpan.className = so_config_default.cls("checkbox-label");
        labelSpan.textContent = label;
        wrapper.appendChild(labelSpan);
        group.appendChild(wrapper);
      });
      container.appendChild(group);
      return container;
    }
    /**
     * Render to HTML string
     * @returns {string}
     */
    toHtml() {
      if (this._options.length > 0) {
        return this._toHtmlGroup();
      }
      return this._toHtmlSingle();
    }
    /**
     * Render single checkbox to HTML
     * @returns {string}
     * @private
     */
    _toHtmlSingle() {
      const labelClass = this._disabled ? `${so_config_default.cls("checkbox")} ${so_config_default.cls("disabled")}` : so_config_default.cls("checkbox");
      const attrs = this.buildAttributes();
      const attrStr = Object.entries(attrs).filter(([, v]) => v !== false && v !== null && v !== void 0).map(([k, v]) => v === true ? k : `${k}="${this._escapeHtml(String(v))}"`).join(" ");
      const icon = this._indeterminate ? "remove" : "check";
      let html = `<label class="${labelClass}">`;
      html += `<input ${attrStr}>`;
      html += `<span class="${so_config_default.cls("checkbox-box")}">`;
      html += `<span class="material-icons">${icon}</span>`;
      html += "</span>";
      if (this._label) {
        html += `<span class="${so_config_default.cls("checkbox-label")}">${this._escapeHtml(this._label)}</span>`;
      }
      html += "</label>";
      return html;
    }
    /**
     * Render checkbox group to HTML
     * @returns {string}
     * @private
     */
    _toHtmlGroup() {
      let html = `<div class="${so_config_default.cls("form-group")}">`;
      if (this._label) {
        html += `<label class="${so_config_default.cls("form-label")} ${so_config_default.cls("mb-2")}">${this._escapeHtml(this._label)}</label>`;
      }
      const groupClass = this._inline ? `${so_config_default.cls("checkbox-group")} ${so_config_default.cls("checkbox-group-inline")}` : `${so_config_default.cls("checkbox-group")} ${so_config_default.cls("checkbox-group-vertical")}`;
      html += `<div class="${groupClass}">`;
      this._options.forEach((opt, index) => {
        var _a, _b, _c, _d;
        const value = (_a = opt.value) != null ? _a : index;
        const label = (_b = opt.label) != null ? _b : value;
        const checked = (_c = opt.checked) != null ? _c : false;
        const optDisabled = (_d = opt.disabled) != null ? _d : false;
        const isDisabled = optDisabled || this._disabled;
        const labelClass = isDisabled ? `${so_config_default.cls("checkbox")} ${so_config_default.cls("disabled")}` : so_config_default.cls("checkbox");
        html += `<label class="${labelClass}">`;
        html += `<input type="checkbox" name="${this._escapeHtml(this._name)}[]" value="${this._escapeHtml(String(value))}"`;
        if (checked)
          html += " checked";
        if (isDisabled)
          html += " disabled";
        html += ">";
        html += `<span class="${so_config_default.cls("checkbox-box")}">`;
        html += '<span class="material-icons">check</span>';
        html += "</span>";
        html += `<span class="${so_config_default.cls("checkbox-label")}">${this._escapeHtml(label)}</span>`;
        html += "</label>";
      });
      html += "</div>";
      html += "</div>";
      return html;
    }
    /**
     * Get value
     * @returns {*}
     */
    getValue() {
      if (this.element) {
        return this.element.checked;
      }
      return this._checked;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._checked)
        config.checked = true;
      if (this._indeterminate)
        config.indeterminate = true;
      if (this._switch)
        config.switch = true;
      if (this._inline)
        config.inline = true;
      if (this._options.length > 0)
        config.options = this._options;
      return config;
    }
  };
  __publicField(Checkbox, "NAME", "ui-checkbox");
  __publicField(Checkbox, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "checkbox",
    tagName: "input"
  }));

  // src/js/ui-engine/elements/form/Radio.js
  var Radio = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._checked = config.checked || false;
      this._inline = config.inline || false;
      this._options = config.options || [];
      this._buttonStyle = config.buttonStyle || false;
      this._buttonVariant = config.buttonVariant || "outline-primary";
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set checked state
     * @param {boolean} checked
     * @returns {this}
     */
    checked(checked = true) {
      this._checked = checked;
      if (this.element) {
        this.element.checked = checked;
      }
      return this;
    }
    /**
     * Check if checked
     * @returns {boolean}
     */
    isChecked() {
      if (this.element) {
        return this.element.checked;
      }
      return this._checked;
    }
    /**
     * Set radio options
     * @param {Array} opts - Array of {value, label, checked?, disabled?}
     * @returns {this}
     */
    options(opts) {
      this._options = opts;
      return this;
    }
    /**
     * Add a single option
     * @param {string|number} value
     * @param {string} label
     * @returns {this}
     */
    option(value, label) {
      this._options.push({ value, label });
      return this;
    }
    /**
     * Render inline
     * @param {boolean} val
     * @returns {this}
     */
    inline(val = true) {
      this._inline = val;
      return this;
    }
    /**
     * Use button style (toggle buttons)
     * @param {boolean} val
     * @returns {this}
     */
    buttonStyle(val = true) {
      this._buttonStyle = val;
      return this;
    }
    /**
     * Set button variant (for button style)
     * @param {string} variant
     * @returns {this}
     */
    buttonVariant(variant) {
      this._buttonVariant = variant;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      return "input";
    }
    /**
     * Build CSS classes (for input)
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("form-check-input"));
      if (this._error) {
        this._extraClasses.add(so_config_default.cls("is-invalid"));
      }
      this._extraClasses.delete(so_config_default.cls("form-control"));
      return super.buildClassString();
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.type = "radio";
      if (this._checked)
        attrs.checked = true;
      return attrs;
    }
    /**
     * Render content (empty for input)
     * @returns {string}
     */
    renderContent() {
      return "";
    }
    /**
     * Render single radio to DOM
     * @param {Object} option
     * @param {number} index
     * @returns {HTMLElement}
     * @private
     */
    _renderSingleRadio(option, index) {
      var _a, _b;
      const wrapper = document.createElement("div");
      wrapper.className = so_config_default.cls("form-check");
      if (this._inline) {
        wrapper.classList.add(so_config_default.cls("form-check-inline"));
      }
      const input = document.createElement("input");
      input.type = "radio";
      input.className = so_config_default.cls("form-check-input");
      input.name = this._name;
      input.value = (_a = option.value) != null ? _a : option;
      input.id = `${this._id || this._name}-${index}`;
      if (option.checked || this._value == input.value) {
        input.checked = true;
      }
      if (option.disabled || this._disabled) {
        input.disabled = true;
      }
      wrapper.appendChild(input);
      const label = document.createElement("label");
      label.className = so_config_default.cls("form-check-label");
      label.setAttribute("for", input.id);
      label.textContent = (_b = option.label) != null ? _b : option;
      wrapper.appendChild(label);
      return wrapper;
    }
    /**
     * Render to DOM
     * @returns {HTMLElement}
     */
    render() {
      if (this._options && this._options.length > 0) {
        const container = document.createElement("div");
        container.className = so_config_default.cls("radio-group");
        this._options.forEach((opt, index) => {
          container.appendChild(this._renderSingleRadio(opt, index));
        });
        return container;
      }
      const wrapper = document.createElement("div");
      wrapper.className = so_config_default.cls("form-check");
      if (this._inline) {
        wrapper.classList.add(so_config_default.cls("form-check-inline"));
      }
      const input = document.createElement("input");
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          input.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          input.setAttribute(name, value);
        }
      });
      wrapper.appendChild(input);
      this.element = input;
      if (this._label) {
        const label = document.createElement("label");
        label.className = so_config_default.cls("form-check-label");
        label.textContent = this._label;
        if (this._id) {
          label.setAttribute("for", this._id);
        }
        wrapper.appendChild(label);
      }
      this._attachEventHandlers();
      return wrapper;
    }
    /**
     * Render to HTML string
     * @returns {string}
     */
    toHtml() {
      if (this._options && this._options.length > 0) {
        if (this._buttonStyle) {
          let html3 = `<div class="${so_config_default.cls("btn-group")}" role="group">`;
          this._options.forEach((opt, index) => {
            var _a, _b;
            const value = (_a = opt.value) != null ? _a : opt;
            const label = (_b = opt.label) != null ? _b : opt;
            const id = `${this._id || this._name}-${index}`;
            const checked = opt.checked || this._value == value ? " checked" : "";
            const disabled = opt.disabled || this._disabled ? " disabled" : "";
            html3 += `<input type="radio" class="${so_config_default.cls("btn-check")}" name="${this._escapeHtml(this._name)}" value="${this._escapeHtml(String(value))}" id="${this._escapeHtml(id)}" autocomplete="off"${checked}${disabled}>`;
            html3 += `<label class="${so_config_default.cls("btn")} ${so_config_default.cls("btn", this._buttonVariant)}" for="${this._escapeHtml(id)}">${this._escapeHtml(String(label))}</label>`;
          });
          html3 += "</div>";
          return html3;
        }
        let html2 = `<div class="${so_config_default.cls("radio-group")}">`;
        this._options.forEach((opt, index) => {
          var _a, _b;
          const value = (_a = opt.value) != null ? _a : opt;
          const label = (_b = opt.label) != null ? _b : opt;
          const id = `${this._id || this._name}-${index}`;
          const checked = opt.checked || this._value == value ? " checked" : "";
          const disabled = opt.disabled || this._disabled ? " disabled" : "";
          const inlineClass2 = this._inline ? ` ${so_config_default.cls("form-check-inline")}` : "";
          html2 += `<div class="${so_config_default.cls("form-check")}${inlineClass2}">`;
          html2 += `<input type="radio" class="${so_config_default.cls("form-check-input")}" name="${this._escapeHtml(this._name)}" value="${this._escapeHtml(String(value))}" id="${this._escapeHtml(id)}"${checked}${disabled}>`;
          html2 += `<label class="${so_config_default.cls("form-check-label")}" for="${this._escapeHtml(id)}">${this._escapeHtml(String(label))}</label>`;
          html2 += "</div>";
        });
        html2 += "</div>";
        return html2;
      }
      const inlineClass = this._inline ? ` ${so_config_default.cls("form-check-inline")}` : "";
      const attrs = this.buildAttributes();
      let attrStr = Object.entries(attrs).filter(([, v]) => v !== false && v !== null && v !== void 0).map(([k, v]) => v === true ? k : `${k}="${this._escapeHtml(String(v))}"`).join(" ");
      let html = `<div class="${so_config_default.cls("form-check")}${inlineClass}">`;
      html += `<input ${attrStr}>`;
      if (this._label) {
        const forAttr = this._id ? ` for="${this._escapeHtml(this._id)}"` : "";
        html += `<label class="${so_config_default.cls("form-check-label")}"${forAttr}>${this._escapeHtml(this._label)}</label>`;
      }
      html += "</div>";
      return html;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._checked)
        config.checked = true;
      if (this._inline)
        config.inline = true;
      if (this._options && this._options.length > 0)
        config.options = this._options;
      if (this._buttonStyle) {
        config.buttonStyle = true;
        config.buttonVariant = this._buttonVariant;
      }
      return config;
    }
  };
  __publicField(Radio, "NAME", "ui-radio");
  __publicField(Radio, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "radio",
    tagName: "input"
  }));

  // src/js/ui-engine/elements/form/Textarea.js
  var Textarea = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      var _a, _b, _c, _d, _e, _f, _g;
      super._initFromConfig(config);
      this._rows = (_a = config.rows) != null ? _a : 3;
      this._cols = (_b = config.cols) != null ? _b : null;
      this._maxlength = (_c = config.maxlength) != null ? _c : null;
      this._minlength = (_d = config.minlength) != null ? _d : null;
      this._wrap = config.wrap || null;
      this._resize = (_e = config.resize) != null ? _e : null;
      this._autoResize = (_f = config.autoResize) != null ? _f : false;
      this._showCounter = (_g = config.showCounter) != null ? _g : false;
    }
    // ==================
    // Fluent API - Dimensions
    // ==================
    /**
     * Set rows
     * @param {number} rows
     * @returns {this}
     */
    rows(rows) {
      this._rows = rows;
      return this;
    }
    /**
     * Set cols
     * @param {number} cols
     * @returns {this}
     */
    cols(cols) {
      this._cols = cols;
      return this;
    }
    // ==================
    // Fluent API - Constraints
    // ==================
    /**
     * Set maximum length
     * @param {number} maxlength
     * @returns {this}
     */
    maxlength(maxlength) {
      this._maxlength = maxlength;
      return this;
    }
    /**
     * Set minimum length
     * @param {number} minlength
     * @returns {this}
     */
    minlength(minlength) {
      this._minlength = minlength;
      return this;
    }
    /**
     * Set wrap mode (hard, soft, off)
     * @param {string} wrap
     * @returns {this}
     */
    wrap(wrap) {
      this._wrap = wrap;
      return this;
    }
    // ==================
    // Fluent API - Resize
    // ==================
    /**
     * Set resize behavior
     * @param {string} direction - 'none', 'vertical', 'horizontal', 'both'
     * @returns {this}
     */
    resize(direction) {
      this._resize = direction;
      return this;
    }
    /**
     * Disable resize
     * @returns {this}
     */
    noResize() {
      return this.resize("none");
    }
    /**
     * Allow only vertical resizing
     * @returns {this}
     */
    resizeVertical() {
      return this.resize("vertical");
    }
    /**
     * Allow only horizontal resizing
     * @returns {this}
     */
    resizeHorizontal() {
      return this.resize("horizontal");
    }
    // ==================
    // Fluent API - Features
    // ==================
    /**
     * Enable auto-resize based on content
     * @param {boolean|string} enable - true/false or size variant ('sm', 'lg')
     * @returns {this}
     */
    autoResize(enable = true) {
      if (typeof enable === "string") {
        this._autoResizeSize = enable;
        this._autoResize = true;
      } else {
        this._autoResize = enable;
      }
      return this;
    }
    /**
     * Show character counter
     * @param {boolean} show
     * @returns {this}
     */
    showCounter(show = true) {
      this._showCounter = show;
      return this;
    }
    // ==================
    // Interactivity Methods
    // ==================
    /**
     * Get current value
     * @returns {string}
     */
    getValue() {
      if (this.element) {
        return this.element.value;
      }
      return this._value || "";
    }
    /**
     * Set value programmatically
     * @param {string} value
     * @returns {this}
     */
    setValue(value) {
      this._value = value;
      if (this.element) {
        this.element.value = value;
        this.element.dispatchEvent(new Event("input", { bubbles: true }));
        this._triggerAutoResize();
      }
      return this;
    }
    /**
     * Clear the textarea
     * @returns {this}
     */
    clear() {
      return this.setValue("");
    }
    /**
     * Get character count
     * @returns {number}
     */
    getCharCount() {
      return this.getValue().length;
    }
    /**
     * Check if at max length
     * @returns {boolean}
     */
    isAtMaxLength() {
      if (!this._maxlength)
        return false;
      return this.getCharCount() >= this._maxlength;
    }
    /**
     * Get remaining characters (if maxlength set)
     * @returns {number|null}
     */
    getRemainingChars() {
      if (!this._maxlength)
        return null;
      return this._maxlength - this.getCharCount();
    }
    /**
     * Check if empty
     * @returns {boolean}
     */
    isEmpty() {
      return this.getValue().trim() === "";
    }
    /**
     * Focus the textarea
     * @returns {this}
     */
    focus() {
      if (this.element) {
        this.element.focus();
      }
      return this;
    }
    /**
     * Blur the textarea
     * @returns {this}
     */
    blur() {
      if (this.element) {
        this.element.blur();
      }
      return this;
    }
    /**
     * Select all text
     * @returns {this}
     */
    selectAll() {
      if (this.element) {
        this.element.select();
      }
      return this;
    }
    /**
     * Set selection range
     * @param {number} start
     * @param {number} end
     * @returns {this}
     */
    setSelectionRange(start, end) {
      if (this.element) {
        this.element.setSelectionRange(start, end);
      }
      return this;
    }
    /**
     * Insert text at cursor position
     * @param {string} text
     * @returns {this}
     */
    insertAtCursor(text) {
      if (this.element) {
        const start = this.element.selectionStart;
        const end = this.element.selectionEnd;
        const value = this.element.value;
        this.element.value = value.substring(0, start) + text + value.substring(end);
        this.element.selectionStart = this.element.selectionEnd = start + text.length;
        this.element.dispatchEvent(new Event("input", { bubbles: true }));
        this._triggerAutoResize();
      }
      return this;
    }
    /**
     * Append text to end
     * @param {string} text
     * @returns {this}
     */
    append(text) {
      return this.setValue(this.getValue() + text);
    }
    /**
     * Prepend text to start
     * @param {string} text
     * @returns {this}
     */
    prepend(text) {
      return this.setValue(text + this.getValue());
    }
    /**
     * Enable the textarea
     * @returns {this}
     */
    enable() {
      this._disabled = false;
      if (this.element) {
        this.element.disabled = false;
        this.element.classList.remove(so_config_default.cls("disabled"));
      }
      return this;
    }
    /**
     * Disable the textarea
     * @param {boolean} disable
     * @returns {this}
     */
    disable(disable = true) {
      this._disabled = disable;
      if (this.element) {
        this.element.disabled = disable;
        if (disable) {
          this.element.classList.add(so_config_default.cls("disabled"));
        } else {
          this.element.classList.remove(so_config_default.cls("disabled"));
        }
      }
      return this;
    }
    /**
     * Set rows dynamically
     * @param {number} count
     * @returns {this}
     */
    setRows(count) {
      this._rows = count;
      if (this.element) {
        this.element.rows = count;
      }
      return this;
    }
    /**
     * Trigger auto-resize (if enabled)
     * @private
     */
    _triggerAutoResize() {
      if (this.element && this._autoResize) {
        this.element.style.height = "auto";
        this.element.style.height = this.element.scrollHeight + "px";
        const event = new CustomEvent(so_config_default.evt("autosize"), {
          detail: { height: this.element.scrollHeight },
          bubbles: true
        });
        this.element.dispatchEvent(event);
      }
    }
    /**
     * Listen to input events
     * @param {Function} callback
     * @returns {this}
     */
    onInput(callback) {
      return this.on("input", callback);
    }
    /**
     * Listen to change events
     * @param {Function} callback
     * @returns {this}
     */
    onChange(callback) {
      return this.on("change", callback);
    }
    /**
     * Listen to focus events
     * @param {Function} callback
     * @returns {this}
     */
    onFocus(callback) {
      return this.on("focus", callback);
    }
    /**
     * Listen to blur events
     * @param {Function} callback
     * @returns {this}
     */
    onBlur(callback) {
      return this.on("blur", callback);
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      return "textarea";
    }
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      super.buildClassString();
      if (this._resize !== null) {
        this._extraClasses.add(so_config_default.cls("resize-" + this._resize));
      }
      return Array.from(this._extraClasses).join(" ");
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      if (this._rows)
        attrs.rows = this._rows;
      if (this._cols)
        attrs.cols = this._cols;
      if (this._maxlength)
        attrs.maxlength = this._maxlength;
      if (this._minlength)
        attrs.minlength = this._minlength;
      if (this._wrap)
        attrs.wrap = this._wrap;
      if (this._autoResize) {
        attrs[so_config_default.data("auto-resize")] = "true";
      }
      if (this._showCounter && this._maxlength) {
        attrs[so_config_default.data("counter")] = "true";
      }
      delete attrs.value;
      return attrs;
    }
    /**
     * Don't render value as attribute
     * @returns {boolean}
     */
    _shouldRenderValueAttr() {
      return false;
    }
    /**
     * Render content (the textarea value)
     * @returns {string}
     */
    renderContent() {
      return this._value !== null ? this._escapeHtml(String(this._value)) : "";
    }
    /**
     * Render to DOM
     * @returns {HTMLElement}
     */
    render() {
      const el = document.createElement(this.getTagName());
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          el.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          el.setAttribute(name, value);
        }
      });
      if (this._value !== null) {
        el.value = this._value;
      }
      this.element = el;
      this._attachEventHandlers();
      return el;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._rows !== 3)
        config.rows = this._rows;
      if (this._cols)
        config.cols = this._cols;
      if (this._maxlength)
        config.maxlength = this._maxlength;
      if (this._minlength)
        config.minlength = this._minlength;
      if (this._wrap)
        config.wrap = this._wrap;
      if (this._resize !== null)
        config.resize = this._resize;
      if (this._autoResize)
        config.autoResize = true;
      if (this._showCounter)
        config.showCounter = true;
      return config;
    }
  };
  __publicField(Textarea, "NAME", "ui-textarea");
  __publicField(Textarea, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "textarea",
    tagName: "textarea"
  }));

  // src/js/ui-engine/elements/form/Button.js
  var Button = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._buttonType = config.buttonType || "button";
      this._variant = config.variant || "primary";
      this._size = config.size || null;
      this._outline = config.outline || false;
      this._block = config.block || false;
      this._disabled = config.disabled || false;
      this._loading = config.loading || false;
      this._loadingText = config.loadingText || null;
      this._icon = config.icon || null;
      this._iconPosition = config.iconPosition || "left";
      this._iconOnly = config.iconOnly || false;
      this._text = config.text || null;
      this._href = config.href || null;
      this._target = config.target || null;
      this._eventHandlers = config.events || {};
    }
    // ==================
    // Fluent API - Type
    // ==================
    /**
     * Set button type
     * @param {string} type - button, submit, reset
     * @returns {this}
     */
    buttonType(type) {
      this._buttonType = type;
      return this;
    }
    /** Submit button */
    submit() {
      return this.buttonType("submit");
    }
    /** Reset button */
    reset() {
      return this.buttonType("reset");
    }
    // ==================
    // Fluent API - Variant
    // ==================
    /**
     * Set variant
     * @param {string} variant
     * @returns {this}
     */
    variant(variant) {
      this._variant = variant;
      return this;
    }
    /** Primary variant */
    primary() {
      return this.variant("primary");
    }
    /** Secondary variant */
    secondary() {
      return this.variant("secondary");
    }
    /** Success variant */
    success() {
      return this.variant("success");
    }
    /** Danger variant */
    danger() {
      return this.variant("danger");
    }
    /** Warning variant */
    warning() {
      return this.variant("warning");
    }
    /** Info variant */
    info() {
      return this.variant("info");
    }
    /** Light variant */
    light() {
      return this.variant("light");
    }
    /** Dark variant */
    dark() {
      return this.variant("dark");
    }
    /** Link variant */
    link() {
      return this.variant("link");
    }
    // ==================
    // Fluent API - Style
    // ==================
    /**
     * Set as outline style
     * @param {boolean} val
     * @returns {this}
     */
    outline(val = true) {
      this._outline = val;
      return this;
    }
    /**
     * Set size
     * @param {string} size - sm, lg
     * @returns {this}
     */
    size(size) {
      this._size = size;
      return this;
    }
    /** Small size */
    small() {
      return this.size("sm");
    }
    /** Large size */
    large() {
      return this.size("lg");
    }
    /**
     * Set as block button (full width)
     * @param {boolean} val
     * @returns {this}
     */
    block(val = true) {
      this._block = val;
      return this;
    }
    /**
     * Set disabled state
     * @param {boolean} val
     * @returns {this}
     */
    disabled(val = true) {
      this._disabled = val;
      return this;
    }
    /**
     * Set loading state
     * @param {boolean} val
     * @param {string|null} loadingText
     * @returns {this}
     */
    loading(val = true, loadingText = null) {
      this._loading = val;
      if (loadingText !== null) {
        this._loadingText = loadingText;
      }
      return this;
    }
    /**
     * Set icon
     * @param {string} icon - Material Icons name
     * @param {string} position - left, right
     * @returns {this}
     */
    icon(icon, position = "left") {
      this._icon = icon;
      this._iconPosition = position;
      return this;
    }
    /**
     * Set as icon-only button
     * @param {string} icon - Material Icons name
     * @returns {this}
     */
    iconOnly(icon) {
      this._icon = icon;
      this._iconOnly = true;
      return this;
    }
    /**
     * Set button text
     * @param {string} text
     * @returns {this}
     */
    text(text) {
      this._text = text;
      return this;
    }
    /**
     * Set as link button
     * @param {string} url
     * @param {string|null} target
     * @returns {this}
     */
    href(url, target = null) {
      this._href = url;
      this._target = target;
      return this;
    }
    /**
     * Open link in new tab
     * @returns {this}
     */
    newTab() {
      this._target = "_blank";
      return this;
    }
    // ==================
    // Events
    // ==================
    /**
     * Set click handler
     * @param {Function|string} handler
     * @returns {this}
     */
    onClick(handler) {
      this._eventHandlers.click = handler;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      return this._href ? "a" : "button";
    }
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("btn"));
      const variantClass = this._outline ? so_config_default.cls("btn", "outline", this._variant) : so_config_default.cls("btn", this._variant);
      this._extraClasses.add(variantClass);
      if (this._size) {
        this._extraClasses.add(so_config_default.cls("btn", this._size));
      }
      if (this._block) {
        this._extraClasses.add(so_config_default.cls("w-100"));
      }
      if (this._loading) {
        this._extraClasses.add(so_config_default.cls("btn-loading"));
      }
      if (this._iconOnly) {
        this._extraClasses.add(so_config_default.cls("btn-icon"));
      }
      return super.buildClassString();
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      if (this._href) {
        attrs.href = this._href;
        attrs.role = "button";
        if (this._target) {
          attrs.target = this._target;
          if (this._target === "_blank") {
            attrs.rel = "noopener noreferrer";
          }
        }
        if (this._disabled) {
          attrs["aria-disabled"] = "true";
          attrs.tabindex = "-1";
        }
      } else {
        attrs.type = this._buttonType;
        if (this._disabled || this._loading) {
          attrs.disabled = true;
        }
      }
      if (this._loading) {
        attrs[so_config_default.data("loading")] = "true";
        if (this._loadingText) {
          attrs[so_config_default.data("loading-text")] = this._loadingText;
        }
      }
      return attrs;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = "";
      if (this._loading) {
        html += `<span class="${so_config_default.cls("spinner")} ${so_config_default.cls("spinner-border")} ${so_config_default.cls("spinner-border-sm")}" role="status" aria-hidden="true"></span> `;
      }
      if (this._icon && this._iconPosition === "left" && !this._loading) {
        html += `<span class="material-icons">${this._escapeHtml(this._icon)}</span>`;
        if (!this._iconOnly && this._text) {
          html += " ";
        }
      }
      if (!this._iconOnly) {
        if (this._loading && this._loadingText) {
          html += this._escapeHtml(this._loadingText);
        } else if (this._text) {
          html += this._escapeHtml(this._text);
        } else if (this._content) {
          html += this._escapeHtml(this._content);
        }
      }
      if (this._icon && this._iconPosition === "right" && !this._loading) {
        if (!this._iconOnly && this._text) {
          html += " ";
        }
        html += `<span class="material-icons">${this._escapeHtml(this._icon)}</span>`;
      }
      return html;
    }
    /**
     * Render to DOM
     * @returns {HTMLElement}
     */
    render() {
      const el = document.createElement(this.getTagName());
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          el.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          el.setAttribute(name, value);
        }
      });
      el.innerHTML = this.renderContent();
      Object.entries(this._eventHandlers).forEach(([event, handler]) => {
        if (typeof handler === "function") {
          el.addEventListener(event, handler);
        } else if (typeof handler === "string" && typeof window[handler] === "function") {
          el.addEventListener(event, window[handler]);
        }
      });
      this.element = el;
      return el;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._buttonType !== "button")
        config.buttonType = this._buttonType;
      if (this._variant !== "primary")
        config.variant = this._variant;
      if (this._size)
        config.size = this._size;
      if (this._outline)
        config.outline = true;
      if (this._block)
        config.block = true;
      if (this._disabled)
        config.disabled = true;
      if (this._loading) {
        config.loading = true;
        if (this._loadingText)
          config.loadingText = this._loadingText;
      }
      if (this._icon) {
        config.icon = this._icon;
        if (this._iconPosition !== "left")
          config.iconPosition = this._iconPosition;
      }
      if (this._iconOnly)
        config.iconOnly = true;
      if (this._text)
        config.text = this._text;
      if (this._href)
        config.href = this._href;
      if (this._target)
        config.target = this._target;
      return config;
    }
  };
  __publicField(Button, "NAME", "ui-button");
  __publicField(Button, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "button",
    tagName: "button"
  }));

  // src/js/ui-engine/elements/form/FileInput.js
  var FileInput = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._accept = config.accept || null;
      this._multiple = config.multiple || false;
      this._capture = config.capture || null;
      this._maxSize = config.maxSize || null;
      this._preview = config.preview || false;
      this._dropzone = config.dropzone || false;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set accepted file types
     * @param {string} accept - MIME types or extensions
     * @returns {this}
     */
    accept(accept) {
      this._accept = accept;
      return this;
    }
    /**
     * Accept images only
     * @returns {this}
     */
    images() {
      return this.accept("image/*");
    }
    /**
     * Accept videos only
     * @returns {this}
     */
    videos() {
      return this.accept("video/*");
    }
    /**
     * Accept audio only
     * @returns {this}
     */
    audio() {
      return this.accept("audio/*");
    }
    /**
     * Accept PDFs
     * @returns {this}
     */
    pdf() {
      return this.accept("application/pdf,.pdf");
    }
    /**
     * Accept documents
     * @returns {this}
     */
    documents() {
      return this.accept(".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt");
    }
    /**
     * Set multiple files
     * @param {boolean} val
     * @returns {this}
     */
    multiple(val = true) {
      this._multiple = val;
      return this;
    }
    /**
     * Set maximum file size in bytes
     * @param {number} bytes
     * @returns {this}
     */
    maxSize(bytes) {
      this._maxSize = bytes;
      return this;
    }
    /**
     * Set maximum file size in megabytes
     * @param {number} mb
     * @returns {this}
     */
    maxSizeMB(mb) {
      return this.maxSize(mb * 1024 * 1024);
    }
    /**
     * Set capture mode (camera, microphone)
     * @param {string} type - user, environment
     * @returns {this}
     */
    capture(type = "user") {
      this._capture = type;
      return this;
    }
    /**
     * Use front camera
     * @returns {this}
     */
    frontCamera() {
      return this.capture("user");
    }
    /**
     * Use back camera
     * @returns {this}
     */
    backCamera() {
      return this.capture("environment");
    }
    /**
     * Enable file preview
     * @param {boolean} val
     * @returns {this}
     */
    preview(val = true) {
      this._preview = val;
      return this;
    }
    /**
     * Enable drag and drop zone
     * @param {boolean} val
     * @returns {this}
     */
    dropzone(val = true) {
      this._dropzone = val;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      return "input";
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.type = "file";
      if (this._accept)
        attrs.accept = this._accept;
      if (this._multiple)
        attrs.multiple = true;
      if (this._capture)
        attrs.capture = this._capture;
      if (this._maxSize)
        attrs[so_config_default.data("max-size")] = this._maxSize;
      if (this._preview)
        attrs[so_config_default.data("preview")] = "true";
      if (this._dropzone)
        attrs[so_config_default.data("dropzone")] = "true";
      delete attrs.value;
      return attrs;
    }
    /**
     * Don't render value as attribute
     * @returns {boolean}
     */
    _shouldRenderValueAttr() {
      return false;
    }
    /**
     * Render content (empty for input)
     * @returns {string}
     */
    renderContent() {
      return "";
    }
    /**
     * Get files
     * @returns {FileList|null}
     */
    getFiles() {
      var _a;
      return ((_a = this.element) == null ? void 0 : _a.files) || null;
    }
    /**
     * Get value (file names)
     * @returns {string|Array}
     */
    getValue() {
      var _a;
      if (this.element && this.element.files) {
        const files = Array.from(this.element.files);
        if (this._multiple) {
          return files.map((f) => f.name);
        }
        return ((_a = files[0]) == null ? void 0 : _a.name) || "";
      }
      return "";
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._accept)
        config.accept = this._accept;
      if (this._multiple)
        config.multiple = true;
      if (this._capture)
        config.capture = this._capture;
      if (this._maxSize)
        config.maxSize = this._maxSize;
      if (this._preview)
        config.preview = true;
      if (this._dropzone)
        config.dropzone = true;
      return config;
    }
  };
  __publicField(FileInput, "NAME", "ui-file-input");
  __publicField(FileInput, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "file-input",
    tagName: "input"
  }));

  // src/js/ui-engine/elements/form/Hidden.js
  var Hidden = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._label = null;
      this._placeholder = null;
      this._help = null;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      return "input";
    }
    /**
     * Build CSS classes (hidden inputs have no visual classes)
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.delete("so-form-control");
      return Array.from(this._extraClasses).join(" ");
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = {};
      if (this._id)
        attrs.id = this._id;
      if (this._name)
        attrs.name = this._name;
      if (this._value !== null)
        attrs.value = this._value;
      attrs.type = "hidden";
      this._extraAttributes.forEach((value, key) => {
        attrs[key] = value;
      });
      this._dataAttributes.forEach((value, key) => {
        attrs[`data-${this._kebabCase(key)}`] = value;
      });
      return attrs;
    }
    /**
     * Render content (empty for input)
     * @returns {string}
     */
    renderContent() {
      return "";
    }
    /**
     * Render without wrapper
     * @returns {HTMLElement}
     */
    render() {
      const el = document.createElement(this.getTagName());
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          el.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          el.setAttribute(name, value);
        }
      });
      this.element = el;
      return el;
    }
    /**
     * Render group (just the input, no wrapper needed)
     * @returns {HTMLElement}
     */
    renderGroup() {
      return this.render();
    }
  };
  __publicField(Hidden, "NAME", "ui-hidden");
  __publicField(Hidden, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "hidden",
    tagName: "input"
  }));

  // src/js/ui-engine/elements/form/Form.js
  var Form = class extends ContainerElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._action = config.action || "";
      this._method = config.method || "POST";
      this._methodOverride = null;
      this._enctype = config.enctype || null;
      this._target = config.target || null;
      this._novalidate = config.novalidate || false;
      this._autocomplete = config.autocomplete || null;
      this._ajax = config.ajax || false;
      this._showLoading = config.showLoading !== false;
      this._onSubmit = config.onSubmit || null;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set form action
     * @param {string} url
     * @returns {this}
     */
    action(url) {
      this._action = url;
      return this;
    }
    /**
     * Set form method
     * @param {string} method - GET|POST|PUT|PATCH|DELETE
     * @returns {this}
     */
    method(method) {
      method = method.toUpperCase();
      if (["PUT", "PATCH", "DELETE"].includes(method)) {
        this._method = "POST";
        this._methodOverride = method;
      } else {
        this._method = method;
        this._methodOverride = null;
      }
      return this;
    }
    /** GET method */
    get() {
      return this.method("GET");
    }
    /** POST method */
    post() {
      return this.method("POST");
    }
    /** PUT method (uses method override) */
    put() {
      return this.method("PUT");
    }
    /** PATCH method (uses method override) */
    patch() {
      return this.method("PATCH");
    }
    /** DELETE method (uses method override) */
    delete() {
      return this.method("DELETE");
    }
    /**
     * Set enctype
     * @param {string} type
     * @returns {this}
     */
    enctype(type) {
      this._enctype = type;
      return this;
    }
    /** Multipart form data */
    multipart() {
      return this.enctype("multipart/form-data");
    }
    /**
     * Set target
     * @param {string} target
     * @returns {this}
     */
    target(target) {
      this._target = target;
      return this;
    }
    /** Open in new tab */
    newTab() {
      return this.target("_blank");
    }
    /**
     * Disable HTML5 validation
     * @param {boolean} val
     * @returns {this}
     */
    novalidate(val = true) {
      this._novalidate = val;
      return this;
    }
    /**
     * Set autocomplete
     * @param {string} autocomplete - on|off
     * @returns {this}
     */
    autocomplete(autocomplete) {
      this._autocomplete = autocomplete;
      return this;
    }
    /** Disable autocomplete */
    noAutocomplete() {
      return this.autocomplete("off");
    }
    /**
     * Enable AJAX submission
     * @param {boolean} val
     * @returns {this}
     */
    ajax(val = true) {
      this._ajax = val;
      return this;
    }
    /**
     * Set loading state behavior
     * @param {boolean} val
     * @returns {this}
     */
    showLoading(val = true) {
      this._showLoading = val;
      return this;
    }
    /**
     * Set submit handler
     * @param {Function} handler
     * @returns {this}
     */
    onSubmit(handler) {
      this._onSubmit = handler;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      return "form";
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      if (this._action)
        attrs.action = this._action;
      if (this._method)
        attrs.method = this._method;
      if (this._enctype)
        attrs.enctype = this._enctype;
      if (this._target)
        attrs.target = this._target;
      if (this._novalidate)
        attrs.novalidate = true;
      if (this._autocomplete)
        attrs.autocomplete = this._autocomplete;
      if (this._ajax)
        attrs[so_config_default.data("ajax")] = "true";
      if (!this._showLoading)
        attrs[so_config_default.data("no-loading")] = "true";
      return attrs;
    }
    /**
     * Render content including hidden fields
     * @returns {string}
     */
    renderContent() {
      let html = "";
      if (this._methodOverride) {
        html += `<input type="hidden" name="_method" value="${this._escapeHtml(this._methodOverride)}">`;
      }
      html += super.renderContent();
      return html;
    }
    /**
     * Render to DOM
     * @returns {HTMLElement}
     */
    render() {
      const el = super.render();
      if (this._onSubmit) {
        el.addEventListener("submit", (e) => {
          if (typeof this._onSubmit === "function") {
            this._onSubmit(e, this);
          }
        });
      }
      return el;
    }
    // ==================
    // Form Methods
    // ==================
    /**
     * Get form data
     * @returns {FormData}
     */
    getFormData() {
      if (this.element) {
        return new FormData(this.element);
      }
      return new FormData();
    }
    /**
     * Get all form values as object
     * @returns {Object}
     */
    getValues() {
      const values = {};
      const formData = this.getFormData();
      formData.forEach((value, key) => {
        if (values[key]) {
          if (!Array.isArray(values[key])) {
            values[key] = [values[key]];
          }
          values[key].push(value);
        } else {
          values[key] = value;
        }
      });
      return values;
    }
    /**
     * Set form values
     * @param {Object} values
     * @returns {this}
     */
    setValues(values) {
      if (!this.element)
        return this;
      Object.entries(values).forEach(([name, value]) => {
        const field = this.element.querySelector(`[name="${name}"]`);
        if (field) {
          if (field.type === "checkbox") {
            field.checked = !!value;
          } else if (field.type === "radio") {
            const radio = this.element.querySelector(`[name="${name}"][value="${value}"]`);
            if (radio)
              radio.checked = true;
          } else {
            field.value = value;
          }
        }
      });
      return this;
    }
    /**
     * Reset form
     * @returns {this}
     */
    resetForm() {
      if (this.element) {
        this.element.reset();
      }
      return this;
    }
    /**
     * Submit form
     * @returns {this}
     */
    submitForm() {
      if (this.element) {
        this.element.submit();
      }
      return this;
    }
    /**
     * Validate form
     * @returns {boolean}
     */
    validate() {
      if (this.element) {
        return this.element.checkValidity();
      }
      return true;
    }
    /**
     * Report validity
     * @returns {boolean}
     */
    reportValidity() {
      if (this.element) {
        return this.element.reportValidity();
      }
      return true;
    }
    /**
     * Export validation rules for all form elements
     * @returns {Object}
     */
    exportValidation() {
      const rules2 = {};
      const formElements = this.getFormElements();
      formElements.forEach((el) => {
        if (el.getName && el.exportValidation) {
          const name = el.getName();
          if (name) {
            rules2[name] = el.exportValidation();
          }
        }
      });
      return rules2;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._action)
        config.action = this._action;
      config.method = this._methodOverride || this._method;
      if (this._enctype)
        config.enctype = this._enctype;
      if (this._target)
        config.target = this._target;
      if (this._novalidate)
        config.novalidate = true;
      if (this._autocomplete)
        config.autocomplete = this._autocomplete;
      if (this._ajax)
        config.ajax = true;
      if (!this._showLoading)
        config.showLoading = false;
      return config;
    }
  };
  __publicField(Form, "NAME", "ui-form");
  __publicField(Form, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), {
    type: "form",
    tagName: "form"
  }));

  // src/js/ui-engine/elements/form/Autocomplete.js
  var Autocomplete = class extends FormElement {
    _initFromConfig(config) {
      var _a, _b, _c, _d, _e, _f, _g;
      super._initFromConfig(config);
      this._options = config.options || [];
      this._asyncUrl = config.asyncUrl || config.async || null;
      this._minLength = (_b = (_a = config.minLength) != null ? _a : config.minChars) != null ? _b : 0;
      this._debounce = (_c = config.debounce) != null ? _c : 300;
      this._maxResults = (_d = config.maxResults) != null ? _d : 10;
      this._freeSolo = (_e = config.freeSolo) != null ? _e : false;
      this._highlightMatches = config.highlightMatches !== false;
      this._clearable = config.clearable !== false;
      this._multiple = (_f = config.multiple) != null ? _f : false;
      this._displayMode = config.displayMode || "chips";
      this._maxVisibleTokens = (_g = config.maxVisibleTokens) != null ? _g : 3;
      this._tokenDelimiters = config.tokenDelimiters || [",", ";"];
      this._noResultsText = config.noResultsText || "No results found";
      this._loadingText = config.loadingText || "Loading...";
      this._itemTemplate = config.itemTemplate || null;
    }
    // Fluent setters
    options(options) {
      this._options = options;
      return this;
    }
    addOption(option) {
      this._options.push(option);
      return this;
    }
    async(url) {
      this._asyncUrl = url;
      return this;
    }
    ajaxUrl(url) {
      return this.async(url);
    }
    minLength(length) {
      this._minLength = length;
      return this;
    }
    minChars(chars) {
      return this.minLength(chars);
    }
    debounce(ms) {
      this._debounce = ms;
      return this;
    }
    maxResults(max) {
      this._maxResults = max;
      return this;
    }
    freeSolo(val = true) {
      this._freeSolo = val;
      return this;
    }
    strict() {
      return this.freeSolo(false);
    }
    highlightMatches(val = true) {
      this._highlightMatches = val;
      return this;
    }
    highlight(val = true) {
      return this.highlightMatches(val);
    }
    clearable(val = true) {
      this._clearable = val;
      return this;
    }
    multiple(val = true) {
      this._multiple = val;
      return this;
    }
    displayMode(mode) {
      this._displayMode = mode;
      return this;
    }
    maxVisibleTokens(max) {
      this._maxVisibleTokens = max;
      return this;
    }
    tokenDelimiters(delimiters) {
      this._tokenDelimiters = delimiters;
      return this;
    }
    noResultsText(text) {
      this._noResultsText = text;
      return this;
    }
    loadingText(text) {
      this._loadingText = text;
      return this;
    }
    itemTemplate(template) {
      this._itemTemplate = template;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("autocomplete"));
      if (this._multiple) {
        this._extraClasses.add(so_config_default.cls("autocomplete-multiple"));
        this._extraClasses.add(so_config_default.cls(`autocomplete-display-${this._displayMode}`));
      }
      if (this._size) {
        this._extraClasses.add(so_config_default.cls(`autocomplete-${this._size}`));
      }
      if (this._disabled) {
        this._extraClasses.add(so_config_default.cls("disabled"));
      }
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = {};
      if (this._id) {
        attrs.id = this._id;
      }
      attrs.class = this.buildClassString();
      if (this._multiple) {
        attrs[so_config_default.data("multiple")] = "true";
      }
      if (this._freeSolo) {
        attrs[so_config_default.data("free-solo")] = "true";
      }
      if (this._asyncUrl) {
        attrs[so_config_default.data("async")] = this._asyncUrl;
      }
      return attrs;
    }
    renderContent() {
      const containerId = `autocomplete-${this._id || Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
      const dropdownId = `${containerId}-dropdown`;
      const inputAttrs = {
        type: "text",
        class: so_config_default.cls("autocomplete-input"),
        placeholder: this._placeholder || "Type to search...",
        autocomplete: "off",
        role: "combobox",
        "aria-expanded": "false",
        "aria-haspopup": "listbox",
        "aria-owns": dropdownId,
        "aria-autocomplete": "list"
      };
      if (this._name && !this._multiple) {
        inputAttrs.name = this._name;
      }
      if (this._disabled) {
        inputAttrs.disabled = "disabled";
      }
      if (this._readonly) {
        inputAttrs.readonly = "readonly";
      }
      const inputAttrStr = Object.entries(inputAttrs).map(([k, v]) => `${k}="${v}"`).join(" ");
      const inputHtml = `<input ${inputAttrStr}>`;
      let inputArea;
      if (this._multiple) {
        inputArea = `<div class="${so_config_default.cls("autocomplete-tokens")}">${inputHtml}</div>`;
      } else {
        inputArea = inputHtml;
      }
      const clearBtn = this._clearable ? `<button type="button" class="${so_config_default.cls("autocomplete-clear")}" style="display: none;" aria-label="Clear all">
                <span class="material-icons">close</span>
               </button>` : "";
      const arrow = `<span class="${so_config_default.cls("autocomplete-arrow")}">
            <span class="material-icons">expand_more</span>
        </span>`;
      const container = `<div class="${so_config_default.cls("autocomplete-container")}" id="${containerId}">
            ${inputArea}
            ${clearBtn}
            ${arrow}
        </div>`;
      const dropdown = `<div class="${so_config_default.cls("autocomplete-dropdown")}" id="${dropdownId}" role="listbox">
            <div class="${so_config_default.cls("autocomplete-loading")}" style="display: none;">
                <span class="${so_config_default.cls("spinner")} ${so_config_default.cls("spinner-sm")}"></span>
                <span>${this._loadingText}</span>
            </div>
            <div class="${so_config_default.cls("autocomplete-options")}"></div>
            <div class="${so_config_default.cls("autocomplete-no-results")}" style="display: none;">
                ${this._noResultsText}
            </div>
        </div>`;
      return container + dropdown;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._options.length > 0)
        config.options = this._options;
      if (this._asyncUrl)
        config.async = this._asyncUrl;
      if (this._minLength !== 0)
        config.minLength = this._minLength;
      if (this._debounce !== 300)
        config.debounce = this._debounce;
      if (this._maxResults !== 10)
        config.maxResults = this._maxResults;
      if (this._freeSolo)
        config.freeSolo = true;
      if (!this._highlightMatches)
        config.highlightMatches = false;
      if (!this._clearable)
        config.clearable = false;
      if (this._multiple)
        config.multiple = true;
      if (this._displayMode !== "chips")
        config.displayMode = this._displayMode;
      if (this._maxVisibleTokens !== 3)
        config.maxVisibleTokens = this._maxVisibleTokens;
      if (JSON.stringify(this._tokenDelimiters) !== JSON.stringify([",", ";"])) {
        config.tokenDelimiters = this._tokenDelimiters;
      }
      if (this._itemTemplate)
        config.itemTemplate = this._itemTemplate;
      return config;
    }
  };
  __publicField(Autocomplete, "NAME", "ui-autocomplete");
  __publicField(Autocomplete, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "autocomplete",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/form/ColorInput.js
  var ColorInput = class extends FormElement {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._presets = config.presets || [];
      this._showInput = config.showInput !== false;
      this._format = config.format || "hex";
      this._alpha = config.alpha || false;
    }
    presets(presets) {
      this._presets = presets;
      return this;
    }
    addPreset(color) {
      this._presets.push(color);
      return this;
    }
    bootstrapPresets() {
      this._presets = [
        "#0d6efd",
        "#6610f2",
        "#6f42c1",
        "#d63384",
        "#dc3545",
        "#fd7e14",
        "#ffc107",
        "#198754",
        "#20c997",
        "#0dcaf0",
        "#adb5bd",
        "#212529"
      ];
      return this;
    }
    showInput(show = true) {
      this._showInput = show;
      return this;
    }
    hideInput() {
      return this.showInput(false);
    }
    format(fmt) {
      this._format = fmt;
      return this;
    }
    hex() {
      return this.format("hex");
    }
    rgb() {
      return this.format("rgb");
    }
    hsl() {
      return this.format("hsl");
    }
    alpha(val = true) {
      this._alpha = val;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("form-control"));
      this._extraClasses.add(so_config_default.cls("form-control-color"));
      if (this._size)
        this._extraClasses.add(so_config_default.cls("form-control", this._size));
      if (this._error)
        this._extraClasses.add(so_config_default.cls("is-invalid"));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.type = "color";
      attrs[so_config_default.data("ui-init")] = "color-input";
      const config = {
        showInput: this._showInput,
        format: this._format,
        alpha: this._alpha
      };
      if (this._presets.length > 0)
        config.presets = this._presets;
      attrs[so_config_default.data("ui-config")] = JSON.stringify(config);
      return attrs;
    }
    renderContent() {
      return "";
    }
    toConfig() {
      const config = super.toConfig();
      if (this._presets.length > 0)
        config.presets = this._presets;
      if (!this._showInput)
        config.showInput = false;
      if (this._format !== "hex")
        config.format = this._format;
      if (this._alpha)
        config.alpha = true;
      return config;
    }
  };
  __publicField(ColorInput, "NAME", "ui-color-input");
  __publicField(ColorInput, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "color-input",
    tagName: "input"
  }));

  // src/js/ui-engine/elements/form/DatePicker.js
  var DatePicker = class extends FormElement {
    _initFromConfig(config) {
      var _a;
      super._initFromConfig(config);
      this._format = config.format || "Y-m-d";
      this._minDate = config.minDate || null;
      this._maxDate = config.maxDate || null;
      this._disabledDates = config.disabledDates || [];
      this._disabledDays = config.disabledDays || [];
      this._range = config.range || false;
      this._weekNumbers = config.weekNumbers || false;
      this._clearable = config.clearable !== false;
      this._todayButton = config.todayButton !== false;
      this._firstDayOfWeek = (_a = config.firstDayOfWeek) != null ? _a : 1;
    }
    format(fmt) {
      this._format = fmt;
      return this;
    }
    minDate(date) {
      this._minDate = date;
      return this;
    }
    maxDate(date) {
      this._maxDate = date;
      return this;
    }
    dateRange(min, max) {
      this._minDate = min;
      this._maxDate = max;
      return this;
    }
    disabledDates(dates) {
      this._disabledDates = dates;
      return this;
    }
    disabledDays(days) {
      this._disabledDays = days;
      return this;
    }
    disableWeekends() {
      this._disabledDays = [0, 6];
      return this;
    }
    range(val = true) {
      this._range = val;
      return this;
    }
    weekNumbers(val = true) {
      this._weekNumbers = val;
      return this;
    }
    clearable(val = true) {
      this._clearable = val;
      return this;
    }
    todayButton(val = true) {
      this._todayButton = val;
      return this;
    }
    firstDayOfWeek(day) {
      this._firstDayOfWeek = day;
      return this;
    }
    weekStartsSunday() {
      return this.firstDayOfWeek(0);
    }
    weekStartsMonday() {
      return this.firstDayOfWeek(1);
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("form-control"));
      this._extraClasses.add(so_config_default.cls("datepicker-input"));
      if (this._size)
        this._extraClasses.add(so_config_default.cls("form-control", this._size));
      if (this._error)
        this._extraClasses.add(so_config_default.cls("is-invalid"));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.type = "text";
      attrs.autocomplete = "off";
      attrs[so_config_default.data("ui-init")] = "date-picker";
      const config = {
        format: this._format,
        clearable: this._clearable,
        todayButton: this._todayButton,
        firstDayOfWeek: this._firstDayOfWeek,
        range: this._range,
        weekNumbers: this._weekNumbers
      };
      if (this._minDate)
        config.minDate = this._minDate;
      if (this._maxDate)
        config.maxDate = this._maxDate;
      if (this._disabledDates.length > 0)
        config.disabledDates = this._disabledDates;
      if (this._disabledDays.length > 0)
        config.disabledDays = this._disabledDays;
      attrs[so_config_default.data("ui-config")] = JSON.stringify(config);
      return attrs;
    }
    renderContent() {
      return "";
    }
    toConfig() {
      const config = super.toConfig();
      if (this._format !== "Y-m-d")
        config.format = this._format;
      if (this._minDate)
        config.minDate = this._minDate;
      if (this._maxDate)
        config.maxDate = this._maxDate;
      if (this._disabledDates.length > 0)
        config.disabledDates = this._disabledDates;
      if (this._disabledDays.length > 0)
        config.disabledDays = this._disabledDays;
      if (this._range)
        config.range = true;
      if (this._weekNumbers)
        config.weekNumbers = true;
      if (!this._clearable)
        config.clearable = false;
      if (!this._todayButton)
        config.todayButton = false;
      if (this._firstDayOfWeek !== 1)
        config.firstDayOfWeek = this._firstDayOfWeek;
      return config;
    }
  };
  __publicField(DatePicker, "NAME", "ui-date-picker");
  __publicField(DatePicker, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "date-picker",
    tagName: "input"
  }));

  // src/js/ui-engine/elements/form/TimePicker.js
  var TimePicker = class extends FormElement {
    _initFromConfig(config) {
      var _a, _b;
      super._initFromConfig(config);
      this._hourFormat = (_a = config.hourFormat) != null ? _a : 24;
      this._minuteStep = (_b = config.minuteStep) != null ? _b : 5;
      this._showSeconds = config.showSeconds || false;
      this._minTime = config.minTime || null;
      this._maxTime = config.maxTime || null;
      this._clearable = config.clearable !== false;
      this._nowButton = config.nowButton !== false;
    }
    hourFormat(fmt) {
      this._hourFormat = fmt;
      return this;
    }
    hour12() {
      return this.hourFormat(12);
    }
    hour24() {
      return this.hourFormat(24);
    }
    minuteStep(step) {
      this._minuteStep = step;
      return this;
    }
    showSeconds(val = true) {
      this._showSeconds = val;
      return this;
    }
    minTime(time) {
      this._minTime = time;
      return this;
    }
    maxTime(time) {
      this._maxTime = time;
      return this;
    }
    timeRange(min, max) {
      this._minTime = min;
      this._maxTime = max;
      return this;
    }
    businessHours() {
      return this.timeRange("09:00", "17:00");
    }
    clearable(val = true) {
      this._clearable = val;
      return this;
    }
    nowButton(val = true) {
      this._nowButton = val;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("form-control"));
      this._extraClasses.add(so_config_default.cls("timepicker-input"));
      if (this._size)
        this._extraClasses.add(so_config_default.cls("form-control", this._size));
      if (this._error)
        this._extraClasses.add(so_config_default.cls("is-invalid"));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.type = "text";
      attrs.autocomplete = "off";
      attrs[so_config_default.data("ui-init")] = "time-picker";
      const config = {
        hourFormat: this._hourFormat,
        minuteStep: this._minuteStep,
        showSeconds: this._showSeconds,
        clearable: this._clearable,
        nowButton: this._nowButton
      };
      if (this._minTime)
        config.minTime = this._minTime;
      if (this._maxTime)
        config.maxTime = this._maxTime;
      attrs[so_config_default.data("ui-config")] = JSON.stringify(config);
      return attrs;
    }
    renderContent() {
      return "";
    }
    toConfig() {
      const config = super.toConfig();
      if (this._hourFormat !== 24)
        config.hourFormat = this._hourFormat;
      if (this._minuteStep !== 5)
        config.minuteStep = this._minuteStep;
      if (this._showSeconds)
        config.showSeconds = true;
      if (this._minTime)
        config.minTime = this._minTime;
      if (this._maxTime)
        config.maxTime = this._maxTime;
      if (!this._clearable)
        config.clearable = false;
      if (!this._nowButton)
        config.nowButton = false;
      return config;
    }
  };
  __publicField(TimePicker, "NAME", "ui-time-picker");
  __publicField(TimePicker, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "time-picker",
    tagName: "input"
  }));

  // src/js/ui-engine/elements/form/SwitchElement.js
  var SwitchElement = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._checked = config.checked || false;
      this._variant = config.variant || "primary";
      this._switchSize = config.switchSize || null;
      this._iconMode = config.iconMode || false;
      this._textMode = config.textMode || false;
      this._onLabel = config.onLabel || "ON";
      this._offLabel = config.offLabel || "OFF";
      this._onIcon = config.onIcon || "check";
      this._offIcon = config.offIcon || "close";
      this._title = config.title || null;
      this._description = config.description || null;
    }
    // ==================
    // Fluent API - State
    // ==================
    /**
     * Set checked state
     * @param {boolean} val
     * @returns {this}
     */
    checked(val = true) {
      this._checked = val;
      return this;
    }
    /**
     * Set unchecked state
     * @returns {this}
     */
    unchecked() {
      return this.checked(false);
    }
    // ==================
    // Fluent API - Variant
    // ==================
    /**
     * Set variant/color
     * @param {string} v
     * @returns {this}
     */
    variant(v) {
      this._variant = v;
      return this;
    }
    /**
     * Alias for variant
     * @param {string} c
     * @returns {this}
     */
    color(c) {
      return this.variant(c);
    }
    primary() {
      return this.variant("primary");
    }
    secondary() {
      return this.variant("secondary");
    }
    success() {
      return this.variant("success");
    }
    danger() {
      return this.variant("danger");
    }
    warning() {
      return this.variant("warning");
    }
    info() {
      return this.variant("info");
    }
    // ==================
    // Fluent API - Size
    // ==================
    /**
     * Set switch size
     * @param {string} s - sm|lg
     * @returns {this}
     */
    size(s) {
      this._switchSize = s;
      return this;
    }
    small() {
      return this.size("sm");
    }
    large() {
      return this.size("lg");
    }
    sm() {
      return this.size("sm");
    }
    lg() {
      return this.size("lg");
    }
    // ==================
    // Fluent API - Display Modes
    // ==================
    /**
     * Enable icon mode
     * @param {boolean} enable
     * @returns {this}
     */
    icon(enable = true) {
      this._iconMode = enable;
      return this;
    }
    /**
     * Enable text mode
     * @param {boolean} enable
     * @returns {this}
     */
    text(enable = true) {
      this._textMode = enable;
      return this;
    }
    /**
     * Set on icon (Material icon name)
     * @param {string} iconName
     * @returns {this}
     */
    onIcon(iconName) {
      this._onIcon = iconName;
      this._iconMode = true;
      return this;
    }
    /**
     * Set off icon (Material icon name)
     * @param {string} iconName
     * @returns {this}
     */
    offIcon(iconName) {
      this._offIcon = iconName;
      this._iconMode = true;
      return this;
    }
    /**
     * Set on text
     * @param {string} text
     * @returns {this}
     */
    onText(text) {
      this._onLabel = text;
      this._textMode = true;
      return this;
    }
    /**
     * Set off text
     * @param {string} text
     * @returns {this}
     */
    offText(text) {
      this._offLabel = text;
      this._textMode = true;
      return this;
    }
    /**
     * Set on/off labels
     * @param {string} on
     * @param {string} off
     * @returns {this}
     */
    labels(on, off) {
      this._onLabel = on;
      this._offLabel = off;
      this._textMode = true;
      return this;
    }
    /**
     * Set title for settings layout
     * @param {string} title
     * @returns {this}
     */
    title(title) {
      this._title = title;
      return this;
    }
    /**
     * Set description for settings layout
     * @param {string} desc
     * @returns {this}
     */
    description(desc) {
      this._description = desc;
      return this;
    }
    // ==================
    // Interactivity Methods
    // ==================
    /**
     * Toggle the switch state
     * @returns {this}
     */
    toggle() {
      if (this.element) {
        const input = this.element.querySelector('input[type="checkbox"]');
        if (input) {
          input.checked = !input.checked;
          input.dispatchEvent(new Event("change", { bubbles: true }));
        }
      }
      this._checked = !this._checked;
      return this;
    }
    /**
     * Get current checked state
     * @returns {boolean}
     */
    isChecked() {
      if (this.element) {
        const input = this.element.querySelector('input[type="checkbox"]');
        return input ? input.checked : this._checked;
      }
      return this._checked;
    }
    /**
     * Set checked state programmatically
     * @param {boolean} val
     * @returns {this}
     */
    setChecked(val) {
      this._checked = val;
      if (this.element) {
        const input = this.element.querySelector('input[type="checkbox"]');
        if (input) {
          input.checked = val;
          input.dispatchEvent(new Event("change", { bubbles: true }));
        }
      }
      return this;
    }
    /**
     * Listen to change events
     * @param {Function} callback
     * @returns {this}
     */
    onChange(callback) {
      return this.on("change", (e) => {
        callback(e.target.checked, e);
      });
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name (wrapper label)
     * @returns {string}
     */
    getTagName() {
      return "label";
    }
    /**
     * Build wrapper CSS classes
     * @returns {string}
     */
    buildClassString() {
      const classes = /* @__PURE__ */ new Set();
      classes.add(so_config_default.cls("switch"));
      if (this._switchSize) {
        classes.add(so_config_default.cls("switch", this._switchSize));
      }
      classes.add(so_config_default.cls("switch", this._variant));
      if (this._iconMode) {
        classes.add(so_config_default.cls("switch-icon"));
      }
      if (this._textMode) {
        classes.add(so_config_default.cls("switch-text"));
      }
      if (this._iconMode && this._textMode) {
        classes.add(so_config_default.cls("switch-icon-text"));
      }
      if (this._disabled) {
        classes.add(so_config_default.cls("disabled"));
      }
      this._extraClasses.forEach((cls) => classes.add(cls));
      return Array.from(classes).join(" ");
    }
    /**
     * Build wrapper attributes (minimal for label)
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = {};
      Object.entries(this._dataAttributes).forEach(([key, value]) => {
        attrs[so_config_default.data(key)] = value;
      });
      return attrs;
    }
    /**
     * Render content (input, track, and label)
     * @returns {string}
     */
    renderContent() {
      let html = "";
      html += this._renderInput();
      html += this._renderTrack();
      if (this._label) {
        html += `<span class="${so_config_default.cls("switch-label")}">${this._escapeHtml(this._label)}</span>`;
      }
      return html;
    }
    /**
     * Render the checkbox input
     * @returns {string}
     * @private
     */
    _renderInput() {
      const attrs = {
        type: "checkbox"
      };
      if (this._id) {
        attrs.id = this._id;
      }
      if (this._name) {
        attrs.name = this._name;
      }
      if (this._checked) {
        attrs.checked = true;
      }
      if (this._disabled) {
        attrs.disabled = true;
      }
      if (this._value !== null && this._value !== void 0) {
        attrs.value = this._value;
      }
      return this._buildInputTag(attrs);
    }
    /**
     * Build an input tag from attributes
     * @param {Object} attrs
     * @returns {string}
     * @private
     */
    _buildInputTag(attrs) {
      let html = "<input";
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          html += ` ${name}`;
        } else if (value !== false && value !== null && value !== void 0) {
          html += ` ${name}="${this._escapeHtml(String(value))}"`;
        }
      });
      html += ">";
      return html;
    }
    /**
     * Render the track structure
     * @returns {string}
     * @private
     */
    _renderTrack() {
      let html = `<span class="${so_config_default.cls("switch-track")}">`;
      if (this._iconMode || this._textMode) {
        html += `<span class="${so_config_default.cls("switch-on")}">`;
        if (this._iconMode) {
          html += `<span class="material-icons">${this._escapeHtml(this._onIcon)}</span>`;
        }
        if (this._textMode) {
          html += this._escapeHtml(this._onLabel);
        }
        html += "</span>";
        html += `<span class="${so_config_default.cls("switch-off")}">`;
        if (this._textMode) {
          html += this._escapeHtml(this._offLabel);
        }
        if (this._iconMode) {
          html += `<span class="material-icons">${this._escapeHtml(this._offIcon)}</span>`;
        }
        html += "</span>";
      }
      html += "</span>";
      return html;
    }
    /**
     * Render to DOM element
     * @returns {HTMLElement}
     */
    render() {
      const el = document.createElement(this.getTagName());
      el.className = this.buildClassString();
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true || value === "") {
          el.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          el.setAttribute(name, value);
        }
      });
      el.innerHTML = this.renderContent();
      this.element = el;
      this._attachEventHandlers();
      return el;
    }
    /**
     * Render as setting item (for settings pages)
     * @returns {string}
     */
    toSettingItem() {
      const switchHtml = this.toHtml();
      let html = `<div class="${so_config_default.cls("list-group-item")} ${so_config_default.cls("d-flex")} ${so_config_default.cls("justify-content-between")} ${so_config_default.cls("align-items-center")}">`;
      html += "<div>";
      if (this._title) {
        html += `<div class="${so_config_default.cls("fw-medium")}">${this._escapeHtml(this._title)}</div>`;
      }
      if (this._description) {
        html += `<small class="${so_config_default.cls("text-muted")}">${this._escapeHtml(this._description)}</small>`;
      }
      html += "</div>";
      html += switchHtml.replace('class="' + so_config_default.cls("switch"), 'class="' + so_config_default.cls("switch") + " " + so_config_default.cls("mb-0"));
      html += "</div>";
      return html;
    }
    /**
     * Render setting item to DOM element
     * @returns {HTMLElement}
     */
    renderSettingItem() {
      const wrapper = document.createElement("div");
      wrapper.innerHTML = this.toSettingItem();
      return wrapper.firstElementChild;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config object
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._checked)
        config.checked = true;
      if (this._variant !== "primary")
        config.variant = this._variant;
      if (this._switchSize)
        config.switchSize = this._switchSize;
      if (this._iconMode) {
        config.iconMode = true;
        config.onIcon = this._onIcon;
        config.offIcon = this._offIcon;
      }
      if (this._textMode) {
        config.textMode = true;
        config.onLabel = this._onLabel;
        config.offLabel = this._offLabel;
      }
      if (this._title)
        config.title = this._title;
      if (this._description)
        config.description = this._description;
      return config;
    }
  };
  __publicField(SwitchElement, "NAME", "ui-switch");
  __publicField(SwitchElement, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "switch",
    tagName: "label"
    // Wrapper is a label
  }));
  var Toggle = SwitchElement;

  // src/js/ui-engine/elements/form/Slider.js
  var Slider = class extends FormElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      var _a, _b, _c, _d;
      super._initFromConfig(config);
      this._min = (_a = config.min) != null ? _a : 0;
      this._max = (_b = config.max) != null ? _b : 100;
      this._step = (_c = config.step) != null ? _c : 1;
      this._isRangeSlider = config.range || false;
      this._valueEnd = (_d = config.valueEnd) != null ? _d : null;
      this._showTooltip = config.showTooltip || false;
      this._tickCount = config.ticks || 0;
      this._variant = config.variant || "primary";
      this._size = config.size || null;
      this._vertical = config.vertical || false;
      this._suffix = config.suffix || null;
      this._prefix = config.prefix || null;
      this._output = config.output || null;
      this._separator = config.separator || " - ";
      if (this._valueEnd !== null) {
        this._isRangeSlider = true;
      }
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set minimum value for slider range
     * @param {number} val
     * @returns {this}
     */
    minValue(val) {
      this._min = val;
      return this;
    }
    /**
     * Set maximum value for slider range
     * @param {number} val
     * @returns {this}
     */
    maxValue(val) {
      this._max = val;
      return this;
    }
    /**
     * Set step value
     * @param {number} val
     * @returns {this}
     */
    step(val) {
      this._step = val;
      return this;
    }
    /**
     * Set value range (min, max, step)
     * @param {number} min
     * @param {number} max
     * @param {number} step
     * @returns {this}
     */
    range(min, max, step = 1) {
      this._min = min;
      this._max = max;
      this._step = step;
      return this;
    }
    /**
     * Enable dual handle range mode
     * @param {boolean} val
     * @returns {this}
     */
    dualRange(val = true) {
      this._isRangeSlider = val;
      return this;
    }
    /**
     * Set end value (for range mode)
     * @param {number} val
     * @returns {this}
     */
    valueEnd(val) {
      this._valueEnd = val;
      this._isRangeSlider = true;
      return this;
    }
    /**
     * Show value tooltip on hover/focus
     * @param {boolean} val
     * @returns {this}
     */
    showTooltip(val = true) {
      this._showTooltip = val;
      return this;
    }
    /**
     * Alias for showTooltip(true)
     * @returns {this}
     */
    labeled() {
      return this.showTooltip(true);
    }
    /**
     * Set number of tick marks
     * @param {number} count
     * @returns {this}
     */
    ticks(count) {
      this._tickCount = count;
      return this;
    }
    /**
     * Set variant/color
     * @param {string} v - primary|secondary|success|danger|warning|info|light|dark
     * @returns {this}
     */
    variant(v) {
      this._variant = v;
      return this;
    }
    primary() {
      return this.variant("primary");
    }
    secondary() {
      return this.variant("secondary");
    }
    success() {
      return this.variant("success");
    }
    danger() {
      return this.variant("danger");
    }
    warning() {
      return this.variant("warning");
    }
    info() {
      return this.variant("info");
    }
    /**
     * Set slider size
     * @param {string} s - xs|sm|lg
     * @returns {this}
     */
    size(s) {
      this._size = s;
      return this;
    }
    xs() {
      return this.size("xs");
    }
    sm() {
      return this.size("sm");
    }
    lg() {
      return this.size("lg");
    }
    /**
     * Enable vertical orientation
     * @param {boolean} val
     * @returns {this}
     */
    vertical(val = true) {
      this._vertical = val;
      return this;
    }
    /**
     * Set value suffix
     * @param {string} s
     * @returns {this}
     */
    suffix(s) {
      this._suffix = s;
      return this;
    }
    /**
     * Set value prefix
     * @param {string} p
     * @returns {this}
     */
    prefix(p) {
      this._prefix = p;
      return this;
    }
    /**
     * Set external output element selector
     * @param {string} selector
     * @returns {this}
     */
    output(selector) {
      this._output = selector;
      return this;
    }
    /**
     * Set separator for range slider output
     * @param {string} s
     * @returns {this}
     */
    separator(s) {
      this._separator = s;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name (wrapper div)
     * @returns {string}
     */
    getTagName() {
      return "div";
    }
    /**
     * Build wrapper CSS classes
     * @returns {string}
     */
    buildClassString() {
      const classes = /* @__PURE__ */ new Set();
      classes.add(so_config_default.cls("slider"));
      if (this._size) {
        classes.add(so_config_default.cls("slider", this._size));
      }
      classes.add(so_config_default.cls("slider", this._variant));
      if (this._tickCount > 0) {
        classes.add(so_config_default.cls("slider-discrete"));
      }
      if (this._showTooltip) {
        classes.add(so_config_default.cls("slider-labeled"));
      }
      if (this._vertical) {
        classes.add(so_config_default.cls("slider-vertical"));
      }
      if (this._isRangeSlider) {
        classes.add(so_config_default.cls("slider-range"));
      }
      if (this._disabled) {
        classes.add(so_config_default.cls("disabled"));
      }
      this._extraClasses.forEach((cls) => classes.add(cls));
      return Array.from(classes).join(" ");
    }
    /**
     * Build wrapper attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = {};
      if (this._id) {
        attrs.id = this._id;
      }
      if (this._isRangeSlider) {
        attrs[so_config_default.data("slider-range")] = "";
      } else {
        attrs[so_config_default.data("slider")] = "";
      }
      if (this._output) {
        attrs[so_config_default.data("output")] = this._output;
      }
      if (this._prefix) {
        attrs[so_config_default.data("prefix")] = this._prefix;
      }
      if (this._suffix) {
        attrs[so_config_default.data("suffix")] = this._suffix;
      }
      if (this._tickCount > 0) {
        attrs[so_config_default.data("ticks")] = this._tickCount;
      }
      if (this._isRangeSlider && this._separator !== " - ") {
        attrs[so_config_default.data("separator")] = this._separator;
      }
      Object.entries(this._dataAttributes).forEach(([key, value]) => {
        attrs[so_config_default.data(key)] = value;
      });
      return attrs;
    }
    /**
     * Render content (inputs and track structure)
     * @returns {string}
     */
    renderContent() {
      let html = "";
      if (this._isRangeSlider) {
        html += this._renderRangeInputs();
      } else {
        html += this._renderSingleInput();
      }
      html += this._renderTrack();
      return html;
    }
    /**
     * Render single range input
     * @returns {string}
     * @private
     */
    _renderSingleInput() {
      var _a;
      const attrs = {
        type: "range",
        class: so_config_default.cls("slider-input"),
        min: this._min,
        max: this._max,
        value: (_a = this._value) != null ? _a : this._min
      };
      if (this._step !== 1) {
        attrs.step = this._step;
      }
      if (this._name) {
        attrs.name = this._name;
      }
      if (this._disabled) {
        attrs.disabled = true;
      }
      return this._buildInputTag(attrs);
    }
    /**
     * Render dual range inputs for range slider
     * @returns {string}
     * @private
     */
    _renderRangeInputs() {
      var _a, _b;
      let html = "";
      const minAttrs = {
        type: "range",
        class: `${so_config_default.cls("slider-input")} ${so_config_default.cls("slider-input-min")}`,
        min: this._min,
        max: this._max,
        value: (_a = this._value) != null ? _a : this._min
      };
      if (this._step !== 1) {
        minAttrs.step = this._step;
      }
      if (this._name) {
        minAttrs.name = this._name;
      }
      if (this._disabled) {
        minAttrs.disabled = true;
      }
      html += this._buildInputTag(minAttrs);
      const maxAttrs = {
        type: "range",
        class: `${so_config_default.cls("slider-input")} ${so_config_default.cls("slider-input-max")}`,
        min: this._min,
        max: this._max,
        value: (_b = this._valueEnd) != null ? _b : this._max
      };
      if (this._step !== 1) {
        maxAttrs.step = this._step;
      }
      if (this._name) {
        maxAttrs.name = this._name + "_end";
      }
      if (this._disabled) {
        maxAttrs.disabled = true;
      }
      html += this._buildInputTag(maxAttrs);
      return html;
    }
    /**
     * Build an input tag from attributes
     * @param {Object} attrs
     * @returns {string}
     * @private
     */
    _buildInputTag(attrs) {
      let html = "<input";
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true) {
          html += ` ${name}`;
        } else if (value !== false && value !== null && value !== void 0) {
          html += ` ${name}="${this._escapeHtml(String(value))}"`;
        }
      });
      html += ">";
      return html;
    }
    /**
     * Render the track structure
     * @returns {string}
     * @private
     */
    _renderTrack() {
      var _a;
      let html = `<div class="${so_config_default.cls("slider-track")}">`;
      html += `<div class="${so_config_default.cls("slider-fill")}"></div>`;
      if (this._isRangeSlider) {
        html += `<div class="${so_config_default.cls("slider-thumb")} ${so_config_default.cls("slider-thumb-min")}"></div>`;
        html += `<div class="${so_config_default.cls("slider-thumb")} ${so_config_default.cls("slider-thumb-max")}"></div>`;
      } else {
        html += `<div class="${so_config_default.cls("slider-thumb")}">`;
        if (this._showTooltip) {
          const tooltipValue = (_a = this._value) != null ? _a : this._min;
          html += `<span class="${so_config_default.cls("slider-tooltip")}">${this._escapeHtml(String(tooltipValue))}</span>`;
        }
        html += "</div>";
      }
      if (this._tickCount > 0) {
        html += `<div class="${so_config_default.cls("slider-ticks")}"></div>`;
      }
      html += "</div>";
      return html;
    }
    /**
     * Render to DOM element
     * @returns {HTMLElement}
     */
    render() {
      const el = document.createElement(this.getTagName());
      el.className = this.buildClassString();
      const attrs = this.buildAttributes();
      Object.entries(attrs).forEach(([name, value]) => {
        if (value === true || value === "") {
          el.setAttribute(name, "");
        } else if (value !== false && value !== null && value !== void 0) {
          el.setAttribute(name, value);
        }
      });
      el.innerHTML = this.renderContent();
      this.element = el;
      this._attachEventHandlers();
      return el;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config object
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._min !== 0)
        config.min = this._min;
      if (this._max !== 100)
        config.max = this._max;
      if (this._step !== 1)
        config.step = this._step;
      if (this._isRangeSlider)
        config.range = true;
      if (this._valueEnd !== null)
        config.valueEnd = this._valueEnd;
      if (this._showTooltip)
        config.showTooltip = true;
      if (this._tickCount > 0)
        config.ticks = this._tickCount;
      if (this._variant !== "primary")
        config.variant = this._variant;
      if (this._size)
        config.size = this._size;
      if (this._vertical)
        config.vertical = true;
      if (this._suffix)
        config.suffix = this._suffix;
      if (this._prefix)
        config.prefix = this._prefix;
      if (this._output)
        config.output = this._output;
      if (this._separator !== " - ")
        config.separator = this._separator;
      return config;
    }
  };
  __publicField(Slider, "NAME", "ui-slider");
  __publicField(Slider, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "slider",
    tagName: "div"
    // Wrapper is a div
  }));

  // src/js/ui-engine/elements/form/Dropzone.js
  var Dropzone = class extends FormElement {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._accept = config.accept || null;
      this._multiple = config.multiple !== false;
      this._maxFileSize = config.maxFileSize || null;
      this._maxFiles = config.maxFiles || null;
      this._uploadUrl = config.uploadUrl || null;
      this._showPreview = config.showPreview !== false;
      this._autoUpload = config.autoUpload || false;
      this._message = config.message || "Drop files here or click to upload";
      this._icon = config.icon || "cloud_upload";
      this._existingFiles = config.existingFiles || [];
    }
    accept(val) {
      this._accept = val;
      return this;
    }
    images() {
      return this.accept("image/*");
    }
    documents() {
      return this.accept(".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt");
    }
    videos() {
      return this.accept("video/*");
    }
    multiple(val = true) {
      this._multiple = val;
      return this;
    }
    single() {
      return this.multiple(false);
    }
    maxFileSize(bytes) {
      this._maxFileSize = bytes;
      return this;
    }
    maxFileSizeMB(mb) {
      return this.maxFileSize(mb * 1024 * 1024);
    }
    maxFiles(max) {
      this._maxFiles = max;
      return this;
    }
    uploadUrl(url) {
      this._uploadUrl = url;
      return this;
    }
    showPreview(val = true) {
      this._showPreview = val;
      return this;
    }
    hidePreview() {
      return this.showPreview(false);
    }
    autoUpload(val = true) {
      this._autoUpload = val;
      return this;
    }
    message(msg) {
      this._message = msg;
      return this;
    }
    icon(icon) {
      this._icon = icon;
      return this;
    }
    existingFiles(files) {
      this._existingFiles = files;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("dropzone"));
      if (this._error)
        this._extraClasses.add(so_config_default.cls("is-invalid"));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("ui-init")] = "dropzone";
      const config = {
        multiple: this._multiple,
        showPreview: this._showPreview,
        autoUpload: this._autoUpload
      };
      if (this._accept)
        config.accept = this._accept;
      if (this._maxFileSize)
        config.maxFileSize = this._maxFileSize;
      if (this._maxFiles)
        config.maxFiles = this._maxFiles;
      if (this._uploadUrl)
        config.uploadUrl = this._uploadUrl;
      if (this._existingFiles.length > 0)
        config.existingFiles = this._existingFiles;
      attrs[so_config_default.data("ui-config")] = JSON.stringify(config);
      return attrs;
    }
    renderContent() {
      let html = `<div class="${so_config_default.cls("dropzone-area")}">`;
      html += `<span class="material-icons ${so_config_default.cls("dropzone-icon")}">${this._escapeHtml(this._icon)}</span>`;
      html += `<p class="${so_config_default.cls("dropzone-message")}">${this._escapeHtml(this._message)}</p>`;
      html += `<input type="file" class="${so_config_default.cls("dropzone-input")}"`;
      if (this._name)
        html += ` name="${this._escapeHtml(this._name)}${this._multiple ? "[]" : ""}"`;
      if (this._accept)
        html += ` accept="${this._escapeHtml(this._accept)}"`;
      if (this._multiple)
        html += " multiple";
      html += ">";
      html += "</div>";
      if (this._showPreview) {
        html += `<div class="${so_config_default.cls("dropzone-preview")}"></div>`;
      }
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._accept)
        config.accept = this._accept;
      if (!this._multiple)
        config.multiple = false;
      if (this._maxFileSize)
        config.maxFileSize = this._maxFileSize;
      if (this._maxFiles)
        config.maxFiles = this._maxFiles;
      if (this._uploadUrl)
        config.uploadUrl = this._uploadUrl;
      if (!this._showPreview)
        config.showPreview = false;
      if (this._autoUpload)
        config.autoUpload = true;
      if (this._message !== "Drop files here or click to upload")
        config.message = this._message;
      if (this._icon !== "cloud_upload")
        config.icon = this._icon;
      if (this._existingFiles.length > 0)
        config.existingFiles = this._existingFiles;
      return config;
    }
  };
  __publicField(Dropzone, "NAME", "ui-dropzone");
  __publicField(Dropzone, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "dropzone",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/form/OtpInput.js
  var OtpInput = class extends FormElement {
    _initFromConfig(config) {
      var _a;
      super._initFromConfig(config);
      this._length = (_a = config.length) != null ? _a : 6;
      this._inputType = config.inputType || "text";
      this._masked = config.masked || false;
      this._autoSubmit = config.autoSubmit || false;
      this._autoFocus = config.autoFocus !== false;
      this._allowPaste = config.allowPaste !== false;
      this._groupSize = config.groupSize || null;
      this._variant = config.variant || "default";
    }
    length(len) {
      this._length = len;
      return this;
    }
    pin4() {
      return this.length(4);
    }
    pin6() {
      return this.length(6);
    }
    inputType(type) {
      this._inputType = type;
      return this;
    }
    numeric() {
      return this.inputType("number");
    }
    alphanumeric() {
      return this.inputType("text");
    }
    masked(val = true) {
      this._masked = val;
      return this;
    }
    password() {
      this._inputType = "password";
      return this.masked(true);
    }
    autoSubmit(val = true) {
      this._autoSubmit = val;
      return this;
    }
    autoFocus(val = true) {
      this._autoFocus = val;
      return this;
    }
    allowPaste(val = true) {
      this._allowPaste = val;
      return this;
    }
    groupSize(size) {
      this._groupSize = size;
      return this;
    }
    grouped() {
      return this.groupSize(3);
    }
    variant(v) {
      this._variant = v;
      return this;
    }
    outline() {
      return this.variant("outline");
    }
    filled() {
      return this.variant("filled");
    }
    underline() {
      return this.variant("underline");
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("otp-input"));
      this._extraClasses.add(so_config_default.cls("otp", this._variant));
      if (this._error)
        this._extraClasses.add(so_config_default.cls("is-invalid"));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("ui-init")] = "otp-input";
      const config = {
        length: this._length,
        inputType: this._inputType,
        masked: this._masked,
        autoSubmit: this._autoSubmit,
        autoFocus: this._autoFocus,
        allowPaste: this._allowPaste
      };
      if (this._groupSize)
        config.groupSize = this._groupSize;
      attrs[so_config_default.data("ui-config")] = JSON.stringify(config);
      return attrs;
    }
    renderContent() {
      let html = `<input type="hidden" class="${so_config_default.cls("otp-value")}"`;
      if (this._name)
        html += ` name="${this._escapeHtml(this._name)}"`;
      if (this._value !== null)
        html += ` value="${this._escapeHtml(this._value)}"`;
      html += ">";
      html += `<div class="${so_config_default.cls("otp-inputs")}">`;
      const currentValue = this._value || "";
      for (let i = 0; i < this._length; i++) {
        if (this._groupSize && i > 0 && i % this._groupSize === 0) {
          html += `<span class="${so_config_default.cls("otp-separator")}">-</span>`;
        }
        const digitValue = currentValue[i] || "";
        const inputType = this._masked ? "password" : this._inputType === "number" ? "tel" : "text";
        html += `<input type="${inputType}"`;
        html += ` class="${so_config_default.cls("otp-digit")}"`;
        html += ' maxlength="1"';
        html += ' autocomplete="one-time-code"';
        html += ` inputmode="${this._inputType === "number" ? "numeric" : "text"}"`;
        html += ` pattern="${this._inputType === "number" ? "[0-9]" : "[a-zA-Z0-9]"}"`;
        html += ` ${so_config_default.data("index")}="${i}"`;
        if (digitValue)
          html += ` value="${this._escapeHtml(digitValue)}"`;
        if (i === 0 && this._autoFocus)
          html += " autofocus";
        if (this._disabled)
          html += " disabled";
        if (this._readonly)
          html += " readonly";
        html += ">";
      }
      html += "</div>";
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._length !== 6)
        config.length = this._length;
      if (this._inputType !== "text")
        config.inputType = this._inputType;
      if (this._masked)
        config.masked = true;
      if (this._autoSubmit)
        config.autoSubmit = true;
      if (!this._autoFocus)
        config.autoFocus = false;
      if (!this._allowPaste)
        config.allowPaste = false;
      if (this._groupSize)
        config.groupSize = this._groupSize;
      if (this._variant !== "default")
        config.variant = this._variant;
      return config;
    }
  };
  __publicField(OtpInput, "NAME", "ui-otp-input");
  __publicField(OtpInput, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), {
    type: "otp-input",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/Accordion.js
  var Accordion = class extends ContainerElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      var _a;
      super._initFromConfig(config);
      this._items = config.items || [];
      this._flush = config.flush || false;
      this._alwaysOpen = config.alwaysOpen || false;
      this._activeItem = (_a = config.activeItem) != null ? _a : 0;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Add an accordion item
     * @param {string} title - Item header title
     * @param {string} content - Item content
     * @param {boolean} open - Start expanded
     * @returns {this}
     */
    item(title, content, open = false) {
      const index = this._items.length;
      this._items.push({ title, content, expanded: open });
      if (open) {
        this._activeItem = index;
      }
      return this;
    }
    /**
     * Add accordion item (alias for item with object config)
     * @param {Object} itemConfig - {title, content, expanded, icon}
     * @returns {this}
     */
    addItem(itemConfig) {
      this._items.push(itemConfig);
      return this;
    }
    /**
     * Set multiple items
     * @param {Array} items
     * @returns {this}
     */
    items(items) {
      this._items = items;
      return this;
    }
    /**
     * Set active item
     * @param {number} index
     * @returns {this}
     */
    activeItem(index) {
      this._activeItem = index;
      return this;
    }
    /**
     * Start with all collapsed
     * @returns {this}
     */
    collapsed() {
      this._activeItem = -1;
      return this;
    }
    /**
     * Set flush style (removes borders)
     * @param {boolean} flush
     * @returns {this}
     */
    flush(flush = true) {
      this._flush = flush;
      return this;
    }
    /**
     * Allow multiple items open at once
     * @param {boolean} alwaysOpen
     * @returns {this}
     */
    alwaysOpen(alwaysOpen = true) {
      this._alwaysOpen = alwaysOpen;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("accordion"));
      if (this._flush) {
        this._extraClasses.add(so_config_default.cls("accordion-flush"));
      }
      return super.buildClassString();
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("accordion")] = "";
      return attrs;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = "";
      const accordionId = this._id || `accordion-${Math.random().toString(36).substring(2, 11)}`;
      this._items.forEach((item, index) => {
        const headerId = `${accordionId}-header-${index}`;
        const collapseId = `${accordionId}-collapse-${index}`;
        const isOpen = this._activeItem !== void 0 ? index === this._activeItem : item.expanded || false;
        html += `<div class="${so_config_default.cls("accordion-item")}">`;
        html += `<h2 class="${so_config_default.cls("accordion-header")}" id="${headerId}">`;
        html += `<button class="${so_config_default.cls("accordion-button")}${isOpen ? "" : ` ${so_config_default.cls("collapsed")}`}" `;
        html += `type="button" `;
        html += `${so_config_default.data("toggle")}="collapse" `;
        html += `${so_config_default.data("target")}="#${collapseId}" `;
        html += `aria-expanded="${isOpen ? "true" : "false"}" `;
        html += `aria-controls="${collapseId}">`;
        if (item.icon) {
          html += `<span class="material-icons ${so_config_default.cls("me-2")}">${this._escapeHtml(item.icon)}</span>`;
        }
        html += this._escapeHtml(item.title);
        html += "</button></h2>";
        html += `<div id="${collapseId}" `;
        html += `class="${so_config_default.cls("accordion-collapse")} ${so_config_default.cls("collapse")}${isOpen ? ` ${so_config_default.cls("show")}` : ""}" `;
        html += `aria-labelledby="${headerId}" `;
        if (!this._alwaysOpen) {
          html += `${so_config_default.data("parent")}="#${accordionId}"`;
        }
        html += ">";
        html += `<div class="${so_config_default.cls("accordion-body")}">`;
        html += item.content || "";
        html += "</div></div>";
        html += "</div>";
      });
      html += this.renderChildren();
      return html;
    }
    // ==================
    // Interactivity Methods
    // ==================
    /**
     * Get collapse element by index
     * @param {number} index
     * @returns {HTMLElement|null}
     * @private
     */
    _getCollapseEl(index) {
      if (!this.element || !this._id)
        return null;
      return this.element.querySelector(`#${this._id}-collapse-${index}`);
    }
    /**
     * Get button element by index
     * @param {number} index
     * @returns {HTMLElement|null}
     * @private
     */
    _getButtonEl(index) {
      if (!this.element || !this._id)
        return null;
      return this.element.querySelector(`#${this._id}-header-${index} button`);
    }
    /**
     * Expand item by index
     * @param {number} index
     * @returns {this}
     */
    expand(index) {
      if (!this.element)
        return this;
      const collapseEl = this._getCollapseEl(index);
      const button = this._getButtonEl(index);
      if (!collapseEl)
        return this;
      const showEvent = new CustomEvent(so_config_default.evt("accordion:show"), {
        detail: { index, collapseEl },
        bubbles: true,
        cancelable: true
      });
      if (!this.element.dispatchEvent(showEvent))
        return this;
      if (!this._alwaysOpen) {
        this._items.forEach((_, i) => {
          if (i !== index) {
            this._collapseItem(i);
          }
        });
      }
      collapseEl.classList.add(so_config_default.cls("show"));
      if (button) {
        button.classList.remove(so_config_default.cls("collapsed"));
        button.setAttribute("aria-expanded", "true");
      }
      this.element.dispatchEvent(new CustomEvent(so_config_default.evt("accordion:shown"), {
        detail: { index, collapseEl },
        bubbles: true
      }));
      return this;
    }
    /**
     * Collapse item by index
     * @param {number} index
     * @returns {this}
     */
    collapse(index) {
      if (!this.element)
        return this;
      const collapseEl = this._getCollapseEl(index);
      if (!collapseEl)
        return this;
      const hideEvent = new CustomEvent(so_config_default.evt("accordion:hide"), {
        detail: { index, collapseEl },
        bubbles: true,
        cancelable: true
      });
      if (!this.element.dispatchEvent(hideEvent))
        return this;
      this._collapseItem(index);
      this.element.dispatchEvent(new CustomEvent(so_config_default.evt("accordion:hidden"), {
        detail: { index, collapseEl },
        bubbles: true
      }));
      return this;
    }
    /**
     * Internal collapse without events
     * @param {number} index
     * @private
     */
    _collapseItem(index) {
      const collapseEl = this._getCollapseEl(index);
      const button = this._getButtonEl(index);
      if (collapseEl) {
        collapseEl.classList.remove(so_config_default.cls("show"));
      }
      if (button) {
        button.classList.add(so_config_default.cls("collapsed"));
        button.setAttribute("aria-expanded", "false");
      }
    }
    /**
     * Toggle item by index
     * @param {number} index
     * @returns {this}
     */
    toggle(index) {
      if (!this.element)
        return this;
      const collapseEl = this._getCollapseEl(index);
      if (collapseEl == null ? void 0 : collapseEl.classList.contains(so_config_default.cls("show"))) {
        return this.collapse(index);
      } else {
        return this.expand(index);
      }
    }
    /**
     * Expand all items
     * @returns {this}
     */
    expandAll() {
      this._items.forEach((_, index) => this.expand(index));
      return this;
    }
    /**
     * Collapse all items
     * @returns {this}
     */
    collapseAll() {
      this._items.forEach((_, index) => this.collapse(index));
      return this;
    }
    /**
     * Check if item is expanded
     * @param {number} index
     * @returns {boolean}
     */
    isExpanded(index) {
      var _a;
      const collapseEl = this._getCollapseEl(index);
      return (_a = collapseEl == null ? void 0 : collapseEl.classList.contains(so_config_default.cls("show"))) != null ? _a : false;
    }
    /**
     * Get count of items
     * @returns {number}
     */
    getItemCount() {
      return this._items.length;
    }
    /**
     * Listen to accordion show events
     * @param {Function} callback
     * @returns {this}
     */
    onShow(callback) {
      return this.on(so_config_default.evt("accordion:show"), callback);
    }
    /**
     * Listen to accordion shown events
     * @param {Function} callback
     * @returns {this}
     */
    onShown(callback) {
      return this.on(so_config_default.evt("accordion:shown"), callback);
    }
    /**
     * Listen to accordion hide events
     * @param {Function} callback
     * @returns {this}
     */
    onHide(callback) {
      return this.on(so_config_default.evt("accordion:hide"), callback);
    }
    /**
     * Listen to accordion hidden events
     * @param {Function} callback
     * @returns {this}
     */
    onHidden(callback) {
      return this.on(so_config_default.evt("accordion:hidden"), callback);
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._items.length > 0)
        config.items = this._items;
      if (this._activeItem !== 0)
        config.activeItem = this._activeItem;
      if (this._flush)
        config.flush = true;
      if (this._alwaysOpen)
        config.alwaysOpen = true;
      return config;
    }
  };
  __publicField(Accordion, "NAME", "ui-accordion");
  __publicField(Accordion, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), {
    type: "accordion",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/Alert.js
  var Alert = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._variant = config.variant || "info";
      this._message = config.message || null;
      this._title = config.title || null;
      this._icon = config.icon || null;
      this._dismissible = config.dismissible || false;
      this._autoDismiss = config.autoDismiss || 0;
      this._outline = config.outline || false;
      this._small = config.small || false;
      this._footer = config.footer || null;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set variant
     * @param {string} variant
     * @returns {this}
     */
    variant(variant) {
      this._variant = variant;
      return this;
    }
    /** Primary variant */
    primary() {
      return this.variant("primary");
    }
    /** Secondary variant */
    secondary() {
      return this.variant("secondary");
    }
    /** Success variant */
    success() {
      return this.variant("success").icon("check_circle");
    }
    /** Danger variant */
    danger() {
      return this.variant("danger").icon("error");
    }
    /** Warning variant */
    warning() {
      return this.variant("warning").icon("warning");
    }
    /** Info variant */
    info() {
      return this.variant("info").icon("info");
    }
    /** Light variant */
    light() {
      return this.variant("light");
    }
    /** Dark variant */
    dark() {
      return this.variant("dark");
    }
    /**
     * Set message
     * @param {string} message
     * @returns {this}
     */
    message(message) {
      this._message = message;
      return this;
    }
    /**
     * Set title
     * @param {string} title
     * @returns {this}
     */
    title(title) {
      this._title = title;
      return this;
    }
    /**
     * Set icon
     * @param {string} icon
     * @returns {this}
     */
    icon(icon) {
      this._icon = icon;
      return this;
    }
    /**
     * Make dismissible
     * @param {boolean} dismissible
     * @returns {this}
     */
    dismissible(dismissible = true) {
      this._dismissible = dismissible;
      return this;
    }
    /**
     * Set auto-dismiss time
     * @param {number} seconds
     * @returns {this}
     */
    autoDismiss(seconds) {
      this._autoDismiss = seconds;
      return this;
    }
    /**
     * Set outline style
     * @param {boolean} outline
     * @returns {this}
     */
    outline(outline = true) {
      this._outline = outline;
      return this;
    }
    /**
     * Set small size
     * @param {boolean} small
     * @returns {this}
     */
    small(small = true) {
      this._small = small;
      return this;
    }
    /**
     * Set content (alias for message)
     * @param {string} content
     * @returns {this}
     */
    content(content) {
      this._message = content;
      return this;
    }
    /**
     * Set footer content
     * @param {string} footer
     * @returns {this}
     */
    footer(footer) {
      this._footer = footer;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("alert"));
      this._extraClasses.add(so_config_default.cls("alert", this._variant));
      if (this._dismissible) {
        this._extraClasses.add(so_config_default.cls("alert-dismissible"));
      }
      if (this._outline) {
        this._extraClasses.add(so_config_default.cls("alert-outline"));
      }
      if (this._small) {
        this._extraClasses.add(so_config_default.cls("alert-sm"));
      }
      return super.buildClassString();
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.role = "alert";
      if (this._autoDismiss > 0) {
        attrs[so_config_default.data("auto-dismiss")] = this._autoDismiss;
      }
      return attrs;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = "";
      if (this._icon) {
        html += `<span class="${so_config_default.cls("alert-icon")}"><span class="material-icons">${this._escapeHtml(this._icon)}</span></span>`;
      }
      html += `<div class="${so_config_default.cls("alert-content")}">`;
      if (this._title) {
        html += `<strong>${this._escapeHtml(this._title)}</strong> `;
      }
      if (this._message) {
        html += this._escapeHtml(this._message);
      }
      html += this.renderChildren();
      if (this._footer) {
        html += "<hr>";
        html += `<p class="${so_config_default.cls("mb-0")}">${this._footer}</p>`;
      }
      html += "</div>";
      if (this._dismissible) {
        html += `<button type="button" class="${so_config_default.cls("alert-close")}" data-dismiss="alert" aria-label="Close">`;
        html += '<span class="material-icons">close</span>';
        html += "</button>";
      }
      return html;
    }
    // ==================
    // Interactivity Methods
    // ==================
    /**
     * Show the alert (if hidden)
     * @returns {this}
     */
    show() {
      if (this.element && this.element.style.display === "none") {
        this.element.style.display = "";
      }
      return this;
    }
    /**
     * Hide the alert (non-dismissible, just hides)
     * @returns {this}
     */
    hide() {
      if (this.element) {
        this.element.style.display = "none";
      }
      return this;
    }
    /**
     * Close/dismiss the alert (removes from DOM)
     * @returns {this}
     */
    close() {
      if (!this.element)
        return this;
      const closeEvent = new CustomEvent(so_config_default.evt("alert:close"), {
        bubbles: true,
        cancelable: true
      });
      if (!this.element.dispatchEvent(closeEvent)) {
        return this;
      }
      this.element.remove();
      const closedEvent = new CustomEvent(so_config_default.evt("alert:closed"), {
        bubbles: true
      });
      document.dispatchEvent(closedEvent);
      return this;
    }
    /**
     * Alias for close()
     * @returns {this}
     */
    dismiss() {
      return this.close();
    }
    /**
     * Change alert variant at runtime
     * @param {string} variant
     * @returns {this}
     */
    setVariant(variant) {
      if (!this.element)
        return this;
      this.element.classList.remove(so_config_default.cls("alert", this._variant));
      this._variant = variant;
      this.element.classList.add(so_config_default.cls("alert", this._variant));
      return this;
    }
    /**
     * Change alert message at runtime
     * @param {string} message
     * @returns {this}
     */
    setMessage(message) {
      if (!this.element)
        return this;
      this._message = message;
      const contentEl = this.element.querySelector(`.${so_config_default.cls("alert-content")}`);
      if (contentEl) {
        let html = "";
        if (this._title) {
          html += `<strong>${this._escapeHtml(this._title)}</strong> `;
        }
        html += this._escapeHtml(message);
        if (this._footer) {
          html += "<hr>";
          html += `<p class="${so_config_default.cls("mb-0")}">${this._footer}</p>`;
        }
        contentEl.innerHTML = html;
      }
      return this;
    }
    /**
     * Change alert title at runtime
     * @param {string} title
     * @returns {this}
     */
    setTitle(title) {
      if (!this.element)
        return this;
      this._title = title;
      const contentEl = this.element.querySelector(`.${so_config_default.cls("alert-content")}`);
      if (contentEl) {
        let html = "";
        if (title) {
          html += `<strong>${this._escapeHtml(title)}</strong> `;
        }
        if (this._message) {
          html += this._escapeHtml(this._message);
        }
        if (this._footer) {
          html += "<hr>";
          html += `<p class="${so_config_default.cls("mb-0")}">${this._footer}</p>`;
        }
        contentEl.innerHTML = html;
      }
      return this;
    }
    /**
     * Change alert icon at runtime
     * @param {string} icon
     * @returns {this}
     */
    setIcon(icon) {
      if (!this.element)
        return this;
      this._icon = icon;
      const iconEl = this.element.querySelector(`.${so_config_default.cls("alert-icon")} .material-icons`);
      if (iconEl) {
        iconEl.textContent = icon;
      }
      return this;
    }
    /**
     * Toggle outline style
     * @param {boolean} enable
     * @returns {this}
     */
    toggleOutline(enable = null) {
      if (!this.element)
        return this;
      if (enable === null) {
        enable = !this._outline;
      }
      this._outline = enable;
      if (enable) {
        this.element.classList.add(so_config_default.cls("alert-outline"));
      } else {
        this.element.classList.remove(so_config_default.cls("alert-outline"));
      }
      return this;
    }
    /**
     * Toggle small size
     * @param {boolean} enable
     * @returns {this}
     */
    toggleSmall(enable = null) {
      if (!this.element)
        return this;
      if (enable === null) {
        enable = !this._small;
      }
      this._small = enable;
      if (enable) {
        this.element.classList.add(so_config_default.cls("alert-sm"));
      } else {
        this.element.classList.remove(so_config_default.cls("alert-sm"));
      }
      return this;
    }
    /**
     * Check if alert is visible
     * @returns {boolean}
     */
    isVisible() {
      return this.element && this.element.style.display !== "none";
    }
    /**
     * Get current variant
     * @returns {string}
     */
    getVariant() {
      return this._variant;
    }
    /**
     * Listen to alert close events
     * @param {Function} callback
     * @returns {this}
     */
    onClose(callback) {
      return this.on(so_config_default.evt("alert:close"), callback);
    }
    /**
     * Listen to alert closed events
     * @param {Function} callback
     * @returns {this}
     */
    onClosed(callback) {
      if (this.element) {
        document.addEventListener(so_config_default.evt("alert:closed"), callback);
      }
      return this;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      config.variant = this._variant;
      if (this._message)
        config.message = this._message;
      if (this._title)
        config.title = this._title;
      if (this._icon)
        config.icon = this._icon;
      if (this._dismissible)
        config.dismissible = true;
      if (this._autoDismiss > 0)
        config.autoDismiss = this._autoDismiss;
      if (this._outline)
        config.outline = true;
      if (this._small)
        config.small = true;
      if (this._footer)
        config.footer = this._footer;
      return config;
    }
  };
  __publicField(Alert, "NAME", "ui-alert");
  __publicField(Alert, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "alert",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/Badge.js
  var Badge = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._variant = config.variant || "primary";
      this._text = config.text || null;
      this._soft = config.soft || false;
      this._pill = config.pill || false;
      this._size = config.size || null;
      this._icon = config.icon || null;
      this._dot = config.dot || false;
      this._label = config.label || null;
      this._href = config.href || null;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set variant
     * @param {string} variant
     * @returns {this}
     */
    variant(variant) {
      this._variant = variant;
      return this;
    }
    /** Primary variant */
    primary() {
      return this.variant("primary");
    }
    /** Secondary variant */
    secondary() {
      return this.variant("secondary");
    }
    /** Success variant */
    success() {
      return this.variant("success");
    }
    /** Danger variant */
    danger() {
      return this.variant("danger");
    }
    /** Warning variant */
    warning() {
      return this.variant("warning");
    }
    /** Info variant */
    info() {
      return this.variant("info");
    }
    /** Light variant */
    light() {
      return this.variant("light");
    }
    /** Dark variant */
    dark() {
      return this.variant("dark");
    }
    /**
     * Set text
     * @param {string} text
     * @returns {this}
     */
    text(text) {
      this._text = text;
      return this;
    }
    /**
     * Set pill style
     * @param {boolean} pill
     * @returns {this}
     */
    pill(pill = true) {
      this._pill = pill;
      return this;
    }
    /**
     * Enable soft style (light background)
     * @param {boolean} soft
     * @returns {this}
     */
    soft(soft = true) {
      this._soft = soft;
      return this;
    }
    /**
     * Set size
     * @param {string} size
     * @returns {this}
     */
    size(size) {
      this._size = size;
      return this;
    }
    /**
     * Small size
     * @returns {this}
     */
    small() {
      return this.size("sm");
    }
    /**
     * Large size
     * @returns {this}
     */
    large() {
      return this.size("lg");
    }
    /**
     * Set badge icon
     * @param {string} icon Material Icons name
     * @returns {this}
     */
    icon(icon) {
      this._icon = icon;
      return this;
    }
    /**
     * Enable dot style (status indicator)
     * @param {boolean} dot
     * @returns {this}
     */
    dot(dot = true) {
      this._dot = dot;
      return this;
    }
    /**
     * Set label text (displayed after dot badge)
     * @param {string} label
     * @returns {this}
     */
    label(label) {
      this._label = label;
      return this;
    }
    /**
     * Make badge a link
     * @param {string} href
     * @returns {this}
     */
    href(href) {
      this._href = href;
      this._tagName = "a";
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("badge"));
      if (this._soft) {
        this._extraClasses.add(so_config_default.cls("badge-soft", this._variant));
      } else {
        this._extraClasses.add(so_config_default.cls("badge", this._variant));
      }
      if (this._size) {
        this._extraClasses.add(so_config_default.cls("badge", this._size));
      }
      if (this._pill) {
        this._extraClasses.add(so_config_default.cls("badge-pill"));
      }
      if (this._dot) {
        this._extraClasses.add(so_config_default.cls("badge-dot"));
      }
      return super.buildClassString();
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      if (this._href) {
        attrs.href = this._href;
      }
      return attrs;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      if (this._dot) {
        return "";
      }
      let html = "";
      if (this._icon) {
        html += `<span class="material-icons" style="font-size: 14px; vertical-align: middle;">${this._escapeHtml(this._icon)}</span> `;
      }
      if (this._text) {
        html += this._escapeHtml(this._text);
      } else if (this._content) {
        html += this._escapeHtml(this._content);
      }
      return html;
    }
    /**
     * Render the element
     * @returns {string}
     */
    render() {
      const badge = super.render();
      if (this._dot && this._label) {
        return `<span class="${so_config_default.cls("d-inline-flex")} ${so_config_default.cls("align-items-center")} ${so_config_default.cls("gap-2")}">${badge}<span>${this._escapeHtml(this._label)}</span></span>`;
      }
      return badge;
    }
    // ==================
    // Interactivity Methods
    // ==================
    /**
     * Set text dynamically
     * @param {string} text
     * @returns {this}
     */
    setText(text) {
      this._text = text;
      if (this.element) {
        this.element.innerHTML = this.renderContent();
      }
      return this;
    }
    /**
     * Get current text
     * @returns {string|null}
     */
    getText() {
      return this._text;
    }
    /**
     * Set variant dynamically
     * @param {string} variant
     * @returns {this}
     */
    setVariant(variant) {
      if (!this.element)
        return this;
      if (this._soft) {
        this.element.classList.remove(so_config_default.cls("badge-soft", this._variant));
      } else {
        this.element.classList.remove(so_config_default.cls("badge", this._variant));
      }
      this._variant = variant;
      if (this._soft) {
        this.element.classList.add(so_config_default.cls("badge-soft", this._variant));
      } else {
        this.element.classList.add(so_config_default.cls("badge", this._variant));
      }
      return this;
    }
    /**
     * Get current variant
     * @returns {string}
     */
    getVariant() {
      return this._variant;
    }
    /**
     * Toggle soft style
     * @returns {this}
     */
    toggleSoft() {
      if (!this.element)
        return this;
      if (this._soft) {
        this.element.classList.remove(so_config_default.cls("badge-soft", this._variant));
      } else {
        this.element.classList.remove(so_config_default.cls("badge", this._variant));
      }
      this._soft = !this._soft;
      if (this._soft) {
        this.element.classList.add(so_config_default.cls("badge-soft", this._variant));
      } else {
        this.element.classList.add(so_config_default.cls("badge", this._variant));
      }
      return this;
    }
    /**
     * Toggle pill style
     * @returns {this}
     */
    togglePill() {
      if (!this.element)
        return this;
      this._pill = !this._pill;
      this.element.classList.toggle(so_config_default.cls("badge-pill"));
      return this;
    }
    /**
     * Set size dynamically
     * @param {string} size
     * @returns {this}
     */
    setSize(size) {
      if (!this.element)
        return this;
      if (this._size) {
        this.element.classList.remove(so_config_default.cls("badge", this._size));
      }
      this._size = size;
      if (this._size) {
        this.element.classList.add(so_config_default.cls("badge", this._size));
      }
      return this;
    }
    /**
     * Set icon dynamically
     * @param {string} icon
     * @returns {this}
     */
    setIcon(icon) {
      this._icon = icon;
      if (this.element) {
        this.element.innerHTML = this.renderContent();
      }
      return this;
    }
    /**
     * Check if badge has soft style
     * @returns {boolean}
     */
    isSoft() {
      return this._soft;
    }
    /**
     * Check if badge has pill style
     * @returns {boolean}
     */
    isPill() {
      return this._pill;
    }
    /**
     * Get current size
     * @returns {string|null}
     */
    getSize() {
      return this._size;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      config.variant = this._variant;
      if (this._text)
        config.text = this._text;
      if (this._soft)
        config.soft = true;
      if (this._pill)
        config.pill = true;
      if (this._size)
        config.size = this._size;
      if (this._icon)
        config.icon = this._icon;
      if (this._dot)
        config.dot = true;
      if (this._label)
        config.label = this._label;
      if (this._href)
        config.href = this._href;
      return config;
    }
  };
  __publicField(Badge, "NAME", "ui-badge");
  __publicField(Badge, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "badge",
    tagName: "span"
  }));

  // src/js/ui-engine/elements/display/Card.js
  var Card = class extends ContainerElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._title = config.title || null;
      this._subtitle = config.subtitle || null;
      this._body = config.body || null;
      this._footer = config.footer || null;
      this._image = config.image || null;
      this._imagePosition = config.imagePosition || "top";
      this._headerActions = config.headerActions || [];
    }
    // ==================
    // Content Configuration
    // ==================
    /**
     * Set title
     * @param {string} title
     * @returns {this}
     */
    title(title) {
      this._title = title;
      if (this.element)
        this._updateContent();
      return this;
    }
    /**
     * Set subtitle
     * @param {string} subtitle
     * @returns {this}
     */
    subtitle(subtitle) {
      this._subtitle = subtitle;
      if (this.element)
        this._updateContent();
      return this;
    }
    /**
     * Set body content
     * @param {string} body
     * @returns {this}
     */
    body(body) {
      this._body = body;
      if (this.element)
        this._updateContent();
      return this;
    }
    /**
     * Set footer content
     * @param {string} footer
     * @returns {this}
     */
    footer(footer) {
      this._footer = footer;
      if (this.element)
        this._updateContent();
      return this;
    }
    /**
     * Set image
     * @param {string} src
     * @param {string} position - top, bottom
     * @returns {this}
     */
    image(src, position = "top") {
      this._image = src;
      this._imagePosition = position;
      if (this.element)
        this._updateContent();
      return this;
    }
    /**
     * Add header action
     * @param {Object} action - {icon, onClick, title}
     * @returns {this}
     */
    addHeaderAction(action) {
      this._headerActions.push(action);
      if (this.element)
        this._updateContent();
      return this;
    }
    // ==================
    // Border Color Variants
    // ==================
    /**
     * Set border color variant
     * @param {string} variant - primary, success, danger, etc.
     * @returns {this}
     */
    variant(variant) {
      return this.addClass(`card-border-${variant}`);
    }
    /**
     * Primary border color
     * @returns {this}
     */
    borderPrimary() {
      return this.variant("primary");
    }
    /**
     * Success border color
     * @returns {this}
     */
    borderSuccess() {
      return this.variant("success");
    }
    /**
     * Danger border color
     * @returns {this}
     */
    borderDanger() {
      return this.variant("danger");
    }
    /**
     * Warning border color
     * @returns {this}
     */
    borderWarning() {
      return this.variant("warning");
    }
    /**
     * Info border color
     * @returns {this}
     */
    borderInfo() {
      return this.variant("info");
    }
    /**
     * Secondary border color
     * @returns {this}
     */
    borderSecondary() {
      return this.variant("secondary");
    }
    /**
     * Light border color
     * @returns {this}
     */
    borderLight() {
      return this.variant("light");
    }
    /**
     * Dark border color
     * @returns {this}
     */
    borderDark() {
      return this.variant("dark");
    }
    // ==================
    // Header Color Variants
    // ==================
    /**
     * Set header color variant
     * @param {string} variant - primary, success, danger, etc.
     * @param {boolean} soft - Use soft/light style
     * @returns {this}
     */
    headerColor(variant, soft = false) {
      const className = soft ? `card-header-soft-${variant}` : `card-header-${variant}`;
      return this.addClass(className);
    }
    /**
     * Primary header color
     * @returns {this}
     */
    headerPrimary() {
      return this.addClass("card-header-primary");
    }
    /**
     * Success header color
     * @returns {this}
     */
    headerSuccess() {
      return this.addClass("card-header-success");
    }
    /**
     * Danger header color
     * @returns {this}
     */
    headerDanger() {
      return this.addClass("card-header-danger");
    }
    /**
     * Warning header color
     * @returns {this}
     */
    headerWarning() {
      return this.addClass("card-header-warning");
    }
    /**
     * Info header color
     * @returns {this}
     */
    headerInfo() {
      return this.addClass("card-header-info");
    }
    /**
     * Secondary header color
     * @returns {this}
     */
    headerSecondary() {
      return this.addClass("card-header-secondary");
    }
    /**
     * Light header color
     * @returns {this}
     */
    headerLight() {
      return this.addClass("card-header-light");
    }
    /**
     * Dark header color
     * @returns {this}
     */
    headerDark() {
      return this.addClass("card-header-dark");
    }
    // ==================
    // Header Color Variants (Soft)
    // ==================
    /**
     * Soft primary header color
     * @returns {this}
     */
    headerSoftPrimary() {
      return this.addClass("card-header-soft-primary");
    }
    /**
     * Soft success header color
     * @returns {this}
     */
    headerSoftSuccess() {
      return this.addClass("card-header-soft-success");
    }
    /**
     * Soft danger header color
     * @returns {this}
     */
    headerSoftDanger() {
      return this.addClass("card-header-soft-danger");
    }
    /**
     * Soft warning header color
     * @returns {this}
     */
    headerSoftWarning() {
      return this.addClass("card-header-soft-warning");
    }
    /**
     * Soft info header color
     * @returns {this}
     */
    headerSoftInfo() {
      return this.addClass("card-header-soft-info");
    }
    /**
     * Soft secondary header color
     * @returns {this}
     */
    headerSoftSecondary() {
      return this.addClass("card-header-soft-secondary");
    }
    /**
     * Soft light header color
     * @returns {this}
     */
    headerSoftLight() {
      return this.addClass("card-header-soft-light");
    }
    /**
     * Soft dark header color
     * @returns {this}
     */
    headerSoftDark() {
      return this.addClass("card-header-soft-dark");
    }
    // ==================
    // Card Styles
    // ==================
    /**
     * Bordered style (border, no shadow)
     * @returns {this}
     */
    bordered() {
      return this.addClass("card-bordered");
    }
    /**
     * Flat style (no shadow, no border)
     * @returns {this}
     */
    flat() {
      return this.addClass("card-flat");
    }
    /**
     * Elevated style (larger shadow)
     * @returns {this}
     */
    elevated() {
      return this.addClass("card-elevated");
    }
    /**
     * Padded style (direct padding on card)
     * @returns {this}
     */
    padded() {
      return this.addClass("card-padded");
    }
    // ==================
    // Spacing Modes
    // ==================
    /**
     * Compact spacing
     * @returns {this}
     */
    compact() {
      return this.addClass("card-compact");
    }
    /**
     * Spacious spacing
     * @returns {this}
     */
    spacious() {
      return this.addClass("card-spacious");
    }
    // ==================
    // Layout Options
    // ==================
    /**
     * Horizontal layout
     * @returns {this}
     */
    horizontal() {
      return this.addClass("card-horizontal");
    }
    // ==================
    // Interactivity Methods
    // ==================
    /**
     * Get current title
     * @returns {string|null}
     */
    getTitle() {
      return this._title;
    }
    /**
     * Get current subtitle
     * @returns {string|null}
     */
    getSubtitle() {
      return this._subtitle;
    }
    /**
     * Get current body
     * @returns {string|null}
     */
    getBody() {
      return this._body;
    }
    /**
     * Get current footer
     * @returns {string|null}
     */
    getFooter() {
      return this._footer;
    }
    /**
     * Update content in DOM
     * @private
     */
    _updateContent() {
      if (!this.element)
        return;
      const newContent = this.renderContent();
      this.element.innerHTML = newContent;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("card"));
      return super.buildClassString();
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = "";
      if (this._image && this._imagePosition === "top") {
        html += `<img src="${this._escapeHtml(this._image)}" class="${so_config_default.cls("card-img-top")}" alt="">`;
      }
      if (this._title || this._headerActions.length > 0) {
        html += `<div class="${so_config_default.cls("card-header")}">`;
        if (this._headerActions.length > 0) {
          html += `<div class="${so_config_default.cls("d-flex")} ${so_config_default.cls("justify-content-between")} ${so_config_default.cls("align-items-center")}">`;
          html += `<div>`;
        }
        if (this._title) {
          html += `<h5 class="${so_config_default.cls("card-title")} ${so_config_default.cls("mb-0")}">${this._escapeHtml(this._title)}</h5>`;
        }
        if (this._subtitle) {
          html += `<h6 class="${so_config_default.cls("card-subtitle")} ${so_config_default.cls("text-muted")}">${this._escapeHtml(this._subtitle)}</h6>`;
        }
        if (this._headerActions.length > 0) {
          html += `</div>`;
          html += `<div class="${so_config_default.cls("card-header-actions")}">`;
          this._headerActions.forEach((action) => {
            html += `<button type="button" class="${so_config_default.cls("btn")} ${so_config_default.cls("btn-sm")} ${so_config_default.cls("btn-link")}" title="${this._escapeHtml(action.title || "")}">`;
            html += `<span class="material-icons">${this._escapeHtml(action.icon)}</span>`;
            html += `</button>`;
          });
          html += `</div></div>`;
        }
        html += "</div>";
      }
      html += `<div class="${so_config_default.cls("card-body")}">`;
      if (!this._title && this._content) {
      }
      if (this._body) {
        html += `<p class="${so_config_default.cls("card-text")}">${this._escapeHtml(this._body)}</p>`;
      }
      html += this.renderChildren();
      html += "</div>";
      if (this._image && this._imagePosition === "bottom") {
        html += `<img src="${this._escapeHtml(this._image)}" class="${so_config_default.cls("card-img-bottom")}" alt="">`;
      }
      if (this._footer) {
        html += `<div class="${so_config_default.cls("card-footer")}">${this._escapeHtml(this._footer)}</div>`;
      }
      return html;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._title)
        config.title = this._title;
      if (this._subtitle)
        config.subtitle = this._subtitle;
      if (this._body)
        config.body = this._body;
      if (this._footer)
        config.footer = this._footer;
      if (this._image) {
        config.image = this._image;
        if (this._imagePosition !== "top")
          config.imagePosition = this._imagePosition;
      }
      if (this._headerActions.length > 0)
        config.headerActions = this._headerActions;
      return config;
    }
  };
  __publicField(Card, "NAME", "ui-card");
  __publicField(Card, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), {
    type: "card",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/Modal.js
  var Modal = class extends ContainerElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._title = config.title || null;
      this._footerButtons = config.footerButtons || [];
      this._size = config.size || "md";
      this._scrollable = config.scrollable || false;
      this._centered = config.centered || false;
      this._staticBackdrop = config.staticBackdrop || false;
      this._showClose = config.showClose !== false;
      this._keyboard = config.keyboard !== false;
      this._focus = config.focus !== false;
    }
    // ==================
    // Content Methods
    // ==================
    /**
     * Set modal title
     * @param {string} title
     * @returns {this}
     */
    title(title) {
      this._title = title;
      return this;
    }
    /**
     * Add footer button
     * @param {string} text
     * @param {string} variant
     * @param {boolean} dismiss
     * @param {Object} attributes
     * @returns {this}
     */
    addButton(text, variant = "secondary", dismiss = false, attributes = {}) {
      this._footerButtons.push({
        text,
        variant,
        dismiss,
        attributes
      });
      return this;
    }
    /**
     * Add close button to footer
     * @param {string} text
     * @returns {this}
     */
    closeButton(text = "Close") {
      return this.addButton(text, "secondary", true);
    }
    /**
     * Add save/submit button to footer
     * @param {string} text
     * @param {string} variant
     * @returns {this}
     */
    saveButton(text = "Save", variant = "primary") {
      return this.addButton(text, variant, false, { type: "submit" });
    }
    // ==================
    // Size Methods
    // ==================
    /**
     * Set modal size
     * @param {string} size - sm|md|lg|xl|fullscreen
     * @returns {this}
     */
    size(size) {
      this._size = size;
      this._triggerEvent("so:modal:sizeChanged", { size });
      return this;
    }
    /**
     * Small modal
     * @returns {this}
     */
    small() {
      return this.size("sm");
    }
    /**
     * Large modal
     * @returns {this}
     */
    large() {
      return this.size("lg");
    }
    /**
     * Extra large modal
     * @returns {this}
     */
    extraLarge() {
      return this.size("xl");
    }
    /**
     * Fullscreen modal
     * @returns {this}
     */
    fullscreen() {
      return this.size("fullscreen");
    }
    // ==================
    // Behavior Methods
    // ==================
    /**
     * Make modal scrollable
     * @param {boolean} scrollable
     * @returns {this}
     */
    scrollable(scrollable = true) {
      this._scrollable = scrollable;
      this._triggerEvent("so:modal:scrollableChanged", { scrollable });
      return this;
    }
    /**
     * Center modal vertically
     * @param {boolean} centered
     * @returns {this}
     */
    centered(centered = true) {
      this._centered = centered;
      this._triggerEvent("so:modal:centeredChanged", { centered });
      return this;
    }
    /**
     * Use static backdrop
     * @param {boolean} staticBackdrop
     * @returns {this}
     */
    staticBackdrop(staticBackdrop = true) {
      this._staticBackdrop = staticBackdrop;
      this._triggerEvent("so:modal:staticBackdropChanged", { staticBackdrop });
      return this;
    }
    /**
     * Hide close button
     * @returns {this}
     */
    hideClose() {
      this._showClose = false;
      this._triggerEvent("so:modal:closeButtonChanged", { showClose: false });
      return this;
    }
    /**
     * Disable keyboard close
     * @returns {this}
     */
    noKeyboard() {
      this._keyboard = false;
      this._triggerEvent("so:modal:keyboardChanged", { keyboard: false });
      return this;
    }
    /**
     * Disable focus
     * @returns {this}
     */
    noFocus() {
      this._focus = false;
      this._triggerEvent("so:modal:focusChanged", { focus: false });
      return this;
    }
    // ==================
    // Dynamic Update Methods
    // ==================
    /**
     * Update title dynamically
     * @param {string} title
     * @returns {this}
     */
    setTitle(title) {
      this._title = title;
      if (this._element) {
        const titleEl = this._element.querySelector(so_config_default.sel("modal-title"));
        if (titleEl) {
          titleEl.textContent = title;
        }
      }
      this._triggerEvent("so:modal:titleChanged", { title });
      return this;
    }
    /**
     * Update body content dynamically
     * @param {string} content
     * @returns {this}
     */
    setBody(content) {
      if (this._element) {
        const bodyEl = this._element.querySelector(so_config_default.sel("modal-body"));
        if (bodyEl) {
          bodyEl.innerHTML = content;
        }
      }
      this._triggerEvent("so:modal:bodyChanged", { content });
      return this;
    }
    /**
     * Add button dynamically
     * @param {string} text
     * @param {string} variant
     * @param {boolean} dismiss
     * @param {Object} attributes
     * @returns {this}
     */
    addButtonDynamic(text, variant = "secondary", dismiss = false, attributes = {}) {
      this._footerButtons.push({ text, variant, dismiss, attributes });
      if (this._element) {
        const footerEl = this._element.querySelector(so_config_default.sel("modal-footer"));
        if (footerEl) {
          const button = document.createElement("button");
          button.className = `${so_config_default.cls("btn")} ${so_config_default.cls("btn-" + variant)}`;
          button.textContent = text;
          if (dismiss) {
            button.setAttribute("data-dismiss", "modal");
            button.addEventListener("click", () => this.hide());
          }
          Object.entries(attributes).forEach(([key, value]) => {
            button.setAttribute(key, value);
          });
          footerEl.appendChild(button);
        }
      }
      this._triggerEvent("so:modal:buttonAdded", { text, variant, dismiss });
      return this;
    }
    /**
     * Clear all footer buttons dynamically
     * @returns {this}
     */
    clearButtons() {
      this._footerButtons = [];
      if (this._element) {
        const footerEl = this._element.querySelector(so_config_default.sel("modal-footer"));
        if (footerEl) {
          footerEl.innerHTML = "";
        }
      }
      this._triggerEvent("so:modal:buttonsCleared");
      return this;
    }
    // ==================
    // Getters
    // ==================
    /**
     * Get modal title
     * @returns {string|null}
     */
    getTitle() {
      return this._title;
    }
    /**
     * Get footer buttons
     * @returns {Array}
     */
    getButtons() {
      return this._footerButtons;
    }
    /**
     * Get size
     * @returns {string}
     */
    getSize() {
      return this._size;
    }
    /**
     * Get scrollable state
     * @returns {boolean}
     */
    isScrollable() {
      return this._scrollable;
    }
    /**
     * Get centered state
     * @returns {boolean}
     */
    isCentered() {
      return this._centered;
    }
    /**
     * Get static backdrop state
     * @returns {boolean}
     */
    hasStaticBackdrop() {
      return this._staticBackdrop;
    }
    /**
     * Check if modal is visible
     * @returns {boolean}
     */
    isVisible() {
      var _a;
      return ((_a = this._element) == null ? void 0 : _a.classList.contains(so_config_default.cls("show"))) || false;
    }
    // ==================
    // Event Methods
    // ==================
    /**
     * Add show event listener
     * @param {Function} callback
     * @returns {this}
     */
    onShow(callback) {
      return this.on("so:modal:show", callback);
    }
    /**
     * Add shown event listener (after animation)
     * @param {Function} callback
     * @returns {this}
     */
    onShown(callback) {
      return this.on("so:modal:shown", callback);
    }
    /**
     * Add hide event listener
     * @param {Function} callback
     * @returns {this}
     */
    onHide(callback) {
      return this.on("so:modal:hide", callback);
    }
    /**
     * Add hidden event listener (after animation)
     * @param {Function} callback
     * @returns {this}
     */
    onHidden(callback) {
      return this.on("so:modal:hidden", callback);
    }
    /**
     * Add dismiss event listener (when user cancels/closes)
     * @param {Function} callback
     * @returns {this}
     */
    onDismiss(callback) {
      return this.on("so:modal:dismiss", callback);
    }
    /**
     * Trigger custom event
     * @param {string} eventName
     * @param {Object} detail
     * @private
     */
    _triggerEvent(eventName, detail = {}) {
      if (this._element) {
        const event = new CustomEvent(eventName, {
          detail: __spreadProps(__spreadValues({}, detail), { modal: this }),
          bubbles: true,
          cancelable: true
        });
        this._element.dispatchEvent(event);
      }
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("modal"));
      if (this._size !== "md") {
        if (this._size === "fullscreen") {
          this._extraClasses.add(so_config_default.cls("modal-fullscreen"));
        } else {
          this._extraClasses.add(so_config_default.cls("modal-" + this._size));
        }
      }
      if (this._scrollable) {
        this._extraClasses.add(so_config_default.cls("modal-scrollable"));
      }
      return super.buildClassString();
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.tabindex = "-1";
      attrs["aria-hidden"] = "true";
      attrs.role = "dialog";
      if (this._title) {
        const labelId = (this._id || "modal") + "-label";
        attrs["aria-labelledby"] = labelId;
      }
      if (this._staticBackdrop) {
        attrs[so_config_default.data("backdrop")] = "static";
      }
      if (!this._keyboard) {
        attrs[so_config_default.data("keyboard")] = "false";
      }
      if (!this._focus) {
        attrs[so_config_default.data("focus")] = "false";
      }
      return attrs;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let dialogClass = so_config_default.cls("modal-dialog");
      if (this._centered) {
        dialogClass += " " + so_config_default.cls("modal-dialog-centered");
      }
      let html = `<div class="${dialogClass}">`;
      html += this._renderHeader();
      html += this._renderBody();
      if (this._footerButtons.length > 0) {
        html += this._renderFooter();
      }
      html += "</div>";
      return html;
    }
    /**
     * Render modal header
     * @returns {string}
     * @private
     */
    _renderHeader() {
      if (!this._title && !this._showClose) {
        return "";
      }
      let html = `<div class="${so_config_default.cls("modal-header")}">`;
      if (this._title) {
        const labelId = (this._id || "modal") + "-label";
        html += `<h5 class="${so_config_default.cls("modal-title")}" id="${this._escapeHtml(labelId)}">${this._escapeHtml(this._title)}</h5>`;
      }
      if (this._showClose) {
        html += `<button class="${so_config_default.cls("modal-close")}" data-dismiss="modal">`;
        html += '<span class="material-icons">close</span>';
        html += "</button>";
      }
      html += "</div>";
      return html;
    }
    /**
     * Render modal body
     * @returns {string}
     * @private
     */
    _renderBody() {
      let html = `<div class="${so_config_default.cls("modal-body")}">`;
      html += this.renderChildren();
      html += "</div>";
      return html;
    }
    /**
     * Render modal footer
     * @returns {string}
     * @private
     */
    _renderFooter() {
      let html = `<div class="${so_config_default.cls("modal-footer")}">`;
      this._footerButtons.forEach((button) => {
        const btnClass = `${so_config_default.cls("btn")} ${so_config_default.cls("btn-" + (button.variant || "secondary"))}`;
        const attrs = button.attributes || {};
        let attrStr = `class="${btnClass}"`;
        if (button.dismiss) {
          attrStr += ' data-dismiss="modal"';
        }
        Object.entries(attrs).forEach(([name, value]) => {
          attrStr += ` ${this._escapeHtml(name)}="${this._escapeHtml(value)}"`;
        });
        html += `<button ${attrStr}>${this._escapeHtml(button.text)}</button>`;
      });
      html += "</div>";
      return html;
    }
    // ==================
    // Modal Methods
    // ==================
    /**
     * Show the modal
     * @returns {this}
     */
    show() {
      if (!this._element) {
        return this;
      }
      const showEvent = new CustomEvent("so:modal:show", {
        detail: { modal: this },
        bubbles: true,
        cancelable: true
      });
      this._element.dispatchEvent(showEvent);
      if (showEvent.defaultPrevented) {
        return this;
      }
      this._element.classList.add(so_config_default.cls("show"));
      this._element.style.display = "block";
      this._element.setAttribute("aria-hidden", "false");
      document.body.classList.add(so_config_default.cls("modal-open"));
      if (!this._staticBackdrop && !document.querySelector(so_config_default.sel("modal-backdrop"))) {
        const backdrop = document.createElement("div");
        backdrop.className = `${so_config_default.cls("modal-backdrop")} ${so_config_default.cls("show")}`;
        backdrop.addEventListener("click", () => {
          if (!this._staticBackdrop) {
            this.hide();
          }
        });
        document.body.appendChild(backdrop);
      }
      if (this._focus) {
        setTimeout(() => {
          const focusable = this._element.querySelector('input, button, textarea, select, [tabindex]:not([tabindex="-1"])');
          if (focusable) {
            focusable.focus();
          }
        }, 100);
      }
      setTimeout(() => {
        this._triggerEvent("so:modal:shown");
      }, 150);
      return this;
    }
    /**
     * Hide the modal
     * @returns {this}
     */
    hide() {
      if (!this._element) {
        return this;
      }
      const hideEvent = new CustomEvent("so:modal:hide", {
        detail: { modal: this },
        bubbles: true,
        cancelable: true
      });
      this._element.dispatchEvent(hideEvent);
      if (hideEvent.defaultPrevented) {
        return this;
      }
      this._element.classList.remove(so_config_default.cls("show"));
      this._element.setAttribute("aria-hidden", "true");
      document.body.classList.remove(so_config_default.cls("modal-open"));
      const backdrop = document.querySelector(so_config_default.sel("modal-backdrop"));
      if (backdrop) {
        backdrop.remove();
      }
      this._triggerEvent("so:modal:dismiss");
      setTimeout(() => {
        this._element.style.display = "none";
        this._triggerEvent("so:modal:hidden");
      }, 150);
      return this;
    }
    /**
     * Toggle the modal
     * @returns {this}
     */
    toggle() {
      if (this.isVisible()) {
        this.hide();
      } else {
        this.show();
      }
      return this;
    }
    /**
     * Dispose the modal (cleanup)
     * @returns {void}
     */
    dispose() {
      this.hide();
      if (this._element) {
        this._element.remove();
      }
      this._triggerEvent("so:modal:disposed");
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._title)
        config.title = this._title;
      if (this._footerButtons.length > 0)
        config.footerButtons = this._footerButtons;
      if (this._size !== "md")
        config.size = this._size;
      if (this._scrollable)
        config.scrollable = true;
      if (this._centered)
        config.centered = true;
      if (this._staticBackdrop)
        config.staticBackdrop = true;
      if (!this._showClose)
        config.showClose = false;
      if (!this._keyboard)
        config.keyboard = false;
      if (!this._focus)
        config.focus = false;
      return config;
    }
  };
  __publicField(Modal, "NAME", "ui-modal");
  __publicField(Modal, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), {
    type: "modal",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/Progress.js
  var _Progress = class _Progress extends Element2 {
    _initFromConfig(config) {
      var _a, _b, _c;
      super._initFromConfig(config);
      this._progressType = config.progressType || "linear";
      this._value = (_a = config.value) != null ? _a : 0;
      this._min = (_b = config.min) != null ? _b : 0;
      this._max = (_c = config.max) != null ? _c : 100;
      this._color = config.color || null;
      this._size = config.size || null;
      this._showLabel = config.showLabel || false;
      this._labelText = config.labelText || null;
      this._striped = config.striped || false;
      this._animated = config.animated || false;
      this._indeterminate = config.indeterminate || false;
      this._bufferValue = config.bufferValue || null;
      this._gradient = config.gradient || null;
      this._segments = config.segments || [];
      this._steps = config.steps || [];
      this._externalLabel = config.externalLabel || null;
      this._onProgress = config.onProgress || null;
    }
    // Configuration API
    linear() {
      this._progressType = "linear";
      return this;
    }
    circular() {
      this._progressType = "circular";
      return this;
    }
    value(v) {
      this._value = v;
      return this;
    }
    max(m) {
      this._max = m;
      return this;
    }
    min(m) {
      this._min = m;
      return this;
    }
    color(c) {
      this._color = c;
      return this;
    }
    primary() {
      return this.color("primary");
    }
    secondary() {
      return this.color("secondary");
    }
    success() {
      return this.color("success");
    }
    danger() {
      return this.color("danger");
    }
    warning() {
      return this.color("warning");
    }
    info() {
      return this.color("info");
    }
    light() {
      return this.color("light");
    }
    dark() {
      return this.color("dark");
    }
    size(s) {
      this._size = s;
      return this;
    }
    extraSmall() {
      return this.size("xs");
    }
    small() {
      return this.size("sm");
    }
    large() {
      return this.size("lg");
    }
    extraLarge() {
      return this.size("xl");
    }
    showLabel(show = true, text = null) {
      this._showLabel = show;
      if (text)
        this._labelText = text;
      return this;
    }
    striped(s = true) {
      this._striped = s;
      return this;
    }
    animated(a = true) {
      this._animated = a;
      if (a)
        this._striped = true;
      return this;
    }
    indeterminate(i = true) {
      this._indeterminate = i;
      return this;
    }
    buffer(val) {
      this._bufferValue = val;
      return this;
    }
    gradient(variant = null) {
      this._gradient = variant || "gradient";
      return this;
    }
    segment(value, color, label = null) {
      this._segments.push({ value, color, label });
      return this;
    }
    step(active = false, partial = null) {
      this._steps.push({ active, partial });
      return this;
    }
    externalLabel(title, value) {
      this._externalLabel = { title, value };
      return this;
    }
    onProgress(callback) {
      this._onProgress = callback;
      return this;
    }
    _calculatePercent(val = null) {
      const v = val !== null ? val : this._value;
      const range = this._max - this._min;
      return range > 0 ? (v - this._min) / range * 100 : 0;
    }
    buildClassString() {
      if (this._progressType === "circular") {
        let cls2 = so_config_default.cls("progress-circular");
        if (this._size)
          cls2 += ` ${so_config_default.cls("progress-circular", this._size)}`;
        if (this._color)
          cls2 += ` ${so_config_default.cls("progress-circular", this._color)}`;
        if (this._indeterminate)
          cls2 += ` ${so_config_default.cls("progress-circular-indeterminate")}`;
        return cls2 + (this._classes ? " " + this._classes : "");
      }
      let cls = so_config_default.cls("progress");
      if (this._color)
        cls += ` ${so_config_default.cls("progress", this._color)}`;
      if (this._size)
        cls += ` ${so_config_default.cls("progress", this._size)}`;
      if (this._striped)
        cls += ` ${so_config_default.cls("progress-striped")}`;
      if (this._animated)
        cls += ` ${so_config_default.cls("progress-animated")}`;
      if (this._indeterminate)
        cls += ` ${so_config_default.cls("progress-indeterminate")}`;
      if (this._bufferValue !== null)
        cls += ` ${so_config_default.cls("progress-buffer")}`;
      if (this._segments.length)
        cls += ` ${so_config_default.cls("progress-stacked")}`;
      if (this._gradient)
        cls += ` ${so_config_default.cls("progress", this._gradient)}`;
      if (this._steps.length)
        cls += ` ${so_config_default.cls("progress-stepped")}`;
      return cls + (this._classes ? " " + this._classes : "");
    }
    _gatherAttributes() {
      const attrs = super._gatherAttributes();
      if (this._progressType === "linear" && !this._indeterminate) {
        attrs.role = "progressbar";
        attrs["aria-valuenow"] = this._value;
        attrs["aria-valuemin"] = this._min;
        attrs["aria-valuemax"] = this._max;
      }
      attrs[so_config_default.data("progress")] = "";
      return attrs;
    }
    renderContent() {
      if (this._progressType === "circular")
        return this._renderCircular();
      if (this._steps.length)
        return this._renderStepped();
      if (this._segments.length)
        return this._renderStacked();
      return this._renderLinear();
    }
    _renderLinear() {
      let html = `<div class="${so_config_default.cls("progress-bar")}" style="width: ${this._calculatePercent()}%">`;
      if (this._showLabel) {
        html += `<span class="${so_config_default.cls("progress-label")}">${this._labelText || Math.round(this._calculatePercent()) + "%"}</span>`;
      }
      html += "</div>";
      if (this._bufferValue !== null) {
        html += `<div class="${so_config_default.cls("progress-buffer-bar")}" style="width: ${this._calculatePercent(this._bufferValue)}%"></div>`;
      }
      return html;
    }
    _renderStacked() {
      return this._segments.map(
        (seg) => `<div class="${so_config_default.cls("progress")} ${so_config_default.cls("progress", seg.color)}" style="width: ${seg.value}%">
                <div class="${so_config_default.cls("progress-bar")}" style="width: 100%">
                    ${seg.label ? `<span class="${so_config_default.cls("progress-label")}">${seg.label}</span>` : ""}
                </div>
            </div>`
      ).join("");
    }
    _renderStepped() {
      return this._steps.map((step) => {
        let cls = so_config_default.cls("progress-step");
        if (step.active)
          cls += ` ${so_config_default.cls("active")}`;
        if (step.partial)
          cls += " partial";
        return `<div class="${cls}"${step.partial ? ` style="--step-progress: ${step.partial}%"` : ""}>
                <div class="${so_config_default.cls("progress-step-fill")}"></div>
            </div>`;
      }).join("");
    }
    _renderCircular() {
      const sizes = {
        xs: { viewBox: "0 0 32 32", cx: 16, cy: 16, r: 13 },
        sm: { viewBox: "0 0 40 40", cx: 20, cy: 20, r: 17 },
        lg: { viewBox: "0 0 64 64", cx: 32, cy: 32, r: 27 },
        xl: { viewBox: "0 0 80 80", cx: 40, cy: 40, r: 34 },
        default: { viewBox: "0 0 48 48", cx: 24, cy: 24, r: 20 }
      };
      const size = sizes[this._size] || sizes.default;
      const circumference = 2 * Math.PI * size.r;
      const offset = this._indeterminate ? 0 : circumference * (1 - this._calculatePercent() / 100);
      let html = `<svg class="${so_config_default.cls("progress-ring")}" viewBox="${size.viewBox}">`;
      html += `<circle class="${so_config_default.cls("progress-ring-bg")}" cx="${size.cx}" cy="${size.cy}" r="${size.r}" fill="none"></circle>`;
      html += `<circle class="${so_config_default.cls("progress-ring-fill")}" cx="${size.cx}" cy="${size.cy}" r="${size.r}" fill="none"`;
      if (!this._indeterminate)
        html += ` stroke-dasharray="${circumference}" stroke-dashoffset="${offset}"`;
      html += "></circle></svg>";
      if (this._showLabel && !this._indeterminate) {
        html += `<span class="${so_config_default.cls("progress-text")}">${this._labelText || Math.round(this._calculatePercent()) + "%"}</span>`;
      }
      return html;
    }
    render() {
      let html = super.render();
      if (this._externalLabel) {
        html = `<div class="${so_config_default.cls("progress-wrapper")}">
                <div class="${so_config_default.cls("progress-header")}">
                    <span class="${so_config_default.cls("progress-title")}">${this._externalLabel.title}</span>
                    <span class="${so_config_default.cls("progress-value")}">${this._externalLabel.value}</span>
                </div>${html}</div>`;
      }
      if (this._element)
        _Progress.instances.set(this._element, this);
      return html;
    }
    // Interactive Methods
    setValue(value) {
      const oldValue = this._value;
      this._value = value;
      if (this._element) {
        if (this._progressType === "circular") {
          const fill = this._element.querySelector(`.${so_config_default.cls("progress-ring-fill")}`);
          if (fill && !this._indeterminate) {
            const r = parseFloat(fill.getAttribute("r"));
            const circumference = 2 * Math.PI * r;
            const offset = circumference * (1 - this._calculatePercent() / 100);
            fill.setAttribute("stroke-dasharray", circumference);
            fill.setAttribute("stroke-dashoffset", offset);
          }
          const text = this._element.querySelector(`.${so_config_default.cls("progress-text")}`);
          if (text && this._showLabel)
            text.textContent = this._labelText || Math.round(this._calculatePercent()) + "%";
        } else {
          const bar = this._element.querySelector(`.${so_config_default.cls("progress-bar")}`);
          if (bar) {
            bar.style.width = this._calculatePercent() + "%";
            const label = bar.querySelector(`.${so_config_default.cls("progress-label")}`);
            if (label && this._showLabel)
              label.textContent = this._labelText || Math.round(this._calculatePercent()) + "%";
          }
        }
        this._element.setAttribute("aria-valuenow", value);
        this._dispatchEvent("so:progress:change", { oldValue, newValue: value, percent: this._calculatePercent() });
        if (this._onProgress)
          this._onProgress(value, this._calculatePercent());
      }
      return this;
    }
    animate(from, to, duration = 1e3) {
      const start = performance.now();
      const animate = (time) => {
        const elapsed = time - start;
        const progress = Math.min(elapsed / duration, 1);
        const eased = 1 - Math.pow(1 - progress, 3);
        this.setValue(from + (to - from) * eased);
        if (progress < 1)
          requestAnimationFrame(animate);
      };
      requestAnimationFrame(animate);
      return this;
    }
    getValue() {
      return this._value;
    }
    getPercent() {
      return this._calculatePercent();
    }
    static getInstance(element) {
      if (typeof element === "string")
        element = document.querySelector(element);
      if (!element)
        return null;
      if (_Progress.instances.has(element))
        return _Progress.instances.get(element);
      const config = {
        value: parseInt(element.getAttribute(so_config_default.data("value"))) || 0,
        max: parseInt(element.getAttribute(so_config_default.data("max"))) || 100,
        min: parseInt(element.getAttribute(so_config_default.data("min"))) || 0
      };
      const instance = new _Progress(config);
      instance._element = element;
      _Progress.instances.set(element, instance);
      return instance;
    }
    static initAll() {
      document.querySelectorAll(`[${so_config_default.data("progress")}]`).forEach((el) => {
        if (!_Progress.instances.has(el))
          _Progress.getInstance(el);
      });
    }
    toConfig() {
      const config = super.toConfig();
      config.progressType = this._progressType;
      config.value = this._value;
      if (this._min !== 0)
        config.min = this._min;
      if (this._max !== 100)
        config.max = this._max;
      if (this._color)
        config.color = this._color;
      if (this._size)
        config.size = this._size;
      if (this._showLabel)
        config.showLabel = true;
      if (this._labelText)
        config.labelText = this._labelText;
      if (this._striped)
        config.striped = true;
      if (this._animated)
        config.animated = true;
      if (this._indeterminate)
        config.indeterminate = true;
      if (this._bufferValue !== null)
        config.bufferValue = this._bufferValue;
      if (this._gradient)
        config.gradient = this._gradient;
      if (this._segments.length)
        config.segments = this._segments;
      if (this._steps.length)
        config.steps = this._steps;
      if (this._externalLabel)
        config.externalLabel = this._externalLabel;
      return config;
    }
  };
  __publicField(_Progress, "NAME", "ui-progress");
  __publicField(_Progress, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "progress", tagName: "div" }));
  __publicField(_Progress, "instances", /* @__PURE__ */ new Map());
  var Progress = _Progress;
  if (typeof document !== "undefined") {
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", () => Progress.initAll());
    } else {
      Progress.initAll();
    }
  }

  // src/js/ui-engine/elements/display/Table.js
  var Table = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._columns = config.columns || [];
      this._rows = config.rows || [];
      this._striped = config.striped || false;
      this._bordered = config.bordered || false;
      this._borderless = config.borderless || false;
      this._hover = config.hover || false;
      this._small = config.small || false;
      this._responsive = config.responsive !== false;
      this._caption = config.caption || null;
      this._captionTop = config.captionTop || false;
      this._variant = config.variant || null;
      this._footer = config.footer || null;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set columns
     * @param {Array} columns - [{key, label, sortable, width, align, render}]
     * @returns {this}
     */
    columns(columns) {
      this._columns = columns;
      return this;
    }
    /**
     * Add column
     * @param {Object} column
     * @returns {this}
     */
    addColumn(column) {
      this._columns.push(column);
      return this;
    }
    /**
     * Set rows
     * @param {Array} rows
     * @returns {this}
     */
    rows(rows) {
      this._rows = rows;
      return this;
    }
    /**
     * Add row
     * @param {Object} row
     * @returns {this}
     */
    addRow(row) {
      this._rows.push(row);
      return this;
    }
    /**
     * Set striped style
     * @param {boolean} striped
     * @returns {this}
     */
    striped(striped = true) {
      this._striped = striped;
      return this;
    }
    /**
     * Set bordered style
     * @param {boolean} bordered
     * @returns {this}
     */
    bordered(bordered = true) {
      this._bordered = bordered;
      return this;
    }
    /**
     * Set borderless style
     * @param {boolean} borderless
     * @returns {this}
     */
    borderless(borderless = true) {
      this._borderless = borderless;
      return this;
    }
    /**
     * Set hover style
     * @param {boolean} hover
     * @returns {this}
     */
    hover(hover = true) {
      this._hover = hover;
      return this;
    }
    /**
     * Set small size
     * @param {boolean} small
     * @returns {this}
     */
    small(small = true) {
      this._small = small;
      return this;
    }
    /**
     * Set responsive wrapper
     * @param {boolean} responsive
     * @returns {this}
     */
    responsive(responsive = true) {
      this._responsive = responsive;
      return this;
    }
    /**
     * Set caption
     * @param {string} caption
     * @param {boolean} top
     * @returns {this}
     */
    caption(caption, top = false) {
      this._caption = caption;
      this._captionTop = top;
      return this;
    }
    /**
     * Set variant
     * @param {string} variant
     * @returns {this}
     */
    variant(variant) {
      this._variant = variant;
      return this;
    }
    /** Dark variant */
    dark() {
      return this.variant("dark");
    }
    /** Light variant */
    light() {
      return this.variant("light");
    }
    /**
     * Set footer
     * @param {Array} footer - Row data for footer
     * @returns {this}
     */
    footer(footer) {
      this._footer = footer;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("table"));
      if (this._striped) {
        this._extraClasses.add(so_config_default.cls("table-striped"));
      }
      if (this._bordered) {
        this._extraClasses.add(so_config_default.cls("table-bordered"));
      }
      if (this._borderless) {
        this._extraClasses.add(so_config_default.cls("table-borderless"));
      }
      if (this._hover) {
        this._extraClasses.add(so_config_default.cls("table-hover"));
      }
      if (this._small) {
        this._extraClasses.add(so_config_default.cls("table-sm"));
      }
      if (this._variant) {
        this._extraClasses.add(so_config_default.cls("table", this._variant));
      }
      if (this._captionTop) {
        this._extraClasses.add(so_config_default.cls("caption-top"));
      }
      return super.buildClassString();
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = "";
      if (this._caption) {
        html += `<caption>${this._escapeHtml(this._caption)}</caption>`;
      }
      if (this._columns.length > 0) {
        html += "<thead>";
        html += "<tr>";
        this._columns.forEach((col) => {
          let thAttrs = "";
          if (col.width)
            thAttrs += ` style="width: ${col.width}"`;
          if (col.align)
            thAttrs += ` class="${so_config_default.cls("text", col.align)}"`;
          html += `<th scope="col"${thAttrs}>${this._escapeHtml(col.label || col.key)}</th>`;
        });
        html += "</tr>";
        html += "</thead>";
      }
      html += "<tbody>";
      this._rows.forEach((row) => {
        html += "<tr>";
        this._columns.forEach((col) => {
          let value = row[col.key];
          if (col.render && typeof col.render === "function") {
            value = col.render(value, row);
          } else {
            value = this._escapeHtml(value != null ? value : "");
          }
          let tdAttrs = "";
          if (col.align)
            tdAttrs += ` class="${so_config_default.cls("text", col.align)}"`;
          html += `<td${tdAttrs}>${value}</td>`;
        });
        html += "</tr>";
      });
      html += "</tbody>";
      if (this._footer) {
        html += "<tfoot>";
        html += "<tr>";
        this._footer.forEach((cell, index) => {
          const col = this._columns[index] || {};
          let tdAttrs = "";
          if (col.align)
            tdAttrs += ` class="${so_config_default.cls("text", col.align)}"`;
          html += `<td${tdAttrs}>${this._escapeHtml(cell != null ? cell : "")}</td>`;
        });
        html += "</tr>";
        html += "</tfoot>";
      }
      return html;
    }
    /**
     * Render element (with optional responsive wrapper)
     * @returns {HTMLElement}
     */
    render() {
      const table = super.render();
      if (this._responsive) {
        const wrapper = document.createElement("div");
        wrapper.className = so_config_default.cls("table-responsive");
        wrapper.appendChild(table);
        return wrapper;
      }
      return table;
    }
    /**
     * Generate HTML string
     * @returns {string}
     */
    toHtml() {
      const tableHtml = super.toHtml();
      if (this._responsive) {
        return `<div class="${so_config_default.cls("table-responsive")}">${tableHtml}</div>`;
      }
      return tableHtml;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._columns.length > 0)
        config.columns = this._columns;
      if (this._rows.length > 0)
        config.rows = this._rows;
      if (this._striped)
        config.striped = true;
      if (this._bordered)
        config.bordered = true;
      if (this._borderless)
        config.borderless = true;
      if (this._hover)
        config.hover = true;
      if (this._small)
        config.small = true;
      if (!this._responsive)
        config.responsive = false;
      if (this._caption)
        config.caption = this._caption;
      if (this._captionTop)
        config.captionTop = true;
      if (this._variant)
        config.variant = this._variant;
      if (this._footer)
        config.footer = this._footer;
      return config;
    }
  };
  __publicField(Table, "NAME", "ui-table");
  __publicField(Table, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "table",
    tagName: "table"
  }));

  // src/js/ui-engine/elements/display/Tabs.js
  var Tabs = class extends ContainerElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._tabs = config.tabs || [];
      this._variant = config.variant || "tabs";
      this._fill = config.fill || false;
      this._justified = config.justified || false;
      this._vertical = config.vertical || false;
      this._fade = config.fade !== false;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Add tab
     * @param {Object} tab - {id, title, content, active, disabled, icon}
     * @returns {this}
     */
    addTab(tab) {
      this._tabs.push(tab);
      return this;
    }
    /**
     * Set multiple tabs
     * @param {Array} tabs
     * @returns {this}
     */
    tabs(tabs) {
      this._tabs = tabs;
      return this;
    }
    /**
     * Set variant
     * @param {string} variant
     * @returns {this}
     */
    variant(variant) {
      this._variant = variant;
      return this;
    }
    /** Tabs style */
    tabsStyle() {
      return this.variant("tabs");
    }
    /** Pills style */
    pills() {
      return this.variant("pills");
    }
    /** Underline style */
    underline() {
      return this.variant("underline");
    }
    /**
     * Set fill mode
     * @param {boolean} fill
     * @returns {this}
     */
    fill(fill = true) {
      this._fill = fill;
      return this;
    }
    /**
     * Set justified mode
     * @param {boolean} justified
     * @returns {this}
     */
    justified(justified = true) {
      this._justified = justified;
      return this;
    }
    /**
     * Set vertical mode
     * @param {boolean} vertical
     * @returns {this}
     */
    vertical(vertical = true) {
      this._vertical = vertical;
      return this;
    }
    /**
     * Set fade animation
     * @param {boolean} fade
     * @returns {this}
     */
    fade(fade = true) {
      this._fade = fade;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      if (this._vertical) {
        this._extraClasses.add(so_config_default.cls("d-flex"));
        this._extraClasses.add(so_config_default.cls("align-items-start"));
      }
      return super.buildClassString();
    }
    /**
     * Build nav classes
     * @returns {string}
     */
    _buildNavClass() {
      let cls = so_config_default.cls("nav");
      if (this._variant === "tabs") {
        cls += ` ${so_config_default.cls("nav-tabs")}`;
      } else if (this._variant === "pills") {
        cls += ` ${so_config_default.cls("nav-pills")}`;
      } else if (this._variant === "underline") {
        cls += ` ${so_config_default.cls("nav-underline")}`;
      }
      if (this._fill) {
        cls += ` ${so_config_default.cls("nav-fill")}`;
      }
      if (this._justified) {
        cls += ` ${so_config_default.cls("nav-justified")}`;
      }
      if (this._vertical) {
        cls += ` ${so_config_default.cls("flex-column")}`;
        cls += ` ${so_config_default.cls("me-3")}`;
      }
      return cls;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      const tabsId = this._id || `tabs-${Math.random().toString(36).substr(2, 9)}`;
      let html = "";
      html += `<ul class="${this._buildNavClass()}" id="${tabsId}-nav" role="tablist">`;
      this._tabs.forEach((tab, index) => {
        const tabId = tab.id || `${tabsId}-tab-${index}`;
        const paneId = `${tabId}-pane`;
        const active = tab.active || index === 0 && !this._tabs.some((t) => t.active);
        const disabled = tab.disabled || false;
        html += `<li class="${so_config_default.cls("nav-item")}" role="presentation">`;
        html += `<button class="${so_config_default.cls("nav-link")}${active ? ` ${so_config_default.cls("active")}` : ""}${disabled ? " disabled" : ""}" `;
        html += `id="${tabId}" `;
        html += `${so_config_default.data("toggle")}="tab" `;
        html += `${so_config_default.data("target")}="#${paneId}" `;
        html += `type="button" `;
        html += `role="tab" `;
        html += `aria-controls="${paneId}" `;
        html += `aria-selected="${active}"`;
        if (disabled)
          html += " disabled";
        html += ">";
        if (tab.icon) {
          html += `<span class="material-icons ${so_config_default.cls("me-1")}">${this._escapeHtml(tab.icon)}</span>`;
        }
        html += this._escapeHtml(tab.title);
        html += "</button></li>";
      });
      html += "</ul>";
      html += `<div class="${so_config_default.cls("tab-content")}${this._vertical ? ` ${so_config_default.cls("flex-grow-1")}` : ""}" id="${tabsId}-content">`;
      this._tabs.forEach((tab, index) => {
        const tabId = tab.id || `${tabsId}-tab-${index}`;
        const paneId = `${tabId}-pane`;
        const active = tab.active || index === 0 && !this._tabs.some((t) => t.active);
        let paneClass = so_config_default.cls("tab-pane");
        if (this._fade) {
          paneClass += ` ${so_config_default.cls("fade")}`;
        }
        if (active) {
          paneClass += ` ${so_config_default.cls("show")} ${so_config_default.cls("active")}`;
        }
        html += `<div class="${paneClass}" `;
        html += `id="${paneId}" `;
        html += `role="tabpanel" `;
        html += `aria-labelledby="${tabId}" `;
        html += `tabindex="0">`;
        html += tab.content || "";
        html += "</div>";
      });
      html += "</div>";
      html += this.renderChildren();
      return html;
    }
    // ==================
    // Tab Methods
    // ==================
    /**
     * Show tab by index or id
     * @param {number|string} indexOrId
     */
    show(indexOrId) {
      if (!this.element)
        return;
      let tabButton;
      if (typeof indexOrId === "number") {
        tabButton = this.element.querySelectorAll(`${so_config_default.sel("nav-link")}`)[indexOrId];
      } else {
        tabButton = this.element.querySelector(`#${indexOrId}`);
      }
      if (tabButton) {
        this.element.querySelectorAll(so_config_default.sel("nav-link")).forEach((btn) => {
          btn.classList.remove(so_config_default.cls("active"));
          btn.setAttribute("aria-selected", "false");
        });
        this.element.querySelectorAll(so_config_default.sel("tab-pane")).forEach((pane) => {
          pane.classList.remove(so_config_default.cls("show"), so_config_default.cls("active"));
        });
        tabButton.classList.add(so_config_default.cls("active"));
        tabButton.setAttribute("aria-selected", "true");
        const targetId = tabButton.getAttribute(so_config_default.data("target"));
        const targetPane = this.element.querySelector(targetId);
        if (targetPane) {
          targetPane.classList.add(so_config_default.cls("show"), so_config_default.cls("active"));
        }
      }
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._tabs.length > 0)
        config.tabs = this._tabs;
      if (this._variant !== "tabs")
        config.variant = this._variant;
      if (this._fill)
        config.fill = true;
      if (this._justified)
        config.justified = true;
      if (this._vertical)
        config.vertical = true;
      if (!this._fade)
        config.fade = false;
      return config;
    }
  };
  __publicField(Tabs, "NAME", "ui-tabs");
  __publicField(Tabs, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), {
    type: "tabs",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/Toast.js
  var Toast = class extends Element2 {
    _initFromConfig(config) {
      var _a;
      super._initFromConfig(config);
      this._variant = config.variant || "default";
      this._message = config.message || null;
      this._title = config.title || null;
      this._icon = config.icon || null;
      this._dismissible = config.dismissible !== false;
      this._autoDismiss = (_a = config.autoDismiss) != null ? _a : 5e3;
      this._position = config.position || "top-right";
    }
    variant(v) {
      this._variant = v;
      return this;
    }
    success() {
      return this.variant("success").icon("check_circle");
    }
    danger() {
      return this.variant("danger").icon("error");
    }
    warning() {
      return this.variant("warning").icon("warning");
    }
    info() {
      return this.variant("info").icon("info");
    }
    message(msg) {
      this._message = msg;
      return this;
    }
    title(title) {
      this._title = title;
      return this;
    }
    icon(icon) {
      this._icon = icon;
      return this;
    }
    dismissible(val = true) {
      this._dismissible = val;
      return this;
    }
    autoDismiss(ms) {
      this._autoDismiss = ms;
      return this;
    }
    position(pos) {
      this._position = pos;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("toast"));
      this._extraClasses.add(so_config_default.cls("toast", this._variant));
      if (this._dismissible) {
        this._extraClasses.add(so_config_default.cls("fade"));
        this._extraClasses.add(so_config_default.cls("show"));
      }
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.role = "alert";
      attrs["aria-live"] = "assertive";
      attrs["aria-atomic"] = "true";
      attrs[so_config_default.data("autohide")] = this._autoDismiss > 0 ? "true" : "false";
      attrs[so_config_default.data("delay")] = this._autoDismiss;
      attrs[so_config_default.data("ui-init")] = "toast";
      attrs[so_config_default.data("ui-config")] = JSON.stringify({
        autoDismiss: this._autoDismiss,
        position: this._position
      });
      return attrs;
    }
    renderContent() {
      let html = `<div class="${so_config_default.cls("toast-header")}">`;
      if (this._icon) {
        html += `<span class="material-icons ${so_config_default.cls("me-2")}">${this._escapeHtml(this._icon)}</span>`;
      }
      if (this._title) {
        html += `<strong class="${so_config_default.cls("me-auto")}">${this._escapeHtml(this._title)}</strong>`;
      }
      if (this._dismissible) {
        html += `<button type="button" class="${so_config_default.cls("btn-close")}" ${so_config_default.data("dismiss")}="toast" aria-label="Close"></button>`;
      }
      html += "</div>";
      html += `<div class="${so_config_default.cls("toast-body")}">`;
      if (this._message)
        html += this._escapeHtml(this._message);
      html += "</div>";
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._variant !== "default")
        config.variant = this._variant;
      if (this._message)
        config.message = this._message;
      if (this._title)
        config.title = this._title;
      if (this._icon)
        config.icon = this._icon;
      if (!this._dismissible)
        config.dismissible = false;
      if (this._autoDismiss !== 5e3)
        config.autoDismiss = this._autoDismiss;
      if (this._position !== "top-right")
        config.position = this._position;
      return config;
    }
  };
  __publicField(Toast, "NAME", "ui-toast");
  __publicField(Toast, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "toast", tagName: "div" }));

  // src/js/ui-engine/elements/display/Tooltip.js
  var Tooltip = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._text = config.text || "";
      this._placement = config.placement || "top";
      this._trigger = config.trigger || "hover";
      this._html = config.html || false;
    }
    text(text) {
      this._text = text;
      return this;
    }
    placement(p) {
      this._placement = p;
      return this;
    }
    top() {
      return this.placement("top");
    }
    bottom() {
      return this.placement("bottom");
    }
    left() {
      return this.placement("left");
    }
    right() {
      return this.placement("right");
    }
    trigger(t) {
      this._trigger = t;
      return this;
    }
    html(val = true) {
      this._html = val;
      return this;
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("toggle")] = "tooltip";
      attrs[so_config_default.data("placement")] = this._placement;
      attrs.title = this._text;
      if (this._html)
        attrs[so_config_default.data("html")] = "true";
      attrs[so_config_default.data("ui-init")] = "tooltip";
      attrs[so_config_default.data("ui-config")] = JSON.stringify({
        placement: this._placement,
        trigger: this._trigger,
        html: this._html
      });
      return attrs;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._text)
        config.text = this._text;
      if (this._placement !== "top")
        config.placement = this._placement;
      if (this._trigger !== "hover")
        config.trigger = this._trigger;
      if (this._html)
        config.html = true;
      return config;
    }
  };
  __publicField(Tooltip, "NAME", "ui-tooltip");
  __publicField(Tooltip, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "tooltip", tagName: "span" }));

  // src/js/ui-engine/elements/display/Breadcrumb.js
  var Breadcrumb = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._items = config.items || [];
      this._divider = config.divider || null;
    }
    // ==================
    // Configuration Methods
    // ==================
    /**
     * Set items
     * @param {Array} items
     * @returns {this}
     */
    items(items) {
      this._items = items;
      return this;
    }
    /**
     * Add item
     * @param {string} label
     * @param {string|null} url
     * @param {string|null} icon
     * @returns {this}
     */
    addItem(label, url = null, icon = null) {
      const item = { label };
      if (url !== null)
        item.url = url;
      if (icon !== null)
        item.icon = icon;
      this._items.push(item);
      return this;
    }
    /**
     * Set custom divider
     * @param {string} divider
     * @returns {this}
     */
    divider(divider) {
      this._divider = divider;
      return this;
    }
    /**
     * Use chevron divider
     * @returns {this}
     */
    chevronDivider() {
      return this.addClass("breadcrumb-chevron");
    }
    /**
     * Use arrow divider
     * @returns {this}
     */
    arrowDivider() {
      return this.addClass("breadcrumb-arrow");
    }
    /**
     * Use slash divider
     * @returns {this}
     */
    slashDivider() {
      return this.addClass("breadcrumb-slash");
    }
    /**
     * Use pipe divider
     * @returns {this}
     */
    pipeDivider() {
      return this.addClass("breadcrumb-pipe");
    }
    /**
     * Use dot divider
     * @returns {this}
     */
    dotDivider() {
      return this.addClass("breadcrumb-dot");
    }
    /**
     * Use icon divider
     * @returns {this}
     */
    iconDivider() {
      return this.addClass("breadcrumb-icon");
    }
    /**
     * Use filled background style
     * @returns {this}
     */
    filled() {
      return this.addClass("breadcrumb-filled");
    }
    /**
     * Use pills style
     * @returns {this}
     */
    pills() {
      return this.addClass("breadcrumb-pills");
    }
    /**
     * Set color variant
     * @param {string} variant
     * @returns {this}
     */
    variant(variant) {
      return this.addClass("breadcrumb-" + variant);
    }
    /**
     * Use primary color variant
     * @returns {this}
     */
    primary() {
      return this.variant("primary");
    }
    /**
     * Use success color variant
     * @returns {this}
     */
    success() {
      return this.variant("success");
    }
    /**
     * Use danger color variant
     * @returns {this}
     */
    danger() {
      return this.variant("danger");
    }
    /**
     * Use warning color variant
     * @returns {this}
     */
    warning() {
      return this.variant("warning");
    }
    /**
     * Use info color variant
     * @returns {this}
     */
    info() {
      return this.variant("info");
    }
    /**
     * Set size
     * @param {string} size
     * @returns {this}
     */
    size(size) {
      return this.addClass("breadcrumb-" + size);
    }
    /**
     * Use small size
     * @returns {this}
     */
    small() {
      return this.size("sm");
    }
    /**
     * Use large size
     * @returns {this}
     */
    large() {
      return this.size("lg");
    }
    /**
     * Enable text truncation
     * @returns {this}
     */
    truncate() {
      return this.addClass("breadcrumb-truncate");
    }
    /**
     * Enable responsive collapse
     * @returns {this}
     */
    collapse() {
      return this.addClass("breadcrumb-collapse");
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs["aria-label"] = "breadcrumb";
      if (this._divider !== null) {
        attrs.style = `--${so_config_default.getPrefix()}-breadcrumb-divider: '${this._divider}';`;
      }
      return attrs;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = `<ol class="${so_config_default.cls("breadcrumb")}">`;
      this._items.forEach((item, idx) => {
        const isLast = idx === this._items.length - 1;
        const isActive = isLast || !item.url;
        let itemClass = so_config_default.cls("breadcrumb-item");
        if (isActive)
          itemClass += ` ${so_config_default.cls("active")}`;
        html += `<li class="${itemClass}"`;
        if (isActive)
          html += ' aria-current="page"';
        html += ">";
        let iconHtml = "";
        if (item.icon) {
          iconHtml = `<span class="material-icons ${so_config_default.cls("me-1")}">${this._escapeHtml(item.icon)}</span>`;
        }
        if (!isActive && item.url) {
          html += `<a href="${this._escapeHtml(item.url)}">${iconHtml}${this._escapeHtml(item.label)}</a>`;
        } else {
          html += iconHtml + this._escapeHtml(item.label);
        }
        html += "</li>";
      });
      html += "</ol>";
      return html;
    }
    // ==================
    // Interactivity Methods
    // ==================
    /**
     * Set items dynamically
     * @param {Array} items
     * @returns {this}
     */
    setItems(items) {
      this._items = items;
      if (this.element) {
        this._updateContent();
      }
      return this;
    }
    /**
     * Get current items
     * @returns {Array}
     */
    getItems() {
      return this._items;
    }
    /**
     * Remove item by index
     * @param {number} index
     * @returns {this}
     */
    removeItem(index) {
      if (index >= 0 && index < this._items.length) {
        this._items.splice(index, 1);
        if (this.element) {
          this._updateContent();
        }
      }
      return this;
    }
    /**
     * Update item by index
     * @param {number} index
     * @param {Object} item
     * @returns {this}
     */
    updateItem(index, item) {
      if (index >= 0 && index < this._items.length) {
        this._items[index] = __spreadValues(__spreadValues({}, this._items[index]), item);
        if (this.element) {
          this._updateContent();
        }
      }
      return this;
    }
    /**
     * Clear all items
     * @returns {this}
     */
    clearItems() {
      this._items = [];
      if (this.element) {
        this._updateContent();
      }
      return this;
    }
    /**
     * Set custom divider dynamically
     * @param {string} divider
     * @returns {this}
     */
    setDivider(divider) {
      this._divider = divider;
      if (this.element) {
        const olElement = this.element.querySelector("ol");
        if (olElement) {
          olElement.style.setProperty(`--${so_config_default.getPrefix()}-breadcrumb-divider`, `'${divider}'`);
        }
      }
      return this;
    }
    /**
     * Update the breadcrumb content
     * @private
     */
    _updateContent() {
      if (this.element) {
        this.element.innerHTML = this.renderContent();
      }
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._items.length > 0)
        config.items = this._items;
      if (this._divider !== null)
        config.divider = this._divider;
      return config;
    }
  };
  __publicField(Breadcrumb, "NAME", "ui-breadcrumb");
  __publicField(Breadcrumb, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "breadcrumb", tagName: "nav" }));

  // src/js/ui-engine/elements/display/Pagination.js
  var _Pagination = class _Pagination extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._currentPage = config.currentPage || 1;
      this._totalPages = config.totalPages || 1;
      this._totalItems = config.totalItems || null;
      this._itemsPerPage = config.itemsPerPage || 10;
      if (this._totalItems !== null && this._itemsPerPage > 0) {
        this._totalPages = Math.ceil(this._totalItems / this._itemsPerPage);
      }
      this._baseUrl = config.baseUrl || "#";
      this._pageParam = config.pageParam || "page";
      this._showPrevNext = config.showPrevNext !== false;
      this._showFirstLast = config.showFirstLast || false;
      this._maxVisible = config.maxVisible || 5;
      this._size = config.size || null;
      this._variant = config.variant || null;
      this._color = config.color || null;
      this._alignment = config.alignment || "start";
      this._showInfo = config.showInfo || false;
      this._infoTemplate = config.infoTemplate || null;
      this._showPerPageSelector = config.showPerPageSelector || false;
      this._perPageOptions = config.perPageOptions || [10, 25, 50, 100];
      this._showJumpToPage = config.showJumpToPage || false;
      this._simpleMode = config.simpleMode || false;
      this._useIcons = config.useIcons !== false;
      this._labels = __spreadValues({
        first: "First",
        last: "Last",
        previous: "Previous",
        next: "Next"
      }, config.labels || {});
      this._onPageChange = config.onPageChange || null;
      this._onPerPageChange = config.onPerPageChange || null;
    }
    // ========================================
    // CONFIGURATION METHODS
    // ========================================
    currentPage(page) {
      this._currentPage = page;
      return this;
    }
    totalPages(pages) {
      this._totalPages = pages;
      return this;
    }
    fromTotal(totalItems, itemsPerPage = 10) {
      this._totalItems = totalItems;
      this._itemsPerPage = itemsPerPage;
      this._totalPages = Math.ceil(totalItems / itemsPerPage);
      return this;
    }
    itemsPerPage(items) {
      this._itemsPerPage = items;
      if (this._totalItems !== null) {
        this._totalPages = Math.ceil(this._totalItems / this._itemsPerPage);
      }
      return this;
    }
    baseUrl(url) {
      this._baseUrl = url;
      return this;
    }
    pageParam(param) {
      this._pageParam = param;
      return this;
    }
    showPrevNext(show = true) {
      this._showPrevNext = show;
      return this;
    }
    showFirstLast(show = true) {
      this._showFirstLast = show;
      return this;
    }
    maxVisible(max) {
      this._maxVisible = max;
      return this;
    }
    size(s) {
      this._size = s;
      return this;
    }
    small() {
      return this.size("sm");
    }
    large() {
      return this.size("lg");
    }
    variant(v) {
      this._variant = v;
      return this;
    }
    rounded() {
      return this.variant("rounded");
    }
    outlined() {
      return this.variant("outlined");
    }
    minimal() {
      return this.variant("minimal");
    }
    color(c) {
      this._color = c;
      return this;
    }
    primary() {
      return this.color("primary");
    }
    success() {
      return this.color("success");
    }
    danger() {
      return this.color("danger");
    }
    alignment(a) {
      this._alignment = a;
      return this;
    }
    center() {
      return this.alignment("center");
    }
    end() {
      return this.alignment("end");
    }
    between() {
      return this.alignment("between");
    }
    showInfo(show = true, template = null) {
      this._showInfo = show;
      if (template !== null) {
        this._infoTemplate = template;
      }
      return this;
    }
    showPerPageSelector(show = true, options = null) {
      this._showPerPageSelector = show;
      if (options !== null) {
        this._perPageOptions = options;
      }
      return this;
    }
    showJumpToPage(show = true) {
      this._showJumpToPage = show;
      return this;
    }
    simple(isSimple = true) {
      this._simpleMode = isSimple;
      return this;
    }
    useIcons(use = true) {
      this._useIcons = use;
      return this;
    }
    labels(lbls) {
      this._labels = __spreadValues(__spreadValues({}, this._labels), lbls);
      return this;
    }
    // ========================================
    // EVENT HANDLING
    // ========================================
    onPageChange(callback) {
      this._onPageChange = callback;
      return this;
    }
    onPerPageChange(callback) {
      this._onPerPageChange = callback;
      return this;
    }
    _dispatchPageChangeEvent(oldPage, newPage) {
      const detail = {
        oldPage,
        newPage,
        page: newPage,
        totalPages: this._totalPages,
        range: this.getPageRange()
      };
      this._dispatchEvent("so:pagination:change", detail);
      if (this._onPageChange) {
        this._onPageChange(newPage, detail);
      }
    }
    _dispatchPerPageChangeEvent(oldPerPage, newPerPage) {
      const detail = {
        oldPerPage,
        newPerPage,
        perPage: newPerPage,
        currentPage: this._currentPage
      };
      this._dispatchEvent("so:pagination:perpage:change", detail);
      if (this._onPerPageChange) {
        this._onPerPageChange(newPerPage, detail);
      }
    }
    // ========================================
    // INTERACTIVE METHODS (NAVIGATION)
    // ========================================
    goToPage(page) {
      if (page < 1 || page > this._totalPages || page === this._currentPage) {
        return this;
      }
      const oldPage = this._currentPage;
      this._currentPage = page;
      if (this._element) {
        this._updateDOM();
      }
      this._dispatchPageChangeEvent(oldPage, page);
      return this;
    }
    nextPage() {
      return this.goToPage(this._currentPage + 1);
    }
    prevPage() {
      return this.goToPage(this._currentPage - 1);
    }
    firstPage() {
      return this.goToPage(1);
    }
    lastPage() {
      return this.goToPage(this._totalPages);
    }
    setPerPage(perPage) {
      if (!this._perPageOptions.includes(perPage)) {
        return this;
      }
      const oldPerPage = this._itemsPerPage;
      this._itemsPerPage = perPage;
      if (this._totalItems !== null) {
        this._totalPages = Math.ceil(this._totalItems / this._itemsPerPage);
        if (this._currentPage > this._totalPages) {
          this._currentPage = this._totalPages;
        }
      }
      if (this._element) {
        this._updateDOM();
      }
      this._dispatchPerPageChangeEvent(oldPerPage, perPage);
      return this;
    }
    // ========================================
    // QUERY METHODS
    // ========================================
    getCurrentPage() {
      return this._currentPage;
    }
    getTotalPages() {
      return this._totalPages;
    }
    getItemsPerPage() {
      return this._itemsPerPage;
    }
    getPageRange() {
      if (this._totalItems === null) {
        return null;
      }
      const start = (this._currentPage - 1) * this._itemsPerPage + 1;
      const end = Math.min(this._currentPage * this._itemsPerPage, this._totalItems);
      return {
        start,
        end,
        total: this._totalItems
      };
    }
    hasNextPage() {
      return this._currentPage < this._totalPages;
    }
    hasPrevPage() {
      return this._currentPage > 1;
    }
    // ========================================
    // DYNAMIC CLASS/ATTRIBUTE METHODS
    // ========================================
    updateSize(size) {
      if (this._element) {
        if (this._size) {
          this._element.classList.remove(so_config_default.cls("pagination", this._size));
        }
        this._size = size;
        if (this._size) {
          this._element.classList.add(so_config_default.cls("pagination", this._size));
        }
      } else {
        this._size = size;
      }
      return this;
    }
    updateVariant(variant) {
      if (this._element) {
        if (this._variant) {
          this._element.classList.remove(so_config_default.cls("pagination", this._variant));
        }
        this._variant = variant;
        if (this._variant) {
          this._element.classList.add(so_config_default.cls("pagination", this._variant));
        }
      } else {
        this._variant = variant;
      }
      return this;
    }
    updateColor(color) {
      if (this._element) {
        if (this._color) {
          this._element.classList.remove(so_config_default.cls("pagination", this._color));
        }
        this._color = color;
        if (this._color) {
          this._element.classList.add(so_config_default.cls("pagination", this._color));
        }
      } else {
        this._color = color;
      }
      return this;
    }
    updateAlignment(alignment) {
      if (this._element) {
        const oldClass = so_config_default.cls("pagination", this._alignment);
        this._element.classList.remove(oldClass);
        this._alignment = alignment;
        if (this._alignment !== "start") {
          this._element.classList.add(so_config_default.cls("pagination", this._alignment));
        }
      } else {
        this._alignment = alignment;
      }
      return this;
    }
    // ========================================
    // DOM UPDATE
    // ========================================
    _updateDOM() {
      if (!this._element)
        return;
      this._element.setAttribute(so_config_default.data("current-page"), this._currentPage);
      this._element.setAttribute(so_config_default.data("total-pages"), this._totalPages);
      this._element.innerHTML = this.renderContent();
      this._attachEventListeners();
    }
    // ========================================
    // RENDERING
    // ========================================
    buildClassString() {
      let cls = so_config_default.cls("pagination");
      if (this._size)
        cls += ` ${so_config_default.cls("pagination", this._size)}`;
      if (this._variant)
        cls += ` ${so_config_default.cls("pagination", this._variant)}`;
      if (this._color)
        cls += ` ${so_config_default.cls("pagination", this._color)}`;
      if (this._alignment !== "start")
        cls += ` ${so_config_default.cls("pagination", this._alignment)}`;
      return cls + (this._classes ? " " + this._classes : "");
    }
    _gatherAttributes() {
      const attrs = super._gatherAttributes();
      attrs["aria-label"] = "Page navigation";
      if (this._totalItems !== null) {
        attrs[so_config_default.data("total-items")] = this._totalItems;
      }
      attrs[so_config_default.data("items-per-page")] = this._itemsPerPage;
      attrs[so_config_default.data("current-page")] = this._currentPage;
      attrs[so_config_default.data("total-pages")] = this._totalPages;
      if (this._showInfo) {
        attrs[so_config_default.data("show-page-info")] = "true";
      }
      if (this._showFirstLast) {
        attrs[so_config_default.data("show-first-last")] = "true";
      }
      attrs[so_config_default.data("pagination")] = "";
      return attrs;
    }
    _buildPageUrl(page) {
      if (this._baseUrl === "#") {
        return "#";
      }
      try {
        const url = new URL(this._baseUrl, window.location.origin);
        url.searchParams.set(this._pageParam, page);
        return url.toString();
      } catch (e) {
        return `${this._baseUrl}${this._pageParam}=${page}`;
      }
    }
    renderContent() {
      let html = "";
      if (this._showPerPageSelector && this._alignment === "between") {
        html += this._renderPerPageSelector();
      }
      if (this._showInfo && this._alignment === "between") {
        html += this._renderPageInfo();
      }
      html += this._renderNavigation();
      if (this._showJumpToPage && this._alignment === "between") {
        html += this._renderJumpToPage();
      }
      if (this._showInfo && this._alignment !== "between") {
        html += this._renderPageInfo();
      }
      return html;
    }
    _renderNavigation() {
      let html = `<ul class="${so_config_default.cls("pagination-nav")}">`;
      if (this._showFirstLast) {
        const disabled = this._currentPage <= 1;
        const content = this._useIcons ? '<span class="material-icons">first_page</span>' : this._labels.first;
        html += this._renderPageItem(content, 1, disabled, false, this._labels.first);
      }
      if (this._showPrevNext) {
        const disabled = this._currentPage <= 1;
        const content = this._useIcons ? '<span class="material-icons">chevron_left</span>' : this._labels.previous;
        html += this._renderPageItem(content, this._currentPage - 1, disabled, false, this._labels.previous);
      }
      if (!this._simpleMode) {
        const pages = this._getVisiblePages();
        pages.forEach((page) => {
          if (page === "...") {
            html += `<li class="${so_config_default.cls("page-ellipsis")}">...</li>`;
          } else {
            const active = page === this._currentPage;
            html += this._renderPageItem(String(page), page, false, active);
          }
        });
      }
      if (this._showPrevNext) {
        const disabled = this._currentPage >= this._totalPages;
        const content = this._useIcons ? '<span class="material-icons">chevron_right</span>' : this._labels.next;
        html += this._renderPageItem(content, this._currentPage + 1, disabled, false, this._labels.next);
      }
      if (this._showFirstLast) {
        const disabled = this._currentPage >= this._totalPages;
        const content = this._useIcons ? '<span class="material-icons">last_page</span>' : this._labels.last;
        html += this._renderPageItem(content, this._totalPages, disabled, false, this._labels.last);
      }
      html += "</ul>";
      return html;
    }
    _renderPageItem(content, page, disabled = false, active = false, ariaLabel = null) {
      let itemClass = so_config_default.cls("page-item");
      if (disabled)
        itemClass += ` ${so_config_default.cls("disabled")}`;
      if (active)
        itemClass += ` ${so_config_default.cls("active")}`;
      let html = `<li class="${itemClass}">`;
      const linkClass = so_config_default.cls("page-link");
      if (disabled) {
        html += `<a class="${linkClass}" href="#" aria-disabled="true" tabindex="-1"`;
        if (ariaLabel)
          html += ` aria-label="${ariaLabel}"`;
        html += `>${content}</a>`;
      } else {
        html += `<a class="${linkClass}" href="${this._buildPageUrl(page)}" data-page="${page}"`;
        if (ariaLabel)
          html += ` aria-label="${ariaLabel}"`;
        if (active)
          html += ' aria-current="page"';
        html += `>${content}</a>`;
      }
      html += "</li>";
      return html;
    }
    _renderPageInfo() {
      if (this._totalItems === null) {
        return "";
      }
      const range = this.getPageRange();
      let text;
      if (this._infoTemplate) {
        text = this._infoTemplate.replace("{start}", range.start).replace("{end}", range.end).replace("{total}", range.total);
      } else {
        text = `Showing <strong>${range.start}-${range.end}</strong> of <strong>${range.total}</strong> results`;
      }
      return `<span class="${so_config_default.cls("pagination-info")}">${text}</span>`;
    }
    _renderPerPageSelector() {
      let html = `<div class="${so_config_default.cls("pagination-per-page")}">`;
      html += `<span class="${so_config_default.cls("pagination-label")}">Rows per page:</span>`;
      html += `<select class="${so_config_default.cls("pagination-select")}">`;
      this._perPageOptions.forEach((option) => {
        const selected = option === this._itemsPerPage ? " selected" : "";
        html += `<option value="${option}"${selected}>${option}</option>`;
      });
      html += "</select></div>";
      return html;
    }
    _renderJumpToPage() {
      let html = `<div class="${so_config_default.cls("pagination-jump")}">`;
      html += `<span class="${so_config_default.cls("pagination-jump-label")}">Go to page:</span>`;
      html += `<input type="number" class="${so_config_default.cls("pagination-jump-input")}" `;
      html += `min="1" max="${this._totalPages}" value="${this._currentPage}">`;
      html += `<button class="${so_config_default.cls("pagination-jump-btn")}">Go</button>`;
      html += "</div>";
      return html;
    }
    _getVisiblePages() {
      if (this._totalPages <= this._maxVisible) {
        return Array.from({ length: this._totalPages }, (_, i) => i + 1);
      }
      const pages = [];
      const half = Math.floor((this._maxVisible - 2) / 2);
      let start = Math.max(2, this._currentPage - half);
      let end = Math.min(this._totalPages - 1, this._currentPage + half);
      if (this._currentPage <= half + 1) {
        end = Math.min(this._maxVisible - 1, this._totalPages - 1);
      }
      if (this._currentPage >= this._totalPages - half) {
        start = Math.max(2, this._totalPages - this._maxVisible + 2);
      }
      pages.push(1);
      if (start > 2) {
        pages.push("...");
      }
      for (let i = start; i <= end; i++) {
        pages.push(i);
      }
      if (end < this._totalPages - 1) {
        pages.push("...");
      }
      if (this._totalPages > 1) {
        pages.push(this._totalPages);
      }
      return pages;
    }
    // ========================================
    // EVENT LISTENERS
    // ========================================
    _attachEventListeners() {
      if (!this._element)
        return;
      this._element.querySelectorAll(`.${so_config_default.cls("page-link")}[data-page]`).forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const page = parseInt(link.getAttribute("data-page"), 10);
          this.goToPage(page);
        });
      });
      const perPageSelect = this._element.querySelector(`.${so_config_default.cls("pagination-select")}`);
      if (perPageSelect) {
        perPageSelect.addEventListener("change", (e) => {
          this.setPerPage(parseInt(e.target.value, 10));
        });
      }
      const jumpBtn = this._element.querySelector(`.${so_config_default.cls("pagination-jump-btn")}`);
      const jumpInput = this._element.querySelector(`.${so_config_default.cls("pagination-jump-input")}`);
      if (jumpBtn && jumpInput) {
        jumpBtn.addEventListener("click", () => {
          const page = parseInt(jumpInput.value, 10);
          if (!isNaN(page)) {
            this.goToPage(page);
          }
        });
        jumpInput.addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            const page = parseInt(jumpInput.value, 10);
            if (!isNaN(page)) {
              this.goToPage(page);
            }
          }
        });
      }
    }
    // ========================================
    // LIFECYCLE
    // ========================================
    render() {
      const html = super.render();
      if (this._element) {
        this._attachEventListeners();
        _Pagination.instances.set(this._element, this);
      }
      return html;
    }
    destroy() {
      if (this._element) {
        _Pagination.instances.delete(this._element);
      }
      super.destroy();
    }
    // ========================================
    // STATIC METHODS
    // ========================================
    static getInstance(element) {
      if (typeof element === "string") {
        element = document.querySelector(element);
      }
      if (!element)
        return null;
      if (_Pagination.instances.has(element)) {
        return _Pagination.instances.get(element);
      }
      const config = {
        currentPage: parseInt(element.getAttribute(so_config_default.data("current-page"))) || 1,
        totalPages: parseInt(element.getAttribute(so_config_default.data("total-pages"))) || 1,
        totalItems: parseInt(element.getAttribute(so_config_default.data("total-items"))) || null,
        itemsPerPage: parseInt(element.getAttribute(so_config_default.data("items-per-page"))) || 10,
        showInfo: element.hasAttribute(so_config_default.data("show-page-info")),
        showFirstLast: element.hasAttribute(so_config_default.data("show-first-last"))
      };
      const instance = new _Pagination(config);
      instance._element = element;
      instance._attachEventListeners();
      _Pagination.instances.set(element, instance);
      return instance;
    }
    // Auto-initialize all pagination elements
    static initAll() {
      document.querySelectorAll(`[${so_config_default.data("pagination")}]`).forEach((element) => {
        if (!_Pagination.instances.has(element)) {
          _Pagination.getInstance(element);
        }
      });
    }
    toConfig() {
      const config = super.toConfig();
      config.currentPage = this._currentPage;
      config.totalPages = this._totalPages;
      if (this._totalItems !== null)
        config.totalItems = this._totalItems;
      if (this._itemsPerPage !== 10)
        config.itemsPerPage = this._itemsPerPage;
      if (this._baseUrl !== "#")
        config.baseUrl = this._baseUrl;
      if (this._pageParam !== "page")
        config.pageParam = this._pageParam;
      if (!this._showPrevNext)
        config.showPrevNext = false;
      if (this._showFirstLast)
        config.showFirstLast = true;
      if (this._maxVisible !== 5)
        config.maxVisible = this._maxVisible;
      if (this._size)
        config.size = this._size;
      if (this._variant)
        config.variant = this._variant;
      if (this._color)
        config.color = this._color;
      if (this._alignment !== "start")
        config.alignment = this._alignment;
      if (this._showInfo)
        config.showInfo = true;
      if (this._infoTemplate)
        config.infoTemplate = this._infoTemplate;
      if (this._showPerPageSelector) {
        config.showPerPageSelector = true;
        config.perPageOptions = this._perPageOptions;
      }
      if (this._showJumpToPage)
        config.showJumpToPage = true;
      if (this._simpleMode)
        config.simpleMode = true;
      if (!this._useIcons)
        config.useIcons = false;
      return config;
    }
  };
  __publicField(_Pagination, "NAME", "ui-pagination");
  __publicField(_Pagination, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "pagination",
    tagName: "nav"
  }));
  // Instance registry for getInstance
  __publicField(_Pagination, "instances", /* @__PURE__ */ new Map());
  var Pagination = _Pagination;
  if (typeof document !== "undefined") {
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", () => Pagination.initAll());
    } else {
      Pagination.initAll();
    }
  }

  // src/js/ui-engine/elements/display/Carousel.js
  var Carousel = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._slides = config.slides || [];
      this._indicators = config.indicators !== false;
      this._controls = config.controls !== false;
      this._autoplay = config.autoplay || false;
      this._interval = config.interval || 5e3;
      this._fade = config.fade || false;
      this._touch = config.touch !== false;
      this._pauseOnHover = config.pauseOnHover !== false;
      this._dark = config.dark || false;
      this._keyboard = config.keyboard !== false;
      this._loop = config.loop !== false;
      this._items = config.items || 1;
    }
    // ==================
    // Slide Management
    // ==================
    /**
     * Set slides
     * @param {Array} slides
     * @returns {this}
     */
    slides(slides) {
      this._slides = slides;
      return this;
    }
    /**
     * Add slide
     * @param {string} image
     * @param {string|null} title
     * @param {string|null} description
     * @param {string|null} alt
     * @returns {this}
     */
    addSlide(image, title = null, description = null, alt = null) {
      const slide = { image };
      if (title !== null)
        slide.title = title;
      if (description !== null)
        slide.description = description;
      if (alt !== null)
        slide.alt = alt;
      this._slides.push(slide);
      return this;
    }
    // ==================
    // Control Configuration
    // ==================
    /**
     * Show/hide indicators
     * @param {boolean} show
     * @returns {this}
     */
    indicators(show = true) {
      this._indicators = show;
      return this;
    }
    /**
     * Show/hide controls
     * @param {boolean} show
     * @returns {this}
     */
    controls(show = true) {
      this._controls = show;
      return this;
    }
    /**
     * Enable autoplay
     * @param {boolean} autoplay
     * @returns {this}
     */
    autoplay(autoplay = true) {
      this._autoplay = autoplay;
      return this;
    }
    /**
     * Set interval
     * @param {number} ms
     * @returns {this}
     */
    interval(ms) {
      this._interval = ms;
      return this;
    }
    /**
     * Enable fade transition
     * @param {boolean} fade
     * @returns {this}
     */
    fade(fade = true) {
      this._fade = fade;
      return this;
    }
    /**
     * Enable/disable touch
     * @param {boolean} touch
     * @returns {this}
     */
    touch(touch = true) {
      this._touch = touch;
      return this;
    }
    /**
     * Pause on hover
     * @param {boolean} pause
     * @returns {this}
     */
    pauseOnHover(pause = true) {
      this._pauseOnHover = pause;
      return this;
    }
    /**
     * Dark variant
     * @param {boolean} dark
     * @returns {this}
     */
    dark(dark = true) {
      this._dark = dark;
      return this;
    }
    /**
     * Enable keyboard navigation
     * @param {boolean} keyboard
     * @returns {this}
     */
    keyboard(keyboard = true) {
      this._keyboard = keyboard;
      return this;
    }
    /**
     * Enable loop/wrap around
     * @param {boolean} loop
     * @returns {this}
     */
    loop(loop = true) {
      this._loop = loop;
      return this;
    }
    // ==================
    // Carousel Variants
    // ==================
    /**
     * Hero carousel (center with peek effect)
     * @returns {this}
     */
    hero() {
      return this.addClass(so_config_default.cls("carousel-hero"));
    }
    /**
     * Multi-item carousel
     * @param {number|null} items Number of visible items
     * @returns {this}
     */
    multi(items = null) {
      this.addClass(so_config_default.cls("carousel-multi"));
      if (items !== null) {
        this._items = items;
      }
      return this;
    }
    /**
     * Small size variant
     * @returns {this}
     */
    small() {
      return this.addClass(so_config_default.cls("carousel-sm"));
    }
    /**
     * Large size variant
     * @returns {this}
     */
    large() {
      return this.addClass(so_config_default.cls("carousel-lg"));
    }
    /**
     * Show controls only on hover
     * @returns {this}
     */
    controlsHover() {
      return this.addClass(so_config_default.cls("carousel-controls-hover"));
    }
    /**
     * Use line-style indicators
     * @returns {this}
     */
    lineIndicators() {
      return this.addClass(so_config_default.cls("carousel-indicators-line"));
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("carousel"));
      if (this._fade) {
        this._extraClasses.add(so_config_default.cls("carousel-fade"));
      }
      if (this._dark) {
        this._extraClasses.add(so_config_default.cls("carousel-dark"));
      }
      return super.buildClassString();
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("carousel")] = "";
      if (this._autoplay) {
        attrs[so_config_default.data("autoplay")] = "true";
      }
      attrs[so_config_default.data("interval")] = this._interval;
      if (!this._loop) {
        attrs[so_config_default.data("loop")] = "false";
      }
      if (!this._pauseOnHover) {
        attrs[so_config_default.data("pause-on-hover")] = "false";
      }
      if (!this._keyboard) {
        attrs[so_config_default.data("keyboard")] = "false";
      }
      if (!this._touch) {
        attrs[so_config_default.data("touch")] = "false";
      }
      if (this._items > 1) {
        attrs[so_config_default.data("items")] = this._items;
      }
      return attrs;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      const carouselId = this._id || `carousel-${Math.random().toString(36).substring(2, 11)}`;
      let html = "";
      if (this._indicators && this._slides.length > 1) {
        html += `<div class="${so_config_default.cls("carousel-indicators")}">`;
        this._slides.forEach((_, index) => {
          const activeClass = index === 0 ? ` ${so_config_default.cls("active")}` : "";
          html += `<button type="button" class="${so_config_default.cls("carousel-indicator")}${activeClass}"`;
          html += ` ${so_config_default.data("slide")}="${index}"`;
          if (index === 0) {
            html += ' aria-current="true"';
          }
          html += ` aria-label="Go to slide ${index + 1}"></button>`;
        });
        html += "</div>";
      }
      html += `<div class="${so_config_default.cls("carousel-inner")}">`;
      this._slides.forEach((slide, index) => {
        const activeClass = index === 0 ? ` ${so_config_default.cls("active")}` : "";
        html += `<div class="${so_config_default.cls("carousel-slide")}${activeClass}">`;
        if (slide.image) {
          html += `<img src="${this._escapeHtml(slide.image)}" class="${so_config_default.cls("d-block")} ${so_config_default.cls("w-100")}"`;
          html += ` alt="${this._escapeHtml(slide.alt || "")}">`;
        }
        if (slide.title || slide.description) {
          html += `<div class="${so_config_default.cls("carousel-caption")}">`;
          if (slide.title) {
            html += `<h4 class="${so_config_default.cls("carousel-caption-title")}">${this._escapeHtml(slide.title)}</h4>`;
          }
          if (slide.description) {
            html += `<p class="${so_config_default.cls("carousel-caption-text")}">${this._escapeHtml(slide.description)}</p>`;
          }
          html += "</div>";
        }
        html += "</div>";
      });
      html += "</div>";
      if (this._controls && this._slides.length > 1) {
        html += `<button class="${so_config_default.cls("carousel-control")} ${so_config_default.cls("carousel-control-prev")}" type="button" aria-label="Previous slide">`;
        html += `<span class="material-icons">chevron_left</span>`;
        html += `</button>`;
        html += `<button class="${so_config_default.cls("carousel-control")} ${so_config_default.cls("carousel-control-next")}" type="button" aria-label="Next slide">`;
        html += `<span class="material-icons">chevron_right</span>`;
        html += `</button>`;
      }
      return html;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._slides.length > 0) {
        config.slides = this._slides;
      }
      if (!this._indicators) {
        config.indicators = false;
      }
      if (!this._controls) {
        config.controls = false;
      }
      if (this._autoplay) {
        config.autoplay = true;
      }
      if (this._interval !== 5e3) {
        config.interval = this._interval;
      }
      if (this._fade) {
        config.fade = true;
      }
      if (!this._touch) {
        config.touch = false;
      }
      if (!this._pauseOnHover) {
        config.pauseOnHover = false;
      }
      if (this._dark) {
        config.dark = true;
      }
      if (!this._keyboard) {
        config.keyboard = false;
      }
      if (!this._loop) {
        config.loop = false;
      }
      if (this._items !== 1) {
        config.items = this._items;
      }
      return config;
    }
  };
  __publicField(Carousel, "NAME", "ui-carousel");
  __publicField(Carousel, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "carousel",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/Timeline.js
  var Timeline = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._items = config.items || [];
      this._variant = config.variant || "default";
      this._alternate = config.alternate || false;
    }
    items(items) {
      this._items = items;
      return this;
    }
    addItem(title, content, date = null, icon = null, variant = null) {
      this._items.push({ title, content, date, icon, variant });
      return this;
    }
    variant(v) {
      this._variant = v;
      return this;
    }
    alternate(val = true) {
      this._alternate = val;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("timeline"));
      if (this._alternate)
        this._extraClasses.add(so_config_default.cls("timeline-alternate"));
      if (this._variant !== "default")
        this._extraClasses.add(so_config_default.cls("timeline", this._variant));
      return super.buildClassString();
    }
    renderContent() {
      let html = "";
      this._items.forEach((item, idx) => {
        const itemVariant = item.variant || this._variant;
        html += `<div class="${so_config_default.cls("timeline-item")}">`;
        html += `<div class="${so_config_default.cls("timeline-marker")} ${so_config_default.cls("bg", itemVariant)}">`;
        if (item.icon) {
          html += `<span class="material-icons">${this._escapeHtml(item.icon)}</span>`;
        }
        html += "</div>";
        html += `<div class="${so_config_default.cls("timeline-content")}">`;
        if (item.date) {
          html += `<span class="${so_config_default.cls("timeline-date")}">${this._escapeHtml(item.date)}</span>`;
        }
        if (item.title) {
          html += `<h5 class="${so_config_default.cls("timeline-title")}">${this._escapeHtml(item.title)}</h5>`;
        }
        if (item.content) {
          html += `<p class="${so_config_default.cls("timeline-text")}">${this._escapeHtml(item.content)}</p>`;
        }
        html += "</div></div>";
      });
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._items.length > 0)
        config.items = this._items;
      if (this._variant !== "default")
        config.variant = this._variant;
      if (this._alternate)
        config.alternate = true;
      return config;
    }
  };
  __publicField(Timeline, "NAME", "ui-timeline");
  __publicField(Timeline, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "timeline", tagName: "div" }));

  // src/js/ui-engine/elements/display/Stepper.js
  var Stepper = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._steps = config.steps || [];
      this._currentStep = config.currentStep || 0;
      this._orientation = config.orientation || "horizontal";
      this._variant = config.variant || "default";
      this._clickable = config.clickable || false;
    }
    steps(steps) {
      this._steps = steps;
      return this;
    }
    addStep(label, description = null, icon = null) {
      this._steps.push({ label, description, icon });
      return this;
    }
    currentStep(step) {
      this._currentStep = step;
      return this;
    }
    orientation(o) {
      this._orientation = o;
      return this;
    }
    horizontal() {
      return this.orientation("horizontal");
    }
    vertical() {
      return this.orientation("vertical");
    }
    variant(v) {
      this._variant = v;
      return this;
    }
    clickable(val = true) {
      this._clickable = val;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("stepper"));
      this._extraClasses.add(so_config_default.cls("stepper", this._orientation));
      if (this._variant !== "default")
        this._extraClasses.add(so_config_default.cls("stepper", this._variant));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("ui-init")] = "stepper";
      attrs[so_config_default.data("ui-config")] = JSON.stringify({
        currentStep: this._currentStep,
        clickable: this._clickable
      });
      return attrs;
    }
    renderContent() {
      let html = "";
      this._steps.forEach((step, idx) => {
        let stepClass = so_config_default.cls("stepper-step");
        if (idx < this._currentStep)
          stepClass += ` ${so_config_default.cls("completed")}`;
        if (idx === this._currentStep)
          stepClass += ` ${so_config_default.cls("active")}`;
        html += `<div class="${stepClass}"`;
        if (this._clickable)
          html += ` ${so_config_default.data("step")}="${idx}"`;
        html += ">";
        html += `<div class="${so_config_default.cls("stepper-indicator")}">`;
        if (step.icon) {
          html += `<span class="material-icons">${this._escapeHtml(step.icon)}</span>`;
        } else if (idx < this._currentStep) {
          html += '<span class="material-icons">check</span>';
        } else {
          html += `<span>${idx + 1}</span>`;
        }
        html += "</div>";
        html += `<div class="${so_config_default.cls("stepper-content")}">`;
        html += `<div class="${so_config_default.cls("stepper-label")}">${this._escapeHtml(step.label)}</div>`;
        if (step.description) {
          html += `<div class="${so_config_default.cls("stepper-description")}">${this._escapeHtml(step.description)}</div>`;
        }
        html += "</div></div>";
        if (idx < this._steps.length - 1) {
          html += `<div class="${so_config_default.cls("stepper-connector")}"></div>`;
        }
      });
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._steps.length > 0)
        config.steps = this._steps;
      if (this._currentStep !== 0)
        config.currentStep = this._currentStep;
      if (this._orientation !== "horizontal")
        config.orientation = this._orientation;
      if (this._variant !== "default")
        config.variant = this._variant;
      if (this._clickable)
        config.clickable = true;
      return config;
    }
  };
  __publicField(Stepper, "NAME", "ui-stepper");
  __publicField(Stepper, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "stepper", tagName: "div" }));

  // src/js/ui-engine/elements/display/ListGroup.js
  var ListGroup = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._items = config.items || [];
      this._flush = config.flush || false;
      this._numbered = config.numbered || false;
      this._horizontal = config.horizontal || false;
      this._size = config.size || null;
    }
    // ==================
    // Content Methods
    // ==================
    /**
     * Set all items at once
     * @param {Array} items
     * @returns {this}
     */
    items(items) {
      this._items = items;
      return this;
    }
    /**
     * Add a single item (alias for addItem)
     * @param {string} content
     * @param {Object} options
     * @returns {this}
     */
    item(content, options = {}) {
      return this.addItem(
        content,
        options.badge || null,
        options.variant || null,
        options.active || false,
        options.disabled || false,
        options.url || options.href || null,
        options.icon || null,
        options.badgeVariant || null
      );
    }
    /**
     * Add item with full parameters
     * @param {string} content
     * @param {string|null} badge
     * @param {string|null} variant
     * @param {boolean} active
     * @param {boolean} disabled
     * @param {string|null} url
     * @param {string|null} icon
     * @param {string|null} badgeVariant
     * @returns {this}
     */
    addItem(content, badge = null, variant = null, active = false, disabled = false, url = null, icon = null, badgeVariant = null) {
      const item = { content };
      if (badge !== null)
        item.badge = badge;
      if (variant !== null)
        item.variant = variant;
      if (active)
        item.active = true;
      if (disabled)
        item.disabled = true;
      if (url !== null)
        item.url = url;
      if (icon !== null)
        item.icon = icon;
      if (badgeVariant !== null)
        item.badgeVariant = badgeVariant;
      this._items.push(item);
      return this;
    }
    /**
     * Update item at index
     * @param {number} index
     * @param {Object} updates
     * @returns {this}
     */
    updateItem(index, updates) {
      if (this._items[index]) {
        this._items[index] = __spreadValues(__spreadValues({}, this._items[index]), updates);
        this._triggerEvent("so:item:updated", { index, item: this._items[index] });
      }
      return this;
    }
    /**
     * Remove item at index
     * @param {number} index
     * @returns {this}
     */
    removeItem(index) {
      if (this._items[index]) {
        const removed = this._items.splice(index, 1)[0];
        this._triggerEvent("so:item:removed", { index, item: removed });
      }
      return this;
    }
    /**
     * Clear all items
     * @returns {this}
     */
    clearItems() {
      this._items = [];
      this._triggerEvent("so:items:cleared");
      return this;
    }
    /**
     * Get item at index
     * @param {number} index
     * @returns {Object|null}
     */
    getItem(index) {
      return this._items[index] || null;
    }
    /**
     * Get all items
     * @returns {Array}
     */
    getItems() {
      return [...this._items];
    }
    /**
     * Get item count
     * @returns {number}
     */
    getItemCount() {
      return this._items.length;
    }
    // ==================
    // Styling Methods
    // ==================
    /**
     * Set flush style (no borders/rounded corners)
     * @param {boolean} flush
     * @returns {this}
     */
    flush(flush = true) {
      this._flush = flush;
      return this;
    }
    /**
     * Set numbered list
     * @param {boolean} numbered
     * @returns {this}
     */
    numbered(numbered = true) {
      this._numbered = numbered;
      if (numbered) {
        this._tagName = "ol";
      }
      return this;
    }
    /**
     * Set horizontal layout
     * @param {boolean|string} horizontal - true, 'sm', 'md', 'lg', 'xl'
     * @returns {this}
     */
    horizontal(horizontal = true) {
      this._horizontal = horizontal;
      return this;
    }
    /**
     * Set size variant
     * @param {string} size - 'sm' or 'lg'
     * @returns {this}
     */
    size(size) {
      this._size = size;
      return this;
    }
    /**
     * Small size
     * @returns {this}
     */
    small() {
      return this.size("sm");
    }
    /**
     * Large size
     * @returns {this}
     */
    large() {
      return this.size("lg");
    }
    // ==================
    // State Methods
    // ==================
    /**
     * Set active state on item
     * @param {number} index
     * @param {boolean} active
     * @returns {this}
     */
    setActive(index, active = true) {
      return this.updateItem(index, { active });
    }
    /**
     * Set disabled state on item
     * @param {number} index
     * @param {boolean} disabled
     * @returns {this}
     */
    setDisabled(index, disabled = true) {
      return this.updateItem(index, { disabled });
    }
    /**
     * Toggle active state on item
     * @param {number} index
     * @returns {this}
     */
    toggleActive(index) {
      if (this._items[index]) {
        this._items[index].active = !this._items[index].active;
        this._triggerEvent("so:item:toggled", { index, active: this._items[index].active });
      }
      return this;
    }
    // ==================
    // Event Methods
    // ==================
    /**
     * Add click event listener
     * @param {Function} callback
     * @returns {this}
     */
    onClick(callback) {
      return this.on("so:click", callback);
    }
    /**
     * Add item click event listener
     * @param {Function} callback
     * @returns {this}
     */
    onItemClick(callback) {
      return this.on("so:item:click", callback);
    }
    /**
     * Trigger custom event
     * @param {string} eventName
     * @param {Object} detail
     * @private
     */
    _triggerEvent(eventName, detail = {}) {
      if (this._element) {
        const event = new CustomEvent(eventName, {
          detail: __spreadProps(__spreadValues({}, detail), { listGroup: this }),
          bubbles: true,
          cancelable: true
        });
        this._element.dispatchEvent(event);
      }
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("list-group"));
      if (this._flush) {
        this._extraClasses.add(so_config_default.cls("list-group-flush"));
      }
      if (this._numbered) {
        this._extraClasses.add(so_config_default.cls("list-group-numbered"));
      }
      if (this._horizontal !== false) {
        if (this._horizontal === true) {
          this._extraClasses.add(so_config_default.cls("list-group-horizontal"));
        } else {
          this._extraClasses.add(so_config_default.cls(`list-group-horizontal-${this._horizontal}`));
        }
      }
      if (this._size) {
        this._extraClasses.add(so_config_default.cls(`list-group-${this._size}`));
      }
      return super.buildClassString();
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = "";
      this._items.forEach((item, index) => {
        let itemClass = so_config_default.cls("list-group-item");
        if (item.url) {
          itemClass += ` ${so_config_default.cls("list-group-item-action")}`;
        }
        if (item.variant) {
          itemClass += ` ${so_config_default.cls(`list-group-item-${item.variant}`)}`;
        }
        if (item.active) {
          itemClass += ` ${so_config_default.cls("active")}`;
        }
        if (item.disabled) {
          itemClass += " disabled";
        }
        const tag = item.url ? "a" : "li";
        html += `<${tag} class="${itemClass}"`;
        if (item.url) {
          html += ` href="${this._escapeHtml(item.url)}"`;
        }
        if (item.active) {
          html += ' aria-current="true"';
        }
        if (item.disabled) {
          html += ' aria-disabled="true"';
          if (item.url) {
            html += ' tabindex="-1"';
          }
        }
        html += ` data-so-index="${index}"`;
        html += ">";
        if (item.icon || item.badge) {
          html += '<div class="' + so_config_default.cls("d-flex") + " " + so_config_default.cls("justify-content-between") + " " + so_config_default.cls("align-items-center") + '">';
          if (item.icon) {
            html += '<div class="' + so_config_default.cls("d-flex") + " " + so_config_default.cls("align-items-center") + '">';
            html += '<span class="material-icons ' + so_config_default.cls("me-3") + " " + so_config_default.cls("text-primary") + '">' + this._escapeHtml(item.icon) + "</span>";
            html += "<span>" + this._escapeHtml(item.content) + "</span>";
            html += "</div>";
          } else {
            html += "<span>" + this._escapeHtml(item.content) + "</span>";
          }
          if (item.badge) {
            const badgeVariant = item.badgeVariant || "primary";
            html += '<span class="' + so_config_default.cls("badge") + " " + so_config_default.cls(`badge-${badgeVariant}`) + " " + so_config_default.cls("badge-pill") + '">';
            html += this._escapeHtml(item.badge);
            html += "</span>";
          }
          html += "</div>";
        } else {
          html += this._escapeHtml(item.content);
        }
        html += `</${tag}>`;
      });
      return html;
    }
    /**
     * After render hook - attach event listeners
     * @param {HTMLElement} element
     * @protected
     */
    _afterRender(element) {
      super._afterRender(element);
      element.querySelectorAll("[data-so-index]").forEach((item) => {
        item.addEventListener("click", (e) => {
          const index = parseInt(item.getAttribute("data-so-index"));
          const itemData = this._items[index];
          if (itemData && !itemData.disabled) {
            this._triggerEvent("so:item:click", {
              index,
              item: itemData,
              element: item,
              originalEvent: e
            });
          }
        });
      });
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._items.length > 0)
        config.items = this._items;
      if (this._flush)
        config.flush = true;
      if (this._numbered)
        config.numbered = true;
      if (this._horizontal !== false)
        config.horizontal = this._horizontal;
      if (this._size)
        config.size = this._size;
      return config;
    }
  };
  __publicField(ListGroup, "NAME", "ui-list-group");
  __publicField(ListGroup, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "list-group",
    tagName: "ul"
  }));

  // src/js/ui-engine/elements/display/Rating.js
  var _Rating = class _Rating extends FormElement {
    _initFromConfig(config) {
      super._initFromConfig(config);
      if (this._value === null || this._value === void 0) {
        this._value = 0;
      }
      this._maxRating = config.maxRating || 5;
      this._allowHalf = config.allowHalf || false;
      this._icon = config.icon || "star";
      this._emptyIcon = config.emptyIcon || "star_border";
      this._halfIcon = config.halfIcon || "star_half";
      this._color = config.color || "warning";
      this._size = config.size || null;
      this._showValue = config.showValue || false;
    }
    // Configuration methods
    value(val) {
      this._value = parseFloat(val) || 0;
      return this;
    }
    maxRating(max) {
      this._maxRating = max;
      return this;
    }
    max(m) {
      return this.maxRating(m);
    }
    // Alias for consistency with PHP
    allowHalf(val = true) {
      this._allowHalf = val;
      return this;
    }
    half(val = true) {
      return this.allowHalf(val);
    }
    // Alias for consistency with PHP
    icon(icon) {
      this._icon = icon;
      return this;
    }
    emptyIcon(icon) {
      this._emptyIcon = icon;
      return this;
    }
    halfIcon(icon) {
      this._halfIcon = icon;
      return this;
    }
    icons(filled, empty, half = null) {
      this._icon = filled;
      this._emptyIcon = empty;
      if (half !== null)
        this._halfIcon = half;
      return this;
    }
    color(c) {
      this._color = c;
      return this;
    }
    size(s) {
      this._size = s;
      return this;
    }
    small() {
      return this.size("sm");
    }
    large() {
      return this.size("lg");
    }
    showValue(val = true) {
      this._showValue = val;
      return this;
    }
    interactive(val = true) {
      this.setReadonly(!val);
      return this;
    }
    editable(val = true) {
      return this.interactive(val);
    }
    name(n) {
      return this.setName(n);
    }
    // Alias for consistency with PHP
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("rating"));
      if (this._size)
        this._extraClasses.add(so_config_default.cls("rating", this._size));
      if (this._readonly)
        this._extraClasses.add(so_config_default.cls("rating-readonly"));
      return Element2.prototype.buildClassString.call(this);
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      delete attrs.value;
      attrs[so_config_default.data("ui-init")] = "rating";
      const configObj = {
        maxRating: this._maxRating,
        allowHalf: this._allowHalf,
        value: this._value
      };
      const configJson = JSON.stringify(configObj);
      attrs[so_config_default.data("ui-config")] = configJson;
      return attrs;
    }
    // Override to prevent value attribute from being added
    _shouldRenderValueAttr() {
      return false;
    }
    renderContent() {
      const value = parseFloat(this._value) || 0;
      let html = "";
      for (let i = 1; i <= this._maxRating; i++) {
        let icon = this._emptyIcon;
        let stateClass = "";
        if (i <= Math.floor(value)) {
          icon = this._icon;
          stateClass = ` ${so_config_default.cls("rating-filled")}`;
        } else if (this._allowHalf && i - 0.5 <= value) {
          icon = this._halfIcon;
          stateClass = ` ${so_config_default.cls("rating-half")}`;
        }
        html += `<span class="${so_config_default.cls("rating-star")}${stateClass}" ${so_config_default.data("value")}="${i}">`;
        html += `<span class="material-icons">${icon}</span>`;
        html += "</span>";
      }
      if (this._showValue) {
        html += ` <span class="${so_config_default.cls("rating-value")}">${value}</span>`;
      }
      if (this._name) {
        html += `<input type="hidden" name="${this._escapeHtml(this._name)}" value="${value}">`;
      }
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._maxRating !== 5)
        config.maxRating = this._maxRating;
      if (this._allowHalf)
        config.allowHalf = true;
      if (this._icon !== "star")
        config.icon = this._icon;
      if (this._emptyIcon !== "star_border")
        config.emptyIcon = this._emptyIcon;
      if (this._halfIcon !== "star_half")
        config.halfIcon = this._halfIcon;
      if (this._color !== "warning")
        config.color = this._color;
      if (this._size)
        config.size = this._size;
      if (this._showValue)
        config.showValue = true;
      return config;
    }
    // Static methods for DOM interaction
    static getInstance(element) {
      if (typeof element === "string") {
        element = document.querySelector(element);
      }
      return (element == null ? void 0 : element._ratingInstance) || null;
    }
    static initAll() {
      const elements = document.querySelectorAll(`[${so_config_default.data("ui-init")}="rating"]`);
      elements.forEach((el) => {
        if (!el._ratingInstance) {
          _Rating._initElement(el);
        }
      });
    }
    static _initElement(element) {
      const configAttr = element.getAttribute(so_config_default.data("ui-config"));
      let config = {};
      if (configAttr) {
        try {
          const textarea = document.createElement("textarea");
          textarea.innerHTML = configAttr;
          const decodedConfig = textarea.value;
          config = JSON.parse(decodedConfig);
        } catch (e) {
          console.error("Failed to parse rating config:", e);
          config = {};
        }
      }
      const instance = new _Rating(config);
      element._ratingInstance = instance;
      if (!instance._readonly && !element.hasAttribute(so_config_default.data("rating-initialized"))) {
        _Rating._setupInteractive(element, instance);
        element.setAttribute(so_config_default.data("rating-initialized"), "true");
      }
    }
    static _setupInteractive(element, instance) {
      const stars = element.querySelectorAll(`.${so_config_default.cls("rating-star")}`);
      const hiddenInput = element.querySelector('input[type="hidden"]');
      stars.forEach((star) => {
        star.addEventListener("click", () => {
          const value = parseFloat(star.getAttribute(so_config_default.data("value")));
          const oldValue = instance._value;
          instance.setValue(value);
          if (hiddenInput)
            hiddenInput.value = value;
          _Rating._updateStarDisplay(element, stars, value, instance);
          const changeEvent = new CustomEvent(so_config_default.evt("rating:change"), {
            bubbles: true,
            cancelable: true,
            detail: { value, oldValue, instance }
          });
          element.dispatchEvent(changeEvent);
        });
        star.addEventListener("mouseenter", () => {
          const value = parseFloat(star.getAttribute(so_config_default.data("value")));
          _Rating._updateStarDisplay(element, stars, value, instance);
        });
      });
      element.addEventListener("mouseleave", () => {
        _Rating._updateStarDisplay(element, stars, instance._value, instance);
      });
    }
    static _updateStarDisplay(_element, stars, value, instance) {
      stars.forEach((star) => {
        const starValue = parseFloat(star.getAttribute(so_config_default.data("value")));
        const iconSpan = star.querySelector(".material-icons");
        if (starValue <= Math.floor(value)) {
          iconSpan.textContent = instance._icon;
          star.classList.add(so_config_default.cls("rating-filled"));
          star.classList.remove(so_config_default.cls("rating-half"));
        } else if (instance._allowHalf && starValue - 0.5 <= value) {
          iconSpan.textContent = instance._halfIcon;
          star.classList.add(so_config_default.cls("rating-half"));
          star.classList.remove(so_config_default.cls("rating-filled"));
        } else {
          iconSpan.textContent = instance._emptyIcon;
          star.classList.remove(so_config_default.cls("rating-filled"), so_config_default.cls("rating-half"));
        }
      });
    }
  };
  __publicField(_Rating, "NAME", "ui-rating");
  __publicField(_Rating, "DEFAULTS", __spreadProps(__spreadValues({}, FormElement.DEFAULTS), { type: "rating", tagName: "div" }));
  var Rating = _Rating;
  if (typeof document !== "undefined") {
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", () => Rating.initAll());
    } else {
      Rating.initAll();
    }
  }

  // src/js/ui-engine/elements/display/Spinner.js
  var Spinner = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._spinnerType = config.spinnerType || "border";
      this._variant = config.variant || "primary";
      this._size = config.size || null;
      this._text = config.text || "Loading...";
    }
    spinnerType(type) {
      this._spinnerType = type;
      return this;
    }
    border() {
      return this.spinnerType("border");
    }
    grow() {
      return this.spinnerType("grow");
    }
    variant(v) {
      this._variant = v;
      return this;
    }
    primary() {
      return this.variant("primary");
    }
    secondary() {
      return this.variant("secondary");
    }
    success() {
      return this.variant("success");
    }
    danger() {
      return this.variant("danger");
    }
    warning() {
      return this.variant("warning");
    }
    info() {
      return this.variant("info");
    }
    light() {
      return this.variant("light");
    }
    dark() {
      return this.variant("dark");
    }
    size(s) {
      this._size = s;
      return this;
    }
    small() {
      return this.size("sm");
    }
    text(t) {
      this._text = t;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("spinner", this._spinnerType));
      this._extraClasses.add(so_config_default.cls("text", this._variant));
      if (this._size)
        this._extraClasses.add(so_config_default.cls("spinner", this._spinnerType, this._size));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs.role = "status";
      return attrs;
    }
    renderContent() {
      return `<span class="${so_config_default.cls("visually-hidden")}">${this._escapeHtml(this._text)}</span>`;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._spinnerType !== "border")
        config.spinnerType = this._spinnerType;
      if (this._variant !== "primary")
        config.variant = this._variant;
      if (this._size)
        config.size = this._size;
      if (this._text !== "Loading...")
        config.text = this._text;
      return config;
    }
  };
  __publicField(Spinner, "NAME", "ui-spinner");
  __publicField(Spinner, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "spinner", tagName: "div" }));

  // src/js/ui-engine/elements/display/Skeleton.js
  var Skeleton = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._skeletonType = config.skeletonType || "text";
      this._width = config.width || null;
      this._height = config.height || null;
      this._lines = config.lines || 1;
      this._animation = config.animation !== false;
    }
    skeletonType(type) {
      this._skeletonType = type;
      return this;
    }
    text() {
      return this.skeletonType("text");
    }
    circle() {
      return this.skeletonType("circle");
    }
    rect() {
      return this.skeletonType("rect");
    }
    card() {
      return this.skeletonType("card");
    }
    avatar() {
      return this.skeletonType("avatar");
    }
    width(w) {
      this._width = w;
      return this;
    }
    height(h) {
      this._height = h;
      return this;
    }
    lines(n) {
      this._lines = n;
      return this;
    }
    animation(val = true) {
      this._animation = val;
      return this;
    }
    noAnimation() {
      return this.animation(false);
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("skeleton"));
      this._extraClasses.add(so_config_default.cls("skeleton", this._skeletonType));
      if (this._animation)
        this._extraClasses.add(so_config_default.cls("skeleton-animated"));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      const styles = [];
      if (this._width)
        styles.push(`width: ${this._width}`);
      if (this._height)
        styles.push(`height: ${this._height}`);
      if (styles.length > 0) {
        attrs.style = (attrs.style ? attrs.style + "; " : "") + styles.join("; ");
      }
      return attrs;
    }
    renderContent() {
      if (this._skeletonType === "text" && this._lines > 1) {
        let html = "";
        for (let i = 0; i < this._lines; i++) {
          const lastLineClass = i === this._lines - 1 ? ` ${so_config_default.cls("skeleton-line-short")}` : "";
          html += `<div class="${so_config_default.cls("skeleton-line")}${lastLineClass}"></div>`;
        }
        return html;
      }
      if (this._skeletonType === "card") {
        let html = `<div class="${so_config_default.cls("skeleton-card-image")}"></div>`;
        html += `<div class="${so_config_default.cls("skeleton-card-body")}">`;
        html += `<div class="${so_config_default.cls("skeleton-line")}"></div>`;
        html += `<div class="${so_config_default.cls("skeleton-line")} ${so_config_default.cls("skeleton-line-short")}"></div>`;
        html += "</div>";
        return html;
      }
      return "";
    }
    toConfig() {
      const config = super.toConfig();
      if (this._skeletonType !== "text")
        config.skeletonType = this._skeletonType;
      if (this._width)
        config.width = this._width;
      if (this._height)
        config.height = this._height;
      if (this._lines !== 1)
        config.lines = this._lines;
      if (!this._animation)
        config.animation = false;
      return config;
    }
  };
  __publicField(Skeleton, "NAME", "ui-skeleton");
  __publicField(Skeleton, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "skeleton", tagName: "div" }));

  // src/js/ui-engine/elements/display/EmptyState.js
  var EmptyState = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._title = config.title || null;
      this._description = config.description || null;
      this._icon = config.icon || null;
      this._image = config.image || null;
      this._actions = config.actions || [];
      this._variant = config.variant || null;
      this._size = config.size || null;
      this._iconStyle = config.iconStyle || null;
      this._compact = config.compact || false;
      this._card = config.card || false;
      this._headingLevel = config.headingLevel || "h3";
    }
    // ==================
    // Content Methods
    // ==================
    /**
     * Set title
     * @param {string} title
     * @returns {this}
     */
    title(title) {
      this._title = title;
      return this;
    }
    /**
     * Set description
     * @param {string} description
     * @returns {this}
     */
    description(description) {
      this._description = description;
      return this;
    }
    /**
     * Set icon
     * @param {string} icon
     * @returns {this}
     */
    icon(icon) {
      this._icon = icon;
      return this;
    }
    /**
     * Set image
     * @param {string} url
     * @returns {this}
     */
    image(url) {
      this._image = url;
      return this;
    }
    /**
     * Set heading level
     * @param {string} level h3, h4, h5
     * @returns {this}
     */
    headingLevel(level) {
      this._headingLevel = level;
      return this;
    }
    // ==================
    // Actions
    // ==================
    /**
     * Add action button
     * @param {string} text
     * @param {string|null} url
     * @param {string} variant
     * @returns {this}
     */
    addAction(text, url = null, variant = "primary") {
      this._actions.push({ text, url, variant });
      return this;
    }
    /**
     * Set single action button (for backwards compatibility)
     * @param {string} text
     * @param {string|null} url
     * @param {string} variant
     * @returns {this}
     */
    action(text, url = null, variant = "primary") {
      this._actions = [{ text, url, variant }];
      return this;
    }
    /**
     * Set multiple actions
     * @param {Array} actions
     * @returns {this}
     */
    actions(actions) {
      this._actions = actions;
      return this;
    }
    // ==================
    // Contextual Variants
    // ==================
    /**
     * Set contextual variant
     * @param {string} variant search, error, success, warning, info, no-permission
     * @returns {this}
     */
    variant(variant) {
      this._variant = variant;
      return this;
    }
    /**
     * Search empty state
     * @returns {this}
     */
    search() {
      return this.variant("search");
    }
    /**
     * Error/danger empty state
     * @returns {this}
     */
    error() {
      return this.variant("error");
    }
    /**
     * Danger empty state (alias for error)
     * @returns {this}
     */
    danger() {
      return this.variant("danger");
    }
    /**
     * Success empty state
     * @returns {this}
     */
    success() {
      return this.variant("success");
    }
    /**
     * Warning empty state
     * @returns {this}
     */
    warning() {
      return this.variant("warning");
    }
    /**
     * Info empty state
     * @returns {this}
     */
    info() {
      return this.variant("info");
    }
    /**
     * No permission / forbidden empty state
     * @returns {this}
     */
    noPermission() {
      return this.variant("no-permission");
    }
    /**
     * Forbidden empty state (alias for noPermission)
     * @returns {this}
     */
    forbidden() {
      return this.variant("forbidden");
    }
    // ==================
    // Size Variants
    // ==================
    /**
     * Set size variant
     * @param {string} size sm, lg
     * @returns {this}
     */
    size(size) {
      this._size = size;
      return this;
    }
    /**
     * Small size
     * @returns {this}
     */
    small() {
      return this.size("sm");
    }
    /**
     * Large size
     * @returns {this}
     */
    large() {
      return this.size("lg");
    }
    // ==================
    // Icon Styling
    // ==================
    /**
     * Set icon style
     * @param {string} style circle, gradient
     * @returns {this}
     */
    iconStyle(style) {
      this._iconStyle = style;
      return this;
    }
    /**
     * Circle icon style
     * @returns {this}
     */
    iconCircle() {
      return this.iconStyle("circle");
    }
    /**
     * Gradient icon style
     * @returns {this}
     */
    iconGradient() {
      return this.iconStyle("gradient");
    }
    // ==================
    // Layout Variants
    // ==================
    /**
     * Compact/inline layout
     * @param {boolean} compact
     * @returns {this}
     */
    compact(compact = true) {
      this._compact = compact;
      return this;
    }
    /**
     * Card styling
     * @param {boolean} card
     * @returns {this}
     */
    card(card = true) {
      this._card = card;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("empty-state"));
      if (this._variant) {
        this._extraClasses.add(so_config_default.cls(`empty-state-${this._variant}`));
      }
      if (this._size) {
        this._extraClasses.add(so_config_default.cls(`empty-state-${this._size}`));
      }
      if (this._compact) {
        this._extraClasses.add(so_config_default.cls("empty-state-compact"));
      }
      if (this._card) {
        this._extraClasses.add(so_config_default.cls("empty-state-card"));
      }
      return super.buildClassString();
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = "";
      if (this._image) {
        html += `<img src="${this._escapeHtml(this._image)}" class="${so_config_default.cls("empty-state-image")}" alt="">`;
      } else if (this._icon) {
        let iconClasses = so_config_default.cls("empty-state-icon");
        if (this._iconStyle) {
          iconClasses += ` ${so_config_default.cls(`empty-state-icon-${this._iconStyle}`)}`;
        }
        html += `<div class="${iconClasses}">`;
        html += `<span class="material-icons">${this._escapeHtml(this._icon)}</span>`;
        html += "</div>";
      }
      if (this._title) {
        html += `<${this._headingLevel} class="${so_config_default.cls("empty-state-title")}">${this._escapeHtml(this._title)}</${this._headingLevel}>`;
      }
      if (this._description) {
        html += `<p class="${so_config_default.cls("empty-state-text")}">${this._escapeHtml(this._description)}</p>`;
      }
      if (this._actions.length > 0) {
        html += `<div class="${so_config_default.cls("empty-state-actions")}">`;
        this._actions.forEach((actionConfig) => {
          const btnClass = `${so_config_default.cls("btn")} ${so_config_default.cls(`btn-${actionConfig.variant || "primary"}`)}`;
          if (actionConfig.url) {
            html += `<a href="${this._escapeHtml(actionConfig.url)}" class="${btnClass}">`;
            html += this._escapeHtml(actionConfig.text);
            html += "</a>";
          } else {
            html += `<button type="button" class="${btnClass}">`;
            html += this._escapeHtml(actionConfig.text);
            html += "</button>";
          }
        });
        html += "</div>";
      }
      return html;
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._title)
        config.title = this._title;
      if (this._description)
        config.description = this._description;
      if (this._icon)
        config.icon = this._icon;
      if (this._image)
        config.image = this._image;
      if (this._actions.length > 0)
        config.actions = this._actions;
      if (this._variant)
        config.variant = this._variant;
      if (this._size)
        config.size = this._size;
      if (this._iconStyle)
        config.iconStyle = this._iconStyle;
      if (this._compact)
        config.compact = true;
      if (this._card)
        config.card = true;
      if (this._headingLevel !== "h3")
        config.headingLevel = this._headingLevel;
      return config;
    }
  };
  __publicField(EmptyState, "NAME", "ui-empty-state");
  __publicField(EmptyState, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "empty-state",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/MediaObject.js
  var MediaObject = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._media = config.media || null;
      this._mediaType = config.mediaType || "image";
      this._imageAlt = config.imageAlt || "";
      this._mediaSize = config.mediaSize || "64px";
      this._iconVariant = config.iconVariant || null;
      this._title = config.title || null;
      this._bodyContent = config.content || null;
      this._mediaPosition = config.mediaPosition || "start";
      this._align = config.align || "top";
    }
    // ==================
    // Media Methods
    // ==================
    /**
     * Set image media
     * @param {string} url - Image URL
     * @param {string} alt - Alt text
     * @returns {this}
     */
    image(url, alt = "") {
      this._media = url;
      this._mediaType = "image";
      this._imageAlt = alt;
      return this;
    }
    /**
     * Set icon media
     * @param {string} icon - Material icon name
     * @param {string|null} variant - Color variant (primary, success, warning, danger, info, secondary)
     * @returns {this}
     */
    icon(icon, variant = null) {
      this._media = icon;
      this._mediaType = "icon";
      this._iconVariant = variant;
      return this;
    }
    /**
     * Set media size
     * @param {string} size - CSS size value (e.g., '64px', '4rem')
     * @returns {this}
     */
    mediaSize(size) {
      this._mediaSize = size;
      this._triggerEvent("so:media:sizeChanged", { size });
      return this;
    }
    /**
     * Set icon variant
     * @param {string} variant - primary, success, warning, danger, info, secondary
     * @returns {this}
     */
    iconVariant(variant) {
      this._iconVariant = variant;
      this._triggerEvent("so:media:variantChanged", { variant });
      return this;
    }
    // ==================
    // Content Methods
    // ==================
    /**
     * Set title/heading
     * @param {string} title
     * @returns {this}
     */
    title(title) {
      this._title = title;
      this._triggerEvent("so:media:titleChanged", { title });
      return this;
    }
    /**
     * Set body content
     * @param {string} content
     * @returns {this}
     */
    content(content) {
      this._bodyContent = content;
      this._triggerEvent("so:media:contentChanged", { content });
      return this;
    }
    /**
     * Alias for content()
     * @param {string} body
     * @returns {this}
     */
    body(body) {
      return this.content(body);
    }
    // ==================
    // Position Methods
    // ==================
    /**
     * Set media position
     * @param {string} position - 'start' or 'end'
     * @returns {this}
     */
    mediaPosition(position) {
      this._mediaPosition = position;
      this._triggerEvent("so:media:positionChanged", { position });
      return this;
    }
    /**
     * Media on start (left in LTR)
     * @returns {this}
     */
    mediaStart() {
      return this.mediaPosition("start");
    }
    /**
     * Media on end (right in LTR)
     * @returns {this}
     */
    mediaEnd() {
      return this.mediaPosition("end");
    }
    /**
     * Alias for mediaEnd() - media on right
     * @returns {this}
     */
    reverse() {
      return this.mediaEnd();
    }
    // ==================
    // Alignment Methods
    // ==================
    /**
     * Set vertical alignment
     * @param {string} align - 'top', 'middle', 'bottom'
     * @returns {this}
     */
    align(align) {
      this._align = align;
      this._triggerEvent("so:media:alignChanged", { align });
      return this;
    }
    /**
     * Align top (default)
     * @returns {this}
     */
    alignTop() {
      return this.align("top");
    }
    /**
     * Align middle/center
     * @returns {this}
     */
    alignMiddle() {
      return this.align("middle");
    }
    /**
     * Alias for alignMiddle()
     * @returns {this}
     */
    alignCenter() {
      return this.alignMiddle();
    }
    /**
     * Align bottom
     * @returns {this}
     */
    alignBottom() {
      return this.align("bottom");
    }
    // ==================
    // Dynamic Update Methods
    // ==================
    /**
     * Update media dynamically
     * @param {string} media - New media URL or icon
     * @param {string} type - 'image' or 'icon'
     * @returns {this}
     */
    setMedia(media, type = "image") {
      this._media = media;
      this._mediaType = type;
      this._triggerEvent("so:media:mediaChanged", { media, type });
      return this;
    }
    /**
     * Update title dynamically
     * @param {string} title
     * @returns {this}
     */
    setTitle(title) {
      this._title = title;
      this._triggerEvent("so:media:titleChanged", { title });
      return this;
    }
    /**
     * Update content dynamically
     * @param {string} content
     * @returns {this}
     */
    setContent(content) {
      this._bodyContent = content;
      this._triggerEvent("so:media:contentChanged", { content });
      return this;
    }
    /**
     * Toggle media position
     * @returns {this}
     */
    togglePosition() {
      this._mediaPosition = this._mediaPosition === "start" ? "end" : "start";
      this._triggerEvent("so:media:positionToggled", { position: this._mediaPosition });
      return this;
    }
    // ==================
    // Getters
    // ==================
    /**
     * Get media source
     * @returns {string|null}
     */
    getMedia() {
      return this._media;
    }
    /**
     * Get media type
     * @returns {string}
     */
    getMediaType() {
      return this._mediaType;
    }
    /**
     * Get title
     * @returns {string|null}
     */
    getTitle() {
      return this._title;
    }
    /**
     * Get body content
     * @returns {string|null}
     */
    getContent() {
      return this._bodyContent;
    }
    /**
     * Get media position
     * @returns {string}
     */
    getMediaPosition() {
      return this._mediaPosition;
    }
    /**
     * Get alignment
     * @returns {string}
     */
    getAlign() {
      return this._align;
    }
    // ==================
    // Event Methods
    // ==================
    /**
     * Add media change event listener
     * @param {Function} callback
     * @returns {this}
     */
    onMediaChange(callback) {
      return this.on("so:media:mediaChanged", callback);
    }
    /**
     * Add title change event listener
     * @param {Function} callback
     * @returns {this}
     */
    onTitleChange(callback) {
      return this.on("so:media:titleChanged", callback);
    }
    /**
     * Add content change event listener
     * @param {Function} callback
     * @returns {this}
     */
    onContentChange(callback) {
      return this.on("so:media:contentChanged", callback);
    }
    /**
     * Add position change event listener
     * @param {Function} callback
     * @returns {this}
     */
    onPositionChange(callback) {
      return this.on("so:media:positionChanged", callback);
    }
    /**
     * Trigger custom event
     * @param {string} eventName
     * @param {Object} detail
     * @private
     */
    _triggerEvent(eventName, detail = {}) {
      if (this._element) {
        const event = new CustomEvent(eventName, {
          detail: __spreadProps(__spreadValues({}, detail), { mediaObject: this }),
          bubbles: true,
          cancelable: true
        });
        this._element.dispatchEvent(event);
      }
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("media"));
      if (this._align === "middle") {
        this._extraClasses.add(so_config_default.cls("media-middle"));
      } else if (this._align === "bottom") {
        this._extraClasses.add(so_config_default.cls("media-bottom"));
      }
      return super.buildClassString();
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      let html = "";
      const mediaContainerClass = this._mediaPosition === "end" ? so_config_default.cls("media-right") : so_config_default.cls("media-left");
      if (this._mediaPosition === "start") {
        html += this._renderMedia(mediaContainerClass);
      }
      html += this._renderBody();
      if (this._mediaPosition === "end") {
        html += this._renderMedia(mediaContainerClass);
      }
      return html;
    }
    /**
     * Render media element
     * @param {string} containerClass
     * @returns {string}
     * @private
     */
    _renderMedia(containerClass) {
      if (!this._media) {
        return "";
      }
      let html = `<div class="${containerClass}">`;
      if (this._mediaType === "image") {
        html += `<img src="${this._escapeHtml(this._media)}"`;
        html += ` class="${so_config_default.cls("media-image")}"`;
        html += ` alt="${this._escapeHtml(this._imageAlt)}"`;
        html += ` style="width: ${this._mediaSize}; height: ${this._mediaSize};">`;
      } else if (this._mediaType === "icon") {
        let iconClass = so_config_default.cls("media-icon");
        if (this._iconVariant) {
          iconClass += ` ${so_config_default.cls(`media-icon-${this._iconVariant}`)}`;
        }
        html += `<div class="${iconClass}"`;
        html += ` style="width: ${this._mediaSize}; height: ${this._mediaSize};">`;
        html += `<span class="material-icons">${this._escapeHtml(this._media)}</span>`;
        html += "</div>";
      }
      html += "</div>";
      return html;
    }
    /**
     * Render body content
     * @returns {string}
     * @private
     */
    _renderBody() {
      let html = `<div class="${so_config_default.cls("media-body")}">`;
      if (this._title) {
        html += `<h5 class="${so_config_default.cls("media-heading")}">${this._escapeHtml(this._title)}</h5>`;
      }
      if (this._bodyContent) {
        html += `<p>${this._escapeHtml(this._bodyContent)}</p>`;
      }
      html += "</div>";
      return html;
    }
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._media)
        config.media = this._media;
      if (this._mediaType !== "image")
        config.mediaType = this._mediaType;
      if (this._imageAlt)
        config.imageAlt = this._imageAlt;
      if (this._mediaSize !== "64px")
        config.mediaSize = this._mediaSize;
      if (this._iconVariant)
        config.iconVariant = this._iconVariant;
      if (this._title)
        config.title = this._title;
      if (this._bodyContent)
        config.content = this._bodyContent;
      if (this._mediaPosition !== "start")
        config.mediaPosition = this._mediaPosition;
      if (this._align !== "top")
        config.align = this._align;
      return config;
    }
  };
  __publicField(MediaObject, "NAME", "ui-media-object");
  __publicField(MediaObject, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "media-object",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/display/CodeBlock.js
  var CodeBlock = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._code = config.code || "";
      this._language = config.language || "plaintext";
      this._showLineNumbers = config.showLineNumbers || false;
      this._showCopy = config.showCopy !== false;
      this._title = config.title || null;
      this._highlightLines = config.highlightLines || [];
    }
    code(code) {
      this._code = code;
      return this;
    }
    language(lang) {
      this._language = lang;
      return this;
    }
    javascript() {
      return this.language("javascript");
    }
    php() {
      return this.language("php");
    }
    html() {
      return this.language("html");
    }
    css() {
      return this.language("css");
    }
    json() {
      return this.language("json");
    }
    sql() {
      return this.language("sql");
    }
    bash() {
      return this.language("bash");
    }
    showLineNumbers(val = true) {
      this._showLineNumbers = val;
      return this;
    }
    showCopy(val = true) {
      this._showCopy = val;
      return this;
    }
    hideCopy() {
      return this.showCopy(false);
    }
    title(title) {
      this._title = title;
      return this;
    }
    highlightLines(lines) {
      this._highlightLines = lines;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("code-block"));
      if (this._showLineNumbers)
        this._extraClasses.add(so_config_default.cls("code-block-numbered"));
      return super.buildClassString();
    }
    renderContent() {
      let html = "";
      if (this._title || this._showCopy) {
        html += `<div class="${so_config_default.cls("code-block-header")}">`;
        if (this._title) {
          html += `<span class="${so_config_default.cls("code-block-title")}">${this._escapeHtml(this._title)}</span>`;
        }
        if (this._language && this._language !== "plaintext") {
          html += `<span class="${so_config_default.cls("code-block-language")}">${this._escapeHtml(this._language)}</span>`;
        }
        if (this._showCopy) {
          html += `<button type="button" class="${so_config_default.cls("code-block-copy")}" ${so_config_default.data("copy-target")}="code">`;
          html += '<span class="material-icons">content_copy</span>';
          html += "</button>";
        }
        html += "</div>";
      }
      html += `<pre class="${so_config_default.cls("code-block-pre")}"><code class="language-${this._escapeHtml(this._language)}">`;
      if (this._showLineNumbers) {
        const lines = this._code.split("\n");
        lines.forEach((line, idx) => {
          const lineNum = idx + 1;
          const highlightClass = this._highlightLines.includes(lineNum) ? ` ${so_config_default.cls("highlight")}` : "";
          html += `<span class="${so_config_default.cls("code-line")}${highlightClass}">`;
          html += `<span class="${so_config_default.cls("code-line-number")}">${lineNum}</span>`;
          html += `<span class="${so_config_default.cls("code-line-content")}">${this._escapeHtml(line)}</span>`;
          html += "</span>\n";
        });
      } else {
        html += this._escapeHtml(this._code);
      }
      html += "</code></pre>";
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._code)
        config.code = this._code;
      if (this._language !== "plaintext")
        config.language = this._language;
      if (this._showLineNumbers)
        config.showLineNumbers = true;
      if (!this._showCopy)
        config.showCopy = false;
      if (this._title)
        config.title = this._title;
      if (this._highlightLines.length > 0)
        config.highlightLines = this._highlightLines;
      return config;
    }
  };
  __publicField(CodeBlock, "NAME", "ui-code-block");
  __publicField(CodeBlock, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "code-block", tagName: "div" }));

  // src/js/ui-engine/elements/layout/Container.js
  var Container = class extends ContainerElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._fluid = config.fluid || false;
      this._size = config.size || null;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set fluid container
     * @param {boolean} fluid
     * @returns {this}
     */
    fluid(fluid = true) {
      this._fluid = fluid;
      return this;
    }
    /**
     * Set max-width breakpoint size
     * @param {string} size - sm, md, lg, xl, xxl
     * @returns {this}
     */
    size(size) {
      this._size = size;
      return this;
    }
    /** Small container (max-width: 540px) */
    sm() {
      return this.size("sm");
    }
    /** Medium container (max-width: 720px) */
    md() {
      return this.size("md");
    }
    /** Large container (max-width: 960px) */
    lg() {
      return this.size("lg");
    }
    /** Extra large container (max-width: 1140px) */
    xl() {
      return this.size("xl");
    }
    /** Extra extra large container (max-width: 1320px) */
    xxl() {
      return this.size("xxl");
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      if (this._fluid) {
        this._extraClasses.add(so_config_default.cls("container-fluid"));
      } else if (this._size) {
        this._extraClasses.add(so_config_default.cls("container", this._size));
      } else {
        this._extraClasses.add(so_config_default.cls("container"));
      }
      return super.buildClassString();
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      return this.renderChildren();
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._fluid)
        config.fluid = true;
      if (this._size)
        config.size = this._size;
      return config;
    }
  };
  __publicField(Container, "NAME", "ui-container");
  __publicField(Container, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), {
    type: "container",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/layout/Row.js
  var Row = class extends ContainerElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._cols = config.cols || null;
      this._gutter = config.gutter || null;
      this._gutterX = config.gutterX || null;
      this._gutterY = config.gutterY || null;
      this._justify = config.justify || null;
      this._align = config.align || null;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set row columns
     * @param {number|string} cols - Number or breakpoint:number (e.g., 'md:3')
     * @returns {this}
     */
    cols(cols) {
      this._cols = cols;
      return this;
    }
    /**
     * Set gutter
     * @param {number} gutter - 0-5
     * @returns {this}
     */
    gutter(gutter) {
      this._gutter = gutter;
      return this;
    }
    /**
     * Set horizontal gutter
     * @param {number} gutter - 0-5
     * @returns {this}
     */
    gutterX(gutter) {
      this._gutterX = gutter;
      return this;
    }
    /**
     * Set vertical gutter
     * @param {number} gutter - 0-5
     * @returns {this}
     */
    gutterY(gutter) {
      this._gutterY = gutter;
      return this;
    }
    /**
     * Set justify content
     * @param {string} justify - start, center, end, around, between, evenly
     * @returns {this}
     */
    justify(justify) {
      this._justify = justify;
      return this;
    }
    /** Justify start */
    justifyStart() {
      return this.justify("start");
    }
    /** Justify center */
    justifyCenter() {
      return this.justify("center");
    }
    /** Justify end */
    justifyEnd() {
      return this.justify("end");
    }
    /** Justify around */
    justifyAround() {
      return this.justify("around");
    }
    /** Justify between */
    justifyBetween() {
      return this.justify("between");
    }
    /** Justify evenly */
    justifyEvenly() {
      return this.justify("evenly");
    }
    /**
     * Set align items
     * @param {string} align - start, center, end, baseline, stretch
     * @returns {this}
     */
    align(align) {
      this._align = align;
      return this;
    }
    /** Align start */
    alignStart() {
      return this.align("start");
    }
    /** Align center */
    alignCenter() {
      return this.align("center");
    }
    /** Align end */
    alignEnd() {
      return this.align("end");
    }
    /** Align baseline */
    alignBaseline() {
      return this.align("baseline");
    }
    /** Align stretch */
    alignStretch() {
      return this.align("stretch");
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("row"));
      if (this._cols !== null) {
        if (typeof this._cols === "object") {
          Object.entries(this._cols).forEach(([bp, val]) => {
            if (bp === "default") {
              this._extraClasses.add(so_config_default.cls("row-cols", val));
            } else {
              this._extraClasses.add(so_config_default.cls("row-cols", bp, val));
            }
          });
        } else {
          this._extraClasses.add(so_config_default.cls("row-cols", this._cols));
        }
      }
      if (this._gutter !== null) {
        this._extraClasses.add(so_config_default.cls("g", this._gutter));
      }
      if (this._gutterX !== null) {
        this._extraClasses.add(so_config_default.cls("gx", this._gutterX));
      }
      if (this._gutterY !== null) {
        this._extraClasses.add(so_config_default.cls("gy", this._gutterY));
      }
      if (this._justify) {
        this._extraClasses.add(so_config_default.cls("justify-content", this._justify));
      }
      if (this._align) {
        this._extraClasses.add(so_config_default.cls("align-items", this._align));
      }
      return super.buildClassString();
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      return this.renderChildren();
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._cols !== null)
        config.cols = this._cols;
      if (this._gutter !== null)
        config.gutter = this._gutter;
      if (this._gutterX !== null)
        config.gutterX = this._gutterX;
      if (this._gutterY !== null)
        config.gutterY = this._gutterY;
      if (this._justify)
        config.justify = this._justify;
      if (this._align)
        config.align = this._align;
      return config;
    }
  };
  __publicField(Row, "NAME", "ui-row");
  __publicField(Row, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), {
    type: "row",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/layout/Column.js
  var Column = class extends ContainerElement {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._size = config.size || null;
      this._offset = config.offset || null;
      this._order = config.order || null;
      this._alignSelf = config.alignSelf || null;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set column size
     * @param {number|string|Object} size - Column width (1-12, 'auto', or responsive object)
     * @returns {this}
     */
    size(size) {
      this._size = size;
      return this;
    }
    /** Auto-size column */
    auto() {
      return this.size("auto");
    }
    /**
     * Set offset
     * @param {number|Object} offset - Offset columns (0-11 or responsive object)
     * @returns {this}
     */
    offset(offset) {
      this._offset = offset;
      return this;
    }
    /**
     * Set order
     * @param {number|string|Object} order - Column order (0-5, 'first', 'last', or responsive)
     * @returns {this}
     */
    order(order) {
      this._order = order;
      return this;
    }
    /** Order first */
    orderFirst() {
      return this.order("first");
    }
    /** Order last */
    orderLast() {
      return this.order("last");
    }
    /**
     * Set align self
     * @param {string} align - start, center, end, baseline, stretch
     * @returns {this}
     */
    alignSelf(align) {
      this._alignSelf = align;
      return this;
    }
    /** Align self start */
    alignSelfStart() {
      return this.alignSelf("start");
    }
    /** Align self center */
    alignSelfCenter() {
      return this.alignSelf("center");
    }
    /** Align self end */
    alignSelfEnd() {
      return this.alignSelf("end");
    }
    /** Align self baseline */
    alignSelfBaseline() {
      return this.alignSelf("baseline");
    }
    /** Align self stretch */
    alignSelfStretch() {
      return this.alignSelf("stretch");
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      if (this._size === null) {
        this._extraClasses.add(so_config_default.cls("col"));
      } else if (typeof this._size === "object") {
        Object.entries(this._size).forEach(([bp, val]) => {
          if (bp === "default") {
            this._extraClasses.add(so_config_default.cls("col", val));
          } else {
            this._extraClasses.add(so_config_default.cls("col", bp, val));
          }
        });
      } else if (this._size === "auto") {
        this._extraClasses.add(so_config_default.cls("col-auto"));
      } else {
        this._extraClasses.add(so_config_default.cls("col", this._size));
      }
      if (this._offset !== null) {
        if (typeof this._offset === "object") {
          Object.entries(this._offset).forEach(([bp, val]) => {
            if (bp === "default") {
              this._extraClasses.add(so_config_default.cls("offset", val));
            } else {
              this._extraClasses.add(so_config_default.cls("offset", bp, val));
            }
          });
        } else {
          this._extraClasses.add(so_config_default.cls("offset", this._offset));
        }
      }
      if (this._order !== null) {
        if (typeof this._order === "object") {
          Object.entries(this._order).forEach(([bp, val]) => {
            if (bp === "default") {
              this._extraClasses.add(so_config_default.cls("order", val));
            } else {
              this._extraClasses.add(so_config_default.cls("order", bp, val));
            }
          });
        } else {
          this._extraClasses.add(so_config_default.cls("order", this._order));
        }
      }
      if (this._alignSelf) {
        this._extraClasses.add(so_config_default.cls("align-self", this._alignSelf));
      }
      return super.buildClassString();
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      return this.renderChildren();
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._size !== null)
        config.size = this._size;
      if (this._offset !== null)
        config.offset = this._offset;
      if (this._order !== null)
        config.order = this._order;
      if (this._alignSelf)
        config.alignSelf = this._alignSelf;
      return config;
    }
  };
  __publicField(Column, "NAME", "ui-column");
  __publicField(Column, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), {
    type: "column",
    tagName: "div"
  }));

  // src/js/ui-engine/elements/layout/Divider.js
  var Divider = class extends Element2 {
    /**
     * Initialize from config
     * @param {Object} config
     * @private
     */
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._vertical = config.vertical || false;
      this._text = config.text || null;
      this._variant = config.variant || null;
      this._margin = config.margin || null;
    }
    // ==================
    // Fluent API
    // ==================
    /**
     * Set vertical orientation
     * @param {boolean} vertical
     * @returns {this}
     */
    vertical(vertical = true) {
      this._vertical = vertical;
      if (vertical) {
        this._tagName = "div";
      }
      return this;
    }
    /**
     * Set text for divider with text
     * @param {string} text
     * @returns {this}
     */
    text(text) {
      this._text = text;
      this._tagName = "div";
      return this;
    }
    /**
     * Set variant/color
     * @param {string} variant
     * @returns {this}
     */
    variant(variant) {
      this._variant = variant;
      return this;
    }
    /** Primary variant */
    primary() {
      return this.variant("primary");
    }
    /** Secondary variant */
    secondary() {
      return this.variant("secondary");
    }
    /** Dark variant */
    dark() {
      return this.variant("dark");
    }
    /** Light variant */
    light() {
      return this.variant("light");
    }
    /**
     * Set margin
     * @param {number} margin - 0-5
     * @returns {this}
     */
    margin(margin) {
      this._margin = margin;
      return this;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Get tag name
     * @returns {string}
     */
    getTagName() {
      if (this._text || this._vertical) {
        return "div";
      }
      return "hr";
    }
    /**
     * Build CSS classes
     * @returns {string}
     */
    buildClassString() {
      if (this._vertical) {
        this._extraClasses.add(so_config_default.cls("vr"));
        if (this._margin !== null) {
          this._extraClasses.add(so_config_default.cls("mx", this._margin));
        }
      } else if (this._text) {
        this._extraClasses.add(so_config_default.cls("divider"));
        this._extraClasses.add(so_config_default.cls("divider-text"));
        if (this._margin !== null) {
          this._extraClasses.add(so_config_default.cls("my", this._margin));
        }
      } else {
        if (this._margin !== null) {
          this._extraClasses.add(so_config_default.cls("my", this._margin));
        }
      }
      if (this._variant) {
        this._extraClasses.add(so_config_default.cls("border", this._variant));
        if (this._text) {
          this._extraClasses.add(so_config_default.cls("text", this._variant));
        }
      }
      return super.buildClassString();
    }
    /**
     * Build attributes
     * @returns {Object}
     */
    buildAttributes() {
      const attrs = super.buildAttributes();
      if (!this._text && !this._vertical) {
        attrs.role = "separator";
      }
      return attrs;
    }
    /**
     * Render content
     * @returns {string}
     */
    renderContent() {
      if (this._text) {
        return `<span class="${so_config_default.cls("divider-text-content")}">${this._escapeHtml(this._text)}</span>`;
      }
      return "";
    }
    // ==================
    // Config Export
    // ==================
    /**
     * Convert to config
     * @returns {Object}
     */
    toConfig() {
      const config = super.toConfig();
      if (this._vertical)
        config.vertical = true;
      if (this._text)
        config.text = this._text;
      if (this._variant)
        config.variant = this._variant;
      if (this._margin !== null)
        config.margin = this._margin;
      return config;
    }
  };
  __publicField(Divider, "NAME", "ui-divider");
  __publicField(Divider, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), {
    type: "divider",
    tagName: "hr"
  }));

  // src/js/ui-engine/elements/layout/Grid.js
  var Grid = class extends ContainerElement {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._columns = config.columns || null;
      this._rows = config.rows || null;
      this._gap = config.gap || null;
      this._rowGap = config.rowGap || null;
      this._columnGap = config.columnGap || null;
      this._justifyItems = config.justifyItems || null;
      this._alignItems = config.alignItems || null;
      this._areas = config.areas || null;
      this._autoFlow = config.autoFlow || null;
    }
    columns(val) {
      this._columns = val;
      return this;
    }
    rows(val) {
      this._rows = val;
      return this;
    }
    gap(val) {
      this._gap = val;
      return this;
    }
    rowGap(val) {
      this._rowGap = val;
      return this;
    }
    columnGap(val) {
      this._columnGap = val;
      return this;
    }
    justifyItems(val) {
      this._justifyItems = val;
      return this;
    }
    alignItems(val) {
      this._alignItems = val;
      return this;
    }
    areas(val) {
      this._areas = val;
      return this;
    }
    autoFlow(val) {
      this._autoFlow = val;
      return this;
    }
    flowRow() {
      return this.autoFlow("row");
    }
    flowColumn() {
      return this.autoFlow("column");
    }
    flowDense() {
      return this.autoFlow("dense");
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("d-grid"));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      const styles = [];
      if (this._columns !== null) {
        styles.push(typeof this._columns === "number" ? `grid-template-columns: repeat(${this._columns}, 1fr)` : `grid-template-columns: ${this._columns}`);
      }
      if (this._rows !== null) {
        styles.push(typeof this._rows === "number" ? `grid-template-rows: repeat(${this._rows}, 1fr)` : `grid-template-rows: ${this._rows}`);
      }
      if (this._gap)
        styles.push(`gap: ${this._gap}`);
      if (this._rowGap)
        styles.push(`row-gap: ${this._rowGap}`);
      if (this._columnGap)
        styles.push(`column-gap: ${this._columnGap}`);
      if (this._justifyItems)
        styles.push(`justify-items: ${this._justifyItems}`);
      if (this._alignItems)
        styles.push(`align-items: ${this._alignItems}`);
      if (this._areas) {
        const areasStr = this._areas.map((row) => `"${row}"`).join(" ");
        styles.push(`grid-template-areas: ${areasStr}`);
      }
      if (this._autoFlow)
        styles.push(`grid-auto-flow: ${this._autoFlow}`);
      if (styles.length > 0) {
        attrs.style = (attrs.style || "") + styles.join("; ");
      }
      return attrs;
    }
    renderContent() {
      return this.renderChildren();
    }
    toConfig() {
      const config = super.toConfig();
      if (this._columns !== null)
        config.columns = this._columns;
      if (this._rows !== null)
        config.rows = this._rows;
      if (this._gap)
        config.gap = this._gap;
      if (this._rowGap)
        config.rowGap = this._rowGap;
      if (this._columnGap)
        config.columnGap = this._columnGap;
      if (this._justifyItems)
        config.justifyItems = this._justifyItems;
      if (this._alignItems)
        config.alignItems = this._alignItems;
      if (this._areas)
        config.areas = this._areas;
      if (this._autoFlow)
        config.autoFlow = this._autoFlow;
      return config;
    }
  };
  __publicField(Grid, "NAME", "ui-grid");
  __publicField(Grid, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), { type: "grid", tagName: "div" }));

  // src/js/ui-engine/elements/layout/Flex.js
  var Flex = class extends ContainerElement {
    _initFromConfig(config) {
      var _a;
      super._initFromConfig(config);
      this._direction = config.direction || null;
      this._justify = config.justify || null;
      this._align = config.align || null;
      this._alignContent = config.alignContent || null;
      this._wrap = config.wrap || null;
      this._flexGap = (_a = config.gap) != null ? _a : null;
      this._inline = config.inline || false;
    }
    direction(val) {
      this._direction = val;
      return this;
    }
    row() {
      return this.direction("row");
    }
    rowReverse() {
      return this.direction("row-reverse");
    }
    column() {
      return this.direction("column");
    }
    columnReverse() {
      return this.direction("column-reverse");
    }
    justify(val) {
      this._justify = val;
      return this;
    }
    justifyStart() {
      return this.justify("start");
    }
    justifyCenter() {
      return this.justify("center");
    }
    justifyEnd() {
      return this.justify("end");
    }
    justifyBetween() {
      return this.justify("between");
    }
    justifyAround() {
      return this.justify("around");
    }
    justifyEvenly() {
      return this.justify("evenly");
    }
    align(val) {
      this._align = val;
      return this;
    }
    alignStart() {
      return this.align("start");
    }
    alignCenter() {
      return this.align("center");
    }
    alignEnd() {
      return this.align("end");
    }
    alignBaseline() {
      return this.align("baseline");
    }
    alignStretch() {
      return this.align("stretch");
    }
    alignContent(val) {
      this._alignContent = val;
      return this;
    }
    wrap(val = "wrap") {
      this._wrap = val;
      return this;
    }
    nowrap() {
      return this.wrap("nowrap");
    }
    wrapReverse() {
      return this.wrap("wrap-reverse");
    }
    gap(val) {
      this._flexGap = val;
      return this;
    }
    inline(val = true) {
      this._inline = val;
      return this;
    }
    center() {
      return this.justifyCenter().alignCenter();
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls(this._inline ? "d-inline-flex" : "d-flex"));
      if (this._direction)
        this._extraClasses.add(so_config_default.cls("flex", this._direction));
      if (this._justify)
        this._extraClasses.add(so_config_default.cls("justify-content", this._justify));
      if (this._align)
        this._extraClasses.add(so_config_default.cls("align-items", this._align));
      if (this._alignContent)
        this._extraClasses.add(so_config_default.cls("align-content", this._alignContent));
      if (this._wrap)
        this._extraClasses.add(so_config_default.cls("flex", this._wrap));
      if (this._flexGap !== null)
        this._extraClasses.add(so_config_default.cls("gap", this._flexGap));
      return super.buildClassString();
    }
    renderContent() {
      return this.renderChildren();
    }
    toConfig() {
      const config = super.toConfig();
      if (this._direction)
        config.direction = this._direction;
      if (this._justify)
        config.justify = this._justify;
      if (this._align)
        config.align = this._align;
      if (this._alignContent)
        config.alignContent = this._alignContent;
      if (this._wrap)
        config.wrap = this._wrap;
      if (this._flexGap !== null)
        config.gap = this._flexGap;
      if (this._inline)
        config.inline = true;
      return config;
    }
  };
  __publicField(Flex, "NAME", "ui-flex");
  __publicField(Flex, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), { type: "flex", tagName: "div" }));

  // src/js/ui-engine/elements/navigation/Dropdown.js
  var Dropdown = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._trigger = config.trigger || null;
      this._triggerIcon = config.triggerIcon || null;
      this._items = config.items || [];
      this._direction = config.direction || "down";
      this._alignment = config.alignment || "start";
      this._variant = config.variant || "secondary";
      this._split = config.split || false;
      this._buttonSize = config.size || null;
      this._dark = config.dark || false;
      this._autoClose = config.autoClose !== void 0 ? config.autoClose : true;
    }
    trigger(text) {
      this._trigger = text;
      return this;
    }
    triggerIcon(icon) {
      this._triggerIcon = icon;
      return this;
    }
    items(items) {
      this._items = items;
      return this;
    }
    addItem(label, url = null, icon = null, active = false, disabled = false) {
      this._items.push({ type: "item", label, url, icon, active, disabled });
      return this;
    }
    addDivider() {
      this._items.push({ type: "divider" });
      return this;
    }
    addHeader(text) {
      this._items.push({ type: "header", label: text });
      return this;
    }
    direction(dir) {
      this._direction = dir;
      return this;
    }
    dropDown() {
      return this.direction("down");
    }
    dropUp() {
      return this.direction("up");
    }
    dropStart() {
      return this.direction("start");
    }
    dropEnd() {
      return this.direction("end");
    }
    alignment(align) {
      this._alignment = align;
      return this;
    }
    alignEnd() {
      return this.alignment("end");
    }
    variant(v) {
      this._variant = v;
      return this;
    }
    primary() {
      return this.variant("primary");
    }
    secondary() {
      return this.variant("secondary");
    }
    split(val = true) {
      this._split = val;
      return this;
    }
    size(s) {
      this._buttonSize = s;
      return this;
    }
    small() {
      return this.size("sm");
    }
    large() {
      return this.size("lg");
    }
    dark(val = true) {
      this._dark = val;
      return this;
    }
    autoClose(val) {
      this._autoClose = val;
      return this;
    }
    buildClassString() {
      if (this._split) {
        this._extraClasses.add(so_config_default.cls("btn-group"));
      } else {
        this._extraClasses.add(so_config_default.cls("dropdown"));
      }
      if (this._direction !== "down") {
        this._extraClasses.add(so_config_default.cls("drop" + this._direction));
      }
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("ui-init")] = "dropdown";
      attrs[so_config_default.data("ui-config")] = JSON.stringify({ autoClose: this._autoClose });
      return attrs;
    }
    renderContent() {
      let html = "";
      let btnClass = `${so_config_default.cls("btn")} ${so_config_default.cls("btn", this._variant)}`;
      if (this._buttonSize)
        btnClass += ` ${so_config_default.cls("btn", this._buttonSize)}`;
      if (this._split) {
        html += `<button type="button" class="${btnClass}">`;
        if (this._triggerIcon)
          html += `<span class="material-icons">${this._escapeHtml(this._triggerIcon)}</span> `;
        html += this._escapeHtml(this._trigger || "");
        html += "</button>";
        html += `<button type="button" class="${btnClass} ${so_config_default.cls("dropdown-toggle")} ${so_config_default.cls("dropdown-toggle-split")}" ${so_config_default.data("toggle")}="dropdown" aria-expanded="false">`;
        html += `<span class="${so_config_default.cls("visually-hidden")}">Toggle Dropdown</span></button>`;
      } else {
        html += `<button type="button" class="${btnClass} ${so_config_default.cls("dropdown-toggle")}" ${so_config_default.data("toggle")}="dropdown" aria-expanded="false">`;
        if (this._triggerIcon)
          html += `<span class="material-icons">${this._escapeHtml(this._triggerIcon)}</span> `;
        html += this._escapeHtml(this._trigger || "");
        html += "</button>";
      }
      let menuClass = so_config_default.cls("dropdown-menu");
      if (this._alignment === "end")
        menuClass += ` ${so_config_default.cls("dropdown-menu-end")}`;
      if (this._dark)
        menuClass += ` ${so_config_default.cls("dropdown-menu-dark")}`;
      html += `<ul class="${menuClass}">`;
      this._items.forEach((item) => {
        if (item.type === "divider") {
          html += `<li><hr class="${so_config_default.cls("dropdown-divider")}"></li>`;
        } else if (item.type === "header") {
          html += `<li><h6 class="${so_config_default.cls("dropdown-header")}">${this._escapeHtml(item.label)}</h6></li>`;
        } else {
          let itemClass = so_config_default.cls("dropdown-item");
          if (item.active)
            itemClass += ` ${so_config_default.cls("active")}`;
          if (item.disabled)
            itemClass += " disabled";
          html += "<li>";
          html += `<a class="${itemClass}" href="${this._escapeHtml(item.url || "#")}"`;
          if (item.active)
            html += ' aria-current="true"';
          html += ">";
          if (item.icon)
            html += `<span class="material-icons ${so_config_default.cls("me-2")}">${this._escapeHtml(item.icon)}</span>`;
          html += this._escapeHtml(item.label);
          html += "</a></li>";
        }
      });
      html += "</ul>";
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._trigger)
        config.trigger = this._trigger;
      if (this._triggerIcon)
        config.triggerIcon = this._triggerIcon;
      if (this._items.length > 0)
        config.items = this._items;
      if (this._direction !== "down")
        config.direction = this._direction;
      if (this._alignment !== "start")
        config.alignment = this._alignment;
      if (this._variant !== "secondary")
        config.variant = this._variant;
      if (this._split)
        config.split = true;
      if (this._buttonSize)
        config.size = this._buttonSize;
      if (this._dark)
        config.dark = true;
      if (this._autoClose !== true)
        config.autoClose = this._autoClose;
      return config;
    }
  };
  __publicField(Dropdown, "NAME", "ui-dropdown");
  __publicField(Dropdown, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "dropdown", tagName: "div" }));

  // src/js/ui-engine/elements/navigation/ContextMenu.js
  var ContextMenu = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._items = config.items || [];
      this._target = config.target || null;
      this._dark = config.dark || false;
    }
    items(items) {
      this._items = items;
      return this;
    }
    addItem(label, icon = null, action = null, shortcut = null, disabled = false) {
      this._items.push({ type: "item", label, icon, action, shortcut, disabled });
      return this;
    }
    addDivider() {
      this._items.push({ type: "divider" });
      return this;
    }
    addSubmenu(label, items, icon = null) {
      this._items.push({ type: "submenu", label, icon, items });
      return this;
    }
    target(selector) {
      this._target = selector;
      return this;
    }
    dark(val = true) {
      this._dark = val;
      return this;
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("context-menu"));
      if (this._dark)
        this._extraClasses.add(so_config_default.cls("context-menu-dark"));
      return super.buildClassString();
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("ui-init")] = "context-menu";
      attrs.role = "menu";
      attrs["aria-hidden"] = "true";
      const config = {};
      if (this._target)
        config.target = this._target;
      attrs[so_config_default.data("ui-config")] = JSON.stringify(config);
      return attrs;
    }
    renderContent() {
      return this._renderMenuItems(this._items);
    }
    _renderMenuItems(items) {
      let html = `<ul class="${so_config_default.cls("context-menu-list")}">`;
      items.forEach((item) => {
        if (item.type === "divider") {
          html += `<li class="${so_config_default.cls("context-menu-divider")}"></li>`;
        } else if (item.type === "submenu") {
          html += `<li class="${so_config_default.cls("context-menu-item")} ${so_config_default.cls("context-menu-submenu")}">`;
          html += `<button type="button" class="${so_config_default.cls("context-menu-btn")}">`;
          if (item.icon)
            html += `<span class="material-icons ${so_config_default.cls("context-menu-icon")}">${this._escapeHtml(item.icon)}</span>`;
          html += `<span class="${so_config_default.cls("context-menu-label")}">${this._escapeHtml(item.label)}</span>`;
          html += `<span class="material-icons ${so_config_default.cls("context-menu-arrow")}">chevron_right</span>`;
          html += "</button>";
          html += `<div class="${so_config_default.cls("context-menu-nested")}">${this._renderMenuItems(item.items || [])}</div>`;
          html += "</li>";
        } else {
          let itemClass = so_config_default.cls("context-menu-item");
          if (item.disabled)
            itemClass += " disabled";
          html += `<li class="${itemClass}">`;
          html += `<button type="button" class="${so_config_default.cls("context-menu-btn")}"`;
          if (item.action)
            html += ` ${so_config_default.data("action")}="${this._escapeHtml(item.action)}"`;
          if (item.disabled)
            html += " disabled";
          html += ">";
          if (item.icon)
            html += `<span class="material-icons ${so_config_default.cls("context-menu-icon")}">${this._escapeHtml(item.icon)}</span>`;
          html += `<span class="${so_config_default.cls("context-menu-label")}">${this._escapeHtml(item.label)}</span>`;
          if (item.shortcut)
            html += `<span class="${so_config_default.cls("context-menu-shortcut")}">${this._escapeHtml(item.shortcut)}</span>`;
          html += "</button></li>";
        }
      });
      html += "</ul>";
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._items.length > 0)
        config.items = this._items;
      if (this._target)
        config.target = this._target;
      if (this._dark)
        config.dark = true;
      return config;
    }
  };
  __publicField(ContextMenu, "NAME", "ui-context-menu");
  __publicField(ContextMenu, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "context-menu", tagName: "div" }));

  // src/js/ui-engine/elements/navigation/Navbar.js
  var Navbar = class extends Element2 {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._brand = config.brand || null;
      this._brandUrl = config.brandUrl || "/";
      this._brandImage = config.brandImage || null;
      this._items = config.items || [];
      this._rightItems = config.rightItems || [];
      this._colorScheme = config.colorScheme || "light";
      this._background = config.background || null;
      this._expand = config.expand || "lg";
      this._fixed = config.fixed || null;
      this._sticky = config.sticky || false;
      this._container = config.container || "container";
    }
    brand(text, url = "/") {
      this._brand = text;
      this._brandUrl = url;
      return this;
    }
    brandImage(url) {
      this._brandImage = url;
      return this;
    }
    items(items) {
      this._items = items;
      return this;
    }
    addItem(label, url = "#", active = false, disabled = false) {
      this._items.push({ type: "link", label, url, active, disabled });
      return this;
    }
    addDropdown(label, items) {
      this._items.push({ type: "dropdown", label, items });
      return this;
    }
    rightItems(items) {
      this._rightItems = items;
      return this;
    }
    colorScheme(scheme) {
      this._colorScheme = scheme;
      return this;
    }
    light() {
      return this.colorScheme("light");
    }
    dark() {
      return this.colorScheme("dark");
    }
    background(bg) {
      this._background = bg;
      return this;
    }
    expand(bp) {
      this._expand = bp;
      return this;
    }
    fixed(pos) {
      this._fixed = pos;
      return this;
    }
    fixedTop() {
      return this.fixed("top");
    }
    fixedBottom() {
      return this.fixed("bottom");
    }
    sticky(val = true) {
      this._sticky = val;
      return this;
    }
    container(type) {
      this._container = type;
      return this;
    }
    fluid() {
      return this.container("container-fluid");
    }
    buildClassString() {
      this._extraClasses.add(so_config_default.cls("navbar"));
      this._extraClasses.add(so_config_default.cls("navbar-expand", this._expand));
      this._extraClasses.add(so_config_default.cls(this._colorScheme === "dark" ? "navbar-dark" : "navbar-light"));
      if (this._background)
        this._extraClasses.add(so_config_default.cls("bg", this._background));
      if (this._fixed)
        this._extraClasses.add(so_config_default.cls("fixed", this._fixed));
      if (this._sticky)
        this._extraClasses.add(so_config_default.cls("sticky-top"));
      return super.buildClassString();
    }
    renderContent() {
      const navbarId = this._id || `navbar-${Math.random().toString(36).substr(2, 9)}`;
      let html = `<div class="${so_config_default.cls(this._container)}">`;
      html += `<a class="${so_config_default.cls("navbar-brand")}" href="${this._escapeHtml(this._brandUrl)}">`;
      if (this._brandImage)
        html += `<img src="${this._escapeHtml(this._brandImage)}" alt="${this._escapeHtml(this._brand || "")}" height="30">`;
      if (this._brand)
        html += this._escapeHtml(this._brand);
      html += "</a>";
      html += `<button class="${so_config_default.cls("navbar-toggler")}" type="button" ${so_config_default.data("toggle")}="collapse" ${so_config_default.data("target")}="#${navbarId}-collapse">`;
      html += `<span class="${so_config_default.cls("navbar-toggler-icon")}"></span></button>`;
      html += `<div class="${so_config_default.cls("collapse")} ${so_config_default.cls("navbar-collapse")}" id="${navbarId}-collapse">`;
      html += `<ul class="${so_config_default.cls("navbar-nav")} ${so_config_default.cls("me-auto")} ${so_config_default.cls("mb-2")} ${so_config_default.cls("mb-lg-0")}">`;
      html += this._renderNavItems(this._items);
      html += "</ul>";
      if (this._rightItems.length > 0) {
        html += `<ul class="${so_config_default.cls("navbar-nav")} ${so_config_default.cls("mb-2")} ${so_config_default.cls("mb-lg-0")}">`;
        html += this._renderNavItems(this._rightItems);
        html += "</ul>";
      }
      html += "</div></div>";
      return html;
    }
    _renderNavItems(items) {
      let html = "";
      items.forEach((item) => {
        if (item.type === "dropdown") {
          html += `<li class="${so_config_default.cls("nav-item")} ${so_config_default.cls("dropdown")}">`;
          html += `<a class="${so_config_default.cls("nav-link")} ${so_config_default.cls("dropdown-toggle")}" href="#" ${so_config_default.data("toggle")}="dropdown">${this._escapeHtml(item.label)}</a>`;
          html += `<ul class="${so_config_default.cls("dropdown-menu")}">`;
          (item.items || []).forEach((sub) => {
            if (sub.type === "divider") {
              html += `<li><hr class="${so_config_default.cls("dropdown-divider")}"></li>`;
            } else {
              html += `<li><a class="${so_config_default.cls("dropdown-item")}" href="${this._escapeHtml(sub.url || "#")}">${this._escapeHtml(sub.label)}</a></li>`;
            }
          });
          html += "</ul></li>";
        } else {
          let linkClass = so_config_default.cls("nav-link");
          if (item.active)
            linkClass += ` ${so_config_default.cls("active")}`;
          if (item.disabled)
            linkClass += " disabled";
          html += `<li class="${so_config_default.cls("nav-item")}">`;
          html += `<a class="${linkClass}" href="${this._escapeHtml(item.url || "#")}"`;
          if (item.active)
            html += ' aria-current="page"';
          html += `>${this._escapeHtml(item.label)}</a></li>`;
        }
      });
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._brand)
        config.brand = this._brand;
      if (this._brandUrl !== "/")
        config.brandUrl = this._brandUrl;
      if (this._brandImage)
        config.brandImage = this._brandImage;
      if (this._items.length > 0)
        config.items = this._items;
      if (this._rightItems.length > 0)
        config.rightItems = this._rightItems;
      if (this._colorScheme !== "light")
        config.colorScheme = this._colorScheme;
      if (this._background)
        config.background = this._background;
      if (this._expand !== "lg")
        config.expand = this._expand;
      if (this._fixed)
        config.fixed = this._fixed;
      if (this._sticky)
        config.sticky = true;
      if (this._container !== "container")
        config.container = this._container;
      return config;
    }
  };
  __publicField(Navbar, "NAME", "ui-navbar");
  __publicField(Navbar, "DEFAULTS", __spreadProps(__spreadValues({}, Element2.DEFAULTS), { type: "navbar", tagName: "nav" }));

  // src/js/ui-engine/elements/navigation/Collapse.js
  var Collapse = class extends ContainerElement {
    _initFromConfig(config) {
      super._initFromConfig(config);
      this._collapseContent = config.content || null;
      this._trigger = config.trigger || null;
      this._triggerVariant = config.triggerVariant || "primary";
      this._expanded = config.expanded || false;
      this._horizontal = config.horizontal || false;
      this._showTrigger = config.showTrigger !== false;
    }
    content(content) {
      this._collapseContent = content;
      return this;
    }
    trigger(text) {
      this._trigger = text;
      return this;
    }
    triggerVariant(v) {
      this._triggerVariant = v;
      return this;
    }
    expanded(val = true) {
      this._expanded = val;
      return this;
    }
    collapsed() {
      return this.expanded(false);
    }
    horizontal(val = true) {
      this._horizontal = val;
      return this;
    }
    showTrigger(val = true) {
      this._showTrigger = val;
      return this;
    }
    hideTrigger() {
      return this.showTrigger(false);
    }
    buildAttributes() {
      const attrs = super.buildAttributes();
      attrs[so_config_default.data("ui-init")] = "collapse";
      attrs[so_config_default.data("ui-config")] = JSON.stringify({
        expanded: this._expanded,
        horizontal: this._horizontal
      });
      return attrs;
    }
    toHtml() {
      const collapseId = this._id || `collapse-${Math.random().toString(36).substr(2, 9)}`;
      let html = "";
      if (this._showTrigger && this._trigger) {
        const btnClass = `${so_config_default.cls("btn")} ${so_config_default.cls("btn", this._triggerVariant)}`;
        html += `<button class="${btnClass}" type="button"`;
        html += ` ${so_config_default.data("toggle")}="collapse"`;
        html += ` ${so_config_default.data("target")}="#${collapseId}"`;
        html += ` aria-expanded="${this._expanded}"`;
        html += ` aria-controls="${collapseId}">`;
        html += this._escapeHtml(this._trigger);
        html += "</button>";
      }
      let collapseClass = so_config_default.cls("collapse");
      if (this._horizontal)
        collapseClass += ` ${so_config_default.cls("collapse-horizontal")}`;
      if (this._expanded)
        collapseClass += ` ${so_config_default.cls("show")}`;
      html += `<div class="${collapseClass}" id="${collapseId}">`;
      if (this._horizontal)
        html += `<div class="${so_config_default.cls("collapse-horizontal-inner")}">`;
      if (this._collapseContent)
        html += this._collapseContent;
      html += this.renderChildren();
      if (this._horizontal)
        html += "</div>";
      html += "</div>";
      return html;
    }
    toConfig() {
      const config = super.toConfig();
      if (this._collapseContent)
        config.content = this._collapseContent;
      if (this._trigger)
        config.trigger = this._trigger;
      if (this._triggerVariant !== "primary")
        config.triggerVariant = this._triggerVariant;
      if (this._expanded)
        config.expanded = true;
      if (this._horizontal)
        config.horizontal = true;
      if (!this._showTrigger)
        config.showTrigger = false;
      return config;
    }
  };
  __publicField(Collapse, "NAME", "ui-collapse");
  __publicField(Collapse, "DEFAULTS", __spreadProps(__spreadValues({}, ContainerElement.DEFAULTS), { type: "collapse", tagName: "div" }));

  // src/js/ui-engine/UiEngine.js
  var UiEngine = class {
    // ==================
    // Element Registration
    // ==================
    /**
     * Register an element type
     * @param {string} type
     * @param {Function} elementClass
     */
    static register(type, elementClass) {
      this.elements[type] = elementClass;
    }
    /**
     * Check if element type is registered
     * @param {string} type
     * @returns {boolean}
     */
    static hasElement(type) {
      return this.elements.hasOwnProperty(type);
    }
    /**
     * Get registered element class
     * @param {string} type
     * @returns {Function|null}
     */
    static getElementClass(type) {
      return this.elements[type] || null;
    }
    /**
     * Get all registered types
     * @returns {string[]}
     */
    static getElementTypes() {
      return Object.keys(this.elements);
    }
    // ==================
    // Configuration
    // ==================
    /**
     * Configure global options
     * @param {Object} options
     */
    static configure(options) {
      Object.assign(this.config, options);
    }
    /**
     * Get configuration value
     * @param {string} key
     * @param {*} defaultValue
     * @returns {*}
     */
    static getConfig(key, defaultValue = null) {
      var _a;
      return (_a = this.config[key]) != null ? _a : defaultValue;
    }
    // ==================
    // Factory Methods
    // ==================
    /**
     * Create element from config
     * @param {Object} config
     * @returns {Element}
     */
    static fromConfig(config) {
      const type = config.type;
      if (!type) {
        throw new Error('Element config must include a "type" key');
      }
      const ElementClass = this.elements[type];
      if (!ElementClass) {
        if (config.children) {
          return ContainerElement.make(config);
        }
        if (config.name) {
          return FormElement.make(config);
        }
        return Element2.make(config);
      }
      return ElementClass.make(config);
    }
    /**
     * Create element from JSON string
     * @param {string} json
     * @returns {Element}
     */
    static fromJson(json) {
      const config = JSON.parse(json);
      return this.fromConfig(config);
    }
    /**
     * Create multiple elements from configs
     * @param {Array} configs
     * @returns {Element[]}
     */
    static fromConfigMany(configs) {
      return configs.map((config) => this.fromConfig(config));
    }
    /**
     * Alias for fromConfig
     * @param {Object} config
     * @returns {Element}
     */
    static make(config) {
      return this.fromConfig(config);
    }
    // ==================
    // Shortcut Factories
    // ==================
    /**
     * Create input element
     * @param {string} name
     * @returns {FormElement}
     */
    static input(name = null) {
      return FormElement.make({
        type: "input",
        tagName: "input",
        name
      });
    }
    /**
     * Create email input
     * @param {string} name
     * @returns {FormElement}
     */
    static email(name = null) {
      const input = this.input(name);
      input.setAttr("type", "email");
      input.email();
      return input;
    }
    /**
     * Create password input
     * @param {string} name
     * @returns {FormElement}
     */
    static password(name = null) {
      const input = this.input(name);
      input.setAttr("type", "password");
      return input;
    }
    /**
     * Create textarea element
     * @param {string} name
     * @returns {FormElement}
     */
    static textarea(name = null) {
      return FormElement.make({
        type: "textarea",
        tagName: "textarea",
        name
      });
    }
    /**
     * Create select element
     * @param {string} name
     * @returns {FormElement}
     */
    static select(name = null) {
      return FormElement.make({
        type: "select",
        tagName: "select",
        name
      });
    }
    /**
     * Create switch element
     * @param {string} name
     * @returns {SwitchElement}
     */
    static switch(name = null) {
      return SwitchElement.make({
        type: "switch",
        name
      });
    }
    /**
     * Create toggle element (alias for switch)
     * @param {string} name
     * @returns {SwitchElement}
     */
    static toggle(name = null) {
      return this.switch(name);
    }
    /**
     * Create button element
     * @param {string} text
     * @returns {Element}
     */
    static button(text = null) {
      const btn = Element2.make({
        type: "button",
        tagName: "button",
        content: text
      });
      btn.setClass(`${so_config_default.cls("btn")} ${so_config_default.cls("btn-primary")}`);
      return btn;
    }
    /**
     * Create submit button
     * @param {string} text
     * @returns {Element}
     */
    static submit(text = "Submit") {
      const btn = this.button(text);
      btn.setAttr("type", "submit");
      return btn;
    }
    /**
     * Create form element
     * @param {string} action
     * @returns {ContainerElement}
     */
    static form(action = null) {
      const form = ContainerElement.make({
        type: "form",
        tagName: "form"
      });
      if (action) {
        form.setAttr("action", action);
      }
      form.setAttr("method", "POST");
      return form;
    }
    /**
     * Create row element
     * @returns {ContainerElement}
     */
    static row() {
      const row = ContainerElement.make({
        type: "row",
        tagName: "div"
      });
      row.setClass(so_config_default.cls("row"));
      return row;
    }
    /**
     * Create column element
     * @param {number|string} size
     * @returns {ContainerElement}
     */
    static col(size = null) {
      const col = ContainerElement.make({
        type: "column",
        tagName: "div"
      });
      col.setClass(size ? so_config_default.cls("col", size) : so_config_default.cls("col"));
      return col;
    }
    /**
     * Create container element
     * @param {boolean} fluid
     * @returns {ContainerElement}
     */
    static container(fluid = false) {
      const container = ContainerElement.make({
        type: "container",
        tagName: "div"
      });
      container.setClass(fluid ? so_config_default.cls("container-fluid") : so_config_default.cls("container"));
      return container;
    }
    /**
     * Create card element
     * @param {string} title
     * @returns {ContainerElement}
     */
    static card(title = null) {
      const card = ContainerElement.make({
        type: "card",
        tagName: "div"
      });
      card.setClass(so_config_default.cls("card"));
      if (title) {
        card._title = title;
      }
      return card;
    }
    /**
     * Create alert element
     * @param {string} message
     * @returns {Element}
     */
    static alert(message = null) {
      const alert2 = Element2.make({
        type: "alert",
        tagName: "div",
        content: message
      });
      alert2.setClass(`${so_config_default.cls("alert")} ${so_config_default.cls("alert-info")}`);
      alert2.setAttr("role", "alert");
      return alert2;
    }
    // ==================
    // Rendering
    // ==================
    /**
     * Render elements to container
     * @param {Element[]} elements
     * @param {HTMLElement|string} container
     */
    static render(elements, container) {
      const target = typeof container === "string" ? document.querySelector(container) : container;
      if (!target)
        return;
      const fragment = document.createDocumentFragment();
      elements.forEach((el) => {
        if (el instanceof Element2) {
          fragment.appendChild(el.render());
        }
      });
      target.appendChild(fragment);
    }
    /**
     * Render config to container
     * @param {Object[]} configs
     * @param {HTMLElement|string} container
     */
    static renderFromConfig(configs, container) {
      const elements = this.fromConfigMany(configs);
      this.render(elements, container);
    }
    // ==================
    // Validation
    // ==================
    /**
     * Load validation rules from PHP export
     * @param {string|Object} formSelectorOrRules
     * @param {Object} [rules]
     */
    static loadValidation(formSelectorOrRules, rules2 = null) {
      ValidationEngine.loadRules(formSelectorOrRules, rules2);
    }
    /**
     * Validate a form
     * @param {HTMLFormElement|Element} form
     * @returns {{valid: boolean, errors: Object}}
     */
    static validateForm(form) {
      return ValidationEngine.validateForm(form);
    }
    /**
     * Validate a field
     * @param {HTMLElement|FormElement} field
     * @returns {{valid: boolean, errors: string[]}}
     */
    static validateField(field) {
      return ValidationEngine.validateField(field);
    }
    /**
     * Register custom validation rule
     * @param {string} name
     * @param {Function} validator
     * @param {string} message
     */
    static registerRule(name, validator, message = null) {
      ValidationEngine.registerRule(name, validator, message);
    }
    /**
     * Attach form validation
     * @param {HTMLFormElement|string} form
     * @param {Object} options
     */
    static attachValidation(form, options = {}) {
      const { onSuccess, onError, validateOnBlur = true } = options;
      if (validateOnBlur) {
        ValidationEngine.attachBlurValidation(form);
      }
      ValidationEngine.attachSubmitValidation(form, onSuccess, onError);
    }
    // ==================
    // Error Reporter
    // ==================
    /**
     * Get error reporter instance
     * @returns {ErrorReporter}
     */
    static get errors() {
      return ErrorReporter.getInstance();
    }
    /**
     * Show errors
     * @param {Object} errors
     */
    static showErrors(errors) {
      this.errors.showAll(errors);
    }
    /**
     * Clear all errors
     */
    static clearErrors() {
      this.errors.clearAll();
    }
    /**
     * Configure error reporter
     * @param {Object} options
     */
    static configureErrors(options) {
      this.errors.configure(options);
    }
    // ==================
    // Auto-Initialization
    // ==================
    /**
     * Initialize all PHP-rendered UiEngine elements on the page
     * Call once after DOM ready or after AJAX content load
     *
     * @param {Element|Document} container - Scope to search within (default: document)
     * @returns {Map} Map of initialized elements by ID or element reference
     */
    static init(container = document) {
      const initialized = /* @__PURE__ */ new Map();
      const selector = `[${so_config_default.data("ui-init")}]`;
      container.querySelectorAll(selector).forEach((el) => {
        if (el._uiEngineInstance)
          return;
        const type = el.getAttribute(so_config_default.data("ui-init"));
        const configAttr = el.getAttribute(so_config_default.data("ui-config"));
        const config = configAttr ? JSON.parse(configAttr) : {};
        const instance = this.initElement(el, type, config);
        if (instance) {
          initialized.set(el.id || el, instance);
        }
      });
      return initialized;
    }
    /**
     * Initialize a single element from existing DOM
     *
     * @param {Element} el - DOM element
     * @param {string} type - Element type (modal, dropdown, etc.)
     * @param {Object} config - Configuration options
     * @returns {Object|null} Instance or null if type not found
     */
    static initElement(el, type, config = {}) {
      const ElementClass = this.elements[type];
      if (!ElementClass) {
        console.warn(`UiEngine: Unknown element type "${type}"`);
        return null;
      }
      const instance = new ElementClass(__spreadProps(__spreadValues({}, config), {
        _domElement: el,
        id: el.id || config.id
      }));
      el._uiEngineInstance = instance;
      return instance;
    }
    /**
     * Get existing UiEngine instance from DOM element
     *
     * @param {Element|string} element - DOM element or CSS selector
     * @returns {Object|null} Instance or null if not initialized
     */
    static getInstance(element) {
      const el = typeof element === "string" ? document.querySelector(element) : element;
      return (el == null ? void 0 : el._uiEngineInstance) || null;
    }
    /**
     * Get or initialize an element by selector
     *
     * If the element has already been initialized, returns existing instance.
     * Otherwise initializes it based on data-so-ui-init attribute.
     *
     * @param {string} selector - CSS selector
     * @param {Object} config - Optional config override
     * @returns {Object|null} Instance or null if element not found
     */
    static get(selector, config = {}) {
      const el = document.querySelector(selector);
      if (!el)
        return null;
      if (el._uiEngineInstance)
        return el._uiEngineInstance;
      const type = el.getAttribute(so_config_default.data("ui-init"));
      if (type) {
        const configAttr = el.getAttribute(so_config_default.data("ui-config"));
        const baseConfig = configAttr ? JSON.parse(configAttr) : {};
        return this.initElement(el, type, __spreadValues(__spreadValues({}, baseConfig), config));
      }
      return null;
    }
    /**
     * Re-initialize elements in a container (useful after AJAX content load)
     *
     * @param {string|Element} container - Container selector or element
     * @returns {Map} Map of newly initialized elements
     */
    static reinit(container) {
      const target = typeof container === "string" ? document.querySelector(container) : container;
      if (!target)
        return /* @__PURE__ */ new Map();
      return this.init(target);
    }
    /**
     * Destroy instance and clean up
     *
     * @param {Element|string} element - DOM element or selector
     * @returns {boolean} True if instance was destroyed
     */
    static destroy(element) {
      const el = typeof element === "string" ? document.querySelector(element) : element;
      if (!el || !el._uiEngineInstance)
        return false;
      if (typeof el._uiEngineInstance.destroy === "function") {
        el._uiEngineInstance.destroy();
      }
      delete el._uiEngineInstance;
      return true;
    }
  };
  /**
   * Registered element types
   * @type {Object}
   */
  __publicField(UiEngine, "elements", {});
  /**
   * Global configuration
   * @type {Object}
   */
  __publicField(UiEngine, "config", {
    defaultInputSize: "md",
    defaultButtonVariant: "primary",
    useInlineEvents: false
  });
  UiEngine.register("element", Element2);
  UiEngine.register("form-element", FormElement);
  UiEngine.register("container", ContainerElement);
  UiEngine.register("input", Input);
  UiEngine.register("select", Select);
  UiEngine.register("checkbox", Checkbox);
  UiEngine.register("radio", Radio);
  UiEngine.register("textarea", Textarea);
  UiEngine.register("button", Button);
  UiEngine.register("file-input", FileInput);
  UiEngine.register("hidden", Hidden);
  UiEngine.register("form", Form);
  UiEngine.register("autocomplete", Autocomplete);
  UiEngine.register("color-input", ColorInput);
  UiEngine.register("date-picker", DatePicker);
  UiEngine.register("time-picker", TimePicker);
  UiEngine.register("switch", SwitchElement);
  UiEngine.register("toggle", Toggle);
  UiEngine.register("slider", Slider);
  UiEngine.register("dropzone", Dropzone);
  UiEngine.register("otp-input", OtpInput);
  UiEngine.register("accordion", Accordion);
  UiEngine.register("alert", Alert);
  UiEngine.register("badge", Badge);
  UiEngine.register("card", Card);
  UiEngine.register("modal", Modal);
  UiEngine.register("progress", Progress);
  UiEngine.register("table", Table);
  UiEngine.register("tabs", Tabs);
  UiEngine.register("toast", Toast);
  UiEngine.register("tooltip", Tooltip);
  UiEngine.register("breadcrumb", Breadcrumb);
  UiEngine.register("pagination", Pagination);
  UiEngine.register("carousel", Carousel);
  UiEngine.register("timeline", Timeline);
  UiEngine.register("stepper", Stepper);
  UiEngine.register("list-group", ListGroup);
  UiEngine.register("rating", Rating);
  UiEngine.register("spinner", Spinner);
  UiEngine.register("skeleton", Skeleton);
  UiEngine.register("empty-state", EmptyState);
  UiEngine.register("media-object", MediaObject);
  UiEngine.register("code-block", CodeBlock);
  UiEngine.register("dropdown", Dropdown);
  UiEngine.register("context-menu", ContextMenu);
  UiEngine.register("navbar", Navbar);
  UiEngine.register("collapse", Collapse);
  UiEngine.register("row", Row);
  UiEngine.register("column", Column);
  UiEngine.register("col", Column);
  UiEngine.register("divider", Divider);
  UiEngine.register("grid", Grid);
  UiEngine.register("flex", Flex);
  window.UiEngine = UiEngine;

  // src/js/sixorbit-full.js
  window.SOModal = so_modal_default;
  window.SODrawer = so_drawer_default;
  window.SOToast = so_toast_default;
  window.SOAlert = so_alert_default;
  window.SODropdown = so_dropdown_default;
  window.SOTabs = so_tabs_default;
  window.SOTooltip = so_tooltip_default;
  window.SOSelect = so_select_default;
  window.SOAutocomplete = so_autocomplete_default;
  window.SOTable = so_table_default;
  window.SOPagination = so_pagination_default;
  window.SOTheme = so_theme_default;
  window.SONavbar = SONavbar;
  window.SOContextMenu = so_context_menu_default;
  window.SOCopy = so_copy_default;
  window.SOGoToTop = so_go_to_top_default;
  window.SOInputMask = SOInputMask;
  window.SOPasswordStrength = SOPasswordStrength;
  window.SOCharCounter = SOCharCounter;
  window.SOInputClear = SOInputClear;
  window.UiEngine = UiEngine;
  window.ValidationEngine = ValidationEngine;
  window.ErrorReporter = ErrorReporter;
  document.addEventListener("DOMContentLoaded", () => {
    const navbar = document.querySelector(".so-navbar");
    if (navbar) {
      SONavbar.getInstance(navbar);
    }
    const themeSettings = document.querySelector(".so-navbar-theme");
    if (themeSettings) {
      so_theme_default.getInstance(themeSettings);
    }
    so_forms_default.initAll();
    document.querySelectorAll(".so-otp-group").forEach((el) => {
      so_otp_default.getInstance(el);
    });
    so_tooltip_default.initAll();
    so_dropdown_default.initAll();
    so_tabs_default.initAll();
    so_button_group_default.initAll();
    so_progress_button_default.initAll();
    so_alert_default.initAll();
    so_select_default.initAll();
    so_autocomplete_default.initAll();
    so_table_default.initAll();
    so_pagination_default.initAll();
    so_drawer_default.initAll();
    so_copy_default.initAll();
    so_go_to_top_default.initAll();
    initAllFormEnhancers();
  });
  var sixorbit_full_default = so_config_default;
  return __toCommonJS(sixorbit_full_exports);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2pzL3NpeG9yYml0LWZ1bGwuanMiLCAic3JjL2pzL2NvcmUvc28tY29uZmlnLmpzIiwgInNyYy9qcy9jb3JlL3NvLWNvbXBvbmVudC5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby10aGVtZS5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby1kcm9wZG93bi5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby1sYXlvdXQuanMiLCAic3JjL2pzL2NvbXBvbmVudHMvc28tbW9kYWwuanMiLCAic3JjL2pzL2NvbXBvbmVudHMvc28tZHJhd2VyLmpzIiwgInNyYy9qcy9jb21wb25lbnRzL3NvLXJpcHBsZS5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby1vdHAuanMiLCAic3JjL2pzL2NvbXBvbmVudHMvc28tdGFicy5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby10b29sdGlwLmpzIiwgInNyYy9qcy9jb21wb25lbnRzL3NvLWNvbnRleHQtbWVudS5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby1wcm9ncmVzcy1idXR0b24uanMiLCAic3JjL2pzL2NvbXBvbmVudHMvc28tYnV0dG9uLWdyb3VwLmpzIiwgInNyYy9qcy9jb21wb25lbnRzL3NvLWFsZXJ0LmpzIiwgInNyYy9qcy9jb21wb25lbnRzL3NvLXRvYXN0LmpzIiwgInNyYy9qcy9jb21wb25lbnRzL3NvLXNlbGVjdC5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby1hdXRvY29tcGxldGUuanMiLCAic3JjL2pzL2NvbXBvbmVudHMvc28tdGFibGUuanMiLCAic3JjL2pzL2NvbXBvbmVudHMvc28tcGFnaW5hdGlvbi5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby1jb3B5LmpzIiwgInNyYy9qcy9jb21wb25lbnRzL3NvLWdvLXRvLXRvcC5qcyIsICJzcmMvanMvY29tcG9uZW50cy9zby1mb3JtLWVuaGFuY2Vycy5qcyIsICJzcmMvanMvZmVhdHVyZXMvc28tZm9ybXMuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9jb3JlL0VsZW1lbnQuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9jb3JlL0Zvcm1FbGVtZW50LmpzIiwgInNyYy9qcy91aS1lbmdpbmUvY29yZS9Db250YWluZXJFbGVtZW50LmpzIiwgInNyYy9qcy91aS1lbmdpbmUvdmFsaWRhdGlvbi9ydWxlcy9pbmRleC5qcyIsICJzcmMvanMvdWktZW5naW5lL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVuZ2luZS5qcyIsICJzcmMvanMvdWktZW5naW5lL3ZhbGlkYXRpb24vRXJyb3JSZXBvcnRlci5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Zvcm0vSW5wdXQuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9mb3JtL1NlbGVjdC5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Zvcm0vQ2hlY2tib3guanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9mb3JtL1JhZGlvLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZm9ybS9UZXh0YXJlYS5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Zvcm0vQnV0dG9uLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZm9ybS9GaWxlSW5wdXQuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9mb3JtL0hpZGRlbi5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Zvcm0vRm9ybS5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Zvcm0vQXV0b2NvbXBsZXRlLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZm9ybS9Db2xvcklucHV0LmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZm9ybS9EYXRlUGlja2VyLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZm9ybS9UaW1lUGlja2VyLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZm9ybS9Td2l0Y2hFbGVtZW50LmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZm9ybS9TbGlkZXIuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9mb3JtL0Ryb3B6b25lLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZm9ybS9PdHBJbnB1dC5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Rpc3BsYXkvQWNjb3JkaW9uLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZGlzcGxheS9BbGVydC5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Rpc3BsYXkvQmFkZ2UuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9kaXNwbGF5L0NhcmQuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9kaXNwbGF5L01vZGFsLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZGlzcGxheS9Qcm9ncmVzcy5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Rpc3BsYXkvVGFibGUuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9kaXNwbGF5L1RhYnMuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9kaXNwbGF5L1RvYXN0LmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZGlzcGxheS9Ub29sdGlwLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZGlzcGxheS9CcmVhZGNydW1iLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZGlzcGxheS9QYWdpbmF0aW9uLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZGlzcGxheS9DYXJvdXNlbC5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Rpc3BsYXkvVGltZWxpbmUuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9kaXNwbGF5L1N0ZXBwZXIuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9kaXNwbGF5L0xpc3RHcm91cC5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Rpc3BsYXkvUmF0aW5nLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZGlzcGxheS9TcGlubmVyLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvZGlzcGxheS9Ta2VsZXRvbi5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Rpc3BsYXkvRW1wdHlTdGF0ZS5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2Rpc3BsYXkvTWVkaWFPYmplY3QuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9kaXNwbGF5L0NvZGVCbG9jay5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2xheW91dC9Db250YWluZXIuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9sYXlvdXQvUm93LmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvbGF5b3V0L0NvbHVtbi5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL2xheW91dC9EaXZpZGVyLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvbGF5b3V0L0dyaWQuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9sYXlvdXQvRmxleC5qcyIsICJzcmMvanMvdWktZW5naW5lL2VsZW1lbnRzL25hdmlnYXRpb24vRHJvcGRvd24uanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9uYXZpZ2F0aW9uL0NvbnRleHRNZW51LmpzIiwgInNyYy9qcy91aS1lbmdpbmUvZWxlbWVudHMvbmF2aWdhdGlvbi9OYXZiYXIuanMiLCAic3JjL2pzL3VpLWVuZ2luZS9lbGVtZW50cy9uYXZpZ2F0aW9uL0NvbGxhcHNlLmpzIiwgInNyYy9qcy91aS1lbmdpbmUvVWlFbmdpbmUuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIEZVTEwgSkFWQVNDUklQVFxuLy8gQ29tcGxldGUgZnJhbWV3b3JrIHdpdGggYWxsIGZlYXR1cmVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBDb3JlIG1vZHVsZXMgKFNpeE9yYml0IGdsb2JhbCBpcyBleHBvc2VkIHRvIHdpbmRvdyBpbiBzby1jb25maWcuanMpXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSBcIi4vY29yZS9zby1jb25maWcuanNcIjtcbmltcG9ydCBTT0NvbXBvbmVudCBmcm9tIFwiLi9jb3JlL3NvLWNvbXBvbmVudC5qc1wiO1xuXG4vLyBDb3JlIGNvbXBvbmVudHNcbmltcG9ydCBTT1RoZW1lIGZyb20gXCIuL2NvbXBvbmVudHMvc28tdGhlbWUuanNcIjtcbmltcG9ydCBTT0Ryb3Bkb3duIGZyb20gXCIuL2NvbXBvbmVudHMvc28tZHJvcGRvd24uanNcIjtcbi8vIE5vdGU6IFNPU2lkZWJhciBtb3ZlZCB0byBzcmMvcGFnZXMvZ2xvYmFsL2dsb2JhbC5qc1xuaW1wb3J0IHsgU09OYXZiYXIgfSBmcm9tIFwiLi9jb21wb25lbnRzL3NvLWxheW91dC5qc1wiO1xuaW1wb3J0IFNPTW9kYWwgZnJvbSBcIi4vY29tcG9uZW50cy9zby1tb2RhbC5qc1wiO1xuaW1wb3J0IFNPRHJhd2VyIGZyb20gXCIuL2NvbXBvbmVudHMvc28tZHJhd2VyLmpzXCI7XG5pbXBvcnQgU09SaXBwbGUgZnJvbSBcIi4vY29tcG9uZW50cy9zby1yaXBwbGUuanNcIjtcbmltcG9ydCBTT090cElucHV0IGZyb20gXCIuL2NvbXBvbmVudHMvc28tb3RwLmpzXCI7XG5pbXBvcnQgU09UYWJzIGZyb20gXCIuL2NvbXBvbmVudHMvc28tdGFicy5qc1wiO1xuaW1wb3J0IFNPVG9vbHRpcCBmcm9tIFwiLi9jb21wb25lbnRzL3NvLXRvb2x0aXAuanNcIjtcbmltcG9ydCBTT0NvbnRleHRNZW51IGZyb20gXCIuL2NvbXBvbmVudHMvc28tY29udGV4dC1tZW51LmpzXCI7XG5pbXBvcnQgU09Qcm9ncmVzc0J1dHRvbiBmcm9tIFwiLi9jb21wb25lbnRzL3NvLXByb2dyZXNzLWJ1dHRvbi5qc1wiO1xuaW1wb3J0IFNPQnV0dG9uR3JvdXAgZnJvbSBcIi4vY29tcG9uZW50cy9zby1idXR0b24tZ3JvdXAuanNcIjtcbmltcG9ydCBTT0FsZXJ0IGZyb20gXCIuL2NvbXBvbmVudHMvc28tYWxlcnQuanNcIjtcbmltcG9ydCBTT1RvYXN0IGZyb20gXCIuL2NvbXBvbmVudHMvc28tdG9hc3QuanNcIjtcbmltcG9ydCBTT1NlbGVjdCBmcm9tIFwiLi9jb21wb25lbnRzL3NvLXNlbGVjdC5qc1wiO1xuaW1wb3J0IFNPQXV0b2NvbXBsZXRlIGZyb20gXCIuL2NvbXBvbmVudHMvc28tYXV0b2NvbXBsZXRlLmpzXCI7XG5pbXBvcnQgU09UYWJsZSBmcm9tIFwiLi9jb21wb25lbnRzL3NvLXRhYmxlLmpzXCI7XG5pbXBvcnQgU09QYWdpbmF0aW9uIGZyb20gXCIuL2NvbXBvbmVudHMvc28tcGFnaW5hdGlvbi5qc1wiO1xuaW1wb3J0IFNPQ29weSBmcm9tIFwiLi9jb21wb25lbnRzL3NvLWNvcHkuanNcIjtcbmltcG9ydCBTT0dvVG9Ub3AgZnJvbSBcIi4vY29tcG9uZW50cy9zby1nby10by10b3AuanNcIjtcbmltcG9ydCB7XG4gIFNPSW5wdXRNYXNrLFxuICBTT1Bhc3N3b3JkU3RyZW5ndGgsXG4gIFNPQ2hhckNvdW50ZXIsXG4gIFNPSW5wdXRDbGVhcixcbiAgaW5pdEFsbEZvcm1FbmhhbmNlcnMsXG59IGZyb20gXCIuL2NvbXBvbmVudHMvc28tZm9ybS1lbmhhbmNlcnMuanNcIjtcblxuLy8gRmVhdHVyZXNcbmltcG9ydCBTT0Zvcm1zIGZyb20gXCIuL2ZlYXR1cmVzL3NvLWZvcm1zLmpzXCI7XG4vLyBOb3RlOiBTT0F1dGggbW92ZWQgdG8gc3JjL3BhZ2VzL2F1dGgvYXV0aC5qcyAocGFnZS1zcGVjaWZpYylcblxuLy8gVUkgRW5naW5lXG5pbXBvcnQge1xuICBVaUVuZ2luZSxcbiAgVmFsaWRhdGlvbkVuZ2luZSxcbiAgRXJyb3JSZXBvcnRlcixcbiAgRWxlbWVudCBhcyBVaUVsZW1lbnQsXG4gIEZvcm1FbGVtZW50IGFzIFVpRm9ybUVsZW1lbnQsXG4gIENvbnRhaW5lckVsZW1lbnQgYXMgVWlDb250YWluZXJFbGVtZW50LFxufSBmcm9tIFwiLi91aS1lbmdpbmUvaW5kZXguanNcIjtcblxuLy8gRXhwb3NlIGNvbXBvbmVudHMgdG8gZ2xvYmFsIHdpbmRvdyBmb3IgaW5saW5lIHNjcmlwdCB1c2FnZVxud2luZG93LlNPTW9kYWwgPSBTT01vZGFsO1xud2luZG93LlNPRHJhd2VyID0gU09EcmF3ZXI7XG53aW5kb3cuU09Ub2FzdCA9IFNPVG9hc3Q7XG53aW5kb3cuU09BbGVydCA9IFNPQWxlcnQ7XG53aW5kb3cuU09Ecm9wZG93biA9IFNPRHJvcGRvd247XG53aW5kb3cuU09UYWJzID0gU09UYWJzO1xud2luZG93LlNPVG9vbHRpcCA9IFNPVG9vbHRpcDtcbndpbmRvdy5TT1NlbGVjdCA9IFNPU2VsZWN0O1xud2luZG93LlNPQXV0b2NvbXBsZXRlID0gU09BdXRvY29tcGxldGU7XG53aW5kb3cuU09UYWJsZSA9IFNPVGFibGU7XG53aW5kb3cuU09QYWdpbmF0aW9uID0gU09QYWdpbmF0aW9uO1xud2luZG93LlNPVGhlbWUgPSBTT1RoZW1lO1xud2luZG93LlNPTmF2YmFyID0gU09OYXZiYXI7XG53aW5kb3cuU09Db250ZXh0TWVudSA9IFNPQ29udGV4dE1lbnU7XG53aW5kb3cuU09Db3B5ID0gU09Db3B5O1xud2luZG93LlNPR29Ub1RvcCA9IFNPR29Ub1RvcDtcbndpbmRvdy5TT0lucHV0TWFzayA9IFNPSW5wdXRNYXNrO1xud2luZG93LlNPUGFzc3dvcmRTdHJlbmd0aCA9IFNPUGFzc3dvcmRTdHJlbmd0aDtcbndpbmRvdy5TT0NoYXJDb3VudGVyID0gU09DaGFyQ291bnRlcjtcbndpbmRvdy5TT0lucHV0Q2xlYXIgPSBTT0lucHV0Q2xlYXI7XG5cbi8vIFVJIEVuZ2luZVxud2luZG93LlVpRW5naW5lID0gVWlFbmdpbmU7XG53aW5kb3cuVmFsaWRhdGlvbkVuZ2luZSA9IFZhbGlkYXRpb25FbmdpbmU7XG53aW5kb3cuRXJyb3JSZXBvcnRlciA9IEVycm9yUmVwb3J0ZXI7XG5cbi8vIEF1dG8taW5pdGlhbGl6ZSBhbGwgY29tcG9uZW50cyB3aGVuIERPTSBpcyByZWFkeVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAvLyBOb3RlOiBTaWRlYmFyIGluaXRpYWxpemF0aW9uIG1vdmVkIHRvIHNyYy9wYWdlcy9nbG9iYWwvZ2xvYmFsLmpzXG5cbiAgLy8gSW5pdGlhbGl6ZSBuYXZiYXIgaWYgcHJlc2VudFxuICBjb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNvLW5hdmJhclwiKTtcbiAgaWYgKG5hdmJhcikge1xuICAgIFNPTmF2YmFyLmdldEluc3RhbmNlKG5hdmJhcik7XG4gIH1cblxuICAvLyBJbml0aWFsaXplIHRoZW1lIGNvbnRyb2xsZXIgaWYgc2V0dGluZ3MgZXhpc3RcbiAgY29uc3QgdGhlbWVTZXR0aW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc28tbmF2YmFyLXRoZW1lXCIpO1xuICBpZiAodGhlbWVTZXR0aW5ncykge1xuICAgIFNPVGhlbWUuZ2V0SW5zdGFuY2UodGhlbWVTZXR0aW5ncyk7XG4gIH1cblxuICAvLyBJbml0aWFsaXplIGZvcm1zXG4gIFNPRm9ybXMuaW5pdEFsbCgpO1xuXG4gIC8vIEluaXRpYWxpemUgT1RQIGlucHV0cyBpZiBwcmVzZW50XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc28tb3RwLWdyb3VwXCIpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgU09PdHBJbnB1dC5nZXRJbnN0YW5jZShlbCk7XG4gIH0pO1xuXG4gIC8vIEluaXRpYWxpemUgdG9vbHRpcHNcbiAgU09Ub29sdGlwLmluaXRBbGwoKTtcblxuICAvLyBJbml0aWFsaXplIGRyb3Bkb3duc1xuICBTT0Ryb3Bkb3duLmluaXRBbGwoKTtcblxuICAvLyBJbml0aWFsaXplIHRhYnNcbiAgU09UYWJzLmluaXRBbGwoKTtcblxuICAvLyBJbml0aWFsaXplIGJ1dHRvbiBncm91cHNcbiAgU09CdXR0b25Hcm91cC5pbml0QWxsKCk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBwcm9ncmVzcyBidXR0b25zXG4gIFNPUHJvZ3Jlc3NCdXR0b24uaW5pdEFsbCgpO1xuXG4gIC8vIEluaXRpYWxpemUgZGlzbWlzc2libGUgYWxlcnRzXG4gIFNPQWxlcnQuaW5pdEFsbCgpO1xuXG4gIC8vIEluaXRpYWxpemUgY3VzdG9tIHNlbGVjdHNcbiAgU09TZWxlY3QuaW5pdEFsbCgpO1xuXG4gIC8vIEluaXRpYWxpemUgYXV0b2NvbXBsZXRlIGlucHV0c1xuICBTT0F1dG9jb21wbGV0ZS5pbml0QWxsKCk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB0YWJsZXNcbiAgU09UYWJsZS5pbml0QWxsKCk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBwYWdpbmF0aW9uXG4gIFNPUGFnaW5hdGlvbi5pbml0QWxsKCk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBkcmF3ZXJzXG4gIFNPRHJhd2VyLmluaXRBbGwoKTtcblxuICAvLyBJbml0aWFsaXplIGNvcHkgYnV0dG9uc1xuICBTT0NvcHkuaW5pdEFsbCgpO1xuXG4gIC8vIEluaXRpYWxpemUgZ28gdG8gdG9wIGJ1dHRvbnNcbiAgU09Hb1RvVG9wLmluaXRBbGwoKTtcblxuICAvLyBJbml0aWFsaXplIGZvcm0gZW5oYW5jZXJzIChpbnB1dCBtYXNrLCBwYXNzd29yZCBzdHJlbmd0aCwgY2hhciBjb3VudGVyLCBjbGVhciBidXR0b24pXG4gIGluaXRBbGxGb3JtRW5oYW5jZXJzKCk7XG5cbiAgLy8gY29uc29sZS5sb2coJ1NpeE9yYml0IFVJIEZ1bGwgaW5pdGlhbGl6ZWQnKTtcbn0pO1xuXG4vLyBFeHBvcnQgZXZlcnl0aGluZyBmb3IgRVMgbW9kdWxlc1xuZXhwb3J0IHtcbiAgU2l4T3JiaXQsXG4gIFNPQ29tcG9uZW50LFxuICBTT1RoZW1lLFxuICBTT0Ryb3Bkb3duLFxuICBTT05hdmJhcixcbiAgU09Nb2RhbCxcbiAgU09EcmF3ZXIsXG4gIFNPUmlwcGxlLFxuICBTT090cElucHV0LFxuICBTT1RhYnMsXG4gIFNPVG9vbHRpcCxcbiAgU09Db250ZXh0TWVudSxcbiAgU09Qcm9ncmVzc0J1dHRvbixcbiAgU09CdXR0b25Hcm91cCxcbiAgU09BbGVydCxcbiAgU09Ub2FzdCxcbiAgU09TZWxlY3QsXG4gIFNPQXV0b2NvbXBsZXRlLFxuICBTT1RhYmxlLFxuICBTT1BhZ2luYXRpb24sXG4gIFNPQ29weSxcbiAgU09Hb1RvVG9wLFxuICBTT0Zvcm1zLFxuICBTT0lucHV0TWFzayxcbiAgU09QYXNzd29yZFN0cmVuZ3RoLFxuICBTT0NoYXJDb3VudGVyLFxuICBTT0lucHV0Q2xlYXIsXG4gIC8vIFVJIEVuZ2luZVxuICBVaUVuZ2luZSxcbiAgVmFsaWRhdGlvbkVuZ2luZSxcbiAgRXJyb3JSZXBvcnRlcixcbiAgVWlFbGVtZW50LFxuICBVaUZvcm1FbGVtZW50LFxuICBVaUNvbnRhaW5lckVsZW1lbnQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaXhPcmJpdDtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgLSBHTE9CQUwgQ09ORklHVVJBVElPTlxuLy8gQ29yZSBjb25maWd1cmF0aW9uIGFuZCB1dGlsaXR5IGhlbHBlcnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2l4T3JiaXQgR2xvYmFsIENvbmZpZ3VyYXRpb24gT2JqZWN0XG4gKiBQcm92aWRlcyBjb25zdGFudHMsIGhlbHBlcnMsIGFuZCB1dGlsaXRpZXMgdXNlZCBhY3Jvc3MgYWxsIGNvbXBvbmVudHNcbiAqL1xuY29uc3QgU2l4T3JiaXQgPSB7XG4gIC8vIEV4cG9zZSB0byB3aW5kb3cgaW1tZWRpYXRlbHkgZm9yIG90aGVyIHNjcmlwdHNcbiAgLy8gVGhpcyBlbnN1cmVzIFNpeE9yYml0IGlzIGF2YWlsYWJsZSBiZWZvcmUgYW55IG90aGVyIGNvZGUgcnVuc1xufTtcblxuLy8gRXhwb3NlIHRvIGdsb2JhbCBzY29wZSBpbW1lZGlhdGVseVxud2luZG93LlNpeE9yYml0ID0gU2l4T3JiaXQ7XG5cbi8vIE5vdyBkZWZpbmUgYWxsIHByb3BlcnRpZXNcbk9iamVjdC5hc3NpZ24oU2l4T3JiaXQsIHtcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ09SRSBDT05TVEFOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKiogRnJhbWV3b3JrIHZlcnNpb24gKi9cbiAgVkVSU0lPTjogXCIxLjAuMFwiLFxuXG4gIC8qKiBDU1MgY2xhc3MgcHJlZml4ICovXG4gIFBSRUZJWDogXCJzb1wiLFxuXG4gIC8qKiBEYXRhIGF0dHJpYnV0ZSBwcmVmaXggKi9cbiAgREFUQV9QUkVGSVg6IFwiZGF0YS1zb1wiLFxuXG4gIC8qKiBDdXN0b20gZXZlbnQgcHJlZml4ICovXG4gIEVWRU5UX1BSRUZJWDogXCJzbzpcIixcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBDTEFTUyBOQU1FIEhFTFBFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBwcmVmaXhlZCBjbGFzcyBuYW1lXG4gICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBwYXJ0cyAtIENsYXNzIG5hbWUgcGFydHMgdG8gam9pblxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBQcmVmaXhlZCBjbGFzcyBuYW1lXG4gICAqIEBleGFtcGxlIFNpeE9yYml0LmNscygnYnRuJywgJ3ByaW1hcnknKSA9PiAnc28tYnRuLXByaW1hcnknXG4gICAqL1xuICBjbHMoLi4ucGFydHMpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5QUkVGSVh9LSR7cGFydHMuam9pbihcIi1cIil9YDtcbiAgfSxcblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBDU1Mgc2VsZWN0b3IgZm9yIGEgcHJlZml4ZWQgY2xhc3NcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IHBhcnRzIC0gQ2xhc3MgbmFtZSBwYXJ0c1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDU1Mgc2VsZWN0b3JcbiAgICogQGV4YW1wbGUgU2l4T3JiaXQuc2VsKCdidG4nKSA9PiAnLnNvLWJ0bidcbiAgICovXG4gIHNlbCguLi5wYXJ0cykge1xuICAgIHJldHVybiBgLiR7dGhpcy5jbHMoLi4ucGFydHMpfWA7XG4gIH0sXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gREFUQSBBVFRSSUJVVEUgSEVMUEVSU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHByZWZpeGVkIGRhdGEgYXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBBdHRyaWJ1dGUgbmFtZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBQcmVmaXhlZCBkYXRhIGF0dHJpYnV0ZVxuICAgKiBAZXhhbXBsZSBTaXhPcmJpdC5kYXRhKCd0b2dnbGUnKSA9PiAnZGF0YS1zby10b2dnbGUnXG4gICAqL1xuICBkYXRhKG5hbWUpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5EQVRBX1BSRUZJWH0tJHtuYW1lfWA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgQ1NTIHNlbGVjdG9yIGZvciBhIGRhdGEgYXR0cmlidXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gQXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV0gLSBPcHRpb25hbCBhdHRyaWJ1dGUgdmFsdWVcbiAgICogQHJldHVybnMge3N0cmluZ30gQ1NTIHNlbGVjdG9yXG4gICAqIEBleGFtcGxlIFNpeE9yYml0LmRhdGFTZWwoJ3RvZ2dsZScsICdtb2RhbCcpID0+ICdbZGF0YS1zby10b2dnbGU9XCJtb2RhbFwiXSdcbiAgICovXG4gIGRhdGFTZWwobmFtZSwgdmFsdWUpIHtcbiAgICBjb25zdCBhdHRyID0gdGhpcy5kYXRhKG5hbWUpO1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYFske2F0dHJ9PVwiJHt2YWx1ZX1cIl1gIDogYFske2F0dHJ9XWA7XG4gIH0sXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgSEVMUEVSU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHByZWZpeGVkIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBFdmVudCBuYW1lXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFByZWZpeGVkIGV2ZW50IG5hbWVcbiAgICogQGV4YW1wbGUgU2l4T3JiaXQuZXZ0KCdvcGVuJykgPT4gJ3NvOm9wZW4nXG4gICAqL1xuICBldnQobmFtZSkge1xuICAgIHJldHVybiBgJHt0aGlzLkVWRU5UX1BSRUZJWH0ke25hbWV9YDtcbiAgfSxcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTVE9SQUdFIEhFTFBFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBwcmVmaXhlZCBsb2NhbFN0b3JhZ2Uga2V5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gU3RvcmFnZSBrZXkgbmFtZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBQcmVmaXhlZCBzdG9yYWdlIGtleVxuICAgKiBAZXhhbXBsZSBTaXhPcmJpdC5zdG9yYWdlS2V5KCd0aGVtZScpID0+ICdzby10aGVtZSdcbiAgICovXG4gIHN0b3JhZ2VLZXkobmFtZSkge1xuICAgIHJldHVybiBgJHt0aGlzLlBSRUZJWH0tJHtuYW1lfWA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB2YWx1ZSBmcm9tIGxvY2FsU3RvcmFnZSB3aXRoIEpTT04gcGFyc2luZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFN0b3JhZ2Uga2V5IG5hbWUgKHdpbGwgYmUgcHJlZml4ZWQpXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT1udWxsXSAtIERlZmF1bHQgdmFsdWUgaWYgbm90IGZvdW5kXG4gICAqIEByZXR1cm5zIHsqfSBTdG9yZWQgdmFsdWUgb3IgZGVmYXVsdFxuICAgKi9cbiAgZ2V0U3RvcmFnZShuYW1lLCBkZWZhdWx0VmFsdWUgPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMuc3RvcmFnZUtleShuYW1lKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCA/IEpTT04ucGFyc2UodmFsdWUpIDogZGVmYXVsdFZhbHVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdmFsdWUgaW4gbG9jYWxTdG9yYWdlIHdpdGggSlNPTiBzdHJpbmdpZmljYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBTdG9yYWdlIGtleSBuYW1lICh3aWxsIGJlIHByZWZpeGVkKVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gc3RvcmVcbiAgICovXG4gIHNldFN0b3JhZ2UobmFtZSwgdmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5zdG9yYWdlS2V5KG5hbWUpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihgU2l4T3JiaXQ6IEZhaWxlZCB0byBzYXZlIHRvIGxvY2FsU3RvcmFnZTogJHtuYW1lfWAsIGUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlIHZhbHVlIGZyb20gbG9jYWxTdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gU3RvcmFnZSBrZXkgbmFtZSAod2lsbCBiZSBwcmVmaXhlZClcbiAgICovXG4gIHJlbW92ZVN0b3JhZ2UobmFtZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBrZXkgPSB0aGlzLnN0b3JhZ2VLZXkobmFtZSk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZSBlcnJvcnNcbiAgICB9XG4gIH0sXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ1NTIFZBUklBQkxFIEhFTFBFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR2V0IGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFZhcmlhYmxlIG5hbWUgKHdpdGhvdXQgLS1zby0gcHJlZml4KVxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtZW50PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudF0gLSBFbGVtZW50IHRvIGdldCBmcm9tXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IENTUyB2YXJpYWJsZSB2YWx1ZVxuICAgKi9cbiAgZ2V0Q3NzVmFyKG5hbWUsIGVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICAgICAgLmdldFByb3BlcnR5VmFsdWUoYC0tJHt0aGlzLlBSRUZJWH0tJHtuYW1lfWApXG4gICAgICAudHJpbSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgYSBDU1MgY3VzdG9tIHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVmFyaWFibGUgbmFtZSAod2l0aG91dCAtLXNvLSBwcmVmaXgpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFZhbHVlIHRvIHNldFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtZW50PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudF0gLSBFbGVtZW50IHRvIHNldCBvblxuICAgKi9cbiAgc2V0Q3NzVmFyKG5hbWUsIHZhbHVlLCBlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShgLS0ke3RoaXMuUFJFRklYfS0ke25hbWV9YCwgdmFsdWUpO1xuICB9LFxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFVUSUxJVFkgRlVOQ1RJT05TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIERlYm91bmNlIGEgZnVuY3Rpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBGdW5jdGlvbiB0byBkZWJvdW5jZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbGF5PTMwMF0gLSBEZWxheSBpbiBtaWxsaXNlY29uZHNcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBEZWJvdW5jZWQgZnVuY3Rpb25cbiAgICovXG4gIGRlYm91bmNlKGZuLCBkZWxheSA9IDMwMCkge1xuICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncyksIGRlbGF5KTtcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaHJvdHRsZSBhIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gRnVuY3Rpb24gdG8gdGhyb3R0bGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdD0xMDBdIC0gTWluaW11bSB0aW1lIGJldHdlZW4gY2FsbHMgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAqL1xuICB0aHJvdHRsZShmbiwgbGltaXQgPSAxMDApIHtcbiAgICBsZXQgaW5UaHJvdHRsZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgIGlmICghaW5UaHJvdHRsZSkge1xuICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgaW5UaHJvdHRsZSA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gKGluVGhyb3R0bGUgPSBmYWxzZSksIGxpbWl0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHVuaXF1ZSBJRFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nc28nXSAtIElEIHByZWZpeFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBVbmlxdWUgSURcbiAgICovXG4gIHVuaXF1ZUlkKHByZWZpeCA9IFwic29cIikge1xuICAgIHJldHVybiBgJHtwcmVmaXh9LSR7RGF0ZS5ub3coKS50b1N0cmluZygzNil9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpfWA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGVsZW1lbnQgbWF0Y2hlcyBhIHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gY2hlY2tcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gQ1NTIHNlbGVjdG9yXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIGVsZW1lbnQgbWF0Y2hlc1xuICAgKi9cbiAgbWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQubWF0Y2hlcyAmJiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaW5kIGNsb3Nlc3QgYW5jZXN0b3IgbWF0Y2hpbmcgc2VsZWN0b3JcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gU3RhcnRpbmcgZWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBDU1Mgc2VsZWN0b3JcbiAgICogQHJldHVybnMge0VsZW1lbnR8bnVsbH0gTWF0Y2hpbmcgYW5jZXN0b3Igb3IgbnVsbFxuICAgKi9cbiAgY2xvc2VzdChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuY2xvc2VzdCA/IGVsZW1lbnQuY2xvc2VzdChzZWxlY3RvcikgOiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQYXJzZSBkYXRhIGF0dHJpYnV0ZXMgZnJvbSBhbiBlbGVtZW50IGludG8gYW4gb3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBba2V5cz1bXV0gLSBTcGVjaWZpYyBrZXlzIHRvIHBhcnNlIChhbGwgaWYgZW1wdHkpXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFBhcnNlZCBvcHRpb25zXG4gICAqL1xuICBwYXJzZURhdGFPcHRpb25zKGVsZW1lbnQsIGtleXMgPSBbXSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcbiAgICBjb25zdCBwcmVmaXggPSBcInNvXCI7XG5cbiAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQuZGF0YXNldCkgcmV0dXJuIG9wdGlvbnM7XG5cbiAgICBPYmplY3Qua2V5cyhlbGVtZW50LmRhdGFzZXQpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgLy8gT25seSBwcm9jZXNzIGtleXMgc3RhcnRpbmcgd2l0aCAnc28nXG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICBjb25zdCBvcHRpb25LZXkgPSBrZXkuc2xpY2UocHJlZml4Lmxlbmd0aCk7XG4gICAgICAgIC8vIENvbnZlcnQgdG8gY2FtZWxDYXNlIHdpdGggbG93ZXJjYXNlIGZpcnN0IGxldHRlclxuICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID1cbiAgICAgICAgICBvcHRpb25LZXkuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBvcHRpb25LZXkuc2xpY2UoMSk7XG5cbiAgICAgICAgLy8gU2tpcCBpZiBrZXlzIHNwZWNpZmllZCBhbmQgdGhpcyBrZXkgaXNuJ3QgaW4gdGhlIGxpc3RcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoID4gMCAmJiAha2V5cy5pbmNsdWRlcyhub3JtYWxpemVkS2V5KSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQuZGF0YXNldFtrZXldO1xuXG4gICAgICAgIC8vIFRyeSB0byBwYXJzZSBhcyBKU09OIChoYW5kbGVzIGJvb2xlYW5zLCBudW1iZXJzLCBhcnJheXMsIG9iamVjdHMpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIEtlZXAgYXMgc3RyaW5nIGlmIG5vdCB2YWxpZCBKU09OXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdCAobm90IGFycmF5KSwgc3ByZWFkIGl0cyBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIGRhdGEtc28tdGFicz0ne1wiY2xvc2FibGVcIjogdHJ1ZX0nIHRvIHdvcmsgY29ycmVjdGx5XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uc1tub3JtYWxpemVkS2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfSxcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBCUkVBS1BPSU5UU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKiBSZXNwb25zaXZlIGJyZWFrcG9pbnRzIGluIHBpeGVscyAqL1xuICBicmVha3BvaW50czoge1xuICAgIHNtOiA1NzYsXG4gICAgbWQ6IDc2OCxcbiAgICBsZzogMTAyNCxcbiAgICB4bDogMTIwMCxcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdmlld3BvcnQgaXMgYmVsb3cgYSBicmVha3BvaW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBicmVha3BvaW50IC0gQnJlYWtwb2ludCBuYW1lIChzbSwgbWQsIGxnLCB4bClcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdmlld3BvcnQgaXMgYmVsb3cgYnJlYWtwb2ludFxuICAgKi9cbiAgaXNNb2JpbGUoYnJlYWtwb2ludCA9IFwibWRcIikge1xuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA8ICh0aGlzLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdIHx8IDc2OCk7XG4gIH0sXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ09NUE9ORU5UIFJFR0lTVFJZXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqIFJlZ2lzdGVyZWQgY29tcG9uZW50IGNsYXNzZXMgKi9cbiAgX2NvbXBvbmVudHM6IHt9LFxuXG4gIC8qKiBDb21wb25lbnQgaW5zdGFuY2VzICovXG4gIF9pbnN0YW5jZXM6IG5ldyBXZWFrTWFwKCksXG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgY29tcG9uZW50IGNsYXNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gQ29tcG9uZW50IG5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ29tcG9uZW50Q2xhc3MgLSBDb21wb25lbnQgY2xhc3NcbiAgICovXG4gIHJlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIENvbXBvbmVudENsYXNzKSB7XG4gICAgdGhpcy5fY29tcG9uZW50c1tuYW1lXSA9IENvbXBvbmVudENsYXNzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYSByZWdpc3RlcmVkIGNvbXBvbmVudCBjbGFzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIENvbXBvbmVudCBuYW1lXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbnx1bmRlZmluZWR9IENvbXBvbmVudCBjbGFzc1xuICAgKi9cbiAgZ2V0Q29tcG9uZW50KG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50c1tuYW1lXTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IG9yIGNyZWF0ZSBjb21wb25lbnQgaW5zdGFuY2UgZm9yIGFuIGVsZW1lbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gRE9NIGVsZW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBDb21wb25lbnQgbmFtZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIC0gQ29tcG9uZW50IG9wdGlvbnNcbiAgICogQHJldHVybnMge09iamVjdHxudWxsfSBDb21wb25lbnQgaW5zdGFuY2VcbiAgICovXG4gIGdldEluc3RhbmNlKGVsZW1lbnQsIG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghZWxlbWVudCkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgaW5zdGFuY2VcbiAgICBsZXQgaW5zdGFuY2VzID0gdGhpcy5faW5zdGFuY2VzLmdldChlbGVtZW50KTtcbiAgICBpZiAoaW5zdGFuY2VzICYmIGluc3RhbmNlc1tuYW1lXSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbmV3IGluc3RhbmNlIGlmIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkXG4gICAgY29uc3QgQ29tcG9uZW50Q2xhc3MgPSB0aGlzLl9jb21wb25lbnRzW25hbWVdO1xuICAgIGlmICghQ29tcG9uZW50Q2xhc3MpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50Q2xhc3MoZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAvLyBTdG9yZSBpbnN0YW5jZVxuICAgIGlmICghaW5zdGFuY2VzKSB7XG4gICAgICBpbnN0YW5jZXMgPSB7fTtcbiAgICAgIHRoaXMuX2luc3RhbmNlcy5zZXQoZWxlbWVudCwgaW5zdGFuY2VzKTtcbiAgICB9XG4gICAgaW5zdGFuY2VzW25hbWVdID0gaW5zdGFuY2U7XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBjb21wb25lbnQgaW5zdGFuY2UgZnJvbSBhbiBlbGVtZW50XG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIERPTSBlbGVtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gQ29tcG9uZW50IG5hbWVcbiAgICovXG4gIHJlbW92ZUluc3RhbmNlKGVsZW1lbnQsIG5hbWUpIHtcbiAgICBjb25zdCBpbnN0YW5jZXMgPSB0aGlzLl9pbnN0YW5jZXMuZ2V0KGVsZW1lbnQpO1xuICAgIGlmIChpbnN0YW5jZXMgJiYgaW5zdGFuY2VzW25hbWVdKSB7XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlc1tuYW1lXS5kZXN0cm95ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaW5zdGFuY2VzW25hbWVdLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBpbnN0YW5jZXNbbmFtZV07XG4gICAgfVxuICB9LFxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIElOSVRJQUxJWkFUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqIFdoZXRoZXIgdGhlIGZyYW1ld29yayBoYXMgYmVlbiBpbml0aWFsaXplZCAqL1xuICBfaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBmcmFtZXdvcmtcbiAgICogQ2FsbGVkIGF1dG9tYXRpY2FsbHkgb24gRE9NQ29udGVudExvYWRlZFxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAvLyBEaXNwYXRjaCByZWFkeSBldmVudFxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQodGhpcy5ldnQoXCJyZWFkeVwiKSwge1xuICAgICAgICBkZXRhaWw6IHsgdmVyc2lvbjogdGhpcy5WRVJTSU9OIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgLy8gY29uc29sZS5sb2coYFNpeE9yYml0IFVJIHYke3RoaXMuVkVSU0lPTn0gaW5pdGlhbGl6ZWRgKTtcbiAgfSxcbn0pO1xuXG4vLyBBdXRvLWluaXRpYWxpemUgb24gRE9NIHJlYWR5XG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gU2l4T3JiaXQuaW5pdCgpKTtcbn0gZWxzZSB7XG4gIFNpeE9yYml0LmluaXQoKTtcbn1cblxuLy8gRXhwb3J0IGZvciBFUyBtb2R1bGVzXG5leHBvcnQgZGVmYXVsdCBTaXhPcmJpdDtcbmV4cG9ydCB7IFNpeE9yYml0IH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gQkFTRSBDT01QT05FTlQgQ0xBU1Ncbi8vIEZvdW5kYXRpb24gZm9yIGFsbCBVSSBjb21wb25lbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBJbXBvcnQgU2l4T3JiaXQgZ2xvYmFsIChhbHNvIGF2YWlsYWJsZSBvbiB3aW5kb3cuU2l4T3JiaXQpXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi9zby1jb25maWcuanMnO1xuXG4vKipcbiAqIFNPQ29tcG9uZW50IC0gQmFzZSBjbGFzcyBmb3IgYWxsIFNpeE9yYml0IFVJIGNvbXBvbmVudHNcbiAqIFByb3ZpZGVzIGNvbW1vbiBmdW5jdGlvbmFsaXR5OiBvcHRpb25zIG1lcmdpbmcsIGV2ZW50IGhhbmRsaW5nLFxuICogbGlmZWN5Y2xlIG1hbmFnZW1lbnQsIGFuZCBET00gdXRpbGl0aWVzXG4gKi9cbmNsYXNzIFNPQ29tcG9uZW50IHtcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIFBST1BFUlRJRVNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKiogQ29tcG9uZW50IG5hbWUgZm9yIHJlZ2lzdHJhdGlvbiAqL1xuICBzdGF0aWMgTkFNRSA9ICdjb21wb25lbnQnO1xuXG4gIC8qKiBEZWZhdWx0IG9wdGlvbnMgKG92ZXJyaWRlIGluIHN1YmNsYXNzKSAqL1xuICBzdGF0aWMgREVGQVVMVFMgPSB7fTtcblxuICAvKiogRXZlbnRzIGVtaXR0ZWQgYnkgdGhpcyBjb21wb25lbnQgKi9cbiAgc3RhdGljIEVWRU5UUyA9IHt9O1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIENPTlNUUlVDVE9SXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjb21wb25lbnQgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtFbGVtZW50fHN0cmluZ30gZWxlbWVudCAtIERPTSBlbGVtZW50IG9yIHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gLSBDb21wb25lbnQgb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gUmVzb2x2ZSBlbGVtZW50XG4gICAgdGhpcy5lbGVtZW50ID0gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnXG4gICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudClcbiAgICAgIDogZWxlbWVudDtcblxuICAgIC8vIE9ubHkgd2FybiBpZiBlbGVtZW50IHdhcyBhIHNlbGVjdG9yIHN0cmluZyB0aGF0IHdhc24ndCBmb3VuZFxuICAgIC8vIChub3QgaWYgZWxlbWVudCBpcyBleHBsaWNpdGx5IG51bGwgZm9yIGNvbmZpZy1iYXNlZCBjb25zdHJ1Y3Rpb24pXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQgJiYgdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zb2xlLndhcm4oYCR7dGhpcy5jb25zdHJ1Y3Rvci5OQU1FfTogRWxlbWVudCBub3QgZm91bmQgZm9yIHNlbGVjdG9yIFwiJHtlbGVtZW50fVwiYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgbnVsbCBlbGVtZW50IGZvciBjb25maWctYmFzZWQgY29uc3RydWN0aW9uIChFbGVtZW50IGNsYXNzKVxuICAgIGlmICghdGhpcy5lbGVtZW50ICYmIGVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNZXJnZSBvcHRpb25zOiBkZWZhdWx0cyA8IGRhdGEgYXR0cmlidXRlcyA8IHBhc3NlZCBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zID0gdGhpcy5fbWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgLy8gU3RvcmUgYm91bmQgZXZlbnQgaGFuZGxlcnMgZm9yIGNsZWFudXBcbiAgICB0aGlzLl9ib3VuZEhhbmRsZXJzID0gbmV3IE1hcCgpO1xuXG4gICAgLy8gRXZlbnQgZGVsZWdhdGlvbiBoYW5kbGVyc1xuICAgIHRoaXMuX2RlbGVnYXRlZEhhbmRsZXJzID0gW107XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBjb21wb25lbnRcbiAgICB0aGlzLl9pbml0KCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQUklWQVRFIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogTWVyZ2Ugb3B0aW9ucyBmcm9tIGRlZmF1bHRzLCBkYXRhIGF0dHJpYnV0ZXMsIGFuZCBwYXNzZWQgb3B0aW9uc1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFBhc3NlZCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IE1lcmdlZCBvcHRpb25zXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbWVyZ2VPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWZhdWx0cyA9IHRoaXMuY29uc3RydWN0b3IuREVGQVVMVFM7XG4gICAgY29uc3QgZGF0YU9wdGlvbnMgPSBTaXhPcmJpdC5wYXJzZURhdGFPcHRpb25zKHRoaXMuZWxlbWVudCk7XG5cbiAgICByZXR1cm4geyAuLi5kZWZhdWx0cywgLi4uZGF0YU9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBjb21wb25lbnQgKG92ZXJyaWRlIGluIHN1YmNsYXNzKVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgLy8gT3ZlcnJpZGUgaW4gc3ViY2xhc3NcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIERPTSBVVElMSVRJRVNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogUXVlcnkgYSBzaW5nbGUgZWxlbWVudCB3aXRoaW4gdGhpcyBjb21wb25lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gQ1NTIHNlbGVjdG9yXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9IEZvdW5kIGVsZW1lbnRcbiAgICovXG4gICQoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1ZXJ5IGFsbCBlbGVtZW50cyB3aXRoaW4gdGhpcyBjb21wb25lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gQ1NTIHNlbGVjdG9yXG4gICAqIEByZXR1cm5zIHtFbGVtZW50W119IEFycmF5IG9mIGZvdW5kIGVsZW1lbnRzXG4gICAqL1xuICAkJChzZWxlY3Rvcikge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gIH1cblxuICAvKipcbiAgICogRmluZCBlbGVtZW50IGJ5IHByZWZpeGVkIGNsYXNzIG5hbWVcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IHBhcnRzIC0gQ2xhc3MgbmFtZSBwYXJ0c1xuICAgKiBAcmV0dXJucyB7RWxlbWVudHxudWxsfSBGb3VuZCBlbGVtZW50XG4gICAqL1xuICAkY2xzKC4uLnBhcnRzKSB7XG4gICAgcmV0dXJuIHRoaXMuJChTaXhPcmJpdC5zZWwoLi4ucGFydHMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIGFsbCBlbGVtZW50cyBieSBwcmVmaXhlZCBjbGFzcyBuYW1lXG4gICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBwYXJ0cyAtIENsYXNzIG5hbWUgcGFydHNcbiAgICogQHJldHVybnMge0VsZW1lbnRbXX0gQXJyYXkgb2YgZm91bmQgZWxlbWVudHNcbiAgICovXG4gICQkY2xzKC4uLnBhcnRzKSB7XG4gICAgcmV0dXJuIHRoaXMuJCQoU2l4T3JiaXQuc2VsKC4uLnBhcnRzKSk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBDTEFTUyBVVElMSVRJRVNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogQWRkIGNsYXNzKGVzKSB0byB0aGUgY29tcG9uZW50IGVsZW1lbnRcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IGNsYXNzZXMgLSBDbGFzcyBuYW1lcyB0byBhZGRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgYWRkQ2xhc3MoLi4uY2xhc3Nlcykge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBjbGFzcyhlcykgZnJvbSB0aGUgY29tcG9uZW50IGVsZW1lbnRcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IGNsYXNzZXMgLSBDbGFzcyBuYW1lcyB0byByZW1vdmVcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgcmVtb3ZlQ2xhc3MoLi4uY2xhc3Nlcykge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzZXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBhIGNsYXNzIG9uIHRoZSBjb21wb25lbnQgZWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIC0gQ2xhc3MgbmFtZSB0byB0b2dnbGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VdIC0gRm9yY2UgYWRkIG9yIHJlbW92ZVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICB0b2dnbGVDbGFzcyhjbGFzc05hbWUsIGZvcmNlKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lLCBmb3JjZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgY29tcG9uZW50IGVsZW1lbnQgaGFzIGEgY2xhc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIENsYXNzIG5hbWUgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgZWxlbWVudCBoYXMgY2xhc3NcbiAgICovXG4gIGhhc0NsYXNzKGNsYXNzTmFtZSkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBBVFRSSUJVVEUgVVRJTElUSUVTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEdldCBhIGRhdGEgYXR0cmlidXRlIHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gQXR0cmlidXRlIG5hbWUgKHdpdGhvdXQgZGF0YS1zby0gcHJlZml4KVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IEF0dHJpYnV0ZSB2YWx1ZVxuICAgKi9cbiAgZ2V0RGF0YShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoU2l4T3JiaXQuZGF0YShuYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgZGF0YSBhdHRyaWJ1dGUgdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBBdHRyaWJ1dGUgbmFtZSAod2l0aG91dCBkYXRhLXNvLSBwcmVmaXgpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFZhbHVlIHRvIHNldFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBzZXREYXRhKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKG5hbWUpLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgZGF0YSBhdHRyaWJ1dGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBBdHRyaWJ1dGUgbmFtZSAod2l0aG91dCBkYXRhLXNvLSBwcmVmaXgpXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHJlbW92ZURhdGEobmFtZSkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoU2l4T3JiaXQuZGF0YShuYW1lKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBFVkVOVCBIQU5ETElOR1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgd2l0aCBhdXRvbWF0aWMgYmluZGluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBFdmVudCBoYW5kbGVyXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gW3RhcmdldD10aGlzLmVsZW1lbnRdIC0gVGFyZ2V0IGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSAtIEV2ZW50IGxpc3RlbmVyIG9wdGlvbnNcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgb24oZXZlbnQsIGhhbmRsZXIsIHRhcmdldCA9IHRoaXMuZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgYm91bmRIYW5kbGVyID0gaGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kSGFuZGxlcnMuc2V0KGhhbmRsZXIsIHsgYm91bmRIYW5kbGVyLCB0YXJnZXQsIGV2ZW50LCBvcHRpb25zIH0pO1xuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBib3VuZEhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBPcmlnaW5hbCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gW3RhcmdldD10aGlzLmVsZW1lbnRdIC0gVGFyZ2V0IGVsZW1lbnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgb2ZmKGV2ZW50LCBoYW5kbGVyLCB0YXJnZXQgPSB0aGlzLmVsZW1lbnQpIHtcbiAgICBjb25zdCBzdG9yZWQgPSB0aGlzLl9ib3VuZEhhbmRsZXJzLmdldChoYW5kbGVyKTtcbiAgICBpZiAoc3RvcmVkKSB7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgc3RvcmVkLmJvdW5kSGFuZGxlciwgc3RvcmVkLm9wdGlvbnMpO1xuICAgICAgdGhpcy5fYm91bmRIYW5kbGVycy5kZWxldGUoaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIG9uZS10aW1lIGV2ZW50IGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIEV2ZW50IGhhbmRsZXJcbiAgICogQHBhcmFtIHtFbGVtZW50fSBbdGFyZ2V0PXRoaXMuZWxlbWVudF0gLSBUYXJnZXQgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBvbmNlKGV2ZW50LCBoYW5kbGVyLCB0YXJnZXQgPSB0aGlzLmVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5vbihldmVudCwgaGFuZGxlciwgdGFyZ2V0LCB7IG9uY2U6IHRydWUgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGRlbGVnYXRlZCBldmVudCBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIENTUyBzZWxlY3RvciBmb3IgZGVsZWdhdGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gRXZlbnQgaGFuZGxlclxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBkZWxlZ2F0ZShldmVudCwgc2VsZWN0b3IsIGhhbmRsZXIpIHtcbiAgICBjb25zdCBkZWxlZ2F0ZWRIYW5kbGVyID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0LmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgICAgaWYgKHRhcmdldCAmJiB0aGlzLmVsZW1lbnQuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgZSwgdGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5fZGVsZWdhdGVkSGFuZGxlcnMucHVzaCh7IGV2ZW50LCBoYW5kbGVyOiBkZWxlZ2F0ZWRIYW5kbGVyIH0pO1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBkZWxlZ2F0ZWRIYW5kbGVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IGEgY3VzdG9tIGV2ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gRXZlbnQgbmFtZSAod2lsbCBiZSBwcmVmaXhlZCB3aXRoIHNvOilcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXRhaWw9e31dIC0gRXZlbnQgZGV0YWlsIGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFufSBbYnViYmxlcz10cnVlXSAtIFdoZXRoZXIgZXZlbnQgYnViYmxlc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjYW5jZWxhYmxlPXRydWVdIC0gV2hldGhlciBldmVudCBpcyBjYW5jZWxhYmxlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIGV2ZW50IHdhcyBub3QgcHJldmVudGVkXG4gICAqL1xuICBlbWl0KG5hbWUsIGRldGFpbCA9IHt9LCBidWJibGVzID0gdHJ1ZSwgY2FuY2VsYWJsZSA9IHRydWUpIHtcbiAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChTaXhPcmJpdC5ldnQobmFtZSksIHtcbiAgICAgIGRldGFpbDogeyAuLi5kZXRhaWwsIGNvbXBvbmVudDogdGhpcyB9LFxuICAgICAgYnViYmxlcyxcbiAgICAgIGNhbmNlbGFibGVcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVEUgTUFOQUdFTUVOVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY29tcG9uZW50IHN0YXRlIGFuZCB0cmlnZ2VyIHJlLXJlbmRlclxuICAgKiBAcGFyYW0ge09iamVjdH0gbmV3U3RhdGUgLSBTdGF0ZSBjaGFuZ2VzXG4gICAqL1xuICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgIGNvbnN0IG9sZFN0YXRlID0geyAuLi50aGlzLl9zdGF0ZSB9O1xuICAgIHRoaXMuX3N0YXRlID0geyAuLi50aGlzLl9zdGF0ZSwgLi4ubmV3U3RhdGUgfTtcbiAgICB0aGlzLl9vblN0YXRlQ2hhbmdlKHRoaXMuX3N0YXRlLCBvbGRTdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgc3RhdGVcbiAgICogQHJldHVybnMge09iamVjdH0gQ3VycmVudCBzdGF0ZVxuICAgKi9cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5fc3RhdGUgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBzdGF0ZSBjaGFuZ2VzIChvdmVycmlkZSBpbiBzdWJjbGFzcylcbiAgICogQHBhcmFtIHtPYmplY3R9IG5ld1N0YXRlIC0gTmV3IHN0YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvbGRTdGF0ZSAtIFByZXZpb3VzIHN0YXRlXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9vblN0YXRlQ2hhbmdlKG5ld1N0YXRlLCBvbGRTdGF0ZSkge1xuICAgIC8vIE92ZXJyaWRlIGluIHN1YmNsYXNzXG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBWSVNJQklMSVRZXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIGNvbXBvbmVudCBlbGVtZW50XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB0aGlzLmVtaXQoJ3Nob3cnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBjb21wb25lbnQgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBoaWRlKCkge1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICB0aGlzLmVtaXQoJ2hpZGUnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgY29tcG9uZW50IHZpc2liaWxpdHlcbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VdIC0gRm9yY2Ugc2hvdyBvciBoaWRlXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHRvZ2dsZShmb3JjZSkge1xuICAgIGNvbnN0IHNob3VsZFNob3cgPSBmb3JjZSAhPT0gdW5kZWZpbmVkID8gZm9yY2UgOiB0aGlzLmVsZW1lbnQuaGlkZGVuO1xuICAgIHJldHVybiBzaG91bGRTaG93ID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjb21wb25lbnQgaXMgdmlzaWJsZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBjb21wb25lbnQgaXMgdmlzaWJsZVxuICAgKi9cbiAgaXNWaXNpYmxlKCkge1xuICAgIHJldHVybiAhdGhpcy5lbGVtZW50LmhpZGRlbiAmJiB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRk9DVVMgTUFOQUdFTUVOVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBGb2N1cyB0aGUgY29tcG9uZW50IGVsZW1lbnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgZm9jdXMoKSB7XG4gICAgdGhpcy5lbGVtZW50LmZvY3VzKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQmx1ciB0aGUgY29tcG9uZW50IGVsZW1lbnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgYmx1cigpIHtcbiAgICB0aGlzLmVsZW1lbnQuYmx1cigpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzIHdpdGhpbiBjb21wb25lbnRcbiAgICogQHJldHVybnMge0VsZW1lbnRbXX0gRm9jdXNhYmxlIGVsZW1lbnRzXG4gICAqL1xuICBnZXRGb2N1c2FibGVFbGVtZW50cygpIHtcbiAgICBjb25zdCBmb2N1c2FibGVTZWxlY3RvcnMgPSBbXG4gICAgICAnYVtocmVmXScsXG4gICAgICAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKScsXG4gICAgICAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pJyxcbiAgICAgICdzZWxlY3Q6bm90KFtkaXNhYmxlZF0pJyxcbiAgICAgICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSknLFxuICAgICAgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKScsXG4gICAgXS5qb2luKCcsICcpO1xuXG4gICAgcmV0dXJuIHRoaXMuJCQoZm9jdXNhYmxlU2VsZWN0b3JzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFwIGZvY3VzIHdpdGhpbiBjb21wb25lbnQgKGZvciBtb2RhbHMsIGV0Yy4pXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gLSBUcmFwIG9wdGlvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5za2lwSW5pdGlhbEZvY3VzPWZhbHNlXSAtIFNraXAgZm9jdXNpbmcgZmlyc3QgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRvIHJlbW92ZSBmb2N1cyB0cmFwXG4gICAqL1xuICB0cmFwRm9jdXMob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBza2lwSW5pdGlhbEZvY3VzID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSB0aGlzLmdldEZvY3VzYWJsZUVsZW1lbnRzKCk7XG4gICAgY29uc3QgZmlyc3RFbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgY29uc3QgbGFzdEVsZW1lbnQgPSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxXTtcblxuICAgIGNvbnN0IGhhbmRsZUtleWRvd24gPSAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ICE9PSAnVGFiJykgcmV0dXJuO1xuXG4gICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3RFbGVtZW50KSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGxhc3RFbGVtZW50Py5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdEVsZW1lbnQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZmlyc3RFbGVtZW50Py5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5ZG93bik7XG5cbiAgICBpZiAoIXNraXBJbml0aWFsRm9jdXMpIHtcbiAgICAgIGZpcnN0RWxlbWVudD8uZm9jdXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlkb3duKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gTElGRUNZQ0xFXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEVuYWJsZSB0aGUgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIHRoaXMucmVtb3ZlQ2xhc3MoU2l4T3JiaXQuY2xzKCdkaXNhYmxlZCcpKTtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdCgnZW5hYmxlJyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XG4gICAgdGhpcy5hZGRDbGFzcyhTaXhPcmJpdC5jbHMoJ2Rpc2FibGVkJykpO1xuICAgIHRoaXMuX2Rpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmVtaXQoJ2Rpc2FibGUnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjb21wb25lbnQgaXMgZGlzYWJsZWRcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgY29tcG9uZW50IGlzIGRpc2FibGVkXG4gICAqL1xuICBpc0Rpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZCB8fCB0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBjb21wb25lbnQgb3B0aW9uc1xuICAgKiBAcGFyYW0ge09iamVjdH0gbmV3T3B0aW9ucyAtIE5ldyBvcHRpb25zIHRvIG1lcmdlXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNldE9wdGlvbnMobmV3T3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4udGhpcy5vcHRpb25zLCAuLi5uZXdPcHRpb25zIH07XG4gICAgdGhpcy5fb25PcHRpb25zQ2hhbmdlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gb3B0aW9ucyBjaGFuZ2UgKG92ZXJyaWRlIGluIHN1YmNsYXNzKVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfb25PcHRpb25zQ2hhbmdlKCkge1xuICAgIC8vIE92ZXJyaWRlIGluIHN1YmNsYXNzXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSB0aGUgY29tcG9uZW50IGFuZCBjbGVhbiB1cFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICAvLyBSZW1vdmUgYWxsIGJvdW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgIHRoaXMuX2JvdW5kSGFuZGxlcnMuZm9yRWFjaCgoc3RvcmVkLCBoYW5kbGVyKSA9PiB7XG4gICAgICBzdG9yZWQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoc3RvcmVkLmV2ZW50LCBzdG9yZWQuYm91bmRIYW5kbGVyLCBzdG9yZWQub3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdGhpcy5fYm91bmRIYW5kbGVycy5jbGVhcigpO1xuXG4gICAgLy8gUmVtb3ZlIGRlbGVnYXRlZCBoYW5kbGVyc1xuICAgIHRoaXMuX2RlbGVnYXRlZEhhbmRsZXJzLmZvckVhY2goKHsgZXZlbnQsIGhhbmRsZXIgfSkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHRoaXMuX2RlbGVnYXRlZEhhbmRsZXJzID0gW107XG5cbiAgICAvLyBFbWl0IGRlc3Ryb3kgZXZlbnRcbiAgICB0aGlzLmVtaXQoJ2Rlc3Ryb3knKTtcblxuICAgIC8vIFJlbW92ZSBpbnN0YW5jZSBmcm9tIHJlZ2lzdHJ5XG4gICAgU2l4T3JiaXQucmVtb3ZlSW5zdGFuY2UodGhpcy5lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLk5BTUUpO1xuXG4gICAgLy8gQ2xlYXIgcmVmZXJlbmNlc1xuICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5vcHRpb25zID0gbnVsbDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFNUQVRJQyBVVElMSVRJRVNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR2V0IG9yIGNyZWF0ZSBpbnN0YW5jZSBmb3IgYW4gZWxlbWVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBlbGVtZW50IC0gRE9NIGVsZW1lbnQgb3Igc2VsZWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSAtIENvbXBvbmVudCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtTT0NvbXBvbmVudH0gQ29tcG9uZW50IGluc3RhbmNlXG4gICAqL1xuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZWwgPSB0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpIDogZWxlbWVudDtcbiAgICByZXR1cm4gU2l4T3JiaXQuZ2V0SW5zdGFuY2UoZWwsIHRoaXMuTkFNRSwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhbGwgY29tcG9uZW50cyBtYXRjaGluZyBzZWxlY3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlbGVjdG9yXSAtIENTUyBzZWxlY3RvciAoZGVmYXVsdDogZGF0YSBhdHRyaWJ1dGUpXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gLSBEZWZhdWx0IG9wdGlvbnMgZm9yIGFsbCBpbnN0YW5jZXNcbiAgICogQHJldHVybnMge1NPQ29tcG9uZW50W119IEFycmF5IG9mIGluc3RhbmNlc1xuICAgKi9cbiAgc3RhdGljIGluaXRBbGwoc2VsZWN0b3IsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHNlbCA9IHNlbGVjdG9yIHx8IFNpeE9yYml0LmRhdGFTZWwodGhpcy5OQU1FKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50cykubWFwKGVsID0+IHRoaXMuZ2V0SW5zdGFuY2UoZWwsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGlzIGNvbXBvbmVudCB3aXRoIFNpeE9yYml0XG4gICAqL1xuICBzdGF0aWMgcmVnaXN0ZXIoKSB7XG4gICAgU2l4T3JiaXQucmVnaXN0ZXJDb21wb25lbnQodGhpcy5OQU1FLCB0aGlzKTtcbiAgfVxufVxuXG4vLyBFeHBvc2UgdG8gZ2xvYmFsIHNjb3BlXG53aW5kb3cuU09Db21wb25lbnQgPSBTT0NvbXBvbmVudDtcblxuLy8gRXhwb3J0IGZvciBFUyBtb2R1bGVzXG5leHBvcnQgZGVmYXVsdCBTT0NvbXBvbmVudDtcbmV4cG9ydCB7IFNPQ29tcG9uZW50IH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gVEhFTUUgQ09OVFJPTExFUlxuLy8gSGFuZGxlcyB0aGVtZSBzd2l0Y2hpbmcgYW5kIGZvbnQgc2l6ZSBzY2FsaW5nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vY29yZS9zby1jb25maWcuanMnO1xuaW1wb3J0IFNPQ29tcG9uZW50IGZyb20gJy4uL2NvcmUvc28tY29tcG9uZW50LmpzJztcblxuLyoqXG4gKiBTT1RoZW1lIC0gVGhlbWUgY29udHJvbGxlciBjb21wb25lbnRcbiAqIE1hbmFnZXMgdGhlbWUgc3dpdGNoaW5nIChsaWdodCwgZGFyaywgc2lkZWJhci1kYXJrLCBzeXN0ZW0pXG4gKiBhbmQgZm9udCBzaXplIHNjYWxpbmcgKHNtYWxsLCBkZWZhdWx0LCBsYXJnZSlcbiAqL1xuY2xhc3MgU09UaGVtZSBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAndGhlbWUnO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICB0aGVtZXM6IFsnbGlnaHQnLCAnZGFyaycsICdzaWRlYmFyLWRhcmsnLCAnc3lzdGVtJ10sXG4gICAgZm9udFNpemVzOiBbJ3NtYWxsJywgJ2RlZmF1bHQnLCAnbGFyZ2UnXSxcbiAgICBkZWZhdWx0VGhlbWU6ICdzaWRlYmFyLWRhcmsnLFxuICAgIGRlZmF1bHRGb250U2l6ZTogJ2RlZmF1bHQnLFxuICAgIHN0b3JhZ2VLZXlUaGVtZTogJ3RoZW1lLXByZWZlcmVuY2UnLFxuICAgIHN0b3JhZ2VLZXlGb250OiAnZm9udHNpemUtcHJlZmVyZW5jZScsXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBDSEFOR0U6ICd0aGVtZTpjaGFuZ2UnLFxuICAgIEZPTlRTSVpFOiAndGhlbWU6Zm9udHNpemUnLFxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSB0aGVtZSBjb250cm9sbGVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBDYWNoZSBET00gZWxlbWVudHNcbiAgICB0aGlzLnRoZW1lQnRuID0gdGhpcy4kKCcuc28tbmF2YmFyLXRoZW1lLWJ0bicpO1xuICAgIHRoaXMudGhlbWVEcm9wZG93biA9IHRoaXMuJCgnLnNvLW5hdmJhci10aGVtZS1kcm9wZG93bicpO1xuXG4gICAgLy8gU3RhdGVcbiAgICB0aGlzLl9jdXJyZW50VGhlbWUgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdFRoZW1lO1xuICAgIHRoaXMuX2N1cnJlbnRGb250U2l6ZSA9IHRoaXMub3B0aW9ucy5kZWZhdWx0Rm9udFNpemU7XG5cbiAgICAvLyBSZXN0b3JlIHNhdmVkIHByZWZlcmVuY2VzXG4gICAgdGhpcy5fcmVzdG9yZVRoZW1lKCk7XG4gICAgdGhpcy5fcmVzdG9yZUZvbnRTaXplKCk7XG5cbiAgICAvLyBCaW5kIGV2ZW50c1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIC8vIEFwcGx5IGluaXRpYWwgdGhlbWUgYW5kIGZvbnQgc2l6ZVxuICAgIHRoaXMuX2FwcGx5VGhlbWUoKTtcbiAgICB0aGlzLl9hcHBseUZvbnRTaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogQmluZCBldmVudCBsaXN0ZW5lcnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIC8vIFRvZ2dsZSBkcm9wZG93blxuICAgIGlmICh0aGlzLnRoZW1lQnRuKSB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZVRvZ2dsZSwgdGhpcy50aGVtZUJ0bik7XG4gICAgfVxuXG4gICAgLy8gVGhlbWUgb3B0aW9uIGNsaWNrc1xuICAgIHRoaXMuZGVsZWdhdGUoJ2NsaWNrJywgJy5zby1uYXZiYXItdGhlbWUtb3B0aW9uJywgdGhpcy5faGFuZGxlT3B0aW9uQ2xpY2spO1xuXG4gICAgLy8gQ2xvc2Ugb24gb3V0c2lkZSBjbGlja1xuICAgIHRoaXMub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrLCBkb2N1bWVudCk7XG5cbiAgICAvLyBDbG9zZSBvbiBlc2NhcGVcbiAgICB0aGlzLm9uKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93biwgZG9jdW1lbnQpO1xuXG4gICAgLy8gTGlzdGVuIGZvciBzeXN0ZW0gdGhlbWUgY2hhbmdlc1xuICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSkge1xuICAgICAgY29uc3QgbWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJyk7XG4gICAgICBtZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaGVtZSA9PT0gJ3N5c3RlbScpIHtcbiAgICAgICAgICB0aGlzLl9hcHBseVRoZW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIExpc3RlbiBmb3IgZ2xvYmFsIGRyb3Bkb3duIGNsb3NlIGV2ZW50XG4gICAgdGhpcy5vbignY2xvc2VBbGxEcm9wZG93bnMnLCB0aGlzLl9jbG9zZURyb3Bkb3duLCBkb2N1bWVudCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRvZ2dsZSBidXR0b24gY2xpY2tcbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIENsaWNrIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlVG9nZ2xlKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IGlzT3BlbiA9IHRoaXMuaGFzQ2xhc3MoJ3NvLW9wZW4nKTtcblxuICAgIGlmICghaXNPcGVuKSB7XG4gICAgICAvLyBDbG9zZSBvdGhlciBkcm9wZG93bnNcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjbG9zZUFsbERyb3Bkb3ducycpKTtcbiAgICB9XG5cbiAgICB0aGlzLnRvZ2dsZUNsYXNzKCdzby1vcGVuJyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRoZW1lL2ZvbnRzaXplIG9wdGlvbiBjbGlja1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBDbGlja2VkIG9wdGlvbiBlbGVtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlT3B0aW9uQ2xpY2soZSwgdGFyZ2V0KSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGNvbnN0IHRoZW1lID0gdGFyZ2V0LmRhdGFzZXQudGhlbWU7XG4gICAgY29uc3QgZm9udHNpemUgPSB0YXJnZXQuZGF0YXNldC5mb250c2l6ZTtcblxuICAgIGlmICh0aGVtZSkge1xuICAgICAgdGhpcy5zZXRUaGVtZSh0aGVtZSk7XG4gICAgfSBlbHNlIGlmIChmb250c2l6ZSkge1xuICAgICAgdGhpcy5zZXRGb250U2l6ZShmb250c2l6ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xvc2VEcm9wZG93bigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBvdXRzaWRlIGNsaWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlT3V0c2lkZUNsaWNrKCkge1xuICAgIHRoaXMuX2Nsb3NlRHJvcGRvd24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUga2V5ZG93biBldmVudHNcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gS2V5Ym9hcmQgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlkb3duKGUpIHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLl9jbG9zZURyb3Bkb3duKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBkcm9wZG93blxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Nsb3NlRHJvcGRvd24oKSB7XG4gICAgdGhpcy5yZW1vdmVDbGFzcygnc28tb3BlbicpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVEhFTUUgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgdGhlbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRoZW1lIC0gVGhlbWUgbmFtZSAobGlnaHQsIGRhcmssIHNpZGViYXItZGFyaywgc3lzdGVtKVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBzZXRUaGVtZSh0aGVtZSkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLnRoZW1lcy5pbmNsdWRlcyh0aGVtZSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgU09UaGVtZTogSW52YWxpZCB0aGVtZSBcIiR7dGhlbWV9XCJgKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXZpb3VzVGhlbWUgPSB0aGlzLl9jdXJyZW50VGhlbWU7XG4gICAgdGhpcy5fY3VycmVudFRoZW1lID0gdGhlbWU7XG5cbiAgICB0aGlzLl9zYXZlVGhlbWUoKTtcbiAgICB0aGlzLl9hcHBseVRoZW1lKCk7XG4gICAgdGhpcy5fdXBkYXRlQWN0aXZlT3B0aW9uKCk7XG5cbiAgICAvLyBFbWl0IGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPVGhlbWUuRVZFTlRTLkNIQU5HRSwge1xuICAgICAgdGhlbWUsXG4gICAgICBwcmV2aW91c1RoZW1lLFxuICAgICAgZWZmZWN0aXZlVGhlbWU6IHRoaXMuZ2V0RWZmZWN0aXZlVGhlbWUoKSxcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCB0aGVtZSBzZXR0aW5nXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEN1cnJlbnQgdGhlbWVcbiAgICovXG4gIGdldFRoZW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50VGhlbWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBlZmZlY3RpdmUgdGhlbWUgKHJlc29sdmVkIHN5c3RlbSB0aGVtZSlcbiAgICogQHJldHVybnMge3N0cmluZ30gRWZmZWN0aXZlIHRoZW1lIChsaWdodCBvciBkYXJrKVxuICAgKi9cbiAgZ2V0RWZmZWN0aXZlVGhlbWUoKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRUaGVtZSA9PT0gJ3N5c3RlbScpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRTeXN0ZW1UaGVtZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fY3VycmVudFRoZW1lID09PSAnc2lkZWJhci1kYXJrJykge1xuICAgICAgcmV0dXJuICdsaWdodCc7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50VGhlbWU7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgdGhlIGN1cnJlbnQgdGhlbWUgdG8gdGhlIGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYXBwbHlUaGVtZSgpIHtcbiAgICBsZXQgZWZmZWN0aXZlVGhlbWUgPSB0aGlzLl9jdXJyZW50VGhlbWU7XG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zby1zaWRlYmFyJyk7XG5cbiAgICAvLyBIYW5kbGUgc2lkZWJhci1kYXJrIHRoZW1lXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRUaGVtZSA9PT0gJ3NpZGViYXItZGFyaycpIHtcbiAgICAgIGVmZmVjdGl2ZVRoZW1lID0gJ2xpZ2h0JztcbiAgICAgIGlmIChzaWRlYmFyKSBzaWRlYmFyLmNsYXNzTGlzdC5hZGQoJ3NpZGViYXItZGFyaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2lkZWJhcikgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKCdzaWRlYmFyLWRhcmsnKTtcblxuICAgICAgLy8gUmVzb2x2ZSBzeXN0ZW0gdGhlbWVcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50VGhlbWUgPT09ICdzeXN0ZW0nKSB7XG4gICAgICAgIGVmZmVjdGl2ZVRoZW1lID0gdGhpcy5fZ2V0U3lzdGVtVGhlbWUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBcHBseSB0byBkb2N1bWVudFxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCBlZmZlY3RpdmVUaGVtZSk7XG5cbiAgICAvLyBVcGRhdGUgaWNvblxuICAgIHRoaXMuX3VwZGF0ZUljb24oZWZmZWN0aXZlVGhlbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzeXN0ZW0gcHJlZmVycmVkIHRoZW1lXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFN5c3RlbSB0aGVtZSAobGlnaHQgb3IgZGFyaylcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRTeXN0ZW1UaGVtZSgpIHtcbiAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzKSB7XG4gICAgICByZXR1cm4gJ2RhcmsnO1xuICAgIH1cbiAgICByZXR1cm4gJ2xpZ2h0JztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHRoZW1lIGJ1dHRvbiBpY29uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlZmZlY3RpdmVUaGVtZSAtIEN1cnJlbnQgZWZmZWN0aXZlIHRoZW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlSWNvbihlZmZlY3RpdmVUaGVtZSkge1xuICAgIGNvbnN0IGljb24gPSB0aGlzLnRoZW1lQnRuPy5xdWVyeVNlbGVjdG9yKCcudGhlbWUtaWNvbicpO1xuICAgIGlmICghaWNvbikgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRUaGVtZSA9PT0gJ3NpZGViYXItZGFyaycpIHtcbiAgICAgIGljb24udGV4dENvbnRlbnQgPSAnY29udHJhc3QnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fY3VycmVudFRoZW1lID09PSAnc3lzdGVtJykge1xuICAgICAgaWNvbi50ZXh0Q29udGVudCA9ICdjb21wdXRlcic7XG4gICAgfSBlbHNlIGlmIChlZmZlY3RpdmVUaGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICBpY29uLnRleHRDb250ZW50ID0gJ2RhcmtfbW9kZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGljb24udGV4dENvbnRlbnQgPSAnbGlnaHRfbW9kZSc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhY3RpdmUgc3RhdGUgb24gdGhlbWUgb3B0aW9uc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUFjdGl2ZU9wdGlvbigpIHtcbiAgICB0aGlzLiQkKCcuc28tbmF2YmFyLXRoZW1lLW9wdGlvbicpLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gb3B0aW9uLmRhdGFzZXQudGhlbWUgPT09IHRoaXMuX2N1cnJlbnRUaGVtZTtcbiAgICAgIG9wdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdzby1hY3RpdmUnLCBpc0FjdGl2ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSB0aGVtZSBwcmVmZXJlbmNlIHRvIHN0b3JhZ2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zYXZlVGhlbWUoKSB7XG4gICAgU2l4T3JiaXQuc2V0U3RvcmFnZSh0aGlzLm9wdGlvbnMuc3RvcmFnZUtleVRoZW1lLCB0aGlzLl9jdXJyZW50VGhlbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgdGhlbWUgcHJlZmVyZW5jZSBmcm9tIHN0b3JhZ2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXN0b3JlVGhlbWUoKSB7XG4gICAgY29uc3Qgc2F2ZWQgPSBTaXhPcmJpdC5nZXRTdG9yYWdlKHRoaXMub3B0aW9ucy5zdG9yYWdlS2V5VGhlbWUpO1xuICAgIGlmIChzYXZlZCAmJiB0aGlzLm9wdGlvbnMudGhlbWVzLmluY2x1ZGVzKHNhdmVkKSkge1xuICAgICAgdGhpcy5fY3VycmVudFRoZW1lID0gc2F2ZWQ7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUFjdGl2ZU9wdGlvbigpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRk9OVCBTSVpFIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU2V0IHRoZSBmb250IHNpemVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNpemUgLSBGb250IHNpemUgKHNtYWxsLCBkZWZhdWx0LCBsYXJnZSlcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2V0Rm9udFNpemUoc2l6ZSkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmZvbnRTaXplcy5pbmNsdWRlcyhzaXplKSkge1xuICAgICAgY29uc29sZS53YXJuKGBTT1RoZW1lOiBJbnZhbGlkIGZvbnQgc2l6ZSBcIiR7c2l6ZX1cImApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXNTaXplID0gdGhpcy5fY3VycmVudEZvbnRTaXplO1xuICAgIHRoaXMuX2N1cnJlbnRGb250U2l6ZSA9IHNpemU7XG5cbiAgICB0aGlzLl9zYXZlRm9udFNpemUoKTtcbiAgICB0aGlzLl9hcHBseUZvbnRTaXplKCk7XG4gICAgdGhpcy5fdXBkYXRlQWN0aXZlRm9udFNpemVPcHRpb24oKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09UaGVtZS5FVkVOVFMuRk9OVFNJWkUsIHtcbiAgICAgIGZvbnRTaXplOiBzaXplLFxuICAgICAgcHJldmlvdXNGb250U2l6ZTogcHJldmlvdXNTaXplLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IGZvbnQgc2l6ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDdXJyZW50IGZvbnQgc2l6ZVxuICAgKi9cbiAgZ2V0Rm9udFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRGb250U2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSB0aGUgY3VycmVudCBmb250IHNpemUgdG8gdGhlIGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYXBwbHlGb250U2l6ZSgpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudEZvbnRTaXplID09PSAnZGVmYXVsdCcpIHtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZm9udHNpemUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1mb250c2l6ZScsIHRoaXMuX2N1cnJlbnRGb250U2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhY3RpdmUgc3RhdGUgb24gZm9udCBzaXplIG9wdGlvbnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVBY3RpdmVGb250U2l6ZU9wdGlvbigpIHtcbiAgICB0aGlzLiQkKCcuc28tbmF2YmFyLXRoZW1lLW9wdGlvbicpLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgIGlmIChvcHRpb24uZGF0YXNldC5mb250c2l6ZSkge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IG9wdGlvbi5kYXRhc2V0LmZvbnRzaXplID09PSB0aGlzLl9jdXJyZW50Rm9udFNpemU7XG4gICAgICAgIG9wdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdzby1hY3RpdmUnLCBpc0FjdGl2ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBmb250IHNpemUgcHJlZmVyZW5jZSB0byBzdG9yYWdlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2F2ZUZvbnRTaXplKCkge1xuICAgIFNpeE9yYml0LnNldFN0b3JhZ2UodGhpcy5vcHRpb25zLnN0b3JhZ2VLZXlGb250LCB0aGlzLl9jdXJyZW50Rm9udFNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgZm9udCBzaXplIHByZWZlcmVuY2UgZnJvbSBzdG9yYWdlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVzdG9yZUZvbnRTaXplKCkge1xuICAgIGNvbnN0IHNhdmVkID0gU2l4T3JiaXQuZ2V0U3RvcmFnZSh0aGlzLm9wdGlvbnMuc3RvcmFnZUtleUZvbnQpO1xuICAgIGlmIChzYXZlZCAmJiB0aGlzLm9wdGlvbnMuZm9udFNpemVzLmluY2x1ZGVzKHNhdmVkKSkge1xuICAgICAgdGhpcy5fY3VycmVudEZvbnRTaXplID0gc2F2ZWQ7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUFjdGl2ZUZvbnRTaXplT3B0aW9uKCk7XG4gIH1cbn1cblxuLy8gUmVnaXN0ZXIgY29tcG9uZW50XG5TT1RoZW1lLnJlZ2lzdGVyKCk7XG5cbi8vIEV4cG9zZSB0byBnbG9iYWwgc2NvcGVcbndpbmRvdy5TT1RoZW1lID0gU09UaGVtZTtcblxuLy8gRXhwb3J0IGZvciBFUyBtb2R1bGVzXG5leHBvcnQgZGVmYXVsdCBTT1RoZW1lO1xuZXhwb3J0IHsgU09UaGVtZSB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIERST1BET1dOIENPTVBPTkVOVFxuLy8gSGFuZGxlcyBhbGwgZHJvcGRvd24gdmFyaWF0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uL2NvcmUvc28tY29uZmlnLmpzJztcbmltcG9ydCBTT0NvbXBvbmVudCBmcm9tICcuLi9jb3JlL3NvLWNvbXBvbmVudC5qcyc7XG5cbi8qKlxuICogU09Ecm9wZG93biAtIEJhc2UgZHJvcGRvd24gY29tcG9uZW50XG4gKiBTdXBwb3J0cyBzdGFuZGFyZCwgc2VhcmNoYWJsZSwgb3B0aW9ucywgYW5kIG91dGxldCBkcm9wZG93bnNcbiAqL1xuY2xhc3MgU09Ecm9wZG93biBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAnZHJvcGRvd24nO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICBjbG9zZU9uU2VsZWN0OiB0cnVlLFxuICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgb3Blbk9uRm9jdXM6IGZhbHNlLFxuICAgIHNlYXJjaGFibGU6IGZhbHNlLFxuICAgIHBsYWNlaG9sZGVyOiAnU2VsZWN0IG9wdGlvbicsXG4gICAgc2VhcmNoUGxhY2Vob2xkZXI6ICdTZWFyY2guLi4nLFxuICAgIG5vUmVzdWx0c1RleHQ6ICdObyByZXN1bHRzIGZvdW5kJyxcbiAgICAvLyBOZXcgb3B0aW9uc1xuICAgIGF1dG9DbG9zZTogdHJ1ZSwgICAgICAgICAvLyB0cnVlLCBmYWxzZSwgJ2luc2lkZScsICdvdXRzaWRlJ1xuICAgIGRpcmVjdGlvbjogJ2Rvd24nLCAgICAgICAvLyBkb3duLCB1cCwgc3RhcnQsIGVuZFxuICAgIGFsaWdubWVudDogJ3N0YXJ0JywgICAgICAvLyBzdGFydCwgZW5kXG4gICAgLy8gU2VsZWN0aW9uIG9wdGlvbnNcbiAgICBzZWxlY3Rpb25TdHlsZTogJ2RlZmF1bHQnLCAvLyAnZGVmYXVsdCcgKGJnICsgY2hlY2spLCAnaGlnaGxpZ2h0JyAoYmcgb25seSksICdjaGVjaycgKGNoZWNrIG9ubHkpXG4gICAgbXVsdGlwbGU6IGZhbHNlLCAgICAgICAgIC8vIEFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnNcbiAgICBtdWx0aXBsZVN0eWxlOiAnY2hlY2tib3gnLCAvLyAnY2hlY2tib3gnIChhZGRzIGNoZWNrYm94IGJveGVzKSwgJ2NoZWNrJyAodXNlcyBjaGVja21hcmsgaWNvbnMpXG4gICAgbWF4U2VsZWN0aW9uczogbnVsbCwgICAgIC8vIE1heCBzZWxlY3Rpb25zIGFsbG93ZWQgKG51bGwgPSB1bmxpbWl0ZWQpXG4gICAgbWluU2VsZWN0aW9uczogbnVsbCwgICAgIC8vIE1pbiBzZWxlY3Rpb25zIHJlcXVpcmVkIChudWxsID0gMCwgY2FuIGRlc2VsZWN0IGFsbClcbiAgICBzaG93QWN0aW9uczogZmFsc2UsICAgICAgLy8gU2hvdyBcIlNlbGVjdCBBbGxcIiAvIFwiU2VsZWN0IE5vbmVcIiBsaW5rcyBmb3IgbXVsdGlwbGUgc2VsZWN0aW9uXG4gICAgc2VsZWN0QWxsVGV4dDogJ0FsbCcsICAgIC8vIFRleHQgZm9yIHNlbGVjdCBhbGwgbGlua1xuICAgIHNlbGVjdE5vbmVUZXh0OiAnTm9uZScsICAvLyBUZXh0IGZvciBzZWxlY3Qgbm9uZSBsaW5rXG4gICAgYWxsU2VsZWN0ZWRUZXh0OiBudWxsLCAgIC8vIFRleHQgdG8gc2hvdyB3aGVuIGFsbCBpdGVtcyBhcmUgc2VsZWN0ZWQgKGUuZy4sIFwiQWxsIE91dGxldHNcIilcbiAgICBtdWx0aXBsZVNlbGVjdGVkVGV4dDogJ3tjb3VudH0gc2VsZWN0ZWQnLCAvLyBUZXh0IHRlbXBsYXRlIGZvciBtdWx0aXBsZSBzZWxlY3Rpb25zXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICAvLyBCZWZvcmUvQWZ0ZXIgc2hvdyBldmVudHMgKEJvb3RzdHJhcCBwYXR0ZXJuKVxuICAgIFNIT1c6ICdkcm9wZG93bjpzaG93JywgICAgICAgLy8gQmVmb3JlIG9wZW5pbmcgKGNhbmNlbGFibGUpXG4gICAgU0hPV046ICdkcm9wZG93bjpzaG93bicsICAgICAvLyBBZnRlciBvcGVuZWRcbiAgICBISURFOiAnZHJvcGRvd246aGlkZScsICAgICAgIC8vIEJlZm9yZSBjbG9zaW5nIChjYW5jZWxhYmxlKVxuICAgIEhJRERFTjogJ2Ryb3Bkb3duOmhpZGRlbicsICAgLy8gQWZ0ZXIgY2xvc2VkXG4gICAgLy8gT3RoZXIgZXZlbnRzXG4gICAgQ0hBTkdFOiAnZHJvcGRvd246Y2hhbmdlJyxcbiAgICBTRUFSQ0g6ICdkcm9wZG93bjpzZWFyY2gnLFxuICAgIEFDVElPTjogJ2Ryb3Bkb3duOmFjdGlvbicsXG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGRyb3Bkb3duXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBEZXRlY3QgZHJvcGRvd24gdHlwZVxuICAgIHRoaXMuX3R5cGUgPSB0aGlzLl9kZXRlY3RUeXBlKCk7XG5cbiAgICAvLyBDYWNoZSBlbGVtZW50cyBiYXNlZCBvbiB0eXBlXG4gICAgdGhpcy5fY2FjaGVFbGVtZW50cygpO1xuXG4gICAgLy8gU3RhdGVcbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW107ICAvLyBBcnJheSBmb3IgbXVsdGlwbGUgc2VsZWN0aW9uIHN1cHBvcnRcbiAgICB0aGlzLl9zZWxlY3RlZFRleHRzID0gW107ICAgLy8gQXJyYXkgZm9yIG11bHRpcGxlIHNlbGVjdGlvbiBzdXBwb3J0XG4gICAgdGhpcy5fb3JpZ2luYWxJdGVtcyA9IFtdO1xuICAgIHRoaXMuX2ZvY3VzZWRJbmRleCA9IC0xO1xuXG4gICAgLy8gU3RvcmUgb3JpZ2luYWwgQ1NTIGNsYXNzZXMgZm9yIGRpcmVjdGlvbi9hbGlnbm1lbnQgKHNldCB2aWEgSFRNTClcbiAgICB0aGlzLl9vcmlnaW5hbENsYXNzZXMgPSB7XG4gICAgICBkcm9wdXA6IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRyb3B1cCcpLFxuICAgICAgZHJvcHN0YXJ0OiB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1kcm9wc3RhcnQnKSxcbiAgICAgIGRyb3BlbmQ6IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRyb3BlbmQnKSxcbiAgICAgIG1lbnVFbmQ6IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRyb3Bkb3duLW1lbnUtZW5kJyksXG4gICAgfTtcblxuICAgIC8vIFN0b3JlIG9yaWdpbmFsIGl0ZW1zIGZvciBmaWx0ZXJpbmdcbiAgICBpZiAodGhpcy5faXRlbXNMaXN0KSB7XG4gICAgICB0aGlzLl9vcmlnaW5hbEl0ZW1zID0gQXJyYXkuZnJvbSh0aGlzLl9pdGVtc0xpc3QuY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIC8vIFBhcnNlIGRhdGEgYXR0cmlidXRlcyBmb3Igb3B0aW9uc1xuICAgIHRoaXMuX3BhcnNlRGF0YUF0dHJpYnV0ZXMoKTtcblxuICAgIC8vIEdldCBpbml0aWFsIHNlbGVjdGlvblxuICAgIHRoaXMuX2dldEluaXRpYWxTZWxlY3Rpb24oKTtcblxuICAgIC8vIEJpbmQgZXZlbnRzXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIGRhdGEgYXR0cmlidXRlcyBmb3IgY29uZmlndXJhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BhcnNlRGF0YUF0dHJpYnV0ZXMoKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgICAvLyBhdXRvQ2xvc2VcbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXNvLWF1dG8tY2xvc2UnKSkge1xuICAgICAgY29uc3QgdmFsID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNvLWF1dG8tY2xvc2UnKTtcbiAgICAgIGlmICh2YWwgPT09ICd0cnVlJykgdGhpcy5vcHRpb25zLmF1dG9DbG9zZSA9IHRydWU7XG4gICAgICBlbHNlIGlmICh2YWwgPT09ICdmYWxzZScpIHRoaXMub3B0aW9ucy5hdXRvQ2xvc2UgPSBmYWxzZTtcbiAgICAgIGVsc2UgdGhpcy5vcHRpb25zLmF1dG9DbG9zZSA9IHZhbDsgLy8gJ2luc2lkZScgb3IgJ291dHNpZGUnXG4gICAgfVxuXG4gICAgLy8gZGlyZWN0aW9uXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby1kaXJlY3Rpb24nKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zby1kaXJlY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvLyBhbGlnbm1lbnRcbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXNvLWFsaWdubWVudCcpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuYWxpZ25tZW50ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNvLWFsaWdubWVudCcpO1xuICAgIH1cblxuICAgIC8vIHNlbGVjdGlvblN0eWxlXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby1zZWxlY3Rpb24tc3R5bGUnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdGlvblN0eWxlID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNvLXNlbGVjdGlvbi1zdHlsZScpO1xuICAgIH1cblxuICAgIC8vIG11bHRpcGxlXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby1tdWx0aXBsZScpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubXVsdGlwbGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tbXVsdGlwbGUnKSAhPT0gJ2ZhbHNlJztcbiAgICB9XG5cbiAgICAvLyBtYXhTZWxlY3Rpb25zXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby1tYXgtc2VsZWN0aW9ucycpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubWF4U2VsZWN0aW9ucyA9IHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zby1tYXgtc2VsZWN0aW9ucycpLCAxMCkgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBtaW5TZWxlY3Rpb25zXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby1taW4tc2VsZWN0aW9ucycpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubWluU2VsZWN0aW9ucyA9IHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zby1taW4tc2VsZWN0aW9ucycpLCAxMCkgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBtdWx0aXBsZVN0eWxlXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby1tdWx0aXBsZS1zdHlsZScpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubXVsdGlwbGVTdHlsZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zby1tdWx0aXBsZS1zdHlsZScpO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IHNlbGVjdGlvbiBzdHlsZSBjbGFzc1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2VsZWN0aW9uU3R5bGUgIT09ICdkZWZhdWx0Jykge1xuICAgICAgdGhpcy5hZGRDbGFzcyhgc28tZHJvcGRvd24tc2VsZWN0aW9uLSR7dGhpcy5vcHRpb25zLnNlbGVjdGlvblN0eWxlfWApO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IG11bHRpcGxlIGNsYXNzIGFuZCBpbml0aWFsaXplIGNoZWNrYm94ZXMgKG9ubHkgaWYgbXVsdGlwbGVTdHlsZSBpcyAnY2hlY2tib3gnKVxuICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3NvLWRyb3Bkb3duLW11bHRpcGxlJyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlU3R5bGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgdGhpcy5faW5pdENoZWNrYm94ZXMoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlU3R5bGUgPT09ICdjaGVjaycpIHtcbiAgICAgICAgLy8gQWRkIG11bHRpcGxlLWNoZWNrIGNsYXNzIHRvIHNob3cgY2hlY2sgaWNvbnMgd2l0aCBiYWNrZ3JvdW5kIChub3QgY2hlY2tib3hlcylcbiAgICAgICAgdGhpcy5hZGRDbGFzcygnc28tZHJvcGRvd24tbXVsdGlwbGUtY2hlY2snKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzaG93QWN0aW9uc1xuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc28tc2hvdy1hY3Rpb25zJykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zaG93QWN0aW9ucyA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zby1zaG93LWFjdGlvbnMnKSAhPT0gJ2ZhbHNlJztcbiAgICB9XG5cbiAgICAvLyBzZWxlY3RBbGxUZXh0XG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby1zZWxlY3QtYWxsLXRleHQnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdEFsbFRleHQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tc2VsZWN0LWFsbC10ZXh0Jyk7XG4gICAgfVxuXG4gICAgLy8gc2VsZWN0Tm9uZVRleHRcbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXNvLXNlbGVjdC1ub25lLXRleHQnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdE5vbmVUZXh0ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNvLXNlbGVjdC1ub25lLXRleHQnKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYWN0aW9ucyBiYXIgZm9yIG11bHRpcGxlIHNlbGVjdGlvbiBpZiBlbmFibGVkXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tdWx0aXBsZSAmJiB0aGlzLm9wdGlvbnMuc2hvd0FjdGlvbnMpIHtcbiAgICAgIHRoaXMuX2NyZWF0ZUFjdGlvbnNCYXIoKTtcbiAgICB9XG5cbiAgICAvLyBhbGxTZWxlY3RlZFRleHRcbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXNvLWFsbC1zZWxlY3RlZC10ZXh0JykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5hbGxTZWxlY3RlZFRleHQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tYWxsLXNlbGVjdGVkLXRleHQnKTtcbiAgICB9XG5cbiAgICAvLyBtdWx0aXBsZVNlbGVjdGVkVGV4dFxuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc28tbXVsdGlwbGUtc2VsZWN0ZWQtdGV4dCcpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubXVsdGlwbGVTZWxlY3RlZFRleHQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tbXVsdGlwbGUtc2VsZWN0ZWQtdGV4dCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGNoZWNrYm94IGVsZW1lbnRzIGZvciBtdWx0aXBsZSBzZWxlY3Rpb24gaXRlbXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0Q2hlY2tib3hlcygpIHtcbiAgICBjb25zdCBpdGVtU2VsZWN0b3IgPSB0aGlzLl9nZXRJdGVtU2VsZWN0b3IoKTtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuJCQoaXRlbVNlbGVjdG9yKTtcblxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAvLyBTa2lwIGlmIGNoZWNrYm94IGFscmVhZHkgZXhpc3RzXG4gICAgICBpZiAoaXRlbS5xdWVyeVNlbGVjdG9yKCcuc28tY2hlY2tib3gtYm94JykpIHJldHVybjtcblxuICAgICAgLy8gQ3JlYXRlIGNoZWNrYm94IGJveCBlbGVtZW50IG1hdGNoaW5nIC5zby1jaGVja2JveC1ib3ggc3RydWN0dXJlXG4gICAgICBjb25zdCBjaGVja2JveEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGNoZWNrYm94Qm94LmNsYXNzTmFtZSA9ICdzby1jaGVja2JveC1ib3gnO1xuICAgICAgY2hlY2tib3hCb3guaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jaGVjazwvc3Bhbj4nO1xuXG4gICAgICAvLyBJbnNlcnQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgaXRlbVxuICAgICAgaXRlbS5pbnNlcnRCZWZvcmUoY2hlY2tib3hCb3gsIGl0ZW0uZmlyc3RDaGlsZCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFjdGlvbnMgYmFyIHdpdGggU2VsZWN0IEFsbCAvIFNlbGVjdCBOb25lIGxpbmtzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlQWN0aW9uc0JhcigpIHtcbiAgICBpZiAoIXRoaXMuX21lbnUpIHJldHVybjtcblxuICAgIC8vIENoZWNrIGlmIGFjdGlvbnMgYmFyIGFscmVhZHkgZXhpc3RzXG4gICAgaWYgKHRoaXMuX21lbnUucXVlcnlTZWxlY3RvcignLnNvLWRyb3Bkb3duLWFjdGlvbnMnKSkgcmV0dXJuO1xuXG4gICAgLy8gQ3JlYXRlIGFjdGlvbnMgYmFyXG4gICAgY29uc3QgYWN0aW9uc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGFjdGlvbnNCYXIuY2xhc3NOYW1lID0gJ3NvLWRyb3Bkb3duLWFjdGlvbnMnO1xuXG4gICAgLy8gU2VsZWN0IEFsbCBsaW5rXG4gICAgY29uc3Qgc2VsZWN0QWxsTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHNlbGVjdEFsbExpbmsudHlwZSA9ICdidXR0b24nO1xuICAgIHNlbGVjdEFsbExpbmsuY2xhc3NOYW1lID0gJ3NvLWRyb3Bkb3duLWFjdGlvbiBzby1kcm9wZG93bi1zZWxlY3QtYWxsJztcbiAgICBzZWxlY3RBbGxMaW5rLnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zLnNlbGVjdEFsbFRleHQ7XG4gICAgc2VsZWN0QWxsTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5zZWxlY3RBbGwoKTtcbiAgICB9KTtcblxuICAgIC8vIFNlcGFyYXRvclxuICAgIGNvbnN0IHNlcGFyYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBzZXBhcmF0b3IuY2xhc3NOYW1lID0gJ3NvLWRyb3Bkb3duLWFjdGlvbi1zZXBhcmF0b3InO1xuICAgIHNlcGFyYXRvci50ZXh0Q29udGVudCA9ICd8JztcblxuICAgIC8vIFNlbGVjdCBOb25lIGxpbmtcbiAgICBjb25zdCBzZWxlY3ROb25lTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHNlbGVjdE5vbmVMaW5rLnR5cGUgPSAnYnV0dG9uJztcbiAgICBzZWxlY3ROb25lTGluay5jbGFzc05hbWUgPSAnc28tZHJvcGRvd24tYWN0aW9uIHNvLWRyb3Bkb3duLXNlbGVjdC1ub25lJztcbiAgICBzZWxlY3ROb25lTGluay50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9ucy5zZWxlY3ROb25lVGV4dDtcbiAgICBzZWxlY3ROb25lTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5zZWxlY3ROb25lKCk7XG4gICAgfSk7XG5cbiAgICBhY3Rpb25zQmFyLmFwcGVuZENoaWxkKHNlbGVjdEFsbExpbmspO1xuXG4gICAgLy8gT25seSBhZGQgc2VwYXJhdG9yIGFuZCBOb25lIGxpbmsgaWYgc2VsZWN0Tm9uZVRleHQgaXMgbm90IGVtcHR5XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zZWxlY3ROb25lVGV4dCkge1xuICAgICAgYWN0aW9uc0Jhci5hcHBlbmRDaGlsZChzZXBhcmF0b3IpO1xuICAgICAgYWN0aW9uc0Jhci5hcHBlbmRDaGlsZChzZWxlY3ROb25lTGluayk7XG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IGFjdGlvbnMgYmFyIGF0IHRoZSBiZWdpbm5pbmcgb2YgbWVudSAob3IgYWZ0ZXIgc2VhcmNoIGlmIHByZXNlbnQpXG4gICAgY29uc3Qgc2VhcmNoQm94ID0gdGhpcy5fbWVudS5xdWVyeVNlbGVjdG9yKCcuc28tc2VhcmNoYWJsZS1zZWFyY2gsIC5zby1kcm9wZG93bi1zZWFyY2gnKTtcbiAgICBpZiAoc2VhcmNoQm94KSB7XG4gICAgICBzZWFyY2hCb3guYWZ0ZXIoYWN0aW9uc0Jhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21lbnUuaW5zZXJ0QmVmb3JlKGFjdGlvbnNCYXIsIHRoaXMuX21lbnUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgcmVmZXJlbmNlc1xuICAgIHRoaXMuX2FjdGlvbnNCYXIgPSBhY3Rpb25zQmFyO1xuICAgIHRoaXMuX3NlbGVjdEFsbExpbmsgPSBzZWxlY3RBbGxMaW5rO1xuICAgIHRoaXMuX3NlbGVjdE5vbmVMaW5rID0gc2VsZWN0Tm9uZUxpbms7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZWN0IGRyb3Bkb3duIHR5cGUgYmFzZWQgb24gY2xhc3Nlc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBEcm9wZG93biB0eXBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGV0ZWN0VHlwZSgpIHtcbiAgICBpZiAodGhpcy5oYXNDbGFzcygnc28tc2VhcmNoYWJsZS1kcm9wZG93bicpKSByZXR1cm4gJ3NlYXJjaGFibGUnO1xuICAgIGlmICh0aGlzLmhhc0NsYXNzKCdzby1vcHRpb25zLWRyb3Bkb3duJykpIHJldHVybiAnb3B0aW9ucyc7XG4gICAgaWYgKHRoaXMuaGFzQ2xhc3MoJ3NvLW91dGxldC1kcm9wZG93bicpKSByZXR1cm4gJ291dGxldCc7XG4gICAgcmV0dXJuICdzdGFuZGFyZCc7XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGUgRE9NIGVsZW1lbnRzIGJhc2VkIG9uIHR5cGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYWNoZUVsZW1lbnRzKCkge1xuICAgIHN3aXRjaCAodGhpcy5fdHlwZSkge1xuICAgICAgY2FzZSAnc2VhcmNoYWJsZSc6XG4gICAgICAgIC8vIExlZ2FjeSBzZWFyY2hhYmxlIGNsYXNzZXNcbiAgICAgICAgdGhpcy5fdHJpZ2dlciA9IHRoaXMuJCgnLnNvLXNlYXJjaGFibGUtdHJpZ2dlcicpO1xuICAgICAgICB0aGlzLl9tZW51ID0gdGhpcy4kKCcuc28tc2VhcmNoYWJsZS1tZW51Jyk7XG4gICAgICAgIHRoaXMuX3NlYXJjaElucHV0ID0gdGhpcy4kKCcuc28tc2VhcmNoYWJsZS1pbnB1dCcpO1xuICAgICAgICB0aGlzLl9pdGVtc0xpc3QgPSB0aGlzLiQoJy5zby1zZWFyY2hhYmxlLWl0ZW1zJyk7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkRWwgPSB0aGlzLiQoJy5zby1zZWFyY2hhYmxlLXNlbGVjdGVkJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdvcHRpb25zJzpcbiAgICAgICAgdGhpcy5fdHJpZ2dlciA9IHRoaXMuJCgnLnNvLW9wdGlvbnMtdHJpZ2dlcicpO1xuICAgICAgICB0aGlzLl9tZW51ID0gdGhpcy4kKCcuc28tb3B0aW9ucy1tZW51Jyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdvdXRsZXQnOlxuICAgICAgICB0aGlzLl90cmlnZ2VyID0gdGhpcy4kKCcuc28tb3V0bGV0LWRyb3Bkb3duLXRyaWdnZXInKTtcbiAgICAgICAgdGhpcy5fbWVudSA9IHRoaXMuJCgnLnNvLW91dGxldC1kcm9wZG93bi1tZW51Jyk7XG4gICAgICAgIHRoaXMuX3NlYXJjaElucHV0ID0gdGhpcy4kKCcuc28tb3V0bGV0LWRyb3Bkb3duLXNlYXJjaCBpbnB1dCcpO1xuICAgICAgICB0aGlzLl9pdGVtc0xpc3QgPSB0aGlzLiQoJy5zby1vdXRsZXQtZHJvcGRvd24tbGlzdCcpO1xuICAgICAgICB0aGlzLl9zZWxlY3RlZEVsID0gdGhpcy4kKCcub3V0bGV0LXRleHQnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIFN0YW5kYXJkIGRyb3Bkb3duIC0gdHJpZ2dlciBjYW4gYmUgLnNvLWRyb3Bkb3duLXRyaWdnZXIsIC5zby1idG4sIG9yIC5zby1kcm9wZG93bi10b2dnbGUgKGZvciBuYXZiYXIpXG4gICAgICAgIHRoaXMuX3RyaWdnZXIgPSB0aGlzLiQoJy5zby1kcm9wZG93bi10cmlnZ2VyJykgfHwgdGhpcy4kKCcuc28tZHJvcGRvd24tdG9nZ2xlJykgfHwgdGhpcy4kKCcuc28tYnRuJyk7XG4gICAgICAgIHRoaXMuX21lbnUgPSB0aGlzLiQoJy5zby1kcm9wZG93bi1tZW51Jyk7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkRWwgPSB0aGlzLiQoJy5zby1kcm9wZG93bi1zZWxlY3RlZCcpO1xuICAgICAgICAvLyBGb3Igc2VhcmNoYWJsZSBtb2RpZmllciBvbiBzdGFuZGFyZCBkcm9wZG93blxuICAgICAgICB0aGlzLl9zZWFyY2hJbnB1dCA9IHRoaXMuJCgnLnNvLWRyb3Bkb3duLXNlYXJjaC1pbnB1dCcpO1xuICAgICAgICB0aGlzLl9pdGVtc0xpc3QgPSB0aGlzLiQoJy5zby1kcm9wZG93bi1pdGVtcycpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaW5pdGlhbCBzZWxlY3Rpb24gZnJvbSBET01cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRJbml0aWFsU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSB0aGlzLl9tZW51Py5xdWVyeVNlbGVjdG9yQWxsKCcuc28tc2VsZWN0ZWQsIC5zby1hY3RpdmUnKSB8fCBbXTtcbiAgICBzZWxlY3RlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGl0ZW0uZGF0YXNldC52YWx1ZTtcbiAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl9nZXRJdGVtVGV4dChpdGVtKTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB0aGlzLl9zZWxlY3RlZFRleHRzLnB1c2godGV4dCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQmluZCBldmVudCBsaXN0ZW5lcnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIC8vIFRyaWdnZXIgY2xpY2tcbiAgICBpZiAodGhpcy5fdHJpZ2dlcikge1xuICAgICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2ssIHRoaXMuX3RyaWdnZXIpO1xuICAgIH1cblxuICAgIC8vIEl0ZW0gc2VsZWN0aW9uIC0gYmluZCBkaXJlY3RseSB0byBtZW51L2l0ZW1zIGNvbnRhaW5lciB0byBoYW5kbGUgYmVmb3JlIHN0b3BQcm9wYWdhdGlvblxuICAgIGNvbnN0IGl0ZW1TZWxlY3RvciA9IHRoaXMuX2dldEl0ZW1TZWxlY3RvcigpO1xuICAgIGNvbnN0IGl0ZW1zQ29udGFpbmVyID0gdGhpcy5faXRlbXNMaXN0IHx8IHRoaXMuX21lbnU7XG4gICAgaWYgKGl0ZW1TZWxlY3RvciAmJiBpdGVtc0NvbnRhaW5lcikge1xuICAgICAgLy8gVXNlIGRpcmVjdCBldmVudCBsaXN0ZW5lciBvbiB0aGUgaXRlbXMgY29udGFpbmVyXG4gICAgICB0aGlzLl9pdGVtQ2xpY2tIYW5kbGVyID0gKGUpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoaXRlbVNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbXNDb250YWluZXIuY29udGFpbnMoaXRlbSkpIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVJdGVtQ2xpY2soZSwgaXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLl9pdGVtc0NvbnRhaW5lciA9IGl0ZW1zQ29udGFpbmVyO1xuICAgICAgaXRlbXNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9pdGVtQ2xpY2tIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvLyBTZWFyY2ggaW5wdXRcbiAgICBpZiAodGhpcy5fc2VhcmNoSW5wdXQpIHtcbiAgICAgIHRoaXMub24oJ2lucHV0JywgdGhpcy5faGFuZGxlU2VhcmNoLCB0aGlzLl9zZWFyY2hJbnB1dCk7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLCB0aGlzLl9zZWFyY2hJbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBtZW51IGZyb20gY2xvc2luZyB3aGVuIGNsaWNraW5nIGluc2lkZSAoYmFzZWQgb24gYXV0b0Nsb3NlKVxuICAgIGlmICh0aGlzLl9tZW51KSB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIC8vIE9ubHkgc3RvcCBwcm9wYWdhdGlvbiBpZiBhdXRvQ2xvc2UgaXMgbm90ICdvdXRzaWRlJ1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9DbG9zZSAhPT0gJ291dHNpZGUnKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcy5fbWVudSk7XG4gICAgfVxuXG4gICAgLy8gQ2xvc2Ugb24gb3V0c2lkZSBjbGlja1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbk91dHNpZGVDbGljaykge1xuICAgICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2ssIGRvY3VtZW50KTtcbiAgICB9XG5cbiAgICAvLyBLZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAgdGhpcy5vbigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24sIHRoaXMuZWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGl0ZW0gc2VsZWN0b3IgYmFzZWQgb24gdHlwZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDU1Mgc2VsZWN0b3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRJdGVtU2VsZWN0b3IoKSB7XG4gICAgc3dpdGNoICh0aGlzLl90eXBlKSB7XG4gICAgICBjYXNlICdzZWFyY2hhYmxlJzogcmV0dXJuICcuc28tc2VhcmNoYWJsZS1pdGVtJztcbiAgICAgIGNhc2UgJ29wdGlvbnMnOiByZXR1cm4gJy5zby1vcHRpb25zLWl0ZW0nO1xuICAgICAgY2FzZSAnb3V0bGV0JzogcmV0dXJuICcuc28tb3V0bGV0LWRyb3Bkb3duLWl0ZW0nO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICcuc28tZHJvcGRvd24taXRlbSc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0cmlnZ2VyIGNsaWNrXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBDbGljayBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVRyaWdnZXJDbGljayhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAodGhpcy5fZGlzYWJsZWQpIHJldHVybjtcblxuICAgIC8vIENsb3NlIG90aGVyIGRyb3Bkb3duc1xuICAgIHRoaXMuX2Nsb3NlT3RoZXJEcm9wZG93bnMoKTtcblxuICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBmb3Igb3B0aW9ucyBkcm9wZG93blxuICAgIGlmICh0aGlzLl90eXBlID09PSAnb3B0aW9ucycgJiYgIXRoaXMuX2lzT3Blbikge1xuICAgICAgdGhpcy5fcG9zaXRpb25NZW51KCk7XG4gICAgfVxuXG4gICAgdGhpcy50b2dnbGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgaXRlbSBjbGlja1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBpdGVtIC0gQ2xpY2tlZCBpdGVtXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSXRlbUNsaWNrKGUsIGl0ZW0pIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgLy8gQ2hlY2sgaWYgaXRlbSBpcyBkaXNhYmxlZFxuICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKSB8fCBpdGVtLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSB8fCBpdGVtLmdldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcpID09PSAndHJ1ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25zIGRyb3Bkb3duIGVtaXRzIGFjdGlvbiBldmVudFxuICAgIGlmICh0aGlzLl90eXBlID09PSAnb3B0aW9ucycpIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGl0ZW0uZGF0YXNldC5hY3Rpb247XG4gICAgICB0aGlzLmVtaXQoU09Ecm9wZG93bi5FVkVOVFMuQUNUSU9OLCB7IGFjdGlvbiwgZWxlbWVudDogaXRlbSB9KTtcblxuICAgICAgLy8gQ2hlY2sgYXV0b0Nsb3NlIGZvciBvcHRpb25zXG4gICAgICBpZiAodGhpcy5fc2hvdWxkQ2xvc2VPbkl0ZW1DbGljaygpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPdGhlciBkcm9wZG93bnMgaGFuZGxlIHNlbGVjdGlvblxuICAgIGNvbnN0IHRleHQgPSB0aGlzLl90eXBlID09PSAnb3V0bGV0J1xuICAgICAgPyBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5vdXRsZXQtaXRlbS10ZXh0Jyk/LnRleHRDb250ZW50LnRyaW0oKSB8fCB0aGlzLl9nZXRJdGVtVGV4dChpdGVtKVxuICAgICAgOiB0aGlzLl9nZXRJdGVtVGV4dChpdGVtKTtcbiAgICAvLyBVc2UgZGF0YS12YWx1ZSBpZiBwcmVzZW50LCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvIHRleHQgY29udGVudFxuICAgIGNvbnN0IHZhbHVlID0gaXRlbS5kYXRhc2V0LnZhbHVlICE9PSB1bmRlZmluZWQgPyBpdGVtLmRhdGFzZXQudmFsdWUgOiB0ZXh0O1xuXG4gICAgLy8gSGFuZGxlIG11bHRpcGxlIHNlbGVjdGlvblxuICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHtcbiAgICAgIHRoaXMudG9nZ2xlU2VsZWN0KHZhbHVlLCB0ZXh0LCBpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3QodmFsdWUsIHRleHQsIGl0ZW0pO1xuICAgIH1cblxuICAgIC8vIEZvciBtdWx0aXBsZSBzZWxlY3Rpb24sIGRvbid0IGNsb3NlIG9uIGl0ZW0gY2xpY2sgYnkgZGVmYXVsdFxuICAgIGlmICghdGhpcy5vcHRpb25zLm11bHRpcGxlICYmIHRoaXMuX3Nob3VsZENsb3NlT25JdGVtQ2xpY2soKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBkcm9wZG93biBzaG91bGQgY2xvc2Ugb24gaXRlbSBjbGljayBiYXNlZCBvbiBhdXRvQ2xvc2VcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2hvdWxkQ2xvc2VPbkl0ZW1DbGljaygpIHtcbiAgICBjb25zdCBhdXRvQ2xvc2UgPSB0aGlzLm9wdGlvbnMuYXV0b0Nsb3NlO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2xvc2VPblNlbGVjdCAmJiAoYXV0b0Nsb3NlID09PSB0cnVlIHx8IGF1dG9DbG9zZSA9PT0gJ2luc2lkZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBzZWFyY2ggaW5wdXRcbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIElucHV0IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlU2VhcmNoKGUpIHtcbiAgICBjb25zdCBxdWVyeSA9IGUudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIHRoaXMuX2ZpbHRlckl0ZW1zKHF1ZXJ5KTtcblxuICAgIHRoaXMuZW1pdChTT0Ryb3Bkb3duLkVWRU5UUy5TRUFSQ0gsIHsgcXVlcnkgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmlsdGVyIGl0ZW1zIGJ5IHNlYXJjaCBxdWVyeVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkgLSBTZWFyY2ggcXVlcnlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9maWx0ZXJJdGVtcyhxdWVyeSkge1xuICAgIHRoaXMuX29yaWdpbmFsSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl9nZXRJdGVtVGV4dChpdGVtKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgbWF0Y2hlcyA9ICFxdWVyeSB8fCB0ZXh0LmluY2x1ZGVzKHF1ZXJ5KTtcbiAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IG1hdGNoZXMgPyAnJyA6ICdub25lJztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY2xlYW4gdGV4dCBmcm9tIGFuIGl0ZW0sIGV4Y2x1ZGluZyBjaGVjayBpY29ucyBhbmQgY2hlY2tib3ggZWxlbWVudHNcbiAgICogQHBhcmFtIHtFbGVtZW50fSBpdGVtIC0gSXRlbSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IENsZWFuIHRleHQgY29udGVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEl0ZW1UZXh0KGl0ZW0pIHtcbiAgICAvLyBDbG9uZSB0aGUgaXRlbSB0byBhdm9pZCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsXG4gICAgY29uc3QgY2xvbmUgPSBpdGVtLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIC8vIFJlbW92ZSBjaGVjayBpY29uc1xuICAgIGNsb25lLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1kcm9wZG93bi1jaGVjaywgLmNoZWNrLWljb24sIC5zby1jaGVja2JveC1ib3gnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcblxuICAgIC8vIFJldHVybiB0cmltbWVkIHRleHRcbiAgICByZXR1cm4gY2xvbmUudGV4dENvbnRlbnQudHJpbSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBvdXRzaWRlIGNsaWNrIGJhc2VkIG9uIGF1dG9DbG9zZSBvcHRpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIENsaWNrIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlT3V0c2lkZUNsaWNrKGUpIHtcbiAgICBpZiAoIXRoaXMuX2lzT3BlbikgcmV0dXJuO1xuXG4gICAgLy8gU2tpcCBpZiBmbGFnIGlzIHNldCAoZm9yIHByb2dyYW1tYXRpYyBvcGVuIHRoYXQgdHJpZ2dlcnMgZHVyaW5nIGNsaWNrIGV2ZW50KVxuICAgIGlmICh0aGlzLl9pZ25vcmVPdXRzaWRlQ2xpY2spIHJldHVybjtcblxuICAgIC8vIERvbid0IGNsb3NlIGlmIGNsaWNraW5nIGluc2lkZSB0aGlzIGRyb3Bkb3duXG4gICAgaWYgKHRoaXMuZWxlbWVudC5jb250YWlucyhlLnRhcmdldCkpIHJldHVybjtcblxuICAgIC8vIERvbid0IGNsb3NlIGlmIGNsaWNraW5nIG9uIGFueSBkcm9wZG93biB0cmlnZ2VyIG9yIGRyb3Bkb3duIGVsZW1lbnQgKGxldCB0aGF0IGNvbXBvbmVudCBoYW5kbGUgaXQpXG4gICAgY29uc3QgZHJvcGRvd25UcmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNvLWRyb3Bkb3duLXRyaWdnZXIsIC5zby1zZWFyY2hhYmxlLXRyaWdnZXIsIC5zby1vcHRpb25zLXRyaWdnZXIsIC5zby1vdXRsZXQtZHJvcGRvd24tdHJpZ2dlciwgLnNvLWJ0bltkYXRhLXNvLXRvZ2dsZT1cImRyb3Bkb3duXCJdJyk7XG4gICAgY29uc3QgZHJvcGRvd25FbGVtZW50ID0gZS50YXJnZXQuY2xvc2VzdCgnLnNvLWRyb3Bkb3duLCAuc28tc2VhcmNoYWJsZS1kcm9wZG93biwgLnNvLW9wdGlvbnMtZHJvcGRvd24sIC5zby1vdXRsZXQtZHJvcGRvd24nKTtcbiAgICBpZiAoZHJvcGRvd25UcmlnZ2VyIHx8IGRyb3Bkb3duRWxlbWVudCkgcmV0dXJuO1xuXG4gICAgLy8gRG9uJ3QgY2xvc2UgaWYgY2xpY2tpbmcgb24gbmF2YmFyIGRyb3Bkb3duIGJ1dHRvbnMgb3IgdGhlaXIgZHJvcGRvd25zIChsZXQgbmF2YmFyIGhhbmRsZSBpdClcbiAgICBjb25zdCBuYXZiYXJEcm9wZG93bkJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zby1uYXZiYXItdXNlci1idG4sIC5zby1uYXZiYXItYXBwcy1idG4sIC5zby1uYXZiYXItb3V0bGV0LWJ0biwgLnNvLW5hdmJhci1zdGF0dXMtYnRuLCAuc28tbmF2YmFyLXRoZW1lLWJ0bicpO1xuICAgIGNvbnN0IG5hdmJhckRyb3Bkb3duID0gZS50YXJnZXQuY2xvc2VzdCgnLnNvLW5hdmJhci11c2VyLWRyb3Bkb3duLCAuc28tbmF2YmFyLWFwcHMsIC5zby1uYXZiYXItb3V0bGV0LWRyb3Bkb3duLCAuc28tbmF2YmFyLXN0YXR1cy1kcm9wZG93biwgLnNvLW5hdmJhci10aGVtZS1kcm9wZG93bicpO1xuICAgIGlmIChuYXZiYXJEcm9wZG93bkJ0biB8fCBuYXZiYXJEcm9wZG93bikgcmV0dXJuO1xuXG4gICAgY29uc3QgYXV0b0Nsb3NlID0gdGhpcy5vcHRpb25zLmF1dG9DbG9zZTtcblxuICAgIC8vIGF1dG9DbG9zZTogZmFsc2UgLSBuZXZlciBjbG9zZSBvbiBvdXRzaWRlIGNsaWNrXG4gICAgaWYgKGF1dG9DbG9zZSA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgIC8vIGF1dG9DbG9zZTogJ2luc2lkZScgLSBvbmx5IGNsb3NlIHdoZW4gY2xpY2tpbmcgaW5zaWRlXG4gICAgaWYgKGF1dG9DbG9zZSA9PT0gJ2luc2lkZScpIHJldHVybjtcblxuICAgIC8vIGF1dG9DbG9zZTogdHJ1ZSBvciAnb3V0c2lkZScgLSBjbG9zZSBvbiBvdXRzaWRlIGNsaWNrXG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIEtleWJvYXJkIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5ZG93bihlKSB7XG4gICAgLy8gRXNjYXBlIHRvIGNsb3NlXG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiB0aGlzLl9pc09wZW4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMuX3RyaWdnZXI/LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQXJyb3dEb3duIHRvIG9wZW4gd2hlbiBjbG9zZWRcbiAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nICYmICF0aGlzLl9pc09wZW4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE5hdmlnYXRlIGl0ZW1zIHdoZW4gb3BlblxuICAgIGlmICh0aGlzLl9pc09wZW4pIHtcbiAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fZ2V0TmF2aWdhYmxlSXRlbXMoKTtcblxuICAgICAgaWYgKGUua2V5ID09PSAnQXJyb3dEb3duJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzTmV4dEl0ZW0oaXRlbXMsIDEpO1xuICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93VXAnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNOZXh0SXRlbShpdGVtcywgLTEpO1xuICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvY3VzZWRJbmRleCA+PSAwICYmIGl0ZW1zW3RoaXMuX2ZvY3VzZWRJbmRleF0pIHtcbiAgICAgICAgICBpdGVtc1t0aGlzLl9mb2N1c2VkSW5kZXhdLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdIb21lJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzSXRlbShpdGVtcywgMCk7XG4gICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRW5kJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzSXRlbShpdGVtcywgaXRlbXMubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgbmF2aWdhYmxlIChub24tZGlzYWJsZWQpIGl0ZW1zXG4gICAqIEByZXR1cm5zIHtFbGVtZW50W119IEFycmF5IG9mIG5hdmlnYWJsZSBpdGVtc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE5hdmlnYWJsZUl0ZW1zKCkge1xuICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5fZ2V0SXRlbVNlbGVjdG9yKCk7XG4gICAgcmV0dXJuIHRoaXMuJCQoc2VsZWN0b3IpLmZpbHRlcihpdGVtID0+XG4gICAgICAhaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRpc2FibGVkJykgJiZcbiAgICAgICFpdGVtLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJlxuICAgICAgaXRlbS5nZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKSAhPT0gJ3RydWUnICYmXG4gICAgICAhaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRyb3Bkb3duLWhlYWRlcicpICYmXG4gICAgICAhaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRyb3Bkb3duLWRpdmlkZXInKSAmJlxuICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSdcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIG5leHQvcHJldmlvdXMgaXRlbSBpbiB0aGUgbGlzdFxuICAgKiBAcGFyYW0ge0VsZW1lbnRbXX0gaXRlbXMgLSBOYXZpZ2FibGUgaXRlbXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiAtIDEgZm9yIG5leHQsIC0xIGZvciBwcmV2aW91c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZvY3VzTmV4dEl0ZW0oaXRlbXMsIGRpcmVjdGlvbikge1xuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGxldCBuZXdJbmRleCA9IHRoaXMuX2ZvY3VzZWRJbmRleCArIGRpcmVjdGlvbjtcblxuICAgIC8vIFdyYXAgYXJvdW5kXG4gICAgaWYgKG5ld0luZGV4IDwgMCkgbmV3SW5kZXggPSBpdGVtcy5sZW5ndGggLSAxO1xuICAgIGlmIChuZXdJbmRleCA+PSBpdGVtcy5sZW5ndGgpIG5ld0luZGV4ID0gMDtcblxuICAgIHRoaXMuX2ZvY3VzSXRlbShpdGVtcywgbmV3SW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIGEgc3BlY2lmaWMgaXRlbSBieSBpbmRleFxuICAgKiBAcGFyYW0ge0VsZW1lbnRbXX0gaXRlbXMgLSBOYXZpZ2FibGUgaXRlbXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gSXRlbSBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZvY3VzSXRlbShpdGVtcywgaW5kZXgpIHtcbiAgICAvLyBSZW1vdmUgZm9jdXMgZnJvbSBhbGwgaXRlbXNcbiAgICBjb25zdCBhbGxJdGVtcyA9IHRoaXMuJCQodGhpcy5fZ2V0SXRlbVNlbGVjdG9yKCkpO1xuICAgIGFsbEl0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWZvY3VzZWQnKSk7XG5cbiAgICAvLyBTZXQgbmV3IGZvY3VzXG4gICAgdGhpcy5fZm9jdXNlZEluZGV4ID0gaW5kZXg7XG4gICAgaWYgKGl0ZW1zW2luZGV4XSkge1xuICAgICAgaXRlbXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3NvLWZvY3VzZWQnKTtcbiAgICAgIGl0ZW1zW2luZGV4XS5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiAnbmVhcmVzdCcgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGZvY3VzZWQgaXRlbSBzdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NsZWFyRm9jdXNlZEl0ZW0oKSB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLiQkKHRoaXMuX2dldEl0ZW1TZWxlY3RvcigpKTtcbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzby1mb2N1c2VkJykpO1xuICAgIHRoaXMuX2ZvY3VzZWRJbmRleCA9IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIG90aGVyIG9wZW4gZHJvcGRvd25zXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2xvc2VPdGhlckRyb3Bkb3ducygpIHtcbiAgICAvLyBDbG9zZSBvdGhlciBTT0Ryb3Bkb3duIGluc3RhbmNlcyBwcm9wZXJseSB2aWEgdGhlaXIgY2xvc2UoKSBtZXRob2RcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tZHJvcGRvd24uc28tb3BlbiwgLnNvLXNlYXJjaGFibGUtZHJvcGRvd24uc28tb3BlbiwgLnNvLW9wdGlvbnMtZHJvcGRvd24uc28tb3BlbiwgLnNvLW91dGxldC1kcm9wZG93bi5zby1vcGVuJykuZm9yRWFjaChkcm9wZG93biA9PiB7XG4gICAgICBpZiAoZHJvcGRvd24gIT09IHRoaXMuZWxlbWVudCkge1xuICAgICAgICAvLyBUcnkgdG8gZ2V0IHRoZSBpbnN0YW5jZSBhbmQgY2xvc2UgaXQgcHJvcGVybHlcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBTT0Ryb3Bkb3duLmdldEluc3RhbmNlKGRyb3Bkb3duKTtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLl9pc09wZW4pIHtcbiAgICAgICAgICBpbnN0YW5jZS5faXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgaW5zdGFuY2UucmVtb3ZlQ2xhc3MoJ3NvLW9wZW4nLCAncG9zaXRpb24tbGVmdCcsICdwb3NpdGlvbi10b3AnKTtcbiAgICAgICAgICBpbnN0YW5jZS5fcmVtb3ZlRGlyZWN0aW9uQ2xhc3NlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZhbGxiYWNrOiBqdXN0IHJlbW92ZSBjbGFzc2VzIGlmIG5vIGluc3RhbmNlIGZvdW5kXG4gICAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnc28tb3BlbicsICdwb3NpdGlvbi1sZWZ0JywgJ3Bvc2l0aW9uLXRvcCcpO1xuICAgICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWRyb3B1cCcsICdzby1kcm9wc3RhcnQnLCAnc28tZHJvcGVuZCcsICdzby1kcm9wZG93bi1tZW51LWVuZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBEaXNwYXRjaCBldmVudCB0byBjbG9zZSBuYXZiYXIgY3VzdG9tIGRyb3Bkb3ducyAoZGlmZmVyZW50IGV2ZW50IHRvIGF2b2lkIGxvb3BzKVxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjbG9zZU5hdmJhckRyb3Bkb3ducycpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBkaXJlY3Rpb24gYW5kIGFsaWdubWVudCBjbGFzc2VzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYXBwbHlEaXJlY3Rpb25DbGFzc2VzKCkge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgY29uc3QgYWxpZ25tZW50ID0gdGhpcy5vcHRpb25zLmFsaWdubWVudDtcblxuICAgIC8vIERpcmVjdGlvbiBjbGFzc2VzIChvbmx5IGFkZCBpZiBub3QgYWxyZWFkeSBwcmVzZW50IHZpYSBIVE1MKVxuICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcgJiYgIXRoaXMuX29yaWdpbmFsQ2xhc3Nlcy5kcm9wdXApIHRoaXMuYWRkQ2xhc3MoJ3NvLWRyb3B1cCcpO1xuICAgIGlmIChkaXJlY3Rpb24gPT09ICdzdGFydCcgJiYgIXRoaXMuX29yaWdpbmFsQ2xhc3Nlcy5kcm9wc3RhcnQpIHRoaXMuYWRkQ2xhc3MoJ3NvLWRyb3BzdGFydCcpO1xuICAgIGlmIChkaXJlY3Rpb24gPT09ICdlbmQnICYmICF0aGlzLl9vcmlnaW5hbENsYXNzZXMuZHJvcGVuZCkgdGhpcy5hZGRDbGFzcygnc28tZHJvcGVuZCcpO1xuXG4gICAgLy8gQWxpZ25tZW50IGNsYXNzIChvbmx5IGFkZCBpZiBub3QgYWxyZWFkeSBwcmVzZW50IHZpYSBIVE1MKVxuICAgIGlmIChhbGlnbm1lbnQgPT09ICdlbmQnICYmICF0aGlzLl9vcmlnaW5hbENsYXNzZXMubWVudUVuZCkgdGhpcy5hZGRDbGFzcygnc28tZHJvcGRvd24tbWVudS1lbmQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZGlyZWN0aW9uIGFuZCBhbGlnbm1lbnQgY2xhc3NlcyAob25seSB0aG9zZSBhZGRlZCBkeW5hbWljYWxseSwgbm90IHZpYSBIVE1MKVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbW92ZURpcmVjdGlvbkNsYXNzZXMoKSB7XG4gICAgLy8gT25seSByZW1vdmUgY2xhc3NlcyB0aGF0IHdlcmVuJ3Qgb3JpZ2luYWxseSBzZXQgdmlhIEhUTUxcbiAgICBpZiAoIXRoaXMuX29yaWdpbmFsQ2xhc3Nlcy5kcm9wdXApIHRoaXMucmVtb3ZlQ2xhc3MoJ3NvLWRyb3B1cCcpO1xuICAgIGlmICghdGhpcy5fb3JpZ2luYWxDbGFzc2VzLmRyb3BzdGFydCkgdGhpcy5yZW1vdmVDbGFzcygnc28tZHJvcHN0YXJ0Jyk7XG4gICAgaWYgKCF0aGlzLl9vcmlnaW5hbENsYXNzZXMuZHJvcGVuZCkgdGhpcy5yZW1vdmVDbGFzcygnc28tZHJvcGVuZCcpO1xuICAgIGlmICghdGhpcy5fb3JpZ2luYWxDbGFzc2VzLm1lbnVFbmQpIHRoaXMucmVtb3ZlQ2xhc3MoJ3NvLWRyb3Bkb3duLW1lbnUtZW5kJyk7XG4gIH1cblxuICAvKipcbiAgICogUG9zaXRpb24gb3B0aW9ucyBkcm9wZG93biBtZW51XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcG9zaXRpb25NZW51KCkge1xuICAgIGlmICh0aGlzLl90eXBlICE9PSAnb3B0aW9ucycpIHJldHVybjtcblxuICAgIC8vIFJlc2V0IHBvc2l0aW9uIGNsYXNzZXNcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCdwb3NpdGlvbi1sZWZ0JywgJ3Bvc2l0aW9uLXRvcCcpO1xuXG4gICAgY29uc3QgdHJpZ2dlclJlY3QgPSB0aGlzLl90cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IG1lbnVXaWR0aCA9IHRoaXMuX21lbnUub2Zmc2V0V2lkdGggfHwgMTgwO1xuICAgIGNvbnN0IG1lbnVIZWlnaHQgPSB0aGlzLl9tZW51Lm9mZnNldEhlaWdodCB8fCAxNTA7XG5cbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICBjb25zdCBzcGFjZVJpZ2h0ID0gdmlld3BvcnRXaWR0aCAtIHRyaWdnZXJSZWN0LnJpZ2h0O1xuICAgIGNvbnN0IHNwYWNlQm90dG9tID0gdmlld3BvcnRIZWlnaHQgLSB0cmlnZ2VyUmVjdC5ib3R0b207XG4gICAgY29uc3Qgc3BhY2VUb3AgPSB0cmlnZ2VyUmVjdC50b3A7XG5cbiAgICAvLyBIb3Jpem9udGFsIHBvc2l0aW9uXG4gICAgaWYgKHNwYWNlUmlnaHQgPj0gbWVudVdpZHRoKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCdwb3NpdGlvbi1sZWZ0Jyk7XG4gICAgfVxuXG4gICAgLy8gVmVydGljYWwgcG9zaXRpb25cbiAgICBpZiAoc3BhY2VCb3R0b20gPCBtZW51SGVpZ2h0ICsgMTAgJiYgc3BhY2VUb3AgPiBtZW51SGVpZ2h0ICsgMTApIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Bvc2l0aW9uLXRvcCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBVQkxJQyBBUElcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogT3BlbiB0aGUgZHJvcGRvd25cbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgb3BlbigpIHtcbiAgICBpZiAodGhpcy5faXNPcGVuIHx8IHRoaXMuX2Rpc2FibGVkKSByZXR1cm4gdGhpcztcblxuICAgIC8vIEVtaXQgY2FuY2VsYWJsZSBzaG93IGV2ZW50XG4gICAgY29uc3Qgc2hvd0FsbG93ZWQgPSB0aGlzLmVtaXQoU09Ecm9wZG93bi5FVkVOVFMuU0hPVywge30sIHRydWUsIHRydWUpO1xuICAgIGlmICghc2hvd0FsbG93ZWQpIHJldHVybiB0aGlzO1xuXG4gICAgdGhpcy5faXNPcGVuID0gdHJ1ZTtcbiAgICB0aGlzLmFkZENsYXNzKCdzby1vcGVuJyk7XG4gICAgdGhpcy5fYXBwbHlEaXJlY3Rpb25DbGFzc2VzKCk7XG5cbiAgICAvLyBSZXNldCBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAgdGhpcy5fZm9jdXNlZEluZGV4ID0gLTE7XG5cbiAgICAvLyBTZXQgZmxhZyB0byBpZ25vcmUgaW1tZWRpYXRlIG91dHNpZGUgY2xpY2tzIChmb3IgcHJvZ3JhbW1hdGljIG9wZW4pXG4gICAgdGhpcy5faWdub3JlT3V0c2lkZUNsaWNrID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuX2lnbm9yZU91dHNpZGVDbGljayA9IGZhbHNlO1xuICAgIH0sIDEwKTtcblxuICAgIC8vIEZvY3VzIHNlYXJjaCBpbnB1dCBpZiBwcmVzZW50XG4gICAgaWYgKHRoaXMuX3NlYXJjaElucHV0KSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3NlYXJjaElucHV0LmZvY3VzKCksIDUwKTtcbiAgICB9XG5cbiAgICAvLyBFbWl0IHNob3duIGV2ZW50IGFmdGVyIHRyYW5zaXRpb25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZW1pdChTT0Ryb3Bkb3duLkVWRU5UUy5TSE9XTik7XG4gICAgfSwgMTUwKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBkcm9wZG93blxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuX2lzT3BlbikgcmV0dXJuIHRoaXM7XG5cbiAgICAvLyBFbWl0IGNhbmNlbGFibGUgaGlkZSBldmVudFxuICAgIGNvbnN0IGhpZGVBbGxvd2VkID0gdGhpcy5lbWl0KFNPRHJvcGRvd24uRVZFTlRTLkhJREUsIHt9LCB0cnVlLCB0cnVlKTtcbiAgICBpZiAoIWhpZGVBbGxvd2VkKSByZXR1cm4gdGhpcztcblxuICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3NvLW9wZW4nKTtcblxuICAgIC8vIENsZWFyIGZvY3VzZWQgaXRlbVxuICAgIHRoaXMuX2NsZWFyRm9jdXNlZEl0ZW0oKTtcblxuICAgIC8vIENsZWFyIHNlYXJjaFxuICAgIGlmICh0aGlzLl9zZWFyY2hJbnB1dCkge1xuICAgICAgdGhpcy5fc2VhcmNoSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHRoaXMuX2ZpbHRlckl0ZW1zKCcnKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgcG9zaXRpb24gY2xhc3NlcyBBRlRFUiB0cmFuc2l0aW9uIGNvbXBsZXRlcyB0byBwcmV2ZW50IGp1bXBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Bvc2l0aW9uLWxlZnQnLCAncG9zaXRpb24tdG9wJyk7XG4gICAgICB0aGlzLl9yZW1vdmVEaXJlY3Rpb25DbGFzc2VzKCk7XG4gICAgICB0aGlzLmVtaXQoU09Ecm9wZG93bi5FVkVOVFMuSElEREVOKTtcbiAgICB9LCAxNTApO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSBkcm9wZG93blxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICB0b2dnbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzT3BlbiA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhbiBvcHRpb24gKHNpbmdsZSBzZWxlY3Rpb24gbW9kZSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gT3B0aW9uIHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdGV4dF0gLSBEaXNwbGF5IHRleHRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBbY2xpY2tlZEl0ZW1dIC0gQ2xpY2tlZCBpdGVtIGVsZW1lbnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2VsZWN0KHZhbHVlLCB0ZXh0LCBjbGlja2VkSXRlbSA9IG51bGwpIHtcbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlcyA9IFsuLi50aGlzLl9zZWxlY3RlZFZhbHVlc107XG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBhbmQgc2V0IG5ld1xuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW3ZhbHVlXTtcbiAgICB0aGlzLl9zZWxlY3RlZFRleHRzID0gW3RleHRdO1xuXG4gICAgLy8gVXBkYXRlIGRpc3BsYXlcbiAgICBpZiAodGhpcy5fc2VsZWN0ZWRFbCkge1xuICAgICAgdGhpcy5fc2VsZWN0ZWRFbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHNlbGVjdGVkIHN0YXRlIGluIG1lbnVcbiAgICBjb25zdCBpdGVtU2VsZWN0b3IgPSB0aGlzLl9nZXRJdGVtU2VsZWN0b3IoKTtcbiAgICB0aGlzLiQkKGl0ZW1TZWxlY3RvcikuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIC8vIElmIHdlIGhhdmUgdGhlIGNsaWNrZWQgaXRlbSwgdXNlIGRpcmVjdCBjb21wYXJpc29uXG4gICAgICAvLyBPdGhlcndpc2UgZmFsbCBiYWNrIHRvIHZhbHVlIGNvbXBhcmlzb24gKGZvciBwcm9ncmFtbWF0aWMgc2VsZWN0aW9uKVxuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IGNsaWNrZWRJdGVtXG4gICAgICAgID8gaXRlbSA9PT0gY2xpY2tlZEl0ZW1cbiAgICAgICAgOiAoaXRlbS5kYXRhc2V0LnZhbHVlICE9PSB1bmRlZmluZWQgPyBpdGVtLmRhdGFzZXQudmFsdWUgPT09IHZhbHVlIDogdGhpcy5fZ2V0SXRlbVRleHQoaXRlbSkgPT09IHZhbHVlKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnc28tc2VsZWN0ZWQnLCBpc1NlbGVjdGVkKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnc28tYWN0aXZlJywgaXNTZWxlY3RlZCk7XG4gICAgfSk7XG5cbiAgICAvLyBFbWl0IGNoYW5nZSBldmVudFxuICAgIHRoaXMuZW1pdChTT0Ryb3Bkb3duLkVWRU5UUy5DSEFOR0UsIHtcbiAgICAgIHZhbHVlLFxuICAgICAgdGV4dCxcbiAgICAgIHZhbHVlczogdGhpcy5fc2VsZWN0ZWRWYWx1ZXMsXG4gICAgICB0ZXh0czogdGhpcy5fc2VsZWN0ZWRUZXh0cyxcbiAgICAgIHByZXZpb3VzVmFsdWVzLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHNlbGVjdGlvbiBmb3IgbXVsdGlwbGUgbW9kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBPcHRpb24gdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBEaXNwbGF5IHRleHRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBpdGVtIC0gSXRlbSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHRvZ2dsZVNlbGVjdCh2YWx1ZSwgdGV4dCwgaXRlbSkge1xuICAgIGNvbnN0IHByZXZpb3VzVmFsdWVzID0gWy4uLnRoaXMuX3NlbGVjdGVkVmFsdWVzXTtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NlbGVjdGVkVmFsdWVzLmluZGV4T2YodmFsdWUpO1xuXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIC8vIENoZWNrIG1pblNlbGVjdGlvbnMgYmVmb3JlIGRlc2VsZWN0aW5nXG4gICAgICBjb25zdCBtaW5TZWxlY3Rpb25zID0gdGhpcy5vcHRpb25zLm1pblNlbGVjdGlvbnMgfHwgMDtcbiAgICAgIGlmICh0aGlzLl9zZWxlY3RlZFZhbHVlcy5sZW5ndGggPD0gbWluU2VsZWN0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpczsgLy8gRG9uJ3QgYWxsb3cgZGVzZWxlY3RpbmcgYmVsb3cgbWluaW11bVxuICAgICAgfVxuICAgICAgLy8gRGVzZWxlY3RcbiAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB0aGlzLl9zZWxlY3RlZFRleHRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXNlbGVjdGVkJywgJ3NvLWFjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDaGVjayBtYXggc2VsZWN0aW9uc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYXhTZWxlY3Rpb25zICYmIHRoaXMuX3NlbGVjdGVkVmFsdWVzLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubWF4U2VsZWN0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpczsgLy8gRG9uJ3QgYWxsb3cgbW9yZSBzZWxlY3Rpb25zXG4gICAgICB9XG4gICAgICAvLyBTZWxlY3RcbiAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgdGhpcy5fc2VsZWN0ZWRUZXh0cy5wdXNoKHRleHQpO1xuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdzby1zZWxlY3RlZCcsICdzby1hY3RpdmUnKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgZGlzcGxheVxuICAgIHRoaXMuX3VwZGF0ZU11bHRpcGxlRGlzcGxheSgpO1xuXG4gICAgLy8gRW1pdCBjaGFuZ2UgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09Ecm9wZG93bi5FVkVOVFMuQ0hBTkdFLCB7XG4gICAgICB2YWx1ZSxcbiAgICAgIHRleHQsXG4gICAgICB2YWx1ZXM6IHRoaXMuX3NlbGVjdGVkVmFsdWVzLFxuICAgICAgdGV4dHM6IHRoaXMuX3NlbGVjdGVkVGV4dHMsXG4gICAgICBwcmV2aW91c1ZhbHVlcyxcbiAgICAgIGFjdGlvbjogaW5kZXggPiAtMSA/ICdkZXNlbGVjdCcgOiAnc2VsZWN0JyxcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBkaXNwbGF5IHRleHQgZm9yIG11bHRpcGxlIHNlbGVjdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZU11bHRpcGxlRGlzcGxheSgpIHtcbiAgICBpZiAoIXRoaXMuX3NlbGVjdGVkRWwpIHJldHVybjtcblxuICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsSXRlbXMgPSB0aGlzLl9nZXRUb3RhbFNlbGVjdGFibGVJdGVtcygpO1xuXG4gICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLl9zZWxlY3RlZEVsLnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyO1xuICAgICAgdGhpcy5fc2VsZWN0ZWRFbC5jbGFzc0xpc3QuYWRkKCdzby1wbGFjZWhvbGRlcicpO1xuICAgIH0gZWxzZSBpZiAoY291bnQgPT09IHRvdGFsSXRlbXMgJiYgdGhpcy5vcHRpb25zLmFsbFNlbGVjdGVkVGV4dCkge1xuICAgICAgLy8gQWxsIGl0ZW1zIHNlbGVjdGVkIGFuZCBjdXN0b20gdGV4dCBwcm92aWRlZFxuICAgICAgdGhpcy5fc2VsZWN0ZWRFbC50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9ucy5hbGxTZWxlY3RlZFRleHQ7XG4gICAgICB0aGlzLl9zZWxlY3RlZEVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXBsYWNlaG9sZGVyJyk7XG4gICAgfSBlbHNlIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgdGhpcy5fc2VsZWN0ZWRFbC50ZXh0Q29udGVudCA9IHRoaXMuX3NlbGVjdGVkVGV4dHNbMF07XG4gICAgICB0aGlzLl9zZWxlY3RlZEVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXBsYWNlaG9sZGVyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVzZSB0ZW1wbGF0ZSB3aXRoIHtjb3VudH0gcGxhY2Vob2xkZXJcbiAgICAgIHRoaXMuX3NlbGVjdGVkRWwudGV4dENvbnRlbnQgPSB0aGlzLm9wdGlvbnMubXVsdGlwbGVTZWxlY3RlZFRleHQucmVwbGFjZSgne2NvdW50fScsIGNvdW50KTtcbiAgICAgIHRoaXMuX3NlbGVjdGVkRWwuY2xhc3NMaXN0LnJlbW92ZSgnc28tcGxhY2Vob2xkZXInKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRvdGFsIG51bWJlciBvZiBzZWxlY3RhYmxlIChub24tZGlzYWJsZWQpIGl0ZW1zXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRvdGFsIHNlbGVjdGFibGUgaXRlbXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRUb3RhbFNlbGVjdGFibGVJdGVtcygpIHtcbiAgICBjb25zdCBpdGVtU2VsZWN0b3IgPSB0aGlzLl9nZXRJdGVtU2VsZWN0b3IoKTtcbiAgICByZXR1cm4gdGhpcy4kJChpdGVtU2VsZWN0b3IpLmZpbHRlcihpdGVtID0+XG4gICAgICAhaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRpc2FibGVkJykgJiZcbiAgICAgICFpdGVtLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJlxuICAgICAgaXRlbS5nZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKSAhPT0gJ3RydWUnXG4gICAgKS5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHNlbGVjdGVkIHZhbHVlIChyZXR1cm5zIGZpcnN0IGZvciBtdWx0aXBsZSwgb3Igc2luZ2xlIHZhbHVlKVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IFNlbGVjdGVkIHZhbHVlXG4gICAqL1xuICBnZXRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRWYWx1ZXNbMF0gfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHNlbGVjdGVkIHZhbHVlcyAoZm9yIG11bHRpcGxlIHNlbGVjdGlvbilcbiAgICogQHJldHVybnMge3N0cmluZ1tdfSBBcnJheSBvZiBzZWxlY3RlZCB2YWx1ZXNcbiAgICovXG4gIGdldFZhbHVlcygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuX3NlbGVjdGVkVmFsdWVzXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc2VsZWN0ZWQgdGV4dCAocmV0dXJucyBmaXJzdCBmb3IgbXVsdGlwbGUsIG9yIHNpbmdsZSB0ZXh0KVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IFNlbGVjdGVkIHRleHRcbiAgICovXG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkVGV4dHNbMF0gfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHNlbGVjdGVkIHRleHRzIChmb3IgbXVsdGlwbGUgc2VsZWN0aW9uKVxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119IEFycmF5IG9mIHNlbGVjdGVkIHRleHRzXG4gICAqL1xuICBnZXRUZXh0cygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuX3NlbGVjdGVkVGV4dHNdO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBzZWxlY3Rpb25zXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IHByZXZpb3VzVmFsdWVzID0gWy4uLnRoaXMuX3NlbGVjdGVkVmFsdWVzXTtcblxuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5fc2VsZWN0ZWRUZXh0cyA9IFtdO1xuXG4gICAgLy8gVXBkYXRlIFVJXG4gICAgY29uc3QgaXRlbVNlbGVjdG9yID0gdGhpcy5fZ2V0SXRlbVNlbGVjdG9yKCk7XG4gICAgdGhpcy4kJChpdGVtU2VsZWN0b3IpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXNlbGVjdGVkJywgJ3NvLWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIGRpc3BsYXlcbiAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICB0aGlzLl91cGRhdGVNdWx0aXBsZURpc3BsYXkoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3NlbGVjdGVkRWwpIHtcbiAgICAgIHRoaXMuX3NlbGVjdGVkRWwudGV4dENvbnRlbnQgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXI7XG4gICAgICB0aGlzLl9zZWxlY3RlZEVsLmNsYXNzTGlzdC5hZGQoJ3NvLXBsYWNlaG9sZGVyJyk7XG4gICAgfVxuXG4gICAgLy8gRW1pdCBjaGFuZ2UgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09Ecm9wZG93bi5FVkVOVFMuQ0hBTkdFLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHRleHQ6IG51bGwsXG4gICAgICB2YWx1ZXM6IFtdLFxuICAgICAgdGV4dHM6IFtdLFxuICAgICAgcHJldmlvdXNWYWx1ZXMsXG4gICAgICBhY3Rpb246ICdjbGVhcicsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3QgYWxsIGl0ZW1zIChmb3IgbXVsdGlwbGUgc2VsZWN0aW9uIG1vZGUpXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNlbGVjdEFsbCgpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5tdWx0aXBsZSkgcmV0dXJuIHRoaXM7XG5cbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlcyA9IFsuLi50aGlzLl9zZWxlY3RlZFZhbHVlc107XG4gICAgY29uc3QgaXRlbVNlbGVjdG9yID0gdGhpcy5fZ2V0SXRlbVNlbGVjdG9yKCk7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLiQkKGl0ZW1TZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcyA9IFtdO1xuICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMgPSBbXTtcblxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAvLyBTa2lwIGRpc2FibGVkIGl0ZW1zXG4gICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRpc2FibGVkJykgfHxcbiAgICAgICAgICBpdGVtLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSB8fFxuICAgICAgICAgIGl0ZW0uZ2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJykgPT09ICd0cnVlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNraXAgaGlkZGVuIGl0ZW1zIChmaWx0ZXJlZCBvdXQpXG4gICAgICBpZiAoaXRlbS5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0ZXh0ID0gdGhpcy5fZ2V0SXRlbVRleHQoaXRlbSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGl0ZW0uZGF0YXNldC52YWx1ZSAhPT0gdW5kZWZpbmVkID8gaXRlbS5kYXRhc2V0LnZhbHVlIDogdGV4dDtcblxuICAgICAgLy8gQ2hlY2sgbWF4IHNlbGVjdGlvbnNcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubWF4U2VsZWN0aW9ucyAmJiB0aGlzLl9zZWxlY3RlZFZhbHVlcy5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1heFNlbGVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMucHVzaCh0ZXh0KTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnc28tc2VsZWN0ZWQnLCAnc28tYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgZGlzcGxheVxuICAgIHRoaXMuX3VwZGF0ZU11bHRpcGxlRGlzcGxheSgpO1xuXG4gICAgLy8gRW1pdCBjaGFuZ2UgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09Ecm9wZG93bi5FVkVOVFMuQ0hBTkdFLCB7XG4gICAgICB2YWx1ZTogdGhpcy5fc2VsZWN0ZWRWYWx1ZXNbMF0gfHwgbnVsbCxcbiAgICAgIHRleHQ6IHRoaXMuX3NlbGVjdGVkVGV4dHNbMF0gfHwgbnVsbCxcbiAgICAgIHZhbHVlczogdGhpcy5fc2VsZWN0ZWRWYWx1ZXMsXG4gICAgICB0ZXh0czogdGhpcy5fc2VsZWN0ZWRUZXh0cyxcbiAgICAgIHByZXZpb3VzVmFsdWVzLFxuICAgICAgYWN0aW9uOiAnc2VsZWN0QWxsJyxcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc2VsZWN0IGFsbCBpdGVtcyAoYWxpYXMgZm9yIGNsZWFyU2VsZWN0aW9uLCBmb3IgbXVsdGlwbGUgc2VsZWN0aW9uIG1vZGUpXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNlbGVjdE5vbmUoKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHJldHVybiB0aGlzO1xuXG4gICAgLy8gQ2hlY2sgbWluU2VsZWN0aW9ucyAtIGlmIHNldCwgZG9uJ3QgYWxsb3cgc2VsZWN0aW5nIG5vbmVcbiAgICBjb25zdCBtaW5TZWxlY3Rpb25zID0gdGhpcy5vcHRpb25zLm1pblNlbGVjdGlvbnMgfHwgMDtcbiAgICBpZiAobWluU2VsZWN0aW9ucyA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzOyAvLyBEb24ndCBhbGxvdyBkZXNlbGVjdGluZyBhbGwgd2hlbiBtaW5TZWxlY3Rpb25zIGlzIHNldFxuICAgIH1cblxuICAgIGNvbnN0IHByZXZpb3VzVmFsdWVzID0gWy4uLnRoaXMuX3NlbGVjdGVkVmFsdWVzXTtcblxuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5fc2VsZWN0ZWRUZXh0cyA9IFtdO1xuXG4gICAgLy8gVXBkYXRlIFVJXG4gICAgY29uc3QgaXRlbVNlbGVjdG9yID0gdGhpcy5fZ2V0SXRlbVNlbGVjdG9yKCk7XG4gICAgdGhpcy4kJChpdGVtU2VsZWN0b3IpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXNlbGVjdGVkJywgJ3NvLWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIGRpc3BsYXlcbiAgICB0aGlzLl91cGRhdGVNdWx0aXBsZURpc3BsYXkoKTtcblxuICAgIC8vIEVtaXQgY2hhbmdlIGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPRHJvcGRvd24uRVZFTlRTLkNIQU5HRSwge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICB0ZXh0OiBudWxsLFxuICAgICAgdmFsdWVzOiBbXSxcbiAgICAgIHRleHRzOiBbXSxcbiAgICAgIHByZXZpb3VzVmFsdWVzLFxuICAgICAgYWN0aW9uOiAnc2VsZWN0Tm9uZScsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBkcm9wZG93biBpcyBvcGVuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBPcGVuIHN0YXRlXG4gICAqL1xuICBpc09wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzT3BlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZHJvcGRvd24gcG9zaXRpb24gKGZvciBkeW5hbWljIGNvbnRlbnQpXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faXNPcGVuKSB7XG4gICAgICB0aGlzLl9wb3NpdGlvbk1lbnUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgZHJvcGRvd25cbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5hZGRDbGFzcygnc28tZGlzYWJsZWQnKTtcbiAgICBpZiAodGhpcy5fdHJpZ2dlcikge1xuICAgICAgdGhpcy5fdHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xuICAgICAgdGhpcy5fdHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5faXNPcGVuKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSB0aGUgZHJvcGRvd25cbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMuX2Rpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZW1vdmVDbGFzcygnc28tZGlzYWJsZWQnKTtcbiAgICBpZiAodGhpcy5fdHJpZ2dlcikge1xuICAgICAgdGhpcy5fdHJpZ2dlci5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB0aGlzLl90cmlnZ2VyLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBkcm9wZG93biBpcyBkaXNhYmxlZFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gRGlzYWJsZWQgc3RhdGVcbiAgICovXG4gIGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGEgc3BlY2lmaWMgaXRlbVxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGlkZW50aWZpZXIgLSBWYWx1ZSBvciBpbmRleCBvZiBpdGVtXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzYWJsZWQgLSBXaGV0aGVyIHRvIGRpc2FibGVcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2V0SXRlbURpc2FibGVkKGlkZW50aWZpZXIsIGRpc2FibGVkID0gdHJ1ZSkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy4kJCh0aGlzLl9nZXRJdGVtU2VsZWN0b3IoKSk7XG4gICAgY29uc3QgaXRlbSA9IHR5cGVvZiBpZGVudGlmaWVyID09PSAnbnVtYmVyJ1xuICAgICAgPyBpdGVtc1tpZGVudGlmaWVyXVxuICAgICAgOiBpdGVtcy5maW5kKGkgPT4gaS5kYXRhc2V0LnZhbHVlID09PSBpZGVudGlmaWVyKTtcblxuICAgIGlmIChpdGVtKSB7XG4gICAgICBpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NvLWRpc2FibGVkJywgZGlzYWJsZWQpO1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIEZBQ1RPUlkgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzdGFuZGFyZCBkcm9wZG93biBwcm9ncmFtbWF0aWNhbGx5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gRHJvcGRvd24gY29uZmlndXJhdGlvblxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IENyZWF0ZWQgZHJvcGRvd24gZWxlbWVudFxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IHBsYWNlaG9sZGVyID0gJ1NlbGVjdCBvcHRpb24nLCBpdGVtcyA9IFtdLCBjbGFzc05hbWUgPSAnJyB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZHJvcGRvd24uY2xhc3NOYW1lID0gYHNvLWRyb3Bkb3duICR7Y2xhc3NOYW1lfWAudHJpbSgpO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gaXRlbXMuZmluZChpID0+IGkuc2VsZWN0ZWQpO1xuXG4gICAgZHJvcGRvd24uaW5uZXJIVE1MID0gYFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzby1kcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwic28tZHJvcGRvd24tc2VsZWN0ZWRcIj4ke3NlbGVjdGVkSXRlbT8ubGFiZWwgfHwgcGxhY2Vob2xkZXJ9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zIHNvLWRyb3Bkb3duLWFycm93XCI+ZXhwYW5kX21vcmU8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzby1kcm9wZG93bi1tZW51XCI+XG4gICAgICAgICR7aXRlbXMubWFwKGl0ZW0gPT4gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzby1kcm9wZG93bi1pdGVtICR7aXRlbS5zZWxlY3RlZCA/ICdzby1zZWxlY3RlZCcgOiAnJ30gJHtpdGVtLmRpc2FibGVkID8gJ3NvLWRpc2FibGVkJyA6ICcnfVwiXG4gICAgICAgICAgICAgICBkYXRhLXZhbHVlPVwiJHtpdGVtLnZhbHVlfVwiXG4gICAgICAgICAgICAgICAke2l0ZW0uZGlzYWJsZWQgPyAnYXJpYS1kaXNhYmxlZD1cInRydWVcIicgOiAnJ30+XG4gICAgICAgICAgICAke2l0ZW0uaWNvbiA/IGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtpdGVtLmljb259PC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAgICR7aXRlbS5sYWJlbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYCkuam9pbignJyl9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgcmV0dXJuIGRyb3Bkb3duO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNlYXJjaGFibGUgZHJvcGRvd24gcHJvZ3JhbW1hdGljYWxseVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIERyb3Bkb3duIGNvbmZpZ3VyYXRpb25cbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSBDcmVhdGVkIGRyb3Bkb3duIGVsZW1lbnRcbiAgICovXG4gIHN0YXRpYyBjcmVhdGVTZWFyY2hhYmxlKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHBsYWNlaG9sZGVyID0gJ1NlbGVjdCBvcHRpb24nLFxuICAgICAgc2VhcmNoUGxhY2Vob2xkZXIgPSAnU2VhcmNoLi4uJyxcbiAgICAgIGl0ZW1zID0gW10sXG4gICAgICBjbGFzc05hbWUgPSAnJ1xuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkcm9wZG93bi5jbGFzc05hbWUgPSBgc28tc2VhcmNoYWJsZS1kcm9wZG93biAke2NsYXNzTmFtZX1gLnRyaW0oKTtcblxuICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IGl0ZW1zLmZpbmQoaSA9PiBpLnNlbGVjdGVkKTtcblxuICAgIGRyb3Bkb3duLmlubmVySFRNTCA9IGBcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic28tc2VhcmNoYWJsZS10cmlnZ2VyXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwic28tc2VhcmNoYWJsZS1zZWxlY3RlZFwiPiR7c2VsZWN0ZWRJdGVtPy5sYWJlbCB8fCBwbGFjZWhvbGRlcn08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgc28tZHJvcGRvd24tYXJyb3dcIj5leHBhbmRfbW9yZTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGRpdiBjbGFzcz1cInNvLXNlYXJjaGFibGUtbWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic28tc2VhcmNoYWJsZS1zZWFyY2hcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+c2VhcmNoPC9zcGFuPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwic28tc2VhcmNoYWJsZS1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiJHtzZWFyY2hQbGFjZWhvbGRlcn1cIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby1zZWFyY2hhYmxlLWl0ZW1zXCI+XG4gICAgICAgICAgJHtpdGVtcy5tYXAoaXRlbSA9PiBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic28tc2VhcmNoYWJsZS1pdGVtICR7aXRlbS5zZWxlY3RlZCA/ICdzby1zZWxlY3RlZCcgOiAnJ30gJHtpdGVtLmRpc2FibGVkID8gJ3NvLWRpc2FibGVkJyA6ICcnfVwiXG4gICAgICAgICAgICAgICAgIGRhdGEtdmFsdWU9XCIke2l0ZW0udmFsdWV9XCJcbiAgICAgICAgICAgICAgICAgJHtpdGVtLmRpc2FibGVkID8gJ2FyaWEtZGlzYWJsZWQ9XCJ0cnVlXCInIDogJyd9PlxuICAgICAgICAgICAgICAke2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgcmV0dXJuIGRyb3Bkb3duO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBvcHRpb25zIGRyb3Bkb3duIHByb2dyYW1tYXRpY2FsbHlcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBEcm9wZG93biBjb25maWd1cmF0aW9uXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gQ3JlYXRlZCBkcm9wZG93biBlbGVtZW50XG4gICAqL1xuICBzdGF0aWMgY3JlYXRlT3B0aW9ucyhvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGljb24gPSAnbW9yZV92ZXJ0JywgaXRlbXMgPSBbXSwgY2xhc3NOYW1lID0gJycgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRyb3Bkb3duLmNsYXNzTmFtZSA9IGBzby1vcHRpb25zLWRyb3Bkb3duICR7Y2xhc3NOYW1lfWAudHJpbSgpO1xuXG4gICAgZHJvcGRvd24uaW5uZXJIVE1MID0gYFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzby1vcHRpb25zLXRyaWdnZXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7aWNvbn08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzby1vcHRpb25zLW1lbnVcIj5cbiAgICAgICAgJHtpdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgaWYgKGl0ZW0uZGl2aWRlcikge1xuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwic28tb3B0aW9ucy1kaXZpZGVyXCI+PC9kaXY+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZW0uaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJzby1kcm9wZG93bi1oZWFkZXJcIj4ke2l0ZW0uaGVhZGVyfTwvZGl2PmA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic28tb3B0aW9ucy1pdGVtICR7aXRlbS5kYW5nZXIgPyAnc28tZGFuZ2VyJyA6ICcnfSAke2l0ZW0uZGlzYWJsZWQgPyAnc28tZGlzYWJsZWQnIDogJyd9XCJcbiAgICAgICAgICAgICAgICAgZGF0YS1hY3Rpb249XCIke2l0ZW0uYWN0aW9uIHx8ICcnfVwiXG4gICAgICAgICAgICAgICAgICR7aXRlbS5kaXNhYmxlZCA/ICdhcmlhLWRpc2FibGVkPVwidHJ1ZVwiJyA6ICcnfT5cbiAgICAgICAgICAgICAgJHtpdGVtLmljb24gPyBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7aXRlbS5pY29ufTwvc3Bhbj5gIDogJyd9XG4gICAgICAgICAgICAgIDxzcGFuPiR7aXRlbS5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9KS5qb2luKCcnKX1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICByZXR1cm4gZHJvcGRvd247XG4gIH1cbn1cblxuLy8gUmVnaXN0ZXIgY29tcG9uZW50XG5TT0Ryb3Bkb3duLnJlZ2lzdGVyKCk7XG5cbi8vIEV4cG9zZSB0byBnbG9iYWwgc2NvcGVcbndpbmRvdy5TT0Ryb3Bkb3duID0gU09Ecm9wZG93bjtcblxuLy8gRXhwb3J0IGZvciBFUyBtb2R1bGVzXG5leHBvcnQgZGVmYXVsdCBTT0Ryb3Bkb3duO1xuZXhwb3J0IHsgU09Ecm9wZG93biB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIExBWU9VVCBDT01QT05FTlRTXG4vLyBOYXZiYXIgY29udHJvbGxlciAoU2lkZWJhciBtb3ZlZCB0byBzcmMvcGFnZXMvZ2xvYmFsL2dsb2JhbC5qcylcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTkFWQkFSIENPTVBPTkVOVFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBTT05hdmJhciAtIE5hdmJhciBjb21wb25lbnRcbiAqIEhhbmRsZXMgbmF2YmFyIGRyb3Bkb3ducyBhbmQgaW50ZXJhY3Rpb25zXG4gKi9cbmNsYXNzIFNPTmF2YmFyIGV4dGVuZHMgU09Db21wb25lbnQge1xuICBzdGF0aWMgTkFNRSA9ICduYXZiYXInO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICBzZWFyY2hJbnB1dFNlbGVjdG9yOiAnLnNvLW5hdmJhci1zZWFyY2gtaW5wdXQnLFxuICAgIHVzZXJCdG5TZWxlY3RvcjogJy5zby1uYXZiYXItdXNlci1idG4nLFxuICAgIHVzZXJEcm9wZG93blNlbGVjdG9yOiAnLnNvLW5hdmJhci11c2VyLWRyb3Bkb3duJyxcbiAgICBhcHBzQnRuU2VsZWN0b3I6ICcuc28tbmF2YmFyLWFwcHMtYnRuJyxcbiAgICBhcHBzQ29udGFpbmVyU2VsZWN0b3I6ICcuc28tbmF2YmFyLWFwcHMnLFxuICAgIG91dGxldEJ0blNlbGVjdG9yOiAnLnNvLW5hdmJhci1vdXRsZXQtYnRuJyxcbiAgICBvdXRsZXREcm9wZG93blNlbGVjdG9yOiAnLnNvLW5hdmJhci1vdXRsZXQtZHJvcGRvd24nLFxuICAgIHN0YXR1c0J0blNlbGVjdG9yOiAnLnNvLW5hdmJhci1zdGF0dXMtYnRuJyxcbiAgICBzdGF0dXNEcm9wZG93blNlbGVjdG9yOiAnLnNvLW5hdmJhci1zdGF0dXMtZHJvcGRvd24nLFxuICAgIHRoZW1lQnRuU2VsZWN0b3I6ICcuc28tbmF2YmFyLXRoZW1lLWJ0bicsXG4gICAgdGhlbWVEcm9wZG93blNlbGVjdG9yOiAnLnNvLW5hdmJhci10aGVtZS1kcm9wZG93bicsXG4gICAga2V5Ym9hcmRCdG5TZWxlY3RvcjogJyNrZXlib2FyZFNob3J0Y3V0c0J0bicsXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBTRUFSQ0g6ICduYXZiYXI6c2VhcmNoJyxcbiAgICBEUk9QRE9XTl9PUEVOOiAnbmF2YmFyOmRyb3Bkb3duOm9wZW4nLFxuICAgIERST1BET1dOX0NMT1NFOiAnbmF2YmFyOmRyb3Bkb3duOmNsb3NlJyxcbiAgICBPVVRMRVRfQ0hBTkdFOiAnbmF2YmFyOm91dGxldDpjaGFuZ2UnLFxuICAgIFNUQVRVU19DSEFOR0U6ICduYXZiYXI6c3RhdHVzOmNoYW5nZScsXG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIG5hdmJhclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5fYWN0aXZlRHJvcGRvd24gPSBudWxsO1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgICB0aGlzLl9pbml0T3V0bGV0U2VsZWN0b3IoKTtcbiAgICB0aGlzLl9pbml0U3RhdHVzU2VsZWN0b3IoKTtcbiAgICB0aGlzLl9pbml0VGhlbWVTd2l0Y2hlcigpO1xuICAgIHRoaXMuX2luaXRLZXlib2FyZFNob3J0Y3V0cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICAvLyBTZWFyY2ggaW5wdXQgY2xpY2sgLSBvcGVuIHNlYXJjaCBvdmVybGF5XG4gICAgLy8gVXNlIGNsaWNrIGluc3RlYWQgb2YgZm9jdXMgdG8gcHJldmVudCB1bmludGVuZGVkIG92ZXJsYXkgb3BlbmluZ1xuICAgIGNvbnN0IHNlYXJjaElucHV0ID0gdGhpcy4kKHRoaXMub3B0aW9ucy5zZWFyY2hJbnB1dFNlbGVjdG9yKTtcbiAgICBjb25zdCBzZWFyY2hXcmFwcGVyID0gc2VhcmNoSW5wdXQ/LmNsb3Nlc3QoJy5zby1uYXZiYXItc2VhcmNoLXdyYXBwZXInKSB8fCBzZWFyY2hJbnB1dD8uY2xvc2VzdCgnLnNvLW5hdmJhci1zZWFyY2gnKTtcbiAgICBpZiAoc2VhcmNoV3JhcHBlcikge1xuICAgICAgdGhpcy5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmICh3aW5kb3cuc29TZWFyY2hPdmVybGF5KSB7XG4gICAgICAgICAgd2luZG93LnNvU2VhcmNoT3ZlcmxheS5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHNlYXJjaFdyYXBwZXIpO1xuICAgIH1cblxuICAgIC8vIFVzZXIgZHJvcGRvd25cbiAgICBjb25zdCB1c2VyQnRuID0gdGhpcy4kKHRoaXMub3B0aW9ucy51c2VyQnRuU2VsZWN0b3IpO1xuICAgIGNvbnN0IHVzZXJEcm9wZG93biA9IHRoaXMuJCh0aGlzLm9wdGlvbnMudXNlckRyb3Bkb3duU2VsZWN0b3IpO1xuICAgIGlmICh1c2VyQnRuICYmIHVzZXJEcm9wZG93bikge1xuICAgICAgdGhpcy5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLl90b2dnbGVEcm9wZG93bih1c2VyRHJvcGRvd24sICd1c2VyJywgJ3NvLWFjdGl2ZScpO1xuICAgICAgfSwgdXNlckJ0bik7XG5cbiAgICAgIC8vIEhhbmRsZSBtZW51IGl0ZW0gY2xpY2tzIC0gc3RvcCBwcm9wYWdhdGlvbiB0byBwcmV2ZW50IHRyaWdnZXJpbmcgcGFyZW50XG4gICAgICBjb25zdCBtZW51SXRlbXMgPSB1c2VyRHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLnNvLW5hdmJhci11c2VyLW1lbnUtaXRlbScpO1xuICAgICAgbWVudUl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIHRoaXMub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIC8vIENsb3NlIGRyb3Bkb3duIGFmdGVyIGNsaWNraW5nIGEgbWVudSBpdGVtXG4gICAgICAgICAgdGhpcy5fY2xvc2VOYXZiYXJEcm9wZG93bnMoKTtcbiAgICAgICAgfSwgaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBcHBzIGRyb3Bkb3duXG4gICAgY29uc3QgYXBwc0NvbnRhaW5lciA9IHRoaXMuJCh0aGlzLm9wdGlvbnMuYXBwc0NvbnRhaW5lclNlbGVjdG9yKTtcbiAgICBjb25zdCBhcHBzQnRuID0gdGhpcy4kKHRoaXMub3B0aW9ucy5hcHBzQnRuU2VsZWN0b3IpO1xuICAgIGlmIChhcHBzQ29udGFpbmVyICYmIGFwcHNCdG4pIHtcbiAgICAgIHRoaXMub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlRHJvcGRvd24oYXBwc0NvbnRhaW5lciwgJ2FwcHMnLCAnc28tb3BlbicpO1xuICAgICAgfSwgYXBwc0J0bik7XG4gICAgfVxuXG4gICAgLy8gQ2xvc2UgZHJvcGRvd25zIG9uIG91dHNpZGUgY2xpY2tcbiAgICB0aGlzLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAvLyBEb24ndCBjbG9zZSBpZiBjbGlja2luZyBpbnNpZGUgYW55IGRyb3Bkb3duXG4gICAgICBjb25zdCBpc0luc2lkZU5hdmJhckRyb3Bkb3duID0gZS50YXJnZXQuY2xvc2VzdCgnLnNvLW5hdmJhci1vdXRsZXQtZHJvcGRvd24sIC5zby1uYXZiYXItc3RhdHVzLWRyb3Bkb3duLCAuc28tbmF2YmFyLXRoZW1lLWRyb3Bkb3duLCAuc28tbmF2YmFyLXVzZXItZHJvcGRvd24sIC5zby1uYXZiYXItYXBwcywgLnNvLW5hdmJhci1hcHBzLWRyb3Bkb3duJyk7XG4gICAgICBjb25zdCBpc0luc2lkZVNPRHJvcGRvd24gPSBlLnRhcmdldC5jbG9zZXN0KCcuc28tZHJvcGRvd24sIC5zby1zZWFyY2hhYmxlLWRyb3Bkb3duLCAuc28tb3B0aW9ucy1kcm9wZG93biwgLnNvLW91dGxldC1kcm9wZG93bicpO1xuXG4gICAgICAvLyBEb24ndCBjbG9zZSBpZiBjbGlja2luZyBvbiBhbnkgZHJvcGRvd24gdHJpZ2dlclxuICAgICAgY29uc3QgaXNOYXZiYXJUcmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNvLW5hdmJhci11c2VyLWJ0biwgLnNvLW5hdmJhci1hcHBzLWJ0biwgLnNvLW5hdmJhci1vdXRsZXQtYnRuLCAuc28tbmF2YmFyLXN0YXR1cy1idG4sIC5zby1uYXZiYXItdGhlbWUtYnRuJyk7XG4gICAgICBjb25zdCBpc1NPRHJvcGRvd25UcmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNvLWRyb3Bkb3duLXRyaWdnZXIsIC5zby1zZWFyY2hhYmxlLXRyaWdnZXIsIC5zby1vcHRpb25zLXRyaWdnZXIsIC5zby1vdXRsZXQtZHJvcGRvd24tdHJpZ2dlciwgLnNvLWJ0bltkYXRhLXNvLXRvZ2dsZT1cImRyb3Bkb3duXCJdJyk7XG5cbiAgICAgIGlmICghaXNJbnNpZGVOYXZiYXJEcm9wZG93biAmJiAhaXNJbnNpZGVTT0Ryb3Bkb3duICYmICFpc05hdmJhclRyaWdnZXIgJiYgIWlzU09Ecm9wZG93blRyaWdnZXIpIHtcbiAgICAgICAgdGhpcy5jbG9zZUFsbERyb3Bkb3ducygpO1xuICAgICAgfVxuICAgIH0sIGRvY3VtZW50KTtcblxuICAgIC8vIENsb3NlIG9uIGVzY2FwZVxuICAgIHRoaXMub24oJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICB0aGlzLmNsb3NlQWxsRHJvcGRvd25zKCk7XG4gICAgICB9XG4gICAgfSwgZG9jdW1lbnQpO1xuXG4gICAgLy8gTGlzdGVuIGZvciBnbG9iYWwgY2xvc2UgZXZlbnRcbiAgICB0aGlzLm9uKCdjbG9zZUFsbERyb3Bkb3ducycsICgpID0+IHRoaXMuY2xvc2VBbGxEcm9wZG93bnMoKSwgZG9jdW1lbnQpO1xuXG4gICAgLy8gTGlzdGVuIGZvciBjbG9zZSBuYXZiYXIgZHJvcGRvd25zIGV2ZW50IChkaXNwYXRjaGVkIGJ5IFNPRHJvcGRvd24gd2hlbiBvcGVuaW5nKVxuICAgIHRoaXMub24oJ2Nsb3NlTmF2YmFyRHJvcGRvd25zJywgKCkgPT4gdGhpcy5fY2xvc2VOYXZiYXJEcm9wZG93bnMoKSwgZG9jdW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgb3V0bGV0IHNlbGVjdG9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdE91dGxldFNlbGVjdG9yKCkge1xuICAgIGNvbnN0IG91dGxldEJ0biA9IHRoaXMuJCh0aGlzLm9wdGlvbnMub3V0bGV0QnRuU2VsZWN0b3IpO1xuICAgIGNvbnN0IG91dGxldERyb3Bkb3duID0gdGhpcy4kKHRoaXMub3B0aW9ucy5vdXRsZXREcm9wZG93blNlbGVjdG9yKTtcblxuICAgIGlmICghb3V0bGV0QnRuIHx8ICFvdXRsZXREcm9wZG93bikgcmV0dXJuO1xuXG4gICAgLy8gVG9nZ2xlIGRyb3Bkb3duXG4gICAgdGhpcy5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuX3RvZ2dsZURyb3Bkb3duKG91dGxldERyb3Bkb3duLCAnb3V0bGV0Jyk7XG4gICAgfSwgb3V0bGV0QnRuKTtcblxuICAgIC8vIEhhbmRsZSBvdXRsZXQgc2VsZWN0aW9uXG4gICAgb3V0bGV0RHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLnNvLW5hdmJhci1vdXRsZXQtaXRlbScpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaXRlbS5kYXRhc2V0LnZhbHVlO1xuICAgICAgICBjb25zdCB0ZXh0ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdzcGFuOmZpcnN0LWNoaWxkJyk/LnRleHRDb250ZW50IHx8IGl0ZW0udGV4dENvbnRlbnQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGVkIHN0YXRlXG4gICAgICAgIG91dGxldERyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1uYXZiYXItb3V0bGV0LWl0ZW0nKS5mb3JFYWNoKGkgPT4ge1xuICAgICAgICAgIGkuY2xhc3NMaXN0LnRvZ2dsZSgnc28tc2VsZWN0ZWQnLCBpID09PSBpdGVtKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGJ1dHRvbiB0ZXh0XG4gICAgICAgIGNvbnN0IGJ0blRleHQgPSBvdXRsZXRCdG4ucXVlcnlTZWxlY3RvcignLm91dGxldC10ZXh0Jyk7XG4gICAgICAgIGlmIChidG5UZXh0KSBidG5UZXh0LnRleHRDb250ZW50ID0gdGV4dDtcblxuICAgICAgICB0aGlzLmVtaXQoU09OYXZiYXIuRVZFTlRTLk9VVExFVF9DSEFOR0UsIHsgdmFsdWUsIHRleHQgfSk7XG4gICAgICAgIHRoaXMuY2xvc2VBbGxEcm9wZG93bnMoKTtcbiAgICAgIH0sIGl0ZW0pO1xuICAgIH0pO1xuXG4gICAgLy8gU2VhcmNoIGZpbHRlclxuICAgIGNvbnN0IHNlYXJjaElucHV0ID0gb3V0bGV0RHJvcGRvd24ucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBpZiAoc2VhcmNoSW5wdXQpIHtcbiAgICAgIHRoaXMub24oJ2lucHV0JywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBlLnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBvdXRsZXREcm9wZG93bi5xdWVyeVNlbGVjdG9yQWxsKCcuc28tbmF2YmFyLW91dGxldC1pdGVtJykuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gaXRlbS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IHRleHQuaW5jbHVkZXMocXVlcnkpID8gJycgOiAnbm9uZSc7XG4gICAgICAgIH0pO1xuICAgICAgfSwgc2VhcmNoSW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHN0YXR1cyBzZWxlY3RvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXRTdGF0dXNTZWxlY3RvcigpIHtcbiAgICBjb25zdCBzdGF0dXNCdG4gPSB0aGlzLiQodGhpcy5vcHRpb25zLnN0YXR1c0J0blNlbGVjdG9yKTtcbiAgICBjb25zdCBzdGF0dXNEcm9wZG93biA9IHRoaXMuJCh0aGlzLm9wdGlvbnMuc3RhdHVzRHJvcGRvd25TZWxlY3Rvcik7XG4gICAgLy8gU3RhdHVzIGRyb3Bkb3duIHJlcXVpcmVzICdvcGVuJyBjbGFzcyBvbiBwYXJlbnQgLnNvLW5hdmJhci1zdGF0dXMgY29udGFpbmVyXG4gICAgY29uc3Qgc3RhdHVzQ29udGFpbmVyID0gc3RhdHVzQnRuPy5jbG9zZXN0KCcuc28tbmF2YmFyLXN0YXR1cycpO1xuXG4gICAgaWYgKCFzdGF0dXNCdG4gfHwgIXN0YXR1c0Ryb3Bkb3duIHx8ICFzdGF0dXNDb250YWluZXIpIHJldHVybjtcblxuICAgIC8vIFRvZ2dsZSBkcm9wZG93biAtIGFkZCAnb3BlbicgdG8gcGFyZW50IGNvbnRhaW5lclxuICAgIHRoaXMub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLl90b2dnbGVTdGF0dXNEcm9wZG93bihzdGF0dXNDb250YWluZXIpO1xuICAgIH0sIHN0YXR1c0J0bik7XG5cbiAgICAvLyBIYW5kbGUgc3RhdHVzIHNlbGVjdGlvblxuICAgIHN0YXR1c0Ryb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1uYXZiYXItc3RhdHVzLW9wdGlvbicpLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgIHRoaXMub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gb3B0aW9uLmRhdGFzZXQuc3RhdHVzO1xuICAgICAgICBjb25zdCB0ZXh0ID0gb3B0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zby1uYXZiYXItc3RhdHVzLW9wdGlvbi10ZXh0ID4gZGl2OmZpcnN0LWNoaWxkJyk/LnRleHRDb250ZW50O1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzZWxlY3RlZCBzdGF0ZVxuICAgICAgICBzdGF0dXNEcm9wZG93bi5xdWVyeVNlbGVjdG9yQWxsKCcuc28tbmF2YmFyLXN0YXR1cy1vcHRpb24nKS5mb3JFYWNoKG8gPT4ge1xuICAgICAgICAgIG8uY2xhc3NMaXN0LnRvZ2dsZSgnc28tc2VsZWN0ZWQnLCBvID09PSBvcHRpb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBVcGRhdGUgYnV0dG9uIGluZGljYXRvciBhbmQgdGV4dFxuICAgICAgICBjb25zdCBpbmRpY2F0b3IgPSBzdGF0dXNCdG4ucXVlcnlTZWxlY3RvcignLnNvLW5hdmJhci1zdGF0dXMtaW5kaWNhdG9yJyk7XG4gICAgICAgIGNvbnN0IHRleHRFbCA9IHN0YXR1c0J0bi5xdWVyeVNlbGVjdG9yKCcuc28tbmF2YmFyLXN0YXR1cy10ZXh0Jyk7XG4gICAgICAgIGlmIChpbmRpY2F0b3IpIHtcbiAgICAgICAgICBpbmRpY2F0b3IuY2xhc3NOYW1lID0gYHNvLW5hdmJhci1zdGF0dXMtaW5kaWNhdG9yICR7c3RhdHVzfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRFbCAmJiB0ZXh0KSB7XG4gICAgICAgICAgdGV4dEVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdChTT05hdmJhci5FVkVOVFMuU1RBVFVTX0NIQU5HRSwgeyBzdGF0dXMsIHRleHQgfSk7XG4gICAgICAgIHRoaXMuY2xvc2VBbGxEcm9wZG93bnMoKTtcbiAgICAgIH0sIG9wdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGVtZSBzd2l0Y2hlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXRUaGVtZVN3aXRjaGVyKCkge1xuICAgIGNvbnN0IHRoZW1lQnRuID0gdGhpcy4kKHRoaXMub3B0aW9ucy50aGVtZUJ0blNlbGVjdG9yKTtcbiAgICBjb25zdCB0aGVtZURyb3Bkb3duID0gdGhpcy4kKHRoaXMub3B0aW9ucy50aGVtZURyb3Bkb3duU2VsZWN0b3IpO1xuXG4gICAgaWYgKCF0aGVtZUJ0biB8fCAhdGhlbWVEcm9wZG93bikgcmV0dXJuO1xuXG4gICAgLy8gVG9nZ2xlIGRyb3Bkb3duXG4gICAgdGhpcy5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuX3RvZ2dsZURyb3Bkb3duKHRoZW1lRHJvcGRvd24sICd0aGVtZScpO1xuICAgIH0sIHRoZW1lQnRuKTtcblxuICAgIC8vIFRoZW1lIG9wdGlvbnMgaGFuZGxlZCBieSBzby10aGVtZS5qc1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUga2V5Ym9hcmQgc2hvcnRjdXRzIGJ1dHRvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXRLZXlib2FyZFNob3J0Y3V0cygpIHtcbiAgICBjb25zdCBrZXlib2FyZEJ0biA9IHRoaXMuJCh0aGlzLm9wdGlvbnMua2V5Ym9hcmRCdG5TZWxlY3Rvcik7XG4gICAgaWYgKCFrZXlib2FyZEJ0bikgcmV0dXJuO1xuXG4gICAgdGhpcy5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIC8vIFRyaWdnZXIga2V5Ym9hcmQgc2hvcnRjdXRzIG1vZGFsXG4gICAgICBpZiAod2luZG93LnNvS2V5Ym9hcmRTaG9ydGN1dHMpIHtcbiAgICAgICAgd2luZG93LnNvS2V5Ym9hcmRTaG9ydGN1dHMuc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2ltcGxlIGFsZXJ0IGZvciBub3cgLSBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBwcm9wZXIgbW9kYWxcbiAgICAgICAgY29uc29sZS5sb2coJ0tleWJvYXJkIHNob3J0Y3V0cyBtb2RhbCBub3QgaW1wbGVtZW50ZWQgeWV0Jyk7XG4gICAgICAgIGFsZXJ0KCdLZXlib2FyZCBTaG9ydGN1dHM6XFxuXFxuQ3RybCtLIC0gT3BlbiBTZWFyY2hcXG5DdHJsK1MgLSBOZXcgU2FsZXMgSW52b2ljZVxcbkN0cmwrUCAtIE5ldyBQdXJjaGFzZSBCaWxsXFxuQ3RybCtSIC0gUmVjZWlwdCBFbnRyeVxcbkN0cmwrWSAtIFBheW1lbnQgRW50cnlcXG5Fc2MgLSBDbG9zZSBkaWFsb2dzJyk7XG4gICAgICB9XG4gICAgfSwga2V5Ym9hcmRCdG4pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBhIGRyb3Bkb3duXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZHJvcGRvd24gLSBEcm9wZG93biBlbGVtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gRHJvcGRvd24gdHlwZSBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY3RpdmVDbGFzcyAtIENsYXNzIHRvIHRvZ2dsZSAoZGVmYXVsdDogJ2FjdGl2ZScpXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdG9nZ2xlRHJvcGRvd24oZHJvcGRvd24sIHR5cGUsIGFjdGl2ZUNsYXNzID0gJ3NvLWFjdGl2ZScpIHtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyhhY3RpdmVDbGFzcyk7XG5cbiAgICAvLyBDbG9zZSBhbGwgZmlyc3QgKGluY2x1ZGluZyBTT0Ryb3Bkb3ducylcbiAgICB0aGlzLmNsb3NlQWxsRHJvcGRvd25zKCk7XG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgICAgIHRoaXMuX2FjdGl2ZURyb3Bkb3duID0geyBkcm9wZG93biwgdHlwZSB9O1xuXG4gICAgICB0aGlzLmVtaXQoU09OYXZiYXIuRVZFTlRTLkRST1BET1dOX09QRU4sIHsgZHJvcGRvd24sIHR5cGUgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBzdGF0dXMgZHJvcGRvd24gKHVzZXMgJ29wZW4nIG9uIHBhcmVudCBjb250YWluZXIpXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gY29udGFpbmVyIC0gU3RhdHVzIGNvbnRhaW5lciBlbGVtZW50ICguc28tbmF2YmFyLXN0YXR1cylcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF90b2dnbGVTdGF0dXNEcm9wZG93bihjb250YWluZXIpIHtcbiAgICBjb25zdCBpc09wZW4gPSBjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1vcGVuJyk7XG5cbiAgICAvLyBDbG9zZSBhbGwgZmlyc3RcbiAgICB0aGlzLmNsb3NlQWxsRHJvcGRvd25zKCk7XG5cbiAgICBpZiAoIWlzT3Blbikge1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3NvLW9wZW4nKTtcbiAgICAgIHRoaXMuX2FjdGl2ZURyb3Bkb3duID0geyBkcm9wZG93bjogY29udGFpbmVyLCB0eXBlOiAnc3RhdHVzJyB9O1xuXG4gICAgICB0aGlzLmVtaXQoU09OYXZiYXIuRVZFTlRTLkRST1BET1dOX09QRU4sIHsgZHJvcGRvd246IGNvbnRhaW5lciwgdHlwZTogJ3N0YXR1cycgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIG9ubHkgbmF2YmFyIGN1c3RvbSBkcm9wZG93bnMgKG5vdCBTT0Ryb3Bkb3duIGluc3RhbmNlcylcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Nsb3NlTmF2YmFyRHJvcGRvd25zKCkge1xuICAgIC8vIENsb3NlIHVzZXIgZHJvcGRvd25cbiAgICB0aGlzLiQkKCcuc28tbmF2YmFyLXVzZXItZHJvcGRvd24nKS5mb3JFYWNoKGRyb3Bkb3duID0+IHtcbiAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWFjdGl2ZScpO1xuICAgIH0pO1xuICAgIHRoaXMuJCQoJy5zby1uYXZiYXItdXNlci1idG4nKS5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnc28tYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBDbG9zZSBhcHBzIGRyb3Bkb3duXG4gICAgY29uc3QgYXBwc0NvbnRhaW5lciA9IHRoaXMuJCh0aGlzLm9wdGlvbnMuYXBwc0NvbnRhaW5lclNlbGVjdG9yKTtcbiAgICBpZiAoYXBwc0NvbnRhaW5lcikge1xuICAgICAgYXBwc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdzby1vcGVuJyk7XG4gICAgfVxuXG4gICAgLy8gQ2xvc2Ugb3V0bGV0IGRyb3Bkb3duXG4gICAgdGhpcy4kJCgnLnNvLW5hdmJhci1vdXRsZXQtZHJvcGRvd24nKS5mb3JFYWNoKGRyb3Bkb3duID0+IHtcbiAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2xvc2Ugc3RhdHVzIGRyb3Bkb3duICh1c2VzICdvcGVuJyBvbiBwYXJlbnQgY29udGFpbmVyKVxuICAgIHRoaXMuJCQoJy5zby1uYXZiYXItc3RhdHVzJykuZm9yRWFjaChjb250YWluZXIgPT4ge1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLW9wZW4nKTtcbiAgICB9KTtcblxuICAgIC8vIENsb3NlIHRoZW1lIGRyb3Bkb3duXG4gICAgdGhpcy4kJCgnLnNvLW5hdmJhci10aGVtZS1kcm9wZG93bicpLmZvckVhY2goZHJvcGRvd24gPT4ge1xuICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnc28tYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9hY3RpdmVEcm9wZG93biA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgYWxsIGRyb3Bkb3ducyAobmF2YmFyIGN1c3RvbSArIFNPRHJvcGRvd24gaW5zdGFuY2VzKVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBjbG9zZUFsbERyb3Bkb3ducygpIHtcbiAgICAvLyBDbG9zZSBuYXZiYXIgY3VzdG9tIGRyb3Bkb3duc1xuICAgIHRoaXMuX2Nsb3NlTmF2YmFyRHJvcGRvd25zKCk7XG5cbiAgICAvLyBDbG9zZSBhbGwgU09Ecm9wZG93biBpbnN0YW5jZXNcbiAgICB0aGlzLiQkKCcuc28tZHJvcGRvd24uc28tb3BlbicpLmZvckVhY2goZHJvcGRvd24gPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBTaXhPcmJpdC5nZXRJbnN0YW5jZShkcm9wZG93biwgJ2Ryb3Bkb3duJyk7XG4gICAgICBpZiAoaW5zdGFuY2UgJiYgdHlwZW9mIGluc3RhbmNlLmNsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGluc3RhbmNlLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmVtaXQoU09OYXZiYXIuRVZFTlRTLkRST1BET1dOX0NMT1NFKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnRcblNPTmF2YmFyLnJlZ2lzdGVyKCk7XG5cbi8vIEV4cG9zZSB0byBnbG9iYWwgc2NvcGVcbndpbmRvdy5TT05hdmJhciA9IFNPTmF2YmFyO1xuXG4vLyBFeHBvcnQgZm9yIEVTIG1vZHVsZXNcbmV4cG9ydCB7IFNPTmF2YmFyIH07XG5leHBvcnQgZGVmYXVsdCBTT05hdmJhcjtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgLSBNT0RBTCBDT01QT05FTlRcbi8vIE1vZGFsIGRpYWxvZ3Mgd2l0aCBmb2N1cyB0cmFwcGluZ1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uL2NvcmUvc28tY29uZmlnLmpzJztcbmltcG9ydCBTT0NvbXBvbmVudCBmcm9tICcuLi9jb3JlL3NvLWNvbXBvbmVudC5qcyc7XG5cbi8qKlxuICogU09Nb2RhbCAtIE1vZGFsIGRpYWxvZyBjb21wb25lbnRcbiAqIFN1cHBvcnRzIHN0YW5kYXJkIG1vZGFscywgY29uZmlybWF0aW9uIGRpYWxvZ3MsIGFuZCBhbGVydHNcbiAqL1xuY2xhc3MgU09Nb2RhbCBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAnbW9kYWwnO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBmb2N1czogdHJ1ZSxcbiAgICBjbG9zYWJsZTogdHJ1ZSxcbiAgICBzaXplOiAnZGVmYXVsdCcsIC8vICdzbScsICdkZWZhdWx0JywgJ2xnJywgJ3hsJywgJ2Z1bGxzY3JlZW4nXG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIHN0YXRpYzogZmFsc2UsIC8vIFdoZW4gdHJ1ZSwgbW9kYWwgY2Fubm90IGJlIGRpc21pc3NlZCB2aWEgYmFja2Ryb3AvZXNjYXBlL2Nsb3NlIGJ1dHRvblxuICAgIGZvY3VzRWxlbWVudDogJ2Zvb3RlcicsIC8vICdmb290ZXInIChmaXJzdCBmb290ZXIgYnV0dG9uKSwgJ2Nsb3NlJywgJ2ZpcnN0Jywgb3IgQ1NTIHNlbGVjdG9yXG4gICAgZHJhZ2dhYmxlOiBmYWxzZSwgLy8gQWxsb3cgbW9kYWwgdG8gYmUgZHJhZ2dlZCBieSBoZWFkZXJcbiAgICBtYXhpbWl6YWJsZTogZmFsc2UsIC8vIFNob3cgbWF4aW1pemUvcmVzdG9yZSBidXR0b25cbiAgICBtb2JpbGVGdWxsc2NyZWVuOiBmYWxzZSwgLy8gQXV0by1zd2l0Y2ggdG8gZnVsbHNjcmVlbiBvbiBtb2JpbGVcbiAgICBtb2JpbGVCcmVha3BvaW50OiA3NjgsIC8vIEJyZWFrcG9pbnQgZm9yIG1vYmlsZSBmdWxsc2NyZWVuXG4gICAgc2lkZWJhcjogZmFsc2UsIC8vIEVuYWJsZSBzaWRlYmFyIGxheW91dDogJ2xlZnQnIG9yICdyaWdodCdcbiAgICBzaWRlYmFyV2lkdGg6ICcyODBweCcsIC8vIFdpZHRoIG9mIHNpZGViYXJcbiAgfTtcblxuICBzdGF0aWMgRVZFTlRTID0ge1xuICAgIFNIT1c6ICdtb2RhbDpzaG93JyxcbiAgICBTSE9XTjogJ21vZGFsOnNob3duJyxcbiAgICBISURFOiAnbW9kYWw6aGlkZScsXG4gICAgSElEREVOOiAnbW9kYWw6aGlkZGVuJyxcbiAgICBDT05GSVJNOiAnbW9kYWw6Y29uZmlybScsXG4gICAgQ0FOQ0VMOiAnbW9kYWw6Y2FuY2VsJyxcbiAgICBNQVhJTUlaRTogJ21vZGFsOm1heGltaXplJyxcbiAgICBSRVNUT1JFOiAnbW9kYWw6cmVzdG9yZScsXG4gICAgRFJBR19TVEFSVDogJ21vZGFsOmRyYWctc3RhcnQnLFxuICAgIERSQUdfRU5EOiAnbW9kYWw6ZHJhZy1lbmQnLFxuICB9O1xuXG4gIC8vIEJhc2Ugei1pbmRleCBmb3IgbW9kYWxzXG4gIHN0YXRpYyBfYmFzZVpJbmRleCA9IDEwNTA7XG5cbiAgLy8gVHJhY2sgb3BlbiBtb2RhbHMgZm9yIHN0YWNraW5nXG4gIHN0YXRpYyBfb3Blbk1vZGFscyA9IFtdO1xuXG4gIC8vIFRyYWNrIHNpbmdsZXRvbiBtb2RhbCBpbnN0YW5jZXMgYnkgSURcbiAgc3RhdGljIF9zaW5nbGV0b25JbnN0YW5jZXMgPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIG1vZGFsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBDYWNoZSBlbGVtZW50c1xuICAgIHRoaXMuX2RpYWxvZyA9IHRoaXMuJCgnLnNvLW1vZGFsLWRpYWxvZycpO1xuICAgIHRoaXMuX2NvbnRlbnQgPSB0aGlzLiQoJy5zby1tb2RhbC1jb250ZW50Jyk7XG4gICAgdGhpcy5faGVhZGVyID0gdGhpcy4kKCcuc28tbW9kYWwtaGVhZGVyJyk7XG4gICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuXG4gICAgLy8gU3RhdGVcbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9mb2N1c1RyYXBDbGVhbnVwID0gbnVsbDtcbiAgICB0aGlzLl9wcmV2aW91c0FjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX2lzTWF4aW1pemVkID0gZmFsc2U7XG4gICAgdGhpcy5faXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIHRoaXMuX2RyYWdQb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMuX29yaWdpbmFsU2l6ZSA9IG51bGw7XG4gICAgdGhpcy5fcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuXG4gICAgLy8gQ2hlY2sgZm9yIHN0YXRpYyBtb2RlIGZyb20gZGF0YSBhdHRyaWJ1dGUsIGNsYXNzLCBvciBvcHRpb25zXG4gICAgLy8gKG9wdGlvbnMuc3RhdGljIG1heSBhbHJlYWR5IGJlIHNldCBmcm9tIGNvbnN0cnVjdG9yKVxuICAgIGlmICh0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXNvLXN0YXRpYycpIHx8XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLW1vZGFsLXN0YXRpYycpIHx8XG4gICAgICAgIHRoaXMub3B0aW9ucy5zdGF0aWMgPT09IHRydWUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zdGF0aWMgPSB0cnVlO1xuICAgICAgdGhpcy5vcHRpb25zLmNsb3NhYmxlID0gZmFsc2U7XG4gICAgICB0aGlzLm9wdGlvbnMua2V5Ym9hcmQgPSBmYWxzZTtcbiAgICAgIC8vIEFkZCBzdGF0aWMgY2xhc3MgaWYgbm90IHByZXNlbnRcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzby1tb2RhbC1zdGF0aWMnKTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBkcmFnZ2FibGVcbiAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSkge1xuICAgICAgdGhpcy5fc2V0dXBEcmFnZ2FibGUoKTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBtYXhpbWl6YWJsZVxuICAgIGlmICh0aGlzLm9wdGlvbnMubWF4aW1pemFibGUpIHtcbiAgICAgIHRoaXMuX3NldHVwTWF4aW1pemFibGUoKTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBtb2JpbGUgZnVsbHNjcmVlblxuICAgIGlmICh0aGlzLm9wdGlvbnMubW9iaWxlRnVsbHNjcmVlbikge1xuICAgICAgdGhpcy5fc2V0dXBNb2JpbGVGdWxsc2NyZWVuKCk7XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgc2lkZWJhciBsYXlvdXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnNpZGViYXIpIHtcbiAgICAgIHRoaXMuX3NldHVwU2lkZWJhcigpO1xuICAgIH1cblxuICAgIC8vIEJpbmQgZXZlbnRzXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICAvLyBDbG9zZSBidXR0b24gKG9ubHkgaWYgY2xvc2FibGUvbm90IHN0YXRpYylcbiAgICB0aGlzLmRlbGVnYXRlKCdjbGljaycsICcuc28tbW9kYWwtY2xvc2UsIFtkYXRhLWRpc21pc3M9XCJtb2RhbFwiXScsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnN0YXRpYykge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEJhY2tkcm9wIGNsaWNrXG4gICAgaWYgKHRoaXMub3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgdGhpcy5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3RhdGljKSB7XG4gICAgICAgICAgICAvLyBTaGFrZSBhbmltYXRpb24gZm9yIHN0YXRpYyBtb2RhbFxuICAgICAgICAgICAgdGhpcy5fc2hha2VNb2RhbCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmNsb3NhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE5vdGU6IEtleWJvYXJkIGV2ZW50cyBhcmUgYm91bmQgdG8gZG9jdW1lbnQgaW4gc2hvdygpIGFuZCB1bmJvdW5kIGluIGhpZGUoKVxuXG4gICAgLy8gQ29uZmlybS9DYW5jZWwgYnV0dG9uc1xuICAgIHRoaXMuZGVsZWdhdGUoJ2NsaWNrJywgJ1tkYXRhLW1vZGFsLWNvbmZpcm1dJywgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFNPTW9kYWwuRVZFTlRTLkNPTkZJUk0pO1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRlbGVnYXRlKCdjbGljaycsICdbZGF0YS1tb2RhbC1jYW5jZWxdJywgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFNPTW9kYWwuRVZFTlRTLkNBTkNFTCk7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaGFrZSB0aGUgbW9kYWwgdG8gaW5kaWNhdGUgaXQgY2Fubm90IGJlIGRpc21pc3NlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NoYWtlTW9kYWwoKSB7XG4gICAgdGhpcy5fcGxheUZlZWRiYWNrQW5pbWF0aW9uKCdzaGFrZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXkgYSBmZWVkYmFjayBhbmltYXRpb24gb24gdGhlIG1vZGFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gQW5pbWF0aW9uIHR5cGU6ICdzaGFrZScsICdwdWxzZScsICdib3VuY2UnLCAnaGVhZHNoYWtlJ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BsYXlGZWVkYmFja0FuaW1hdGlvbih0eXBlID0gJ3NoYWtlJykge1xuICAgIGNvbnN0IGFuaW1hdGlvbkNsYXNzID0gYHNvLW1vZGFsLWZlZWRiYWNrLSR7dHlwZX1gO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGFuaW1hdGlvbkNsYXNzKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGFuaW1hdGlvbkNsYXNzKTtcbiAgICB9LCA1MDApO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRFJBR0dBQkxFIEZVTkNUSU9OQUxJVFlcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU2V0dXAgZHJhZ2dhYmxlIGZ1bmN0aW9uYWxpdHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXR1cERyYWdnYWJsZSgpIHtcbiAgICBpZiAoIXRoaXMuX2hlYWRlciB8fCAhdGhpcy5fZGlhbG9nKSByZXR1cm47XG5cbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tbW9kYWwtZHJhZ2dhYmxlJyk7XG4gICAgdGhpcy5faGVhZGVyLnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcblxuICAgIC8vIEJpbmQgZHJhZyBoYW5kbGVyc1xuICAgIHRoaXMuX2JvdW5kRHJhZ1N0YXJ0ID0gdGhpcy5faGFuZGxlRHJhZ1N0YXJ0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmREcmFnTW92ZSA9IHRoaXMuX2hhbmRsZURyYWdNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmREcmFnRW5kID0gdGhpcy5faGFuZGxlRHJhZ0VuZC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5faGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2JvdW5kRHJhZ1N0YXJ0KTtcbiAgICB0aGlzLl9oZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2JvdW5kRHJhZ1N0YXJ0LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkcmFnIHN0YXJ0XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlRHJhZ1N0YXJ0KGUpIHtcbiAgICAvLyBEb24ndCBkcmFnIGlmIGNsaWNraW5nIG9uIGJ1dHRvbnMgb3IgY2xvc2UgaWNvblxuICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCdidXR0b24sIC5zby1tb2RhbC1jbG9zZSwgLnNvLW1vZGFsLW1heGltaXplJykpIHJldHVybjtcbiAgICAvLyBEb24ndCBkcmFnIGlmIG1heGltaXplZFxuICAgIGlmICh0aGlzLl9pc01heGltaXplZCkgcmV0dXJuO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgY29uc3QgY2xpZW50WCA9IGUudHlwZS5pbmNsdWRlcygndG91Y2gnKSA/IGUudG91Y2hlc1swXS5jbGllbnRYIDogZS5jbGllbnRYO1xuICAgIGNvbnN0IGNsaWVudFkgPSBlLnR5cGUuaW5jbHVkZXMoJ3RvdWNoJykgPyBlLnRvdWNoZXNbMF0uY2xpZW50WSA6IGUuY2xpZW50WTtcblxuICAgIGNvbnN0IHJlY3QgPSB0aGlzLl9kaWFsb2cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5fZHJhZ09mZnNldCA9IHtcbiAgICAgIHg6IGNsaWVudFggLSByZWN0LmxlZnQsXG4gICAgICB5OiBjbGllbnRZIC0gcmVjdC50b3BcbiAgICB9O1xuXG4gICAgLy8gU3RvcmUgaW5pdGlhbCBwb3NpdGlvbiBpZiBub3QgYWxyZWFkeSBkcmFnZ2VkXG4gICAgaWYgKCF0aGlzLl9kcmFnUG9zaXRpb24ueCAmJiAhdGhpcy5fZHJhZ1Bvc2l0aW9uLnkpIHtcbiAgICAgIHRoaXMuX2RyYWdQb3NpdGlvbiA9IHtcbiAgICAgICAgeDogcmVjdC5sZWZ0LFxuICAgICAgICB5OiByZWN0LnRvcFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tbW9kYWwtZHJhZ2dpbmcnKTtcbiAgICB0aGlzLmVtaXQoU09Nb2RhbC5FVkVOVFMuRFJBR19TVEFSVCk7XG5cbiAgICAvLyBBZGQgbW92ZS9lbmQgbGlzdGVuZXJzIHRvIGRvY3VtZW50XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fYm91bmREcmFnTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2JvdW5kRHJhZ0VuZCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fYm91bmREcmFnTW92ZSwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2JvdW5kRHJhZ0VuZCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGRyYWcgbW92ZVxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZURyYWdNb3ZlKGUpIHtcbiAgICBpZiAoIXRoaXMuX2lzRHJhZ2dpbmcpIHJldHVybjtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjbGllbnRYID0gZS50eXBlLmluY2x1ZGVzKCd0b3VjaCcpID8gZS50b3VjaGVzWzBdLmNsaWVudFggOiBlLmNsaWVudFg7XG4gICAgY29uc3QgY2xpZW50WSA9IGUudHlwZS5pbmNsdWRlcygndG91Y2gnKSA/IGUudG91Y2hlc1swXS5jbGllbnRZIDogZS5jbGllbnRZO1xuXG4gICAgbGV0IG5ld1ggPSBjbGllbnRYIC0gdGhpcy5fZHJhZ09mZnNldC54O1xuICAgIGxldCBuZXdZID0gY2xpZW50WSAtIHRoaXMuX2RyYWdPZmZzZXQueTtcblxuICAgIC8vIENvbnN0cmFpbiB0byB2aWV3cG9ydFxuICAgIGNvbnN0IGRpYWxvZ1JlY3QgPSB0aGlzLl9kaWFsb2cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgbWF4WCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gZGlhbG9nUmVjdC53aWR0aDtcbiAgICBjb25zdCBtYXhZID0gd2luZG93LmlubmVySGVpZ2h0IC0gZGlhbG9nUmVjdC5oZWlnaHQ7XG5cbiAgICBuZXdYID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obmV3WCwgbWF4WCkpO1xuICAgIG5ld1kgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihuZXdZLCBtYXhZKSk7XG5cbiAgICB0aGlzLl9kcmFnUG9zaXRpb24gPSB7IHg6IG5ld1gsIHk6IG5ld1kgfTtcbiAgICB0aGlzLl9kaWFsb2cuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIHRoaXMuX2RpYWxvZy5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgdGhpcy5fZGlhbG9nLnN0eWxlLmxlZnQgPSBgJHtuZXdYfXB4YDtcbiAgICB0aGlzLl9kaWFsb2cuc3R5bGUudG9wID0gYCR7bmV3WX1weGA7XG4gICAgdGhpcy5fZGlhbG9nLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgZHJhZyBlbmRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVEcmFnRW5kKCkge1xuICAgIGlmICghdGhpcy5faXNEcmFnZ2luZykgcmV0dXJuO1xuXG4gICAgdGhpcy5faXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzby1tb2RhbC1kcmFnZ2luZycpO1xuICAgIHRoaXMuZW1pdChTT01vZGFsLkVWRU5UUy5EUkFHX0VORCk7XG5cbiAgICAvLyBSZW1vdmUgbW92ZS9lbmQgbGlzdGVuZXJzXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fYm91bmREcmFnTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2JvdW5kRHJhZ0VuZCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fYm91bmREcmFnTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9ib3VuZERyYWdFbmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IGRyYWcgcG9zaXRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXNldERyYWdQb3NpdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZGlhbG9nKSB7XG4gICAgICB0aGlzLl9kaWFsb2cuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgIHRoaXMuX2RpYWxvZy5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICB0aGlzLl9kaWFsb2cuc3R5bGUudG9wID0gJyc7XG4gICAgICB0aGlzLl9kaWFsb2cuc3R5bGUubWFyZ2luID0gJyc7XG4gICAgICB0aGlzLl9kaWFsb2cuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgfVxuICAgIHRoaXMuX2RyYWdQb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gTUFYSU1JWkFCTEUgRlVOQ1RJT05BTElUWVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBTZXR1cCBtYXhpbWl6YWJsZSBmdW5jdGlvbmFsaXR5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0dXBNYXhpbWl6YWJsZSgpIHtcbiAgICBpZiAoIXRoaXMuX2hlYWRlcikgcmV0dXJuO1xuXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLW1vZGFsLW1heGltaXphYmxlJyk7XG5cbiAgICAvLyBDaGVjayBpZiBtYXhpbWl6ZSBidXR0b24gYWxyZWFkeSBleGlzdHMgKGUuZy4sIGZyb20gU09Nb2RhbC5jcmVhdGUoKSlcbiAgICB0aGlzLl9tYXhpbWl6ZUJ0biA9IHRoaXMuX2hlYWRlci5xdWVyeVNlbGVjdG9yKCcuc28tbW9kYWwtbWF4aW1pemUnKTtcblxuICAgIC8vIENyZWF0ZSBtYXhpbWl6ZSBidXR0b24gb25seSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgaWYgKCF0aGlzLl9tYXhpbWl6ZUJ0bikge1xuICAgICAgdGhpcy5fbWF4aW1pemVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIHRoaXMuX21heGltaXplQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIHRoaXMuX21heGltaXplQnRuLmNsYXNzTmFtZSA9ICdzby1tb2RhbC1tYXhpbWl6ZSc7XG4gICAgICB0aGlzLl9tYXhpbWl6ZUJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPm9wZW5faW5fZnVsbDwvc3Bhbj4nO1xuICAgICAgdGhpcy5fbWF4aW1pemVCdG4udGl0bGUgPSAnTWF4aW1pemUnO1xuXG4gICAgICAvLyBJbnNlcnQgYmVmb3JlIGNsb3NlIGJ1dHRvbiBvciBhdCBlbmQgb2YgaGVhZGVyXG4gICAgICBjb25zdCBjbG9zZUJ0biA9IHRoaXMuX2hlYWRlci5xdWVyeVNlbGVjdG9yKCcuc28tbW9kYWwtY2xvc2UnKTtcbiAgICAgIGlmIChjbG9zZUJ0bikge1xuICAgICAgICBjbG9zZUJ0bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLl9tYXhpbWl6ZUJ0biwgY2xvc2VCdG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGVhZGVyLmFwcGVuZENoaWxkKHRoaXMuX21heGltaXplQnRuKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCaW5kIGNsaWNrIGhhbmRsZXJcbiAgICB0aGlzLl9tYXhpbWl6ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMudG9nZ2xlTWF4aW1pemUoKSk7XG5cbiAgICAvLyBEb3VibGUtY2xpY2sgaGVhZGVyIHRvIG1heGltaXplIChpZiBkcmFnZ2FibGUpXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kcmFnZ2FibGUpIHtcbiAgICAgIHRoaXMuX2hlYWRlci5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uLCAuc28tbW9kYWwtY2xvc2UsIC5zby1tb2RhbC1tYXhpbWl6ZScpKSB7XG4gICAgICAgICAgdGhpcy50b2dnbGVNYXhpbWl6ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWF4aW1pemUgdGhlIG1vZGFsXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIG1heGltaXplKCkge1xuICAgIGlmICh0aGlzLl9pc01heGltaXplZCkgcmV0dXJuIHRoaXM7XG5cbiAgICAvLyBTdG9yZSBvcmlnaW5hbCBwb3NpdGlvbi9zaXplIGZvciByZXN0b3JlXG4gICAgdGhpcy5fb3JpZ2luYWxTaXplID0ge1xuICAgICAgd2lkdGg6IHRoaXMuX2RpYWxvZy5zdHlsZS53aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5fZGlhbG9nLnN0eWxlLmhlaWdodCxcbiAgICAgIG1heFdpZHRoOiB0aGlzLl9kaWFsb2cuc3R5bGUubWF4V2lkdGgsXG4gICAgICBtYXhIZWlnaHQ6IHRoaXMuX2RpYWxvZy5zdHlsZS5tYXhIZWlnaHQsXG4gICAgICBwb3NpdGlvbjogdGhpcy5fZGlhbG9nLnN0eWxlLnBvc2l0aW9uLFxuICAgICAgbGVmdDogdGhpcy5fZGlhbG9nLnN0eWxlLmxlZnQsXG4gICAgICB0b3A6IHRoaXMuX2RpYWxvZy5zdHlsZS50b3AsXG4gICAgICB0cmFuc2Zvcm06IHRoaXMuX2RpYWxvZy5zdHlsZS50cmFuc2Zvcm0sXG4gICAgICBtYXJnaW46IHRoaXMuX2RpYWxvZy5zdHlsZS5tYXJnaW4sXG4gICAgICBib3JkZXJSYWRpdXM6IHRoaXMuX2RpYWxvZy5zdHlsZS5ib3JkZXJSYWRpdXMsXG4gICAgICBkcmFnUG9zaXRpb246IHsgLi4udGhpcy5fZHJhZ1Bvc2l0aW9uIH1cbiAgICB9O1xuXG4gICAgdGhpcy5faXNNYXhpbWl6ZWQgPSB0cnVlO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzby1tb2RhbC1tYXhpbWl6ZWQnKTtcblxuICAgIC8vIEFwcGx5IG1heGltaXplZCBzdHlsZXNcbiAgICB0aGlzLl9kaWFsb2cuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGlhbG9nLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9kaWFsb2cuc3R5bGUubWF4V2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGlhbG9nLnN0eWxlLm1heEhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9kaWFsb2cuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIHRoaXMuX2RpYWxvZy5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIHRoaXMuX2RpYWxvZy5zdHlsZS50b3AgPSAnMCc7XG4gICAgdGhpcy5fZGlhbG9nLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgICB0aGlzLl9kaWFsb2cuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgIHRoaXMuX2RpYWxvZy5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnMCc7XG5cbiAgICAvLyBVcGRhdGUgbWF4aW1pemUgYnV0dG9uIGljb25cbiAgICBpZiAodGhpcy5fbWF4aW1pemVCdG4pIHtcbiAgICAgIHRoaXMuX21heGltaXplQnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2VfZnVsbHNjcmVlbjwvc3Bhbj4nO1xuICAgICAgdGhpcy5fbWF4aW1pemVCdG4udGl0bGUgPSAnUmVzdG9yZSc7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGhlYWRlciBjdXJzb3JcbiAgICBpZiAodGhpcy5faGVhZGVyICYmIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUpIHtcbiAgICAgIHRoaXMuX2hlYWRlci5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KFNPTW9kYWwuRVZFTlRTLk1BWElNSVpFKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0b3JlIHRoZSBtb2RhbCBmcm9tIG1heGltaXplZCBzdGF0ZVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICByZXN0b3JlKCkge1xuICAgIGlmICghdGhpcy5faXNNYXhpbWl6ZWQpIHJldHVybiB0aGlzO1xuXG4gICAgdGhpcy5faXNNYXhpbWl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc28tbW9kYWwtbWF4aW1pemVkJyk7XG5cbiAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIHN0eWxlc1xuICAgIGlmICh0aGlzLl9vcmlnaW5hbFNpemUpIHtcbiAgICAgIHRoaXMuX2RpYWxvZy5zdHlsZS53aWR0aCA9IHRoaXMuX29yaWdpbmFsU2l6ZS53aWR0aDtcbiAgICAgIHRoaXMuX2RpYWxvZy5zdHlsZS5oZWlnaHQgPSB0aGlzLl9vcmlnaW5hbFNpemUuaGVpZ2h0O1xuICAgICAgdGhpcy5fZGlhbG9nLnN0eWxlLm1heFdpZHRoID0gdGhpcy5fb3JpZ2luYWxTaXplLm1heFdpZHRoO1xuICAgICAgdGhpcy5fZGlhbG9nLnN0eWxlLm1heEhlaWdodCA9IHRoaXMuX29yaWdpbmFsU2l6ZS5tYXhIZWlnaHQ7XG4gICAgICB0aGlzLl9kaWFsb2cuc3R5bGUucG9zaXRpb24gPSB0aGlzLl9vcmlnaW5hbFNpemUucG9zaXRpb247XG4gICAgICB0aGlzLl9kaWFsb2cuc3R5bGUubGVmdCA9IHRoaXMuX29yaWdpbmFsU2l6ZS5sZWZ0O1xuICAgICAgdGhpcy5fZGlhbG9nLnN0eWxlLnRvcCA9IHRoaXMuX29yaWdpbmFsU2l6ZS50b3A7XG4gICAgICB0aGlzLl9kaWFsb2cuc3R5bGUudHJhbnNmb3JtID0gdGhpcy5fb3JpZ2luYWxTaXplLnRyYW5zZm9ybTtcbiAgICAgIHRoaXMuX2RpYWxvZy5zdHlsZS5tYXJnaW4gPSB0aGlzLl9vcmlnaW5hbFNpemUubWFyZ2luO1xuICAgICAgdGhpcy5fZGlhbG9nLnN0eWxlLmJvcmRlclJhZGl1cyA9IHRoaXMuX29yaWdpbmFsU2l6ZS5ib3JkZXJSYWRpdXM7XG4gICAgICB0aGlzLl9kcmFnUG9zaXRpb24gPSB0aGlzLl9vcmlnaW5hbFNpemUuZHJhZ1Bvc2l0aW9uO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBtYXhpbWl6ZSBidXR0b24gaWNvblxuICAgIGlmICh0aGlzLl9tYXhpbWl6ZUJ0bikge1xuICAgICAgdGhpcy5fbWF4aW1pemVCdG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5vcGVuX2luX2Z1bGw8L3NwYW4+JztcbiAgICAgIHRoaXMuX21heGltaXplQnRuLnRpdGxlID0gJ01heGltaXplJztcbiAgICB9XG5cbiAgICAvLyBSZXN0b3JlIGhlYWRlciBjdXJzb3JcbiAgICBpZiAodGhpcy5faGVhZGVyICYmIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUpIHtcbiAgICAgIHRoaXMuX2hlYWRlci5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KFNPTW9kYWwuRVZFTlRTLlJFU1RPUkUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBiZXR3ZWVuIG1heGltaXplZCBhbmQgbm9ybWFsIHN0YXRlXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHRvZ2dsZU1heGltaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9pc01heGltaXplZCA/IHRoaXMucmVzdG9yZSgpIDogdGhpcy5tYXhpbWl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIG1vZGFsIGlzIG1heGltaXplZFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzTWF4aW1pemVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc01heGltaXplZDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIE1PQklMRSBGVUxMU0NSRUVOXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNldHVwIG1vYmlsZSBmdWxsc2NyZWVuIGF1dG8tc3dpdGNoXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0dXBNb2JpbGVGdWxsc2NyZWVuKCkge1xuICAgIHRoaXMuX2NoZWNrTW9iaWxlRnVsbHNjcmVlbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93LmlubmVyV2lkdGggPCB0aGlzLm9wdGlvbnMubW9iaWxlQnJlYWtwb2ludDtcblxuICAgICAgaWYgKGlzTW9iaWxlICYmIHRoaXMuX2lzT3BlbiAmJiAhdGhpcy5faXNNYXhpbWl6ZWQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLW1vZGFsLW1vYmlsZS1mdWxsc2NyZWVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc28tbW9kYWwtbW9iaWxlLWZ1bGxzY3JlZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ2hlY2sgb24gcmVzaXplXG4gICAgdGhpcy5fcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgdGhpcy5fY2hlY2tNb2JpbGVGdWxsc2NyZWVuKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5KTtcblxuICAgIC8vIEluaXRpYWwgY2hlY2tcbiAgICB0aGlzLl9jaGVja01vYmlsZUZ1bGxzY3JlZW4oKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFNJREVCQVIgTEFZT1VUXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNldHVwIHNpZGViYXIgbGF5b3V0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0dXBTaWRlYmFyKCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnNpZGViYXIgPT09IHRydWUgPyAnbGVmdCcgOiB0aGlzLm9wdGlvbnMuc2lkZWJhcjtcblxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzby1tb2RhbC13aXRoLXNpZGViYXInKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChgc28tbW9kYWwtc2lkZWJhci0ke3Bvc2l0aW9ufWApO1xuXG4gICAgLy8gU2V0IHNpZGViYXIgd2lkdGggYXMgQ1NTIHZhcmlhYmxlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaWRlYmFyV2lkdGgpIHtcbiAgICAgIHRoaXMuX2RpYWxvZy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zby1tb2RhbC1zaWRlYmFyLXdpZHRoJywgdGhpcy5vcHRpb25zLnNpZGViYXJXaWR0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIHRoZSBpbml0aWFsIGVsZW1lbnQgYmFzZWQgb24gZm9jdXNFbGVtZW50IG9wdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZvY3VzSW5pdGlhbEVsZW1lbnQoKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZm9jdXMpIHJldHVybjtcblxuICAgIGNvbnN0IGZvY3VzT3B0aW9uID0gdGhpcy5vcHRpb25zLmZvY3VzRWxlbWVudDtcbiAgICBsZXQgZWxlbWVudFRvRm9jdXMgPSBudWxsO1xuXG4gICAgaWYgKGZvY3VzT3B0aW9uID09PSAnZm9vdGVyJykge1xuICAgICAgLy8gRm9jdXMgZmlyc3QgYnV0dG9uIGluIGZvb3RlclxuICAgICAgY29uc3QgZm9vdGVyID0gdGhpcy4kKCcuc28tbW9kYWwtZm9vdGVyJyk7XG4gICAgICBpZiAoZm9vdGVyKSB7XG4gICAgICAgIGVsZW1lbnRUb0ZvY3VzID0gZm9vdGVyLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pLCBhW2hyZWZdJyk7XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayB0byBjbG9zZSBidXR0b24gaWYgbm8gZm9vdGVyIGJ1dHRvblxuICAgICAgaWYgKCFlbGVtZW50VG9Gb2N1cykge1xuICAgICAgICBlbGVtZW50VG9Gb2N1cyA9IHRoaXMuJCgnLnNvLW1vZGFsLWNsb3NlJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmb2N1c09wdGlvbiA9PT0gJ2Nsb3NlJykge1xuICAgICAgLy8gRm9jdXMgY2xvc2UgYnV0dG9uXG4gICAgICBlbGVtZW50VG9Gb2N1cyA9IHRoaXMuJCgnLnNvLW1vZGFsLWNsb3NlJyk7XG4gICAgfSBlbHNlIGlmIChmb2N1c09wdGlvbiA9PT0gJ2ZpcnN0Jykge1xuICAgICAgLy8gRm9jdXMgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgKG9yaWdpbmFsIGJlaGF2aW9yKVxuICAgICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSB0aGlzLmdldEZvY3VzYWJsZUVsZW1lbnRzKCk7XG4gICAgICBlbGVtZW50VG9Gb2N1cyA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvY3VzT3B0aW9uID09PSAnc3RyaW5nJyAmJiBmb2N1c09wdGlvbikge1xuICAgICAgLy8gQ1NTIHNlbGVjdG9yXG4gICAgICBlbGVtZW50VG9Gb2N1cyA9IHRoaXMuJChmb2N1c09wdGlvbik7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnRcbiAgICBpZiAoIWVsZW1lbnRUb0ZvY3VzKSB7XG4gICAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IHRoaXMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoKTtcbiAgICAgIGVsZW1lbnRUb0ZvY3VzID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRUb0ZvY3VzICYmIHR5cGVvZiBlbGVtZW50VG9Gb2N1cy5mb2N1cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkIGNsYXNzIHRvIHNob3cgZm9jdXMgcmluZyAoc2luY2UgOmZvY3VzLXZpc2libGUgZG9lc24ndCB3b3JrIGZvciBwcm9ncmFtbWF0aWMgZm9jdXMpXG4gICAgICBlbGVtZW50VG9Gb2N1cy5jbGFzc0xpc3QuYWRkKCdzby1mb2N1cy12aXNpYmxlJyk7XG4gICAgICBlbGVtZW50VG9Gb2N1cy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgICBlbGVtZW50VG9Gb2N1cy5jbGFzc0xpc3QucmVtb3ZlKCdzby1mb2N1cy12aXNpYmxlJyk7XG4gICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICBlbGVtZW50VG9Gb2N1cy5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUga2V5Ym9hcmQgZXZlbnRzXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIEtleWJvYXJkIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5ZG93bihlKSB7XG4gICAgLy8gT25seSBoYW5kbGUgaWYgdGhpcyBpcyB0aGUgdG9wbW9zdCBtb2RhbFxuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgdGhpcy5faXNPcGVuKSB7XG4gICAgICBjb25zdCBvcGVuTW9kYWxzID0gU09Nb2RhbC5fb3Blbk1vZGFscztcbiAgICAgIGlmIChvcGVuTW9kYWxzLmxlbmd0aCA+IDAgJiYgb3Blbk1vZGFsc1tvcGVuTW9kYWxzLmxlbmd0aCAtIDFdID09PSB0aGlzKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdGF0aWMpIHtcbiAgICAgICAgICAvLyBTaGFrZSBhbmltYXRpb24gZm9yIHN0YXRpYyBtb2RhbFxuICAgICAgICAgIHRoaXMuX3NoYWtlTW9kYWwoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuY2xvc2FibGUpIHtcbiAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGRvY3VtZW50IGtleWJvYXJkIGxpc3RlbmVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZERvY3VtZW50S2V5ZG93bigpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5rZXlib2FyZCkgcmV0dXJuO1xuICAgIHRoaXMuX2JvdW5kS2V5ZG93biA9IHRoaXMuX2hhbmRsZUtleWRvd24uYmluZCh0aGlzKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fYm91bmRLZXlkb3duKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmJpbmQgZG9jdW1lbnQga2V5Ym9hcmQgbGlzdGVuZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91bmJpbmREb2N1bWVudEtleWRvd24oKSB7XG4gICAgaWYgKHRoaXMuX2JvdW5kS2V5ZG93bikge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2JvdW5kS2V5ZG93bik7XG4gICAgICB0aGlzLl9ib3VuZEtleWRvd24gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHNob3cgYmFja2Ryb3BcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zaG93QmFja2Ryb3AoKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYmFja2Ryb3ApIHJldHVybjtcblxuICAgIHRoaXMuX2JhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fYmFja2Ryb3AuY2xhc3NOYW1lID0gJ3NvLW1vZGFsLWJhY2tkcm9wJztcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCdzby1mYWRlJyk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHotaW5kZXggZm9yIHN0YWNrZWQgbW9kYWxzXG4gICAgY29uc3QgbW9kYWxJbmRleCA9IFNPTW9kYWwuX29wZW5Nb2RhbHMuaW5kZXhPZih0aGlzKTtcbiAgICBpZiAobW9kYWxJbmRleCA+IDApIHtcbiAgICAgIHRoaXMuX2JhY2tkcm9wLnN0eWxlLnpJbmRleCA9IFNPTW9kYWwuX2Jhc2VaSW5kZXggKyAobW9kYWxJbmRleCAqIDEwKSAtIDE7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9iYWNrZHJvcCk7XG5cbiAgICAvLyBGb3JjZSByZWZsb3cgZm9yIGFuaW1hdGlvblxuICAgIHRoaXMuX2JhY2tkcm9wLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCdzby1zaG93Jyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHotaW5kZXggZm9yIG5lc3RlZCBtb2RhbHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVaSW5kZXgoKSB7XG4gICAgY29uc3QgbW9kYWxJbmRleCA9IFNPTW9kYWwuX29wZW5Nb2RhbHMuaW5kZXhPZih0aGlzKTtcbiAgICBpZiAobW9kYWxJbmRleCA+IDApIHtcbiAgICAgIC8vIEVhY2ggbmVzdGVkIG1vZGFsIGdldHMgYSBoaWdoZXIgei1pbmRleFxuICAgICAgY29uc3QgekluZGV4ID0gU09Nb2RhbC5fYmFzZVpJbmRleCArIChtb2RhbEluZGV4ICogMTApO1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnpJbmRleCA9IHpJbmRleDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgei1pbmRleCB3aGVuIG1vZGFsIGNsb3Nlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Jlc2V0WkluZGV4KCkge1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS56SW5kZXggPSAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIGFuZCByZW1vdmUgYmFja2Ryb3BcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oaWRlQmFja2Ryb3AoKSB7XG4gICAgaWYgKCF0aGlzLl9iYWNrZHJvcCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fYmFja2Ryb3AuY2xhc3NMaXN0LnJlbW92ZSgnc28tc2hvdycpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgIHRoaXMuX2JhY2tkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wPy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9iYWNrZHJvcC5yZW1vdmUoKTtcbiAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFuYWdlIGJvZHkgc2Nyb2xsIGxvY2tcbiAgICogQHBhcmFtIHtib29sZWFufSBsb2NrIC0gV2hldGhlciB0byBsb2NrIHNjcm9sbFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX21hbmFnZUJvZHlTY3JvbGwobG9jaykge1xuICAgIGlmIChsb2NrKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3NvLW1vZGFsLW9wZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB9IGVsc2UgaWYgKFNPTW9kYWwuX29wZW5Nb2RhbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLW1vZGFsLW9wZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQVUJMSUMgQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIG1vZGFsXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNob3coKSB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbikgcmV0dXJuIHRoaXM7XG5cbiAgICAvLyBFbWl0IHNob3cgZXZlbnQgKGNhbiBiZSBwcmV2ZW50ZWQpXG4gICAgaWYgKCF0aGlzLmVtaXQoU09Nb2RhbC5FVkVOVFMuU0hPVykpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMuX2lzT3BlbiA9IHRydWU7XG4gICAgdGhpcy5fcHJldmlvdXNBY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIC8vIEFkZCB0byBvcGVuIG1vZGFscyBzdGFja1xuICAgIFNPTW9kYWwuX29wZW5Nb2RhbHMucHVzaCh0aGlzKTtcblxuICAgIC8vIFVwZGF0ZSB6LWluZGV4IGZvciBuZXN0ZWQgbW9kYWxzXG4gICAgdGhpcy5fdXBkYXRlWkluZGV4KCk7XG5cbiAgICAvLyBDaGVjayBtb2JpbGUgZnVsbHNjcmVlblxuICAgIGlmICh0aGlzLm9wdGlvbnMubW9iaWxlRnVsbHNjcmVlbikge1xuICAgICAgdGhpcy5fY2hlY2tNb2JpbGVGdWxsc2NyZWVuKCk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyBiYWNrZHJvcFxuICAgIHRoaXMuX3Nob3dCYWNrZHJvcCgpO1xuXG4gICAgLy8gTG9jayBib2R5IHNjcm9sbFxuICAgIHRoaXMuX21hbmFnZUJvZHlTY3JvbGwodHJ1ZSk7XG5cbiAgICAvLyBTaG93IG1vZGFsXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgdGhpcy5hZGRDbGFzcygnc28tZmFkZScpO1xuICAgICAgLy8gRm9yY2UgcmVmbG93XG4gICAgICB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIH1cblxuICAgIHRoaXMuYWRkQ2xhc3MoJ3NvLXNob3cnKTtcblxuICAgIC8vIFNldCB1cCBmb2N1cyB0cmFwICh3aXRob3V0IGluaXRpYWwgZm9jdXMgLSB3ZSdsbCBoYW5kbGUgdGhhdCBhZnRlciBhbmltYXRpb24pXG4gICAgaWYgKHRoaXMub3B0aW9ucy5mb2N1cykge1xuICAgICAgdGhpcy5fZm9jdXNUcmFwQ2xlYW51cCA9IHRoaXMudHJhcEZvY3VzKHsgc2tpcEluaXRpYWxGb2N1czogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICAvLyBCaW5kIGRvY3VtZW50IGtleWJvYXJkIGxpc3RlbmVyIGZvciBFc2NhcGVcbiAgICB0aGlzLl9iaW5kRG9jdW1lbnRLZXlkb3duKCk7XG5cbiAgICAvLyBFbWl0IHNob3duIGV2ZW50IGFmdGVyIHRyYW5zaXRpb24gYW5kIHNldCBmb2N1c1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICBsZXQgc2hvd25FbWl0dGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBoYW5kbGVTaG93biA9ICgpID0+IHtcbiAgICAgICAgaWYgKHNob3duRW1pdHRlZCkgcmV0dXJuO1xuICAgICAgICBzaG93bkVtaXR0ZWQgPSB0cnVlO1xuICAgICAgICAvLyBGb2N1cyB0aGUgYXBwcm9wcmlhdGUgZWxlbWVudCBhZnRlciBhbmltYXRpb24gY29tcGxldGVzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9jdXMpIHtcbiAgICAgICAgICB0aGlzLl9mb2N1c0luaXRpYWxFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KFNPTW9kYWwuRVZFTlRTLlNIT1dOKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgdHJhbnNpdGlvbmVuZCBvbiB0aGUgZGlhbG9nIGl0c2VsZiAobm90IGJ1YmJsZWQgZnJvbSBjaGlsZHJlbilcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25IYW5kbGVyID0gKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLl9kaWFsb2cpIHtcbiAgICAgICAgICB0aGlzLl9kaWFsb2cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRyYW5zaXRpb25IYW5kbGVyKTtcbiAgICAgICAgICBoYW5kbGVTaG93bigpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5fZGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0cmFuc2l0aW9uSGFuZGxlcik7XG5cbiAgICAgIC8vIEZhbGxiYWNrIHRpbWVvdXQgaW4gY2FzZSB0cmFuc2l0aW9uZW5kIGRvZXNuJ3QgZmlyZVxuICAgICAgc2V0VGltZW91dChoYW5kbGVTaG93biwgMzUwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9jdXMgaW1tZWRpYXRlbHkgd2hlbiBubyBhbmltYXRpb25cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9jdXMpIHtcbiAgICAgICAgdGhpcy5fZm9jdXNJbml0aWFsRWxlbWVudCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbWl0KFNPTW9kYWwuRVZFTlRTLlNIT1dOKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBtb2RhbFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBoaWRlKCkge1xuICAgIGlmICghdGhpcy5faXNPcGVuKSByZXR1cm4gdGhpcztcblxuICAgIC8vIEVtaXQgaGlkZSBldmVudCAoY2FuIGJlIHByZXZlbnRlZClcbiAgICBpZiAoIXRoaXMuZW1pdChTT01vZGFsLkVWRU5UUy5ISURFKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG5cbiAgICAvLyBSZW1vdmUgZnJvbSBvcGVuIG1vZGFscyBzdGFja1xuICAgIGNvbnN0IGluZGV4ID0gU09Nb2RhbC5fb3Blbk1vZGFscy5pbmRleE9mKHRoaXMpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBTT01vZGFsLl9vcGVuTW9kYWxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGZvY3VzIHRyYXBcbiAgICBpZiAodGhpcy5fZm9jdXNUcmFwQ2xlYW51cCkge1xuICAgICAgdGhpcy5fZm9jdXNUcmFwQ2xlYW51cCgpO1xuICAgICAgdGhpcy5fZm9jdXNUcmFwQ2xlYW51cCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gVW5iaW5kIGRvY3VtZW50IGtleWJvYXJkIGxpc3RlbmVyXG4gICAgdGhpcy5fdW5iaW5kRG9jdW1lbnRLZXlkb3duKCk7XG5cbiAgICAvLyBIaWRlIG1vZGFsXG4gICAgdGhpcy5yZW1vdmVDbGFzcygnc28tc2hvdycpO1xuXG4gICAgY29uc3QgaGlkZUNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLl9oaWRlQmFja2Ryb3AoKTtcbiAgICAgIHRoaXMuX21hbmFnZUJvZHlTY3JvbGwoZmFsc2UpO1xuXG4gICAgICAvLyBSZXNldCB6LWluZGV4IGZvciBuZXN0ZWQgbW9kYWxzXG4gICAgICB0aGlzLl9yZXNldFpJbmRleCgpO1xuXG4gICAgICAvLyBSZXNldCBkcmFnIHBvc2l0aW9uIGlmIGRyYWdnYWJsZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcmFnZ2FibGUpIHtcbiAgICAgICAgdGhpcy5fcmVzZXREcmFnUG9zaXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzZXQgbWF4aW1pemVkIHN0YXRlXG4gICAgICBpZiAodGhpcy5faXNNYXhpbWl6ZWQpIHtcbiAgICAgICAgdGhpcy5faXNNYXhpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLW1vZGFsLW1heGltaXplZCcpO1xuICAgICAgICBpZiAodGhpcy5fbWF4aW1pemVCdG4pIHtcbiAgICAgICAgICB0aGlzLl9tYXhpbWl6ZUJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPm9wZW5faW5fZnVsbDwvc3Bhbj4nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBtb2JpbGUgZnVsbHNjcmVlbiBjbGFzc1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLW1vZGFsLW1vYmlsZS1mdWxsc2NyZWVuJyk7XG5cbiAgICAgIC8vIFJlc3RvcmUgZm9jdXNcbiAgICAgIGlmICh0aGlzLl9wcmV2aW91c0FjdGl2ZUVsZW1lbnQgJiYgdHlwZW9mIHRoaXMuX3ByZXZpb3VzQWN0aXZlRWxlbWVudC5mb2N1cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9wcmV2aW91c0FjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbWl0KFNPTW9kYWwuRVZFTlRTLkhJRERFTik7XG4gICAgfTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uICYmIHRoaXMuX2RpYWxvZykge1xuICAgICAgLy8gVXNlIGEgZmxhZyB0byBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb25cbiAgICAgIGxldCBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHNhZmVIaWRlQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjb21wbGV0ZWQpIHJldHVybjtcbiAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaGlkZUNvbXBsZXRlKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9kaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHNhZmVIaWRlQ29tcGxldGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgIC8vIEZhbGxiYWNrIHRpbWVvdXQgaW4gY2FzZSB0cmFuc2l0aW9uZW5kIGRvZXNuJ3QgZmlyZVxuICAgICAgc2V0VGltZW91dChzYWZlSGlkZUNvbXBsZXRlLCAzNTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlQ29tcGxldGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgbW9kYWwgdmlzaWJpbGl0eVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICB0b2dnbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzT3BlbiA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgbW9kYWwgaXMgb3BlblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gT3BlbiBzdGF0ZVxuICAgKi9cbiAgaXNPcGVuKCkge1xuICAgIHJldHVybiB0aGlzLl9pc09wZW47XG4gIH1cblxuICAvKipcbiAgICogU2V0IG1vZGFsIGNvbnRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd8RWxlbWVudH0gY29udGVudCAtIENvbnRlbnQgdG8gc2V0XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNldENvbnRlbnQoY29udGVudCkge1xuICAgIGNvbnN0IGJvZHkgPSB0aGlzLiQoJy5zby1tb2RhbC1ib2R5Jyk7XG4gICAgaWYgKCFib2R5KSByZXR1cm4gdGhpcztcblxuICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGJvZHkuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICBib2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgYm9keS5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbW9kYWwgdGl0bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIC0gVGl0bGUgdGV4dFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBzZXRUaXRsZSh0aXRsZSkge1xuICAgIGNvbnN0IHRpdGxlRWwgPSB0aGlzLiQoJy5zby1tb2RhbC10aXRsZScpO1xuICAgIGlmICh0aXRsZUVsKSB7XG4gICAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBzaG93IGEgbW9kYWwgcHJvZ3JhbW1hdGljYWxseVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE1vZGFsIGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudGl0bGUgLSBNb2RhbCB0aXRsZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jb250ZW50IC0gTW9kYWwgYm9keSBjb250ZW50IChIVE1MIHN0cmluZylcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc2l6ZSAtIE1vZGFsIHNpemU6ICdzbScsICdkZWZhdWx0JywgJ2xnJywgJ3hsJywgJ2Z1bGxzY3JlZW4nXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5jbG9zYWJsZSAtIFdoZXRoZXIgbW9kYWwgY2FuIGJlIGNsb3NlZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jbGFzc05hbWUgLSBBZGRpdGlvbmFsIENTUyBjbGFzc2VzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zdGF0aWMgLSBDYW5ub3QgYmUgZGlzbWlzc2VkIHdpdGhvdXQgYnV0dG9uIGNsaWNrXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fSBvcHRpb25zLmZvb3RlciAtIEZvb3RlciBjb250ZW50IChmbGV4aWJsZSBmb3JtYXQpOlxuICAgKiAgIC0gU3RyaW5nOiBSYXcgSFRNTCBzdHJpbmdcbiAgICogICAtIEFycmF5OiBBcnJheSBvZiBidXR0b24gY29uZmlncywgZWFjaCBjYW4gYmU6XG4gICAqICAgICAtIFN0cmluZzogJ0NhbmNlbCcgKHRleHQgb25seSwgb3V0bGluZSBzdHlsZSlcbiAgICogICAgIC0gQXJyYXk6IFt7IGljb246ICdzYXZlJyB9LCAnU2F2ZSddIChmbGV4aWJsZSBjb250ZW50KVxuICAgKiAgICAgLSBPYmplY3Q6IHsgY29udGVudDogWy4uLl0sIGNsYXNzOiAnc28tYnRuLXByaW1hcnknLCBkaXNtaXNzOiB0cnVlLCBvbmNsaWNrOiBmbiB9XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmZvb3RlclBvc2l0aW9uIC0gRm9vdGVyIGFsaWdubWVudDogJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0JywgJ2JldHdlZW4nLCAnYXJvdW5kJ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5mb290ZXJMYXlvdXQgLSBGb290ZXIgbGF5b3V0OiAnaW5saW5lJyBvciAnc3RhY2tlZCdcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuZm9jdXNFbGVtZW50IC0gRWxlbWVudCB0byBmb2N1cyBvbiBvcGVuOiAnZm9vdGVyJyAoZGVmYXVsdCksICdjbG9zZScsICdmaXJzdCcsIG9yIENTUyBzZWxlY3RvclxuICAgKiBAcmV0dXJucyB7U09Nb2RhbH0gTW9kYWwgaW5zdGFuY2VcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogLy8gU3RyaW5nIGZvb3RlciAobGVnYWN5KVxuICAgKiBTT01vZGFsLmNyZWF0ZSh7XG4gICAqICAgdGl0bGU6ICdNeSBNb2RhbCcsXG4gICAqICAgY29udGVudDogJzxwPkNvbnRlbnQgaGVyZTwvcD4nLFxuICAgKiAgIGZvb3RlcjogJzxidXR0b24gY2xhc3M9XCJzby1idG4gc28tYnRuLXByaW1hcnlcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPk9LPC9idXR0b24+J1xuICAgKiB9KTtcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogLy8gRmxleGlibGUgZm9vdGVyIGJ1dHRvbnNcbiAgICogU09Nb2RhbC5jcmVhdGUoe1xuICAgKiAgIHRpdGxlOiAnTXkgTW9kYWwnLFxuICAgKiAgIGNvbnRlbnQ6ICc8cD5Db250ZW50IGhlcmU8L3A+JyxcbiAgICogICBmb290ZXI6IFtcbiAgICogICAgIHsgY29udGVudDogJ0NhbmNlbCcsIGNsYXNzOiAnc28tYnRuLW91dGxpbmUnLCBkaXNtaXNzOiB0cnVlIH0sXG4gICAqICAgICB7IGNvbnRlbnQ6IFt7IGljb246ICdzYXZlJyB9LCAnU2F2ZSddLCBjbGFzczogJ3NvLWJ0bi1wcmltYXJ5JywgZGlzbWlzczogdHJ1ZSB9XG4gICAqICAgXSxcbiAgICogICBmb290ZXJQb3NpdGlvbjogJ3JpZ2h0J1xuICAgKiB9KTtcbiAgICovXG4gIHN0YXRpYyBjcmVhdGUob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgdGl0bGUgPSAnJyxcbiAgICAgIGNvbnRlbnQgPSAnJyxcbiAgICAgIHNpemUgPSAnZGVmYXVsdCcsXG4gICAgICBjbG9zYWJsZSA9IHRydWUsXG4gICAgICBmb290ZXIgPSBudWxsLFxuICAgICAgZm9vdGVyUG9zaXRpb24gPSAncmlnaHQnLFxuICAgICAgZm9vdGVyTGF5b3V0ID0gJ2lubGluZScsXG4gICAgICBjbGFzc05hbWUgPSAnJyxcbiAgICAgIHN0YXRpYzogaXNTdGF0aWMgPSBmYWxzZSxcbiAgICAgIGZvY3VzRWxlbWVudCA9ICdmb290ZXInLFxuICAgICAgc2luZ2xldG9uID0gZmFsc2UsXG4gICAgICBzaW5nbGV0b25JZCA9IG51bGwsXG4gICAgICBzaW5nbGV0b25GZWVkYmFjayA9ICdzaGFrZScsIC8vICdzaGFrZScsICdwdWxzZScsICdib3VuY2UnLCAnaGVhZHNoYWtlJ1xuICAgICAgZHJhZ2dhYmxlID0gZmFsc2UsXG4gICAgICBtYXhpbWl6YWJsZSA9IGZhbHNlLFxuICAgICAgbW9iaWxlRnVsbHNjcmVlbiA9IGZhbHNlLFxuICAgICAgbW9iaWxlQnJlYWtwb2ludCA9IDc2OCxcbiAgICAgIHNpZGViYXIgPSBmYWxzZSxcbiAgICAgIHNpZGViYXJXaWR0aCA9ICcyODBweCcsXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICAvLyBTaW5nbGV0b24gY2hlY2sgLSBpZiBtb2RhbCB3aXRoIHNhbWUgSUQgZXhpc3RzLCBwcm92aWRlIGZlZWRiYWNrIGFuZCByZXR1cm4gZXhpc3RpbmdcbiAgICBpZiAoc2luZ2xldG9uKSB7XG4gICAgICBjb25zdCBpZCA9IHNpbmdsZXRvbklkIHx8IGBzaW5nbGV0b24tJHt0aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX1gO1xuICAgICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IFNPTW9kYWwuX3NpbmdsZXRvbkluc3RhbmNlcy5nZXQoaWQpO1xuXG4gICAgICBpZiAoZXhpc3RpbmdJbnN0YW5jZSAmJiBleGlzdGluZ0luc3RhbmNlLl9pc09wZW4pIHtcbiAgICAgICAgZXhpc3RpbmdJbnN0YW5jZS5fcGxheUZlZWRiYWNrQW5pbWF0aW9uKHNpbmdsZXRvbkZlZWRiYWNrKTtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nSW5zdGFuY2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYnV0dG9uIGNvbnRlbnQgZnJvbSB2YXJpb3VzIGZvcm1hdHMgKHNhbWUgYXMgY29uZmlybSlcbiAgICAgKi9cbiAgICBjb25zdCBwYXJzZUJ1dHRvbkNvbnRlbnQgPSAoYnRuQ29udGVudCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBidG5Db250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gYnRuQ29udGVudDtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGJ0bkNvbnRlbnQpKSB7XG4gICAgICAgIHJldHVybiBidG5Db250ZW50Lm1hcChwYXJ0ID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcnQgJiYgdHlwZW9mIHBhcnQgPT09ICdvYmplY3QnICYmIHBhcnQuaWNvbikge1xuICAgICAgICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtwYXJ0Lmljb259PC9zcGFuPmA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSkuam9pbignJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBidXR0b24gSFRNTCBmcm9tIGZsZXhpYmxlIGZvcm1hdFxuICAgICAqL1xuICAgIGNvbnN0IGNyZWF0ZUJ1dHRvbiA9IChidG5Db25maWcsIGluZGV4KSA9PiB7XG4gICAgICBsZXQgY29udGVudCwgYnRuQ2xhc3MsIGRpc21pc3MsIG9uY2xpY2s7XG5cbiAgICAgIGlmICh0eXBlb2YgYnRuQ29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBTaW1wbGUgc3RyaW5nOiAnQ2FuY2VsJ1xuICAgICAgICBjb250ZW50ID0gYnRuQ29uZmlnO1xuICAgICAgICBidG5DbGFzcyA9ICdzby1idG4tb3V0bGluZSc7XG4gICAgICAgIGRpc21pc3MgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGJ0bkNvbmZpZykpIHtcbiAgICAgICAgLy8gQXJyYXkgZm9ybWF0OiBbeyBpY29uOiAnc2F2ZScgfSwgJ1NhdmUnXVxuICAgICAgICBjb250ZW50ID0gcGFyc2VCdXR0b25Db250ZW50KGJ0bkNvbmZpZyk7XG4gICAgICAgIGJ0bkNsYXNzID0gJ3NvLWJ0bi1vdXRsaW5lJztcbiAgICAgICAgZGlzbWlzcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGJ0bkNvbmZpZyAmJiB0eXBlb2YgYnRuQ29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBPYmplY3QgZm9ybWF0OiB7IGNvbnRlbnQ6IFsuLi5dLCBjbGFzczogJ3NvLWJ0bi1wcmltYXJ5JywgZGlzbWlzczogdHJ1ZSB9XG4gICAgICAgIGNvbnRlbnQgPSBwYXJzZUJ1dHRvbkNvbnRlbnQoYnRuQ29uZmlnLmNvbnRlbnQgfHwgYnRuQ29uZmlnLnRleHQgfHwgJycpO1xuICAgICAgICBidG5DbGFzcyA9IGJ0bkNvbmZpZy5jbGFzcyB8fCAnc28tYnRuLW91dGxpbmUnO1xuICAgICAgICBkaXNtaXNzID0gYnRuQ29uZmlnLmRpc21pc3MgIT09IGZhbHNlO1xuICAgICAgICBvbmNsaWNrID0gYnRuQ29uZmlnLm9uY2xpY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRpc21pc3NBdHRyID0gZGlzbWlzcyA/ICcgZGF0YS1kaXNtaXNzPVwibW9kYWxcIicgOiAnJztcbiAgICAgIGNvbnN0IG9uY2xpY2tBdHRyID0gb25jbGljayA/IGAgZGF0YS1tb2RhbC1idG4taW5kZXg9XCIke2luZGV4fVwiYCA6ICcnO1xuICAgICAgcmV0dXJuIGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLWJ0biAke2J0bkNsYXNzfVwiJHtkaXNtaXNzQXR0cn0ke29uY2xpY2tBdHRyfT4ke2NvbnRlbnR9PC9idXR0b24+YDtcbiAgICB9O1xuXG4gICAgLy8gU2l6ZSBjbGFzcyBnb2VzIG9uIHRoZSBtb2RhbCBjb250YWluZXIsIG5vdCB0aGUgZGlhbG9nXG4gICAgY29uc3Qgc2l6ZUNsYXNzID0gc2l6ZSAhPT0gJ2RlZmF1bHQnID8gYHNvLW1vZGFsLSR7c2l6ZX1gIDogJyc7XG4gICAgY29uc3Qgc3RhdGljQ2xhc3MgPSBpc1N0YXRpYyA/ICdzby1tb2RhbC1zdGF0aWMnIDogJyc7XG4gICAgY29uc3Qgc2lkZWJhckNsYXNzID0gc2lkZWJhciA/IGBzby1tb2RhbC13aXRoLXNpZGViYXIgc28tbW9kYWwtc2lkZWJhci0ke3NpZGViYXIgPT09IHRydWUgPyAnbGVmdCcgOiBzaWRlYmFyfWAgOiAnJztcbiAgICBjb25zdCBkcmFnZ2FibGVDbGFzcyA9IGRyYWdnYWJsZSA/ICdzby1tb2RhbC1kcmFnZ2FibGUnIDogJyc7XG4gICAgY29uc3QgbWF4aW1pemFibGVDbGFzcyA9IG1heGltaXphYmxlID8gJ3NvLW1vZGFsLW1heGltaXphYmxlJyA6ICcnO1xuXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc05hbWUgPSBgc28tbW9kYWwgc28tZmFkZSAke3NpemVDbGFzc30gJHtzdGF0aWNDbGFzc30gJHtzaWRlYmFyQ2xhc3N9ICR7ZHJhZ2dhYmxlQ2xhc3N9ICR7bWF4aW1pemFibGVDbGFzc30gJHtjbGFzc05hbWV9YC50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgIG1vZGFsLnRhYkluZGV4ID0gLTE7XG5cbiAgICAvLyBGb3Igc3RhdGljIG1vZGFscywgc2V0IHRoZSBkYXRhIGF0dHJpYnV0ZVxuICAgIGlmIChpc1N0YXRpYykge1xuICAgICAgbW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLXNvLXN0YXRpYycsICd0cnVlJyk7XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgZm9vdGVyIEhUTUxcbiAgICBsZXQgZm9vdGVySHRtbCA9ICcnO1xuICAgIGxldCBidXR0b25PbmNsaWNrcyA9IFtdO1xuICAgIGlmIChmb290ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZm9vdGVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBMZWdhY3kgc3RyaW5nIGZvcm1hdFxuICAgICAgICBmb290ZXJIdG1sID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzby1tb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICR7Zm9vdGVyfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGZvb3RlcikpIHtcbiAgICAgICAgLy8gTmV3IGZsZXhpYmxlIGFycmF5IGZvcm1hdFxuICAgICAgICBjb25zdCBwb3NpdGlvbkNsYXNzTWFwID0ge1xuICAgICAgICAgIGxlZnQ6ICdqdXN0aWZ5LXN0YXJ0JyxcbiAgICAgICAgICBjZW50ZXI6ICdqdXN0aWZ5LWNlbnRlcicsXG4gICAgICAgICAgcmlnaHQ6ICdqdXN0aWZ5LWVuZCcsXG4gICAgICAgICAgYmV0d2VlbjogJ2p1c3RpZnktYmV0d2VlbicsXG4gICAgICAgICAgYXJvdW5kOiAnanVzdGlmeS1hcm91bmQnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwb3NpdGlvbkNsYXNzID0gcG9zaXRpb25DbGFzc01hcFtmb290ZXJQb3NpdGlvbl0gfHwgJ2p1c3RpZnktZW5kJztcbiAgICAgICAgY29uc3QgbGF5b3V0Q2xhc3MgPSBmb290ZXJMYXlvdXQgPT09ICdzdGFja2VkJyA/ICdzby1mbGV4LWNvbHVtbicgOiAnJztcbiAgICAgICAgY29uc3QgZm9vdGVyQ2xhc3NlcyA9IFtwb3NpdGlvbkNsYXNzLCBsYXlvdXRDbGFzc10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKTtcblxuICAgICAgICBjb25zdCBidXR0b25zID0gZm9vdGVyLm1hcCgoYnRuLCBpKSA9PiB7XG4gICAgICAgICAgaWYgKGJ0biAmJiB0eXBlb2YgYnRuID09PSAnb2JqZWN0JyAmJiBidG4ub25jbGljaykge1xuICAgICAgICAgICAgYnV0dG9uT25jbGlja3MucHVzaCh7IGluZGV4OiBpLCBvbmNsaWNrOiBidG4ub25jbGljayB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1dHRvbihidG4sIGkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb290ZXJIdG1sID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzby1tb2RhbC1mb290ZXIgJHtmb290ZXJDbGFzc2VzfVwiPlxuICAgICAgICAgICAgJHtidXR0b25zLmpvaW4oJ1xcbicpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9vdGVyID09PSAnb2JqZWN0JyAmJiAoZm9vdGVyLmxlZnQgfHwgZm9vdGVyLmNlbnRlciB8fCBmb290ZXIucmlnaHQpKSB7XG4gICAgICAgIC8vIFNlY3Rpb25zIGZvcm1hdDogeyBsZWZ0OiBbLi4uXSwgY2VudGVyOiBbLi4uXSwgcmlnaHQ6IFsuLi5dIH1cbiAgICAgICAgbGV0IGJ0bkluZGV4ID0gMDtcblxuICAgICAgICBjb25zdCBjcmVhdGVTZWN0aW9uQnV0dG9ucyA9IChidXR0b25zKSA9PiB7XG4gICAgICAgICAgaWYgKCFidXR0b25zIHx8ICFBcnJheS5pc0FycmF5KGJ1dHRvbnMpKSByZXR1cm4gJyc7XG4gICAgICAgICAgcmV0dXJuIGJ1dHRvbnMubWFwKGJ0biA9PiB7XG4gICAgICAgICAgICBpZiAoYnRuICYmIHR5cGVvZiBidG4gPT09ICdvYmplY3QnICYmIGJ0bi5vbmNsaWNrKSB7XG4gICAgICAgICAgICAgIGJ1dHRvbk9uY2xpY2tzLnB1c2goeyBpbmRleDogYnRuSW5kZXgsIG9uY2xpY2s6IGJ0bi5vbmNsaWNrIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1dHRvbihidG4sIGJ0bkluZGV4KyspO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGxlZnRIdG1sID0gZm9vdGVyLmxlZnQgPyBgPGRpdiBjbGFzcz1cInNvLWZvb3Rlci1sZWZ0XCI+JHtjcmVhdGVTZWN0aW9uQnV0dG9ucyhmb290ZXIubGVmdCl9PC9kaXY+YCA6ICc8ZGl2IGNsYXNzPVwic28tZm9vdGVyLWxlZnRcIj48L2Rpdj4nO1xuICAgICAgICBjb25zdCBjZW50ZXJIdG1sID0gZm9vdGVyLmNlbnRlciA/IGA8ZGl2IGNsYXNzPVwic28tZm9vdGVyLWNlbnRlclwiPiR7Y3JlYXRlU2VjdGlvbkJ1dHRvbnMoZm9vdGVyLmNlbnRlcil9PC9kaXY+YCA6ICc8ZGl2IGNsYXNzPVwic28tZm9vdGVyLWNlbnRlclwiPjwvZGl2Pic7XG4gICAgICAgIGNvbnN0IHJpZ2h0SHRtbCA9IGZvb3Rlci5yaWdodCA/IGA8ZGl2IGNsYXNzPVwic28tZm9vdGVyLXJpZ2h0XCI+JHtjcmVhdGVTZWN0aW9uQnV0dG9ucyhmb290ZXIucmlnaHQpfTwvZGl2PmAgOiAnPGRpdiBjbGFzcz1cInNvLWZvb3Rlci1yaWdodFwiPjwvZGl2Pic7XG5cbiAgICAgICAgZm9vdGVySHRtbCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic28tbW9kYWwtZm9vdGVyIHNvLWZvb3Rlci1zZWN0aW9uc1wiPlxuICAgICAgICAgICAgJHtsZWZ0SHRtbH1cbiAgICAgICAgICAgICR7Y2VudGVySHRtbH1cbiAgICAgICAgICAgICR7cmlnaHRIdG1sfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERvbid0IHNob3cgY2xvc2UgYnV0dG9uIGlmIHN0YXRpYyBvciBub3QgY2xvc2FibGVcbiAgICBjb25zdCBzaG93Q2xvc2VCdXR0b24gPSBjbG9zYWJsZSAmJiAhaXNTdGF0aWM7XG5cbiAgICAvLyBCdWlsZCBoZWFkZXIgYnV0dG9ucyAobWF4aW1pemUgKyBjbG9zZSlcbiAgICBsZXQgaGVhZGVyQnV0dG9ucyA9ICcnO1xuICAgIGlmIChtYXhpbWl6YWJsZSkge1xuICAgICAgaGVhZGVyQnV0dG9ucyArPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzby1tb2RhbC1tYXhpbWl6ZVwiIHRpdGxlPVwiTWF4aW1pemVcIj48c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+b3Blbl9pbl9mdWxsPC9zcGFuPjwvYnV0dG9uPic7XG4gICAgfVxuICAgIGlmIChzaG93Q2xvc2VCdXR0b24pIHtcbiAgICAgIGhlYWRlckJ1dHRvbnMgKz0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic28tbW9kYWwtY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj48L2J1dHRvbj4nO1xuICAgIH1cblxuICAgIC8vIEJ1aWxkIG1haW4gY29udGVudCBhcmVhICh3aXRoIHNpZGViYXIgc3VwcG9ydClcbiAgICBsZXQgbWFpbkNvbnRlbnRIdG1sID0gJyc7XG4gICAgaWYgKHNpZGViYXIgJiYgdHlwZW9mIGNvbnRlbnQgPT09ICdvYmplY3QnICYmIGNvbnRlbnQuc2lkZWJhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBDb250ZW50IGhhcyBzaWRlYmFyICsgbWFpbiBzZWN0aW9uc1xuICAgICAgY29uc3Qgc2lkZWJhckNvbnRlbnQgPSBjb250ZW50LnNpZGViYXIgfHwgJyc7XG4gICAgICBjb25zdCBtYWluQ29udGVudCA9IGNvbnRlbnQubWFpbiB8fCAnJztcbiAgICAgIG1haW5Db250ZW50SHRtbCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNvLW1vZGFsLWJvZHkgc28tbW9kYWwtYm9keS13aXRoLXNpZGViYXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic28tbW9kYWwtc2lkZWJhclwiPiR7c2lkZWJhckNvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNvLW1vZGFsLW1haW5cIj4ke21haW5Db250ZW50fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlZ3VsYXIgY29udGVudFxuICAgICAgY29uc3QgY29udGVudFN0ciA9IHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0JyA/IChjb250ZW50Lm1haW4gfHwgJycpIDogY29udGVudDtcbiAgICAgIG1haW5Db250ZW50SHRtbCA9IGA8ZGl2IGNsYXNzPVwic28tbW9kYWwtYm9keVwiPiR7Y29udGVudFN0cn08L2Rpdj5gO1xuICAgIH1cblxuICAgIC8vIFNldCBzaWRlYmFyIHdpZHRoIGFzIENTUyB2YXJpYWJsZVxuICAgIGxldCBkaWFsb2dTdHlsZSA9ICcnO1xuICAgIGlmIChzaWRlYmFyICYmIHNpZGViYXJXaWR0aCkge1xuICAgICAgZGlhbG9nU3R5bGUgPSBgc3R5bGU9XCItLXNvLW1vZGFsLXNpZGViYXItd2lkdGg6ICR7c2lkZWJhcldpZHRofVwiYDtcbiAgICB9XG5cbiAgICBtb2RhbC5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwic28tbW9kYWwtZGlhbG9nXCIgJHtkaWFsb2dTdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby1tb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNvLW1vZGFsLWhlYWRlclwiJHtkcmFnZ2FibGUgPyAnIHN0eWxlPVwiY3Vyc29yOiBtb3ZlXCInIDogJyd9PlxuICAgICAgICAgICAgPGg1IGNsYXNzPVwic28tbW9kYWwtdGl0bGVcIj4ke3RpdGxlfTwvaDU+XG4gICAgICAgICAgICAke2hlYWRlckJ1dHRvbnN9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgJHttYWluQ29udGVudEh0bWx9XG4gICAgICAgICAgJHtmb290ZXJIdG1sfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcblxuICAgIC8vIEF0dGFjaCBvbmNsaWNrIGhhbmRsZXJzIGZvciBidXR0b25zIHRoYXQgaGF2ZSB0aGVtXG4gICAgYnV0dG9uT25jbGlja3MuZm9yRWFjaCgoeyBpbmRleCwgb25jbGljayB9KSA9PiB7XG4gICAgICBjb25zdCBidG4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1tb2RhbC1idG4taW5kZXg9XCIke2luZGV4fVwiXWApO1xuICAgICAgaWYgKGJ0biAmJiB0eXBlb2Ygb25jbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gb25jbGljayhlLCBidG4pKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFNPTW9kYWwobW9kYWwsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICBzdGF0aWM6IGlzU3RhdGljLFxuICAgICAgZm9jdXNFbGVtZW50LFxuICAgICAgZHJhZ2dhYmxlLFxuICAgICAgbWF4aW1pemFibGUsXG4gICAgICBtb2JpbGVGdWxsc2NyZWVuLFxuICAgICAgbW9iaWxlQnJlYWtwb2ludCxcbiAgICAgIHNpZGViYXIsXG4gICAgICBzaWRlYmFyV2lkdGgsXG4gICAgfSk7XG5cbiAgICAvLyBTdG9yZSB0aGUgaW5zdGFuY2Ugb24gdGhlIGVsZW1lbnQgZm9yIGVhc3kgcmV0cmlldmFsXG4gICAgbW9kYWwuX3NvTW9kYWxJbnN0YW5jZSA9IGluc3RhbmNlO1xuXG4gICAgLy8gUmVnaXN0ZXIgc2luZ2xldG9uIGluc3RhbmNlXG4gICAgaWYgKHNpbmdsZXRvbikge1xuICAgICAgY29uc3QgaWQgPSBzaW5nbGV0b25JZCB8fCBgc2luZ2xldG9uLSR7dGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9YDtcbiAgICAgIFNPTW9kYWwuX3NpbmdsZXRvbkluc3RhbmNlcy5zZXQoaWQsIGluc3RhbmNlKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZnJvbSBET00gd2hlbiBoaWRkZW5cbiAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFNpeE9yYml0LmV2dChTT01vZGFsLkVWRU5UUy5ISURERU4pLCAoKSA9PiB7XG4gICAgICAvLyBSZW1vdmUgc2luZ2xldG9uIGZyb20gcmVnaXN0cnlcbiAgICAgIGlmIChzaW5nbGV0b24pIHtcbiAgICAgICAgY29uc3QgaWQgPSBzaW5nbGV0b25JZCB8fCBgc2luZ2xldG9uLSR7dGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9YDtcbiAgICAgICAgU09Nb2RhbC5fc2luZ2xldG9uSW5zdGFuY2VzLmRlbGV0ZShpZCk7XG4gICAgICB9XG4gICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGEgY29uZmlybWF0aW9uIGRpYWxvZyB3aXRoIGZsZXhpYmxlIGJ1dHRvbiBhbmQgaWNvbiBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gRGlhbG9nIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudGl0bGUgLSBEaWFsb2cgdGl0bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubWVzc2FnZSAtIERpYWxvZyBtZXNzYWdlXG4gICAqIEBwYXJhbSB7QXJyYXl9IG9wdGlvbnMuYWN0aW9ucyAtIEFycmF5IG9mIGFjdGlvbiBvYmplY3RzIGZvciBtdWx0aS1hY3Rpb24gZGlhbG9nc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheXxPYmplY3R9IG9wdGlvbnMuY29uZmlybSAtIENvbmZpcm0gYnV0dG9uIChmbGV4aWJsZSBmb3JtYXQpOlxuICAgKiAgIC0gU3RyaW5nOiAnRGVsZXRlJyAoanVzdCB0ZXh0KVxuICAgKiAgIC0gQXJyYXk6IFt7IGljb246ICdkZWxldGUnIH0sICdEZWxldGUnXSAoaWNvbiArIHRleHQgaW4gb3JkZXIpXG4gICAqICAgLSBBcnJheTogWydDb250aW51ZScsIHsgaWNvbjogJ2Fycm93X2ZvcndhcmQnIH1dICh0ZXh0ICsgaWNvbilcbiAgICogICAtIEFycmF5OiBbeyBpY29uOiAnY2hlY2snIH0sICdTYXZlJywgeyBpY29uOiAnc2VuZCcgfV0gKG11bHRpcGxlIGljb25zKVxuICAgKiAgIC0gT2JqZWN0OiB7IGNvbnRlbnQ6IFsuLi5dLCBjbGFzczogJ3NvLWJ0bi1kYW5nZXInIH0gKHdpdGggY2xhc3Mgb3ZlcnJpZGUpXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fE9iamVjdH0gb3B0aW9ucy5jYW5jZWwgLSBDYW5jZWwgYnV0dG9uIChzYW1lIGZvcm1hdCBhcyBjb25maXJtKVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG9wdGlvbnMuaWNvbiAtIERpYWxvZyBpY29uIGFib3ZlIHRpdGxlOlxuICAgKiAgIC0gU3RyaW5nOiAnd2FybmluZycgKGljb24gbmFtZSwgdHlwZSBmcm9tIGljb25UeXBlIG9yIGF1dG8pXG4gICAqICAgLSBPYmplY3Q6IHsgbmFtZTogJ3dhcm5pbmcnLCB0eXBlOiAnZGFuZ2VyJyB9IChpY29uIHdpdGggdHlwZSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaWNvblR5cGUgLSBJY29uIGNvbG9yOiAnZGFuZ2VyJywgJ3dhcm5pbmcnLCAnc3VjY2VzcycsICdpbmZvJ1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZGFuZ2VyIC0gVXNlIGRhbmdlciBzdHlsaW5nIChhdXRvLXNldHMgaWNvblR5cGUgdG8gJ2RhbmdlcicpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zdGF0aWMgLSBDYW5ub3QgYmUgZGlzbWlzc2VkIHdpdGhvdXQgY2xpY2tpbmcgYSBidXR0b25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYnV0dG9uUG9zaXRpb24gLSBGb290ZXIgYWxpZ25tZW50OiAnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnLCAnYmV0d2VlbicsICdhcm91bmQnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmJ1dHRvbkxheW91dCAtICdpbmxpbmUnIChzaWRlIGJ5IHNpZGUpIG9yICdzdGFja2VkJyAodmVydGljYWwpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5mdWxsV2lkdGhCdXR0b25zIC0gTWFrZSBidXR0b25zIGZ1bGwgd2lkdGhcbiAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJldmVyc2VCdXR0b25zIC0gU3dhcCBjYW5jZWwvY29uZmlybSBvcmRlclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuc2hvd0Nsb3NlQnV0dG9uIC0gU2hvdyBYIGNsb3NlIGJ1dHRvbiBpbiBoZWFkZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuZm9jdXNFbGVtZW50IC0gRWxlbWVudCB0byBmb2N1cyBvbiBvcGVuOiAnZm9vdGVyJyAoZGVmYXVsdCksICdjbG9zZScsICdmaXJzdCcsIG9yIENTUyBzZWxlY3RvclxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jb25maXJtVGV4dCAtIExlZ2FjeTogdGV4dCBmb3IgY29uZmlybSBidXR0b25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuY2FuY2VsVGV4dCAtIExlZ2FjeTogdGV4dCBmb3IgY2FuY2VsIGJ1dHRvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jb25maXJtSWNvbiAtIExlZ2FjeTogaWNvbiBvbiBjb25maXJtIGJ1dHRvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jb25maXJtSWNvblBvc2l0aW9uIC0gTGVnYWN5OiAnbGVmdCcgb3IgJ3JpZ2h0J1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jYW5jZWxJY29uIC0gTGVnYWN5OiBpY29uIG9uIGNhbmNlbCBidXR0b25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuY2FuY2VsSWNvblBvc2l0aW9uIC0gTGVnYWN5OiAnbGVmdCcgb3IgJ3JpZ2h0J1xuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmd8Ym9vbGVhbj59IFJlc29sdmVzIHdpdGggYWN0aW9uIGlkL3RydWUvZmFsc2Ugb3IgJ2Rpc21pc3MnIGlmIGNsb3NlZFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBGbGV4aWJsZSBidXR0b24gQVBJXG4gICAqIFNPTW9kYWwuY29uZmlybSh7XG4gICAqICAgdGl0bGU6ICdEZWxldGUgSXRlbScsXG4gICAqICAgbWVzc2FnZTogJ1RoaXMgY2Fubm90IGJlIHVuZG9uZS4nLFxuICAgKiAgIGljb246IHsgbmFtZTogJ2RlbGV0ZScsIHR5cGU6ICdkYW5nZXInIH0sXG4gICAqICAgY29uZmlybTogW3sgaWNvbjogJ2RlbGV0ZScgfSwgJ0RlbGV0ZSddLFxuICAgKiAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAqICAgZGFuZ2VyOiB0cnVlXG4gICAqIH0pO1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBNdWx0aXBsZSBpY29ucyBvbiBidXR0b25cbiAgICogU09Nb2RhbC5jb25maXJtKHtcbiAgICogICBjb25maXJtOiBbeyBpY29uOiAnY2xvdWRfdXBsb2FkJyB9LCAnVXBsb2FkJywgeyBpY29uOiAnY2hlY2snIH1dXG4gICAqIH0pO1xuICAgKi9cbiAgc3RhdGljIGNvbmZpcm0ob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgdGl0bGUgPSAnQ29uZmlybScsXG4gICAgICBtZXNzYWdlID0gJ0FyZSB5b3Ugc3VyZT8nLFxuICAgICAgYWN0aW9ucyA9IG51bGwsXG4gICAgICAvLyBOZXcgZmxleGlibGUgYnV0dG9uIEFQSSAodGFrZXMgcHJlY2VkZW5jZSBvdmVyIGxlZ2FjeSBvcHRpb25zKVxuICAgICAgY29uZmlybTogY29uZmlybU9wdCA9IG51bGwsXG4gICAgICBjYW5jZWw6IGNhbmNlbE9wdCA9IG51bGwsXG4gICAgICAvLyBMZWdhY3kgYnV0dG9uIG9wdGlvbnMgKGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSlcbiAgICAgIGNvbmZpcm1UZXh0ID0gJ0NvbmZpcm0nLFxuICAgICAgY2FuY2VsVGV4dCA9ICdDYW5jZWwnLFxuICAgICAgY29uZmlybUNsYXNzID0gJ3NvLWJ0bi1wcmltYXJ5JyxcbiAgICAgIGNvbmZpcm1JY29uID0gbnVsbCxcbiAgICAgIGNvbmZpcm1JY29uUG9zaXRpb24gPSAnbGVmdCcsXG4gICAgICBjYW5jZWxJY29uID0gbnVsbCxcbiAgICAgIGNhbmNlbEljb25Qb3NpdGlvbiA9ICdsZWZ0JyxcbiAgICAgIC8vIFN0eWxpbmcgb3B0aW9uc1xuICAgICAgZGFuZ2VyID0gZmFsc2UsXG4gICAgICBjbG9zYWJsZSA9IHRydWUsXG4gICAgICBzdGF0aWM6IGlzU3RhdGljID0gZmFsc2UsXG4gICAgICAvLyBEaWFsb2cgaWNvbiBvcHRpb25zXG4gICAgICBpY29uID0gbnVsbCxcbiAgICAgIGljb25UeXBlID0gbnVsbCxcbiAgICAgIC8vIExheW91dCBvcHRpb25zXG4gICAgICBidXR0b25Qb3NpdGlvbiA9ICdjZW50ZXInLFxuICAgICAgYnV0dG9uTGF5b3V0ID0gJ2lubGluZScsXG4gICAgICBmdWxsV2lkdGhCdXR0b25zID0gZmFsc2UsXG4gICAgICByZXZlcnNlQnV0dG9ucyA9IGZhbHNlLFxuICAgICAgc2hvd0Nsb3NlQnV0dG9uID0gZmFsc2UsXG4gICAgICBzaXplID0gJ3NtJyxcbiAgICAgIC8vIEZvY3VzIG9wdGlvbnNcbiAgICAgIGZvY3VzRWxlbWVudCA9ICdmb290ZXInLFxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBsZXQgcmVzb2x2ZWQgPSBmYWxzZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBQYXJzZSBidXR0b24gY29udGVudCBmcm9tIHZhcmlvdXMgZm9ybWF0czpcbiAgICAgICAqIC0gU3RyaW5nOiAnRGVsZXRlJyBcdTIxOTIganVzdCB0ZXh0XG4gICAgICAgKiAtIEFycmF5OiBbeyBpY29uOiAnZGVsZXRlJyB9LCAnRGVsZXRlJ10gXHUyMTkyIGljb24gdGhlbiB0ZXh0XG4gICAgICAgKiAtIEFycmF5OiBbJ0RlbGV0ZScsIHsgaWNvbjogJ2Fycm93X2ZvcndhcmQnIH1dIFx1MjE5MiB0ZXh0IHRoZW4gaWNvblxuICAgICAgICogLSBBcnJheTogW3sgaWNvbjogJ2NoZWNrJyB9LCAnU2F2ZScsIHsgaWNvbjogJ3NlbmQnIH1dIFx1MjE5MiBtdWx0aXBsZSBpY29uc1xuICAgICAgICogLSBPYmplY3Q6IHsgY29udGVudDogWy4uLl0sIGNsYXNzOiAnc28tYnRuLWRhbmdlcicgfSBcdTIxOTIgd2l0aCBjbGFzcyBvdmVycmlkZVxuICAgICAgICovXG4gICAgICBjb25zdCBwYXJzZUJ1dHRvbkNvbnRlbnQgPSAoY29udGVudCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcbiAgICAgICAgICByZXR1cm4gY29udGVudC5tYXAocGFydCA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnQgJiYgdHlwZW9mIHBhcnQgPT09ICdvYmplY3QnICYmIHBhcnQuaWNvbikge1xuICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3BhcnQuaWNvbn08L3NwYW4+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZSBidXR0b24gSFRNTCBmcm9tIGZsZXhpYmxlIGZvcm1hdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXl8T2JqZWN0fSBidG5Db25maWcgLSBCdXR0b24gY29uZmlndXJhdGlvblxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRDbGFzcyAtIERlZmF1bHQgYnV0dG9uIGNsYXNzXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uSWQgLSBBY3Rpb24gaWRlbnRpZmllclxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBpc0Z1bGxXaWR0aCAtIFdoZXRoZXIgYnV0dG9uIHNob3VsZCBiZSBmdWxsIHdpZHRoXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGNyZWF0ZUZsZXhpYmxlQnV0dG9uID0gKGJ0bkNvbmZpZywgZGVmYXVsdENsYXNzLCBhY3Rpb25JZCwgaXNGdWxsV2lkdGgpID0+IHtcbiAgICAgICAgbGV0IGNvbnRlbnQsIGJ0bkNsYXNzO1xuXG4gICAgICAgIGlmICh0eXBlb2YgYnRuQ29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIFNpbXBsZSBzdHJpbmc6ICdEZWxldGUnXG4gICAgICAgICAgY29udGVudCA9IGJ0bkNvbmZpZztcbiAgICAgICAgICBidG5DbGFzcyA9IGRlZmF1bHRDbGFzcztcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGJ0bkNvbmZpZykpIHtcbiAgICAgICAgICAvLyBBcnJheSBmb3JtYXQ6IFt7IGljb246ICdkZWxldGUnIH0sICdEZWxldGUnXVxuICAgICAgICAgIGNvbnRlbnQgPSBwYXJzZUJ1dHRvbkNvbnRlbnQoYnRuQ29uZmlnKTtcbiAgICAgICAgICBidG5DbGFzcyA9IGRlZmF1bHRDbGFzcztcbiAgICAgICAgfSBlbHNlIGlmIChidG5Db25maWcgJiYgdHlwZW9mIGJ0bkNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBPYmplY3QgZm9ybWF0OiB7IGNvbnRlbnQ6IFsuLi5dLCBjbGFzczogJ3NvLWJ0bi1kYW5nZXInIH1cbiAgICAgICAgICBjb250ZW50ID0gcGFyc2VCdXR0b25Db250ZW50KGJ0bkNvbmZpZy5jb250ZW50IHx8IGJ0bkNvbmZpZy50ZXh0IHx8ICcnKTtcbiAgICAgICAgICBidG5DbGFzcyA9IGJ0bkNvbmZpZy5jbGFzcyB8fCBkZWZhdWx0Q2xhc3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGVudCA9ICcnO1xuICAgICAgICAgIGJ0bkNsYXNzID0gZGVmYXVsdENsYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2lkdGhDbGFzcyA9IGlzRnVsbFdpZHRoID8gJyBzby13LTEwMCcgOiAnJztcbiAgICAgICAgcmV0dXJuIGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLWJ0biAke2J0bkNsYXNzfSR7d2lkdGhDbGFzc31cIiBkYXRhLW1vZGFsLWFjdGlvbj1cIiR7YWN0aW9uSWR9XCI+JHtjb250ZW50fTwvYnV0dG9uPmA7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIExlZ2FjeSBoZWxwZXIgdG8gY3JlYXRlIGJ1dHRvbiBIVE1MIHdpdGggb3B0aW9uYWwgaWNvblxuICAgICAgICogKGtlcHQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggb2xkIG9wdGlvbnMpXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGNyZWF0ZUxlZ2FjeUJ1dHRvbiA9ICh0ZXh0LCBidG5DbGFzcywgYWN0aW9uSWQsIGJ0bkljb24sIGljb25Qb3MsIGlzRnVsbFdpZHRoKSA9PiB7XG4gICAgICAgIGNvbnN0IGljb25IdG1sID0gYnRuSWNvbiA/IGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtidG5JY29ufTwvc3Bhbj5gIDogJyc7XG4gICAgICAgIGNvbnN0IHdpZHRoQ2xhc3MgPSBpc0Z1bGxXaWR0aCA/ICcgc28tdy0xMDAnIDogJyc7XG4gICAgICAgIGlmIChpY29uUG9zID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgcmV0dXJuIGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLWJ0biAke2J0bkNsYXNzfSR7d2lkdGhDbGFzc31cIiBkYXRhLW1vZGFsLWFjdGlvbj1cIiR7YWN0aW9uSWR9XCI+JHt0ZXh0fSR7aWNvbkh0bWx9PC9idXR0b24+YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic28tYnRuICR7YnRuQ2xhc3N9JHt3aWR0aENsYXNzfVwiIGRhdGEtbW9kYWwtYWN0aW9uPVwiJHthY3Rpb25JZH1cIj4ke2ljb25IdG1sfSR7dGV4dH08L2J1dHRvbj5gO1xuICAgICAgfTtcblxuICAgICAgLy8gQnVpbGQgZm9vdGVyIEhUTUxcbiAgICAgIGxldCBmb290ZXJIdG1sID0gJyc7XG4gICAgICBsZXQgdXNlU2VjdGlvbnNMYXlvdXQgPSBmYWxzZTtcblxuICAgICAgaWYgKGFjdGlvbnMgJiYgQXJyYXkuaXNBcnJheShhY3Rpb25zKSkge1xuICAgICAgICAvLyBNdWx0aXBsZSBhY3Rpb25zIG1vZGUgLSBzdXBwb3J0cyBib3RoIG5ldyBhbmQgbGVnYWN5IGZvcm1hdCBpbiBhY3Rpb24gb2JqZWN0c1xuICAgICAgICBjb25zdCBidXR0b25zID0gYWN0aW9ucy5tYXAoYWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAoYWN0aW9uLmNvbnRlbnQgfHwgQXJyYXkuaXNBcnJheShhY3Rpb24uY29udGVudCkpIHtcbiAgICAgICAgICAgIC8vIE5ldyBmb3JtYXQgaW4gYWN0aW9uczogeyBpZDogJ3NhdmUnLCBjb250ZW50OiBbeyBpY29uOiAnc2F2ZScgfSwgJ1NhdmUnXSwgY2xhc3M6ICdzby1idG4tcHJpbWFyeScgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZsZXhpYmxlQnV0dG9uKFxuICAgICAgICAgICAgICB7IGNvbnRlbnQ6IGFjdGlvbi5jb250ZW50LCBjbGFzczogYWN0aW9uLmNsYXNzIHx8IChhY3Rpb24ucHJpbWFyeSA/ICdzby1idG4tcHJpbWFyeScgOiAnc28tYnRuLW91dGxpbmUnKSB9LFxuICAgICAgICAgICAgICBhY3Rpb24uY2xhc3MgfHwgKGFjdGlvbi5wcmltYXJ5ID8gJ3NvLWJ0bi1wcmltYXJ5JyA6ICdzby1idG4tb3V0bGluZScpLFxuICAgICAgICAgICAgICBhY3Rpb24uaWQsXG4gICAgICAgICAgICAgIGZ1bGxXaWR0aEJ1dHRvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIExlZ2FjeSBmb3JtYXQgaW4gYWN0aW9uczogeyBpZDogJ3NhdmUnLCB0ZXh0OiAnU2F2ZScsIGljb246ICdzYXZlJywgY2xhc3M6ICdzby1idG4tcHJpbWFyeScgfVxuICAgICAgICAgIGNvbnN0IGJ0bkNsYXNzID0gYWN0aW9uLmNsYXNzIHx8IChhY3Rpb24ucHJpbWFyeSA/ICdzby1idG4tcHJpbWFyeScgOiAnc28tYnRuLW91dGxpbmUnKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlTGVnYWN5QnV0dG9uKGFjdGlvbi50ZXh0LCBidG5DbGFzcywgYWN0aW9uLmlkLCBhY3Rpb24uaWNvbiwgYWN0aW9uLmljb25Qb3NpdGlvbiB8fCAnbGVmdCcsIGZ1bGxXaWR0aEJ1dHRvbnMpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9vdGVySHRtbCA9IGJ1dHRvbnMuam9pbignXFxuJyk7XG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbnMgJiYgdHlwZW9mIGFjdGlvbnMgPT09ICdvYmplY3QnICYmIChhY3Rpb25zLmxlZnQgfHwgYWN0aW9ucy5jZW50ZXIgfHwgYWN0aW9ucy5yaWdodCkpIHtcbiAgICAgICAgLy8gU2VjdGlvbnMgZm9ybWF0OiB7IGxlZnQ6IFsuLi5dLCBjZW50ZXI6IFsuLi5dLCByaWdodDogWy4uLl0gfVxuICAgICAgICB1c2VTZWN0aW9uc0xheW91dCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb25maXJtQ2xhc3MgPSBkYW5nZXIgPyAnc28tYnRuLWRhbmdlcicgOiBjb25maXJtQ2xhc3M7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlU2VjdGlvbkJ1dHRvbiA9IChidG4pID0+IHtcbiAgICAgICAgICBpZiAoYnRuLmNvbnRlbnQgfHwgQXJyYXkuaXNBcnJheShidG4uY29udGVudCkgfHwgdHlwZW9mIGJ0biA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheShidG4pKSB7XG4gICAgICAgICAgICBjb25zdCBidG5DbGFzcyA9IGJ0bi5jbGFzcyB8fCAoYnRuLnByaW1hcnkgPyBkZWZhdWx0Q29uZmlybUNsYXNzIDogJ3NvLWJ0bi1vdXRsaW5lJyk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRmxleGlibGVCdXR0b24oYnRuLCBidG5DbGFzcywgYnRuLmlkIHx8IGJ0bi5hY3Rpb24gfHwgJ2FjdGlvbicsIGZ1bGxXaWR0aEJ1dHRvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBidG5DbGFzcyA9IGJ0bi5jbGFzcyB8fCAoYnRuLnByaW1hcnkgPyBkZWZhdWx0Q29uZmlybUNsYXNzIDogJ3NvLWJ0bi1vdXRsaW5lJyk7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUxlZ2FjeUJ1dHRvbihidG4udGV4dCB8fCAnJywgYnRuQ2xhc3MsIGJ0bi5pZCB8fCBidG4uYWN0aW9uIHx8ICdhY3Rpb24nLCBidG4uaWNvbiwgYnRuLmljb25Qb3NpdGlvbiB8fCAnbGVmdCcsIGZ1bGxXaWR0aEJ1dHRvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZVNlY3Rpb24gPSAoYnV0dG9ucykgPT4ge1xuICAgICAgICAgIGlmICghYnV0dG9ucyB8fCAhQXJyYXkuaXNBcnJheShidXR0b25zKSkgcmV0dXJuICcnO1xuICAgICAgICAgIHJldHVybiBidXR0b25zLm1hcChjcmVhdGVTZWN0aW9uQnV0dG9uKS5qb2luKCdcXG4nKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBsZWZ0SHRtbCA9IGA8ZGl2IGNsYXNzPVwic28tZm9vdGVyLWxlZnRcIj4ke2NyZWF0ZVNlY3Rpb24oYWN0aW9ucy5sZWZ0KX08L2Rpdj5gO1xuICAgICAgICBjb25zdCBjZW50ZXJIdG1sID0gYDxkaXYgY2xhc3M9XCJzby1mb290ZXItY2VudGVyXCI+JHtjcmVhdGVTZWN0aW9uKGFjdGlvbnMuY2VudGVyKX08L2Rpdj5gO1xuICAgICAgICBjb25zdCByaWdodEh0bWwgPSBgPGRpdiBjbGFzcz1cInNvLWZvb3Rlci1yaWdodFwiPiR7Y3JlYXRlU2VjdGlvbihhY3Rpb25zLnJpZ2h0KX08L2Rpdj5gO1xuXG4gICAgICAgIGZvb3Rlckh0bWwgPSBgJHtsZWZ0SHRtbH1cXG4ke2NlbnRlckh0bWx9XFxuJHtyaWdodEh0bWx9YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNpbXBsZSBjb25maXJtL2NhbmNlbCBtb2RlXG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb25maXJtQ2xhc3MgPSBkYW5nZXIgPyAnc28tYnRuLWRhbmdlcicgOiBjb25maXJtQ2xhc3M7XG5cbiAgICAgICAgbGV0IGNhbmNlbEJ0biwgY29uZmlybUJ0bjtcblxuICAgICAgICAvLyBVc2UgbmV3IGZsZXhpYmxlIEFQSSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGZhbGwgYmFjayB0byBsZWdhY3kgb3B0aW9uc1xuICAgICAgICBpZiAoY2FuY2VsT3B0ICE9PSBudWxsKSB7XG4gICAgICAgICAgY2FuY2VsQnRuID0gY3JlYXRlRmxleGlibGVCdXR0b24oY2FuY2VsT3B0LCAnc28tYnRuLW91dGxpbmUnLCAnY2FuY2VsJywgZnVsbFdpZHRoQnV0dG9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FuY2VsQnRuID0gY3JlYXRlTGVnYWN5QnV0dG9uKGNhbmNlbFRleHQsICdzby1idG4tb3V0bGluZScsICdjYW5jZWwnLCBjYW5jZWxJY29uLCBjYW5jZWxJY29uUG9zaXRpb24sIGZ1bGxXaWR0aEJ1dHRvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpcm1PcHQgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25maXJtQnRuID0gY3JlYXRlRmxleGlibGVCdXR0b24oY29uZmlybU9wdCwgZGVmYXVsdENvbmZpcm1DbGFzcywgJ2NvbmZpcm0nLCBmdWxsV2lkdGhCdXR0b25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25maXJtQnRuID0gY3JlYXRlTGVnYWN5QnV0dG9uKGNvbmZpcm1UZXh0LCBkZWZhdWx0Q29uZmlybUNsYXNzLCAnY29uZmlybScsIGNvbmZpcm1JY29uLCBjb25maXJtSWNvblBvc2l0aW9uLCBmdWxsV2lkdGhCdXR0b25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9yZGVyIGJ1dHRvbnMgYmFzZWQgb24gcmV2ZXJzZUJ1dHRvbnNcbiAgICAgICAgZm9vdGVySHRtbCA9IHJldmVyc2VCdXR0b25zID8gYCR7Y29uZmlybUJ0bn1cXG4ke2NhbmNlbEJ0bn1gIDogYCR7Y2FuY2VsQnRufVxcbiR7Y29uZmlybUJ0bn1gO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFBhcnNlIGRpYWxvZyBpY29uIGZyb20gdmFyaW91cyBmb3JtYXRzOlxuICAgICAgICogLSBTdHJpbmc6ICdhcnJvd19mb3J3YXJkJyBcdTIxOTIgdXNlIGljb25UeXBlIG9yIGRlZmF1bHRcbiAgICAgICAqIC0gT2JqZWN0OiB7IG5hbWU6ICdhcnJvd19mb3J3YXJkJywgdHlwZTogJ2luZm8nIH1cbiAgICAgICAqIC0gT2JqZWN0OiB7IGljb246ICdhcnJvd19mb3J3YXJkJywgdHlwZTogJ3dhcm5pbmcnIH1cbiAgICAgICAqL1xuICAgICAgbGV0IHJlc29sdmVkSWNvbk5hbWUgPSBudWxsO1xuICAgICAgbGV0IHJlc29sdmVkSWNvblR5cGUgPSBpY29uVHlwZSB8fCAoZGFuZ2VyID8gJ2RhbmdlcicgOiAnaW5mbycpO1xuXG4gICAgICBpZiAoaWNvbikge1xuICAgICAgICBpZiAodHlwZW9mIGljb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmVzb2x2ZWRJY29uTmFtZSA9IGljb247XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGljb24gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgcmVzb2x2ZWRJY29uTmFtZSA9IGljb24ubmFtZSB8fCBpY29uLmljb24gfHwgbnVsbDtcbiAgICAgICAgICBpZiAoaWNvbi50eXBlKSB7XG4gICAgICAgICAgICByZXNvbHZlZEljb25UeXBlID0gaWNvbi50eXBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBCdWlsZCBjb250ZW50IEhUTUxcbiAgICAgIGxldCBjb250ZW50SHRtbCA9ICcnO1xuICAgICAgaWYgKHJlc29sdmVkSWNvbk5hbWUpIHtcbiAgICAgICAgLy8gVXNlIGNlbnRlcmVkIGNvbmZpcm0gZGlhbG9nIGxheW91dFxuICAgICAgICBjb250ZW50SHRtbCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic28tY29uZmlybS1pY29uIHNvLSR7cmVzb2x2ZWRJY29uVHlwZX1cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3Jlc29sdmVkSWNvbk5hbWV9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxoMyBjbGFzcz1cInNvLWNvbmZpcm0tdGl0bGVcIj4ke3RpdGxlfTwvaDM+XG4gICAgICAgICAgPHAgY2xhc3M9XCJzby1jb25maXJtLW1lc3NhZ2VcIj4ke21lc3NhZ2V9PC9wPlxuICAgICAgICBgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudEh0bWwgPSBgPHA+JHttZXNzYWdlfTwvcD5gO1xuICAgICAgfVxuXG4gICAgICAvLyBCdWlsZCBmb290ZXIgY2xhc3Nlc1xuICAgICAgbGV0IGZvb3RlckNsYXNzZXMgPSAnJztcbiAgICAgIGlmICh1c2VTZWN0aW9uc0xheW91dCkge1xuICAgICAgICBmb290ZXJDbGFzc2VzID0gJ3NvLWZvb3Rlci1zZWN0aW9ucyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBwb3NpdGlvbkNsYXNzTWFwID0ge1xuICAgICAgICAgIGxlZnQ6ICdqdXN0aWZ5LXN0YXJ0JyxcbiAgICAgICAgICBjZW50ZXI6ICdqdXN0aWZ5LWNlbnRlcicsXG4gICAgICAgICAgcmlnaHQ6ICdqdXN0aWZ5LWVuZCcsXG4gICAgICAgICAgYmV0d2VlbjogJ2p1c3RpZnktYmV0d2VlbicsXG4gICAgICAgICAgYXJvdW5kOiAnanVzdGlmeS1hcm91bmQnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwb3NpdGlvbkNsYXNzID0gcG9zaXRpb25DbGFzc01hcFtidXR0b25Qb3NpdGlvbl0gfHwgJ2p1c3RpZnktY2VudGVyJztcbiAgICAgICAgY29uc3QgbGF5b3V0Q2xhc3MgPSBidXR0b25MYXlvdXQgPT09ICdzdGFja2VkJyA/ICdzby1mbGV4LWNvbHVtbicgOiAnJztcbiAgICAgICAgZm9vdGVyQ2xhc3NlcyA9IFtwb3NpdGlvbkNsYXNzLCBsYXlvdXRDbGFzc10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKTtcbiAgICAgIH1cblxuICAgICAgLy8gTW9kYWwgY2xhc3Nlc1xuICAgICAgY29uc3QgbW9kYWxDbGFzc2VzID0gcmVzb2x2ZWRJY29uTmFtZSA/ICdzby1jb25maXJtLWRpYWxvZycgOiAnJztcblxuICAgICAgLy8gQ3JlYXRlIG1vZGFsIHdpdGggY3VzdG9tIHN0cnVjdHVyZSBmb3IgY2VudGVyZWQgaWNvbiBsYXlvdXRcbiAgICAgIGNvbnN0IG1vZGFsRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1vZGFsRWwuY2xhc3NOYW1lID0gYHNvLW1vZGFsIHNvLWZhZGUgc28tbW9kYWwtJHtzaXplfSAke21vZGFsQ2xhc3Nlc31gLnRyaW0oKTtcbiAgICAgIG1vZGFsRWwudGFiSW5kZXggPSAtMTtcblxuICAgICAgLy8gQnVpbGQgaGVhZGVyIEhUTUwgLSBvbmx5IGNsb3NlIGJ1dHRvbiBpZiBzaG93Q2xvc2VCdXR0b24gaXMgdHJ1ZVxuICAgICAgbGV0IGhlYWRlckh0bWwgPSAnJztcbiAgICAgIGlmIChyZXNvbHZlZEljb25OYW1lKSB7XG4gICAgICAgIC8vIEZvciBjZW50ZXJlZCBsYXlvdXQsIGhlYWRlciBvbmx5IGNvbnRhaW5zIGNsb3NlIGJ1dHRvbiAoaWYgc2hvd24pXG4gICAgICAgIGlmIChzaG93Q2xvc2VCdXR0b24gJiYgIWlzU3RhdGljKSB7XG4gICAgICAgICAgaGVhZGVySHRtbCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzby1tb2RhbC1oZWFkZXJcIiBzdHlsZT1cImJvcmRlci1ib3R0b206IG5vbmU7IHBhZGRpbmctYm90dG9tOiAwOyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLW1vZGFsLWNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVndWxhciBsYXlvdXQgd2l0aCB0aXRsZSBpbiBoZWFkZXJcbiAgICAgICAgY29uc3QgY2xvc2VCdG4gPSAoc2hvd0Nsb3NlQnV0dG9uICYmICFpc1N0YXRpYylcbiAgICAgICAgICA/ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLW1vZGFsLWNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj48c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+PC9idXR0b24+J1xuICAgICAgICAgIDogJyc7XG4gICAgICAgIGhlYWRlckh0bWwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNvLW1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGg1IGNsYXNzPVwic28tbW9kYWwtdGl0bGVcIj4ke3RpdGxlfTwvaDU+XG4gICAgICAgICAgICAke2Nsb3NlQnRufVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuXG4gICAgICBtb2RhbEVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNvLW1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzby1tb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICAke2hlYWRlckh0bWx9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic28tbW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAke2NvbnRlbnRIdG1sfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic28tbW9kYWwtZm9vdGVyICR7Zm9vdGVyQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgJHtmb290ZXJIdG1sfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbEVsKTtcblxuICAgICAgY29uc3QgbW9kYWwgPSBuZXcgU09Nb2RhbChtb2RhbEVsLCB7XG4gICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgc3RhdGljOiBpc1N0YXRpYyxcbiAgICAgICAgY2xvc2FibGU6IGlzU3RhdGljID8gZmFsc2UgOiBjbG9zYWJsZSxcbiAgICAgICAga2V5Ym9hcmQ6ICFpc1N0YXRpYyxcbiAgICAgICAgZm9jdXNFbGVtZW50LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFN0b3JlIGluc3RhbmNlIG9uIGVsZW1lbnRcbiAgICAgIG1vZGFsRWwuX3NvTW9kYWxJbnN0YW5jZSA9IG1vZGFsO1xuXG4gICAgICAvLyBSZW1vdmUgZnJvbSBET00gd2hlbiBoaWRkZW5cbiAgICAgIG1vZGFsRWwuYWRkRXZlbnRMaXN0ZW5lcihTaXhPcmJpdC5ldnQoU09Nb2RhbC5FVkVOVFMuSElEREVOKSwgKCkgPT4ge1xuICAgICAgICBtb2RhbEVsLnJlbW92ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEhhbmRsZSBhY3Rpb24gYnV0dG9uIGNsaWNrc1xuICAgICAgbW9kYWxFbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2RhbC1hY3Rpb25dJykuZm9yRWFjaChidG4gPT4ge1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc29sdmVkKSByZXR1cm47XG4gICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IGFjdGlvbklkID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1tb2RhbC1hY3Rpb24nKTtcblxuICAgICAgICAgIC8vIEZvciBzaW1wbGUgbW9kZSwgY29udmVydCB0byBib29sZWFuIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGlmICghYWN0aW9ucykge1xuICAgICAgICAgICAgcmVzb2x2ZShhY3Rpb25JZCA9PT0gJ2NvbmZpcm0nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShhY3Rpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gSGFuZGxlIGRpc21pc3MgKGNsb3NlIGJ1dHRvbiwgZXNjYXBlLCBiYWNrZHJvcCBjbGljaylcbiAgICAgIG1vZGFsRWwuYWRkRXZlbnRMaXN0ZW5lcihTaXhPcmJpdC5ldnQoU09Nb2RhbC5FVkVOVFMuSElEREVOKSwgKCkgPT4ge1xuICAgICAgICBpZiAocmVzb2x2ZWQpIHJldHVybjtcbiAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZm9yIHNpbXBsZSBtb2RlLCAnZGlzbWlzcycgZm9yIGFjdGlvbnMgbW9kZVxuICAgICAgICByZXNvbHZlKGFjdGlvbnMgPyAnZGlzbWlzcycgOiBmYWxzZSk7XG4gICAgICB9KTtcblxuICAgICAgbW9kYWwuc2hvdygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYW4gYWxlcnQgZGlhbG9nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQWxlcnQgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmVzb2x2ZXMgd2hlbiBjbG9zZWRcbiAgICovXG4gIHN0YXRpYyBhbGVydChvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICB0aXRsZSA9ICdBbGVydCcsXG4gICAgICBtZXNzYWdlID0gJycsXG4gICAgICBidXR0b25UZXh0ID0gJ09LJyxcbiAgICAgIHR5cGUgPSAnaW5mbycsIC8vIGluZm8sIHN1Y2Nlc3MsIHdhcm5pbmcsIGRhbmdlclxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgaWNvbk1hcCA9IHtcbiAgICAgIGluZm86ICdpbmZvJyxcbiAgICAgIHN1Y2Nlc3M6ICdjaGVja19jaXJjbGUnLFxuICAgICAgd2FybmluZzogJ3dhcm5pbmcnLFxuICAgICAgZGFuZ2VyOiAnZXJyb3InLFxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IG1vZGFsID0gU09Nb2RhbC5jcmVhdGUoe1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgY29udGVudDogYFxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDE2cHggMDtcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIiBzdHlsZT1cImZvbnQtc2l6ZTogNDhweDsgY29sb3I6IHZhcigtLXNvLWFjY2VudC0ke3R5cGUgPT09ICdpbmZvJyA/ICdwcmltYXJ5JyA6IHR5cGV9KTsgbWFyZ2luLWJvdHRvbTogMTZweDsgZGlzcGxheTogYmxvY2s7XCI+XG4gICAgICAgICAgICAgICR7aWNvbk1hcFt0eXBlXSB8fCAnaW5mbyd9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDtcIj4ke21lc3NhZ2V9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgLFxuICAgICAgICBzaXplOiAnc20nLFxuICAgICAgICBjbG9zYWJsZTogdHJ1ZSxcbiAgICAgICAgZm9vdGVyOiBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzby1idG4gc28tYnRuLXByaW1hcnlcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPiR7YnV0dG9uVGV4dH08L2J1dHRvbj5gLFxuICAgICAgfSk7XG5cbiAgICAgIG1vZGFsLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihTaXhPcmJpdC5ldnQoU09Nb2RhbC5FVkVOVFMuSElEREVOKSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgIG1vZGFsLnNob3coKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbW9kYWwgaW5zdGFuY2UgZnJvbSBlbGVtZW50XG4gICAqIE92ZXJyaWRlIHRvIGFsc28gY2hlY2sgZm9yIGluc3RhbmNlIHN0b3JlZCBvbiBlbGVtZW50IChmcm9tIGNyZWF0ZSgpKVxuICAgKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBlbGVtZW50IC0gRE9NIGVsZW1lbnQgb3Igc2VsZWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSAtIENvbXBvbmVudCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtTT01vZGFsfSBNb2RhbCBpbnN0YW5jZVxuICAgKi9cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGVsID0gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KSA6IGVsZW1lbnQ7XG4gICAgaWYgKCFlbCkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBGaXJzdCBjaGVjayBmb3IgaW5zdGFuY2Ugc3RvcmVkIGRpcmVjdGx5IG9uIGVsZW1lbnQgKGZyb20gU09Nb2RhbC5jcmVhdGUoKSlcbiAgICBpZiAoZWwuX3NvTW9kYWxJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGVsLl9zb01vZGFsSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLy8gRmFsbCBiYWNrIHRvIHN0YW5kYXJkIFNpeE9yYml0IGluc3RhbmNlIGxvb2t1cFxuICAgIHJldHVybiBTaXhPcmJpdC5nZXRJbnN0YW5jZShlbCwgdGhpcy5OQU1FLCBvcHRpb25zKTtcbiAgfVxufVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnRcblNPTW9kYWwucmVnaXN0ZXIoKTtcblxuLy8gR2xvYmFsIGNsaWNrIGhhbmRsZXIgZm9yIGRhdGEtc28tdG9nZ2xlPVwibW9kYWxcIlxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBjb25zdCB0cmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtc28tdG9nZ2xlPVwibW9kYWxcIl0nKTtcbiAgaWYgKCF0cmlnZ2VyKSByZXR1cm47XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gdHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tdGFyZ2V0JykgfHwgdHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgaWYgKCF0YXJnZXRTZWxlY3RvcikgcmV0dXJuO1xuXG4gIGNvbnN0IG1vZGFsRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldFNlbGVjdG9yKTtcbiAgaWYgKCFtb2RhbEVsKSByZXR1cm47XG5cbiAgY29uc3QgbW9kYWwgPSBTT01vZGFsLmdldEluc3RhbmNlKG1vZGFsRWwpO1xuICBpZiAobW9kYWwpIHtcbiAgICBtb2RhbC5zaG93KCk7XG4gIH1cbn0pO1xuXG4vLyBFeHBvc2UgdG8gZ2xvYmFsIHNjb3BlXG53aW5kb3cuU09Nb2RhbCA9IFNPTW9kYWw7XG5cbi8vIEV4cG9ydCBmb3IgRVMgbW9kdWxlc1xuZXhwb3J0IGRlZmF1bHQgU09Nb2RhbDtcbmV4cG9ydCB7IFNPTW9kYWwgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgLSBEUkFXRVIvT0ZGQ0FOVkFTIENPTVBPTkVOVFxuLy8gU2lkZSBwYW5lbCBjb21wb25lbnQgd2l0aCBzbGlkZSBhbmltYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vY29yZS9zby1jb25maWcuanMnO1xuaW1wb3J0IFNPQ29tcG9uZW50IGZyb20gJy4uL2NvcmUvc28tY29tcG9uZW50LmpzJztcblxuLyoqXG4gKiBTT0RyYXdlciAtIFNsaWRlLW91dCBkcmF3ZXIvb2ZmY2FudmFzIGNvbXBvbmVudFxuICogU3VwcG9ydHMgbGVmdC9yaWdodCBwb3NpdGlvbmluZywgc2l6ZXMsIGFuZCBzdGF0aWMgbW9kZVxuICovXG5jbGFzcyBTT0RyYXdlciBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAnZHJhd2VyJztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsICAgICAgLy8gU2hvdyBiYWNrZHJvcCBiZWhpbmQgZHJhd2VyXG4gICAga2V5Ym9hcmQ6IHRydWUsICAgICAgLy8gQ2xvc2Ugb24gRXNjYXBlIGtleVxuICAgIHNjcm9sbDogZmFsc2UsICAgICAgIC8vIEFsbG93IGJvZHkgc2Nyb2xsIHdoZW4gZHJhd2VyIGlzIG9wZW5cbiAgICBzdGF0aWM6IGZhbHNlLCAgICAgICAvLyBOb24tZGlzbWlzc2libGUgbW9kZSAobXVzdCB1c2UgYnV0dG9ucyB0byBjbG9zZSlcbiAgICBhbmltYXRpb246IHRydWUsICAgICAvLyBBbmltYXRlIG9wZW4vY2xvc2VcbiAgfTtcblxuICBzdGF0aWMgRVZFTlRTID0ge1xuICAgIFNIT1c6ICdkcmF3ZXI6c2hvdycsXG4gICAgU0hPV046ICdkcmF3ZXI6c2hvd24nLFxuICAgIEhJREU6ICdkcmF3ZXI6aGlkZScsXG4gICAgSElEREVOOiAnZHJhd2VyOmhpZGRlbicsXG4gIH07XG5cbiAgLy8gVHJhY2sgb3BlbiBkcmF3ZXJzIGZvciBzdGFja2luZ1xuICBzdGF0aWMgX29wZW5EcmF3ZXJzID0gW107XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGRyYXdlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgLy8gQ2FjaGUgZWxlbWVudHNcbiAgICB0aGlzLl9oZWFkZXIgPSB0aGlzLiQoJy5zby1kcmF3ZXItaGVhZGVyJyk7XG4gICAgdGhpcy5fYm9keSA9IHRoaXMuJCgnLnNvLWRyYXdlci1ib2R5Jyk7XG4gICAgdGhpcy5fZm9vdGVyID0gdGhpcy4kKCcuc28tZHJhd2VyLWZvb3RlcicpO1xuICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcblxuICAgIC8vIFN0YXRlXG4gICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5fZm9jdXNUcmFwQ2xlYW51cCA9IG51bGw7XG4gICAgdGhpcy5fcHJldmlvdXNBY3RpdmVFbGVtZW50ID0gbnVsbDtcblxuICAgIC8vIERldGVjdCBwb3NpdGlvbiBmcm9tIGNsYXNzXG4gICAgdGhpcy5faXNMZWZ0ID0gdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc28tZHJhd2VyLWxlZnQnKTtcblxuICAgIC8vIENoZWNrIGZvciBzdGF0aWMgbW9kZSBmcm9tIGRhdGEgYXR0cmlidXRlLCBjbGFzcywgb3Igb3B0aW9uc1xuICAgIGlmICh0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXNvLXN0YXRpYycpIHx8XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRyYXdlci1zdGF0aWMnKSB8fFxuICAgICAgICB0aGlzLm9wdGlvbnMuc3RhdGljID09PSB0cnVlKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuc3RhdGljID0gdHJ1ZTtcbiAgICAgIHRoaXMub3B0aW9ucy5rZXlib2FyZCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLWRyYXdlci1zdGF0aWMnKTtcbiAgICB9XG5cbiAgICAvLyBCaW5kIGV2ZW50c1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gQ2xvc2UgYnV0dG9uIChvbmx5IGlmIG5vdCBzdGF0aWMpXG4gICAgdGhpcy5kZWxlZ2F0ZSgnY2xpY2snLCAnLnNvLWRyYXdlci1jbG9zZSwgW2RhdGEtZGlzbWlzcz1cImRyYXdlclwiXScsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnN0YXRpYykge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIE5vdGU6IEJhY2tkcm9wIGNsaWNrIGFuZCBrZXlib2FyZCBldmVudHMgYXJlIGJvdW5kIGluIHNob3coKSBhbmQgdW5ib3VuZCBpbiBoaWRlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTaGFrZSB0aGUgZHJhd2VyIHRvIGluZGljYXRlIGl0IGNhbm5vdCBiZSBkaXNtaXNzZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zaGFrZURyYXdlcigpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHJhd2VyLXN0YXRpYy1zaGFrZScpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RyYXdlci1zdGF0aWMtc2hha2UnKTtcbiAgICB9LCAzMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBrZXlib2FyZCBldmVudHNcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gS2V5Ym9hcmQgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlkb3duKGUpIHtcbiAgICAvLyBPbmx5IGhhbmRsZSBpZiB0aGlzIGlzIHRoZSB0b3Btb3N0IGRyYXdlclxuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgdGhpcy5faXNPcGVuKSB7XG4gICAgICBjb25zdCBvcGVuRHJhd2VycyA9IFNPRHJhd2VyLl9vcGVuRHJhd2VycztcbiAgICAgIGlmIChvcGVuRHJhd2Vycy5sZW5ndGggPiAwICYmIG9wZW5EcmF3ZXJzW29wZW5EcmF3ZXJzLmxlbmd0aCAtIDFdID09PSB0aGlzKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdGF0aWMpIHtcbiAgICAgICAgICB0aGlzLl9zaGFrZURyYXdlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZG9jdW1lbnQga2V5Ym9hcmQgbGlzdGVuZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9iaW5kRG9jdW1lbnRLZXlkb3duKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmtleWJvYXJkKSByZXR1cm47XG4gICAgdGhpcy5fYm91bmRLZXlkb3duID0gdGhpcy5faGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9ib3VuZEtleWRvd24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuYmluZCBkb2N1bWVudCBrZXlib2FyZCBsaXN0ZW5lclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VuYmluZERvY3VtZW50S2V5ZG93bigpIHtcbiAgICBpZiAodGhpcy5fYm91bmRLZXlkb3duKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fYm91bmRLZXlkb3duKTtcbiAgICAgIHRoaXMuX2JvdW5kS2V5ZG93biA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBiYWNrZHJvcCBjbGlja1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVCYWNrZHJvcENsaWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMuX2JhY2tkcm9wKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnN0YXRpYykge1xuICAgICAgICB0aGlzLl9zaGFrZURyYXdlcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgc2hvdyBiYWNrZHJvcFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Nob3dCYWNrZHJvcCgpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5iYWNrZHJvcCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc05hbWUgPSAnc28tbW9kYWwtYmFja2Ryb3AnO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgIHRoaXMuX2JhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ3NvLWZhZGUnKTtcbiAgICB9XG5cbiAgICAvLyBCaW5kIGJhY2tkcm9wIGNsaWNrXG4gICAgdGhpcy5fYm91bmRCYWNrZHJvcENsaWNrID0gdGhpcy5faGFuZGxlQmFja2Ryb3BDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JhY2tkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fYm91bmRCYWNrZHJvcENsaWNrKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fYmFja2Ryb3ApO1xuXG4gICAgLy8gRm9yY2UgcmVmbG93IGZvciBhbmltYXRpb25cbiAgICB0aGlzLl9iYWNrZHJvcC5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5fYmFja2Ryb3AuY2xhc3NMaXN0LmFkZCgnc28tc2hvdycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgYW5kIHJlbW92ZSBiYWNrZHJvcFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hpZGVCYWNrZHJvcCgpIHtcbiAgICBpZiAoIXRoaXMuX2JhY2tkcm9wKSByZXR1cm47XG5cbiAgICAvLyBVbmJpbmQgYmFja2Ryb3AgY2xpY2tcbiAgICBpZiAodGhpcy5fYm91bmRCYWNrZHJvcENsaWNrKSB7XG4gICAgICB0aGlzLl9iYWNrZHJvcC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2JvdW5kQmFja2Ryb3BDbGljayk7XG4gICAgICB0aGlzLl9ib3VuZEJhY2tkcm9wQ2xpY2sgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuX2JhY2tkcm9wLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXNob3cnKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLl9iYWNrZHJvcC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9iYWNrZHJvcD8ucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYmFja2Ryb3AucmVtb3ZlKCk7XG4gICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hbmFnZSBib2R5IHNjcm9sbCBsb2NrXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9jayAtIFdoZXRoZXIgdG8gbG9jayBzY3JvbGxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9tYW5hZ2VCb2R5U2Nyb2xsKGxvY2spIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNjcm9sbCkgcmV0dXJuOyAvLyBBbGxvdyBzY3JvbGwgaWYgb3B0aW9uIGlzIHNldFxuXG4gICAgaWYgKGxvY2spIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnc28tZHJhd2VyLW9wZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB9IGVsc2UgaWYgKFNPRHJhd2VyLl9vcGVuRHJhd2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc28tZHJhd2VyLW9wZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQVUJMSUMgQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIGRyYXdlclxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBzaG93KCkge1xuICAgIGlmICh0aGlzLl9pc09wZW4pIHJldHVybiB0aGlzO1xuXG4gICAgLy8gRW1pdCBzaG93IGV2ZW50IChjYW4gYmUgcHJldmVudGVkKVxuICAgIGlmICghdGhpcy5lbWl0KFNPRHJhd2VyLkVWRU5UUy5TSE9XKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5faXNPcGVuID0gdHJ1ZTtcbiAgICB0aGlzLl9wcmV2aW91c0FjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gICAgLy8gQWRkIHRvIG9wZW4gZHJhd2VycyBzdGFja1xuICAgIFNPRHJhd2VyLl9vcGVuRHJhd2Vycy5wdXNoKHRoaXMpO1xuXG4gICAgLy8gU2hvdyBiYWNrZHJvcFxuICAgIHRoaXMuX3Nob3dCYWNrZHJvcCgpO1xuXG4gICAgLy8gTG9jayBib2R5IHNjcm9sbFxuICAgIHRoaXMuX21hbmFnZUJvZHlTY3JvbGwodHJ1ZSk7XG5cbiAgICAvLyBGb3JjZSByZWZsb3dcbiAgICB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gICAgLy8gU2hvdyBkcmF3ZXJcbiAgICB0aGlzLmFkZENsYXNzKCdzby1zaG93Jyk7XG5cbiAgICAvLyBTZXQgdXAgZm9jdXMgdHJhcFxuICAgIHRoaXMuX2ZvY3VzVHJhcENsZWFudXAgPSB0aGlzLnRyYXBGb2N1cygpO1xuXG4gICAgLy8gQmluZCBkb2N1bWVudCBrZXlib2FyZCBsaXN0ZW5lciBmb3IgRXNjYXBlXG4gICAgdGhpcy5fYmluZERvY3VtZW50S2V5ZG93bigpO1xuXG4gICAgLy8gRW1pdCBzaG93biBldmVudCBhZnRlciB0cmFuc2l0aW9uXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoU09EcmF3ZXIuRVZFTlRTLlNIT1dOKTtcbiAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbWl0KFNPRHJhd2VyLkVWRU5UUy5TSE9XTik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSB0aGUgZHJhd2VyXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgaWYgKCF0aGlzLl9pc09wZW4pIHJldHVybiB0aGlzO1xuXG4gICAgLy8gRW1pdCBoaWRlIGV2ZW50IChjYW4gYmUgcHJldmVudGVkKVxuICAgIGlmICghdGhpcy5lbWl0KFNPRHJhd2VyLkVWRU5UUy5ISURFKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG5cbiAgICAvLyBSZW1vdmUgZnJvbSBvcGVuIGRyYXdlcnMgc3RhY2tcbiAgICBjb25zdCBpbmRleCA9IFNPRHJhd2VyLl9vcGVuRHJhd2Vycy5pbmRleE9mKHRoaXMpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBTT0RyYXdlci5fb3BlbkRyYXdlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZm9jdXMgdHJhcFxuICAgIGlmICh0aGlzLl9mb2N1c1RyYXBDbGVhbnVwKSB7XG4gICAgICB0aGlzLl9mb2N1c1RyYXBDbGVhbnVwKCk7XG4gICAgICB0aGlzLl9mb2N1c1RyYXBDbGVhbnVwID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBVbmJpbmQgZG9jdW1lbnQga2V5Ym9hcmQgbGlzdGVuZXJcbiAgICB0aGlzLl91bmJpbmREb2N1bWVudEtleWRvd24oKTtcblxuICAgIC8vIEhpZGUgZHJhd2VyXG4gICAgdGhpcy5yZW1vdmVDbGFzcygnc28tc2hvdycpO1xuXG4gICAgY29uc3QgaGlkZUNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUJhY2tkcm9wKCk7XG4gICAgICB0aGlzLl9tYW5hZ2VCb2R5U2Nyb2xsKGZhbHNlKTtcblxuICAgICAgLy8gUmVzdG9yZSBmb2N1c1xuICAgICAgaWYgKHRoaXMuX3ByZXZpb3VzQWN0aXZlRWxlbWVudCAmJiB0eXBlb2YgdGhpcy5fcHJldmlvdXNBY3RpdmVFbGVtZW50LmZvY3VzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzQWN0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVtaXQoU09EcmF3ZXIuRVZFTlRTLkhJRERFTik7XG4gICAgfTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICBsZXQgY29tcGxldGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBzYWZlSGlkZUNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAoY29tcGxldGVkKSByZXR1cm47XG4gICAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGhpZGVDb21wbGV0ZSgpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzYWZlSGlkZUNvbXBsZXRlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAvLyBGYWxsYmFjayB0aW1lb3V0IGluIGNhc2UgdHJhbnNpdGlvbmVuZCBkb2Vzbid0IGZpcmVcbiAgICAgIHNldFRpbWVvdXQoc2FmZUhpZGVDb21wbGV0ZSwgMzUwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlkZUNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGRyYXdlciB2aXNpYmlsaXR5XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNPcGVuID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBkcmF3ZXIgaXMgb3BlblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gT3BlbiBzdGF0ZVxuICAgKi9cbiAgaXNPcGVuKCkge1xuICAgIHJldHVybiB0aGlzLl9pc09wZW47XG4gIH1cblxuICAvKipcbiAgICogU2V0IGRyYXdlciBib2R5IGNvbnRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd8RWxlbWVudH0gY29udGVudCAtIENvbnRlbnQgdG8gc2V0XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNldENvbnRlbnQoY29udGVudCkge1xuICAgIGlmICghdGhpcy5fYm9keSkgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLl9ib2R5LmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgfSBlbHNlIGlmIChjb250ZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgdGhpcy5fYm9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIHRoaXMuX2JvZHkuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGRyYXdlciB0aXRsZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgLSBUaXRsZSB0ZXh0XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNldFRpdGxlKHRpdGxlKSB7XG4gICAgY29uc3QgdGl0bGVFbCA9IHRoaXMuJCgnLnNvLWRyYXdlci10aXRsZScpO1xuICAgIGlmICh0aXRsZUVsKSB7XG4gICAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBzaG93IGEgZHJhd2VyIHByb2dyYW1tYXRpY2FsbHlcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBEcmF3ZXIgY29uZmlndXJhdGlvblxuICAgKiBAcmV0dXJucyB7U09EcmF3ZXJ9IERyYXdlciBpbnN0YW5jZVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICB0aXRsZSA9ICcnLFxuICAgICAgY29udGVudCA9ICcnLFxuICAgICAgcG9zaXRpb24gPSAncmlnaHQnLCAgLy8gJ2xlZnQnIG9yICdyaWdodCdcbiAgICAgIHNpemUgPSAnZGVmYXVsdCcsICAgIC8vICdzbScsICdkZWZhdWx0JywgJ2xnJywgJ3hsJ1xuICAgICAgY2xvc2FibGUgPSB0cnVlLFxuICAgICAgZm9vdGVyID0gbnVsbCxcbiAgICAgIGNsYXNzTmFtZSA9ICcnLFxuICAgICAgc3RhdGljOiBpc1N0YXRpYyA9IGZhbHNlLFxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgLy8gQnVpbGQgY2xhc3MgbGlzdFxuICAgIGNvbnN0IHBvc2l0aW9uQ2xhc3MgPSBwb3NpdGlvbiA9PT0gJ2xlZnQnID8gJ3NvLWRyYXdlci1sZWZ0JyA6ICcnO1xuICAgIGNvbnN0IHNpemVDbGFzcyA9IHNpemUgIT09ICdkZWZhdWx0JyA/IGBzby1kcmF3ZXItJHtzaXplfWAgOiAnJztcbiAgICBjb25zdCBzdGF0aWNDbGFzcyA9IGlzU3RhdGljID8gJ3NvLWRyYXdlci1zdGF0aWMnIDogJyc7XG5cbiAgICBjb25zdCBkcmF3ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkcmF3ZXIuY2xhc3NOYW1lID0gYHNvLWRyYXdlciAke3Bvc2l0aW9uQ2xhc3N9ICR7c2l6ZUNsYXNzfSAke3N0YXRpY0NsYXNzfSAke2NsYXNzTmFtZX1gLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgZHJhd2VyLnRhYkluZGV4ID0gLTE7XG5cbiAgICBpZiAoaXNTdGF0aWMpIHtcbiAgICAgIGRyYXdlci5zZXRBdHRyaWJ1dGUoJ2RhdGEtc28tc3RhdGljJywgJ3RydWUnKTtcbiAgICB9XG5cbiAgICBsZXQgZm9vdGVySHRtbCA9ICcnO1xuICAgIGlmIChmb290ZXIpIHtcbiAgICAgIGZvb3Rlckh0bWwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby1kcmF3ZXItZm9vdGVyXCI+XG4gICAgICAgICAgJHtmb290ZXJ9XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG5cbiAgICBjb25zdCBzaG93Q2xvc2VCdXR0b24gPSBjbG9zYWJsZSAmJiAhaXNTdGF0aWM7XG5cbiAgICBkcmF3ZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInNvLWRyYXdlci1oZWFkZXJcIj5cbiAgICAgICAgPGg1IGNsYXNzPVwic28tZHJhd2VyLXRpdGxlXCI+JHt0aXRsZX08L2g1PlxuICAgICAgICAke3Nob3dDbG9zZUJ1dHRvbiA/ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLWRyYXdlci1jbG9zZVwiIGRhdGEtZGlzbWlzcz1cImRyYXdlclwiPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj48L2J1dHRvbj4nIDogJyd9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzby1kcmF3ZXItYm9keVwiPlxuICAgICAgICAke2NvbnRlbnR9XG4gICAgICA8L2Rpdj5cbiAgICAgICR7Zm9vdGVySHRtbH1cbiAgICBgO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkcmF3ZXIpO1xuXG4gICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgU09EcmF3ZXIoZHJhd2VyLCB7IC4uLm9wdGlvbnMsIGFuaW1hdGlvbjogdHJ1ZSwgc3RhdGljOiBpc1N0YXRpYyB9KTtcblxuICAgIC8vIFN0b3JlIHRoZSBpbnN0YW5jZSBvbiB0aGUgZWxlbWVudFxuICAgIGRyYXdlci5fc29EcmF3ZXJJbnN0YW5jZSA9IGluc3RhbmNlO1xuXG4gICAgLy8gUmVtb3ZlIGZyb20gRE9NIHdoZW4gaGlkZGVuXG4gICAgZHJhd2VyLmFkZEV2ZW50TGlzdGVuZXIoU2l4T3JiaXQuZXZ0KFNPRHJhd2VyLkVWRU5UUy5ISURERU4pLCAoKSA9PiB7XG4gICAgICBkcmF3ZXIucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRyYXdlciBpbnN0YW5jZSBmcm9tIGVsZW1lbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fHN0cmluZ30gZWxlbWVudCAtIERPTSBlbGVtZW50IG9yIHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gLSBDb21wb25lbnQgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7U09EcmF3ZXJ9IERyYXdlciBpbnN0YW5jZVxuICAgKi9cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGVsID0gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KSA6IGVsZW1lbnQ7XG4gICAgaWYgKCFlbCkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBDaGVjayBmb3IgaW5zdGFuY2Ugc3RvcmVkIGRpcmVjdGx5IG9uIGVsZW1lbnQgKGZyb20gU09EcmF3ZXIuY3JlYXRlKCkpXG4gICAgaWYgKGVsLl9zb0RyYXdlckluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gZWwuX3NvRHJhd2VySW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLy8gRmFsbCBiYWNrIHRvIHN0YW5kYXJkIFNpeE9yYml0IGluc3RhbmNlIGxvb2t1cFxuICAgIHJldHVybiBTaXhPcmJpdC5nZXRJbnN0YW5jZShlbCwgdGhpcy5OQU1FLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGFsbCBkcmF3ZXJzIG9uIHRoZSBwYWdlXG4gICAqL1xuICBzdGF0aWMgaW5pdEFsbCgpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tZHJhd2VyW2RhdGEtc28tZHJhd2VyXScpLmZvckVhY2goZWwgPT4ge1xuICAgICAgU09EcmF3ZXIuZ2V0SW5zdGFuY2UoZWwpO1xuICAgIH0pO1xuXG4gICAgLy8gQWxzbyBzZXQgdXAgdHJpZ2dlciBidXR0b25zXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZHJhd2VyLXRvZ2dsZV0nKS5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1kcmF3ZXItdG9nZ2xlJyk7XG4gICAgICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpO1xuICAgICAgICBpZiAoZHJhd2VyKSB7XG4gICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBTT0RyYXdlci5nZXRJbnN0YW5jZShkcmF3ZXIpO1xuICAgICAgICAgIGluc3RhbmNlLnRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnRcblNPRHJhd2VyLnJlZ2lzdGVyKCk7XG5cbi8vIEV4cG9zZSB0byBnbG9iYWwgc2NvcGVcbndpbmRvdy5TT0RyYXdlciA9IFNPRHJhd2VyO1xuXG4vLyBFeHBvcnQgZm9yIEVTIG1vZHVsZXNcbmV4cG9ydCBkZWZhdWx0IFNPRHJhd2VyO1xuZXhwb3J0IHsgU09EcmF3ZXIgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgLSBSSVBQTEUgRUZGRUNUXG4vLyBNYXRlcmlhbCBEZXNpZ24gcmlwcGxlIGVmZmVjdCBmb3IgYnV0dG9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uL2NvcmUvc28tY29uZmlnLmpzJztcbmltcG9ydCBTT0NvbXBvbmVudCBmcm9tICcuLi9jb3JlL3NvLWNvbXBvbmVudC5qcyc7XG5cbi8qKlxuICogU09SaXBwbGUgLSBNYXRlcmlhbCBkZXNpZ24gcmlwcGxlIGVmZmVjdFxuICogQXV0b21hdGljYWxseSBhZGRzIHJpcHBsZSBlZmZlY3RzIHRvIGVsZW1lbnRzIHdpdGggLnNvLWJ0biBjbGFzc1xuICovXG5jbGFzcyBTT1JpcHBsZSBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAncmlwcGxlJztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgc2VsZWN0b3I6ICcuc28tYnRuJyxcbiAgICBkdXJhdGlvbjogNjAwLFxuICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM1KScsXG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgcmlwcGxlIGVmZmVjdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICAvLyBVc2UgZXZlbnQgZGVsZWdhdGlvbiBvbiBkb2N1bWVudCBmb3IgYWxsIHJpcHBsZSBlbGVtZW50c1xuICAgIHRoaXMub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2ssIGRvY3VtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVDbGljayhlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQuY2xvc2VzdCh0aGlzLm9wdGlvbnMuc2VsZWN0b3IpO1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG5cbiAgICAvLyBEb24ndCBhZGQgcmlwcGxlIHRvIGRpc2FibGVkIGJ1dHRvbnNcbiAgICBpZiAodGFyZ2V0LmRpc2FibGVkIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRpc2FibGVkJykpIHJldHVybjtcblxuICAgIHRoaXMuX2NyZWF0ZVJpcHBsZSh0YXJnZXQsIGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSByaXBwbGUgZWZmZWN0XG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRhcmdldCBlbGVtZW50XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBDbGljayBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZVJpcHBsZShlbGVtZW50LCBldmVudCkge1xuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHJpcHBsZSBzaXplIChsYXJnZXN0IG9mIHdpZHRoL2hlaWdodCB0byBlbnN1cmUgZnVsbCBjb3ZlcmFnZSlcbiAgICBjb25zdCBzaXplID0gTWF0aC5tYXgocmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGNsaWNrIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGVsZW1lbnRcbiAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCAtIHNpemUgLyAyO1xuICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3AgLSBzaXplIC8gMjtcblxuICAgIC8vIENyZWF0ZSByaXBwbGUgZWxlbWVudFxuICAgIGNvbnN0IHJpcHBsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICByaXBwbGUuY2xhc3NOYW1lID0gJ3NvLXJpcHBsZS1lZmZlY3QnO1xuICAgIHJpcHBsZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgd2lkdGg6ICR7c2l6ZX1weDtcbiAgICAgIGhlaWdodDogJHtzaXplfXB4O1xuICAgICAgbGVmdDogJHt4fXB4O1xuICAgICAgdG9wOiAke3l9cHg7XG4gICAgICBiYWNrZ3JvdW5kOiAke3RoaXMuX2dldFJpcHBsZUNvbG9yKGVsZW1lbnQpfTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICBhbmltYXRpb246IHNvLXJpcHBsZS1hbmltYXRpb24gJHt0aGlzLm9wdGlvbnMuZHVyYXRpb259bXMgZWFzZS1vdXQgZm9yd2FyZHM7XG4gICAgYDtcblxuICAgIC8vIEVuc3VyZSBlbGVtZW50IGhhcyByZWxhdGl2ZSBwb3NpdGlvbmluZ1xuICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbjtcbiAgICBpZiAocG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgb3ZlcmZsb3cgaXMgaGlkZGVuXG4gICAgZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG4gICAgLy8gQWRkIHJpcHBsZSB0byBlbGVtZW50XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChyaXBwbGUpO1xuXG4gICAgLy8gUmVtb3ZlIHJpcHBsZSBhZnRlciBhbmltYXRpb25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJpcHBsZS5yZW1vdmUoKTtcbiAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByaXBwbGUgY29sb3IgYmFzZWQgb24gZWxlbWVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUYXJnZXQgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSaXBwbGUgY29sb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRSaXBwbGVDb2xvcihlbGVtZW50KSB7XG4gICAgLy8gVXNlIGRhcmtlciByaXBwbGUgZm9yIGxpZ2h0IGJ1dHRvbnNcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWJ0bi1vdXRsaW5lJykgfHxcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWJ0bi1naG9zdCcpIHx8XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1idG4tbGlnaHQnKSkge1xuICAgICAgcmV0dXJuICdyZ2JhKDAsIDAsIDAsIDAuMSknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY29sb3I7XG4gIH1cblxuICAvKipcbiAgICogQWRkIENTUyBhbmltYXRpb24gaWYgbm90IHByZXNlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfZW5zdXJlU3R5bGVzKCkge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc28tcmlwcGxlLXN0eWxlcycpKSByZXR1cm47XG5cbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUuaWQgPSAnc28tcmlwcGxlLXN0eWxlcyc7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICBAa2V5ZnJhbWVzIHNvLXJpcHBsZS1hbmltYXRpb24ge1xuICAgICAgICB0byB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSg0KTtcbiAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxufVxuXG4vLyBFbnN1cmUgc3R5bGVzIGFyZSBhZGRlZFxuU09SaXBwbGUuX2Vuc3VyZVN0eWxlcygpO1xuXG4vLyBBdXRvLWluaXRpYWxpemUgZ2xvYmFsIHJpcHBsZSBoYW5kbGVyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBuZXcgU09SaXBwbGUoZG9jdW1lbnQuYm9keSk7XG59KTtcblxuLy8gUmVnaXN0ZXIgY29tcG9uZW50XG5TT1JpcHBsZS5yZWdpc3RlcigpO1xuXG4vLyBFeHBvc2UgdG8gZ2xvYmFsIHNjb3BlXG53aW5kb3cuU09SaXBwbGUgPSBTT1JpcHBsZTtcblxuLy8gRXhwb3J0IGZvciBFUyBtb2R1bGVzXG5leHBvcnQgZGVmYXVsdCBTT1JpcHBsZTtcbmV4cG9ydCB7IFNPUmlwcGxlIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gT1RQIElOUFVUIENPTVBPTkVOVFxuLy8gQXV0by1hZHZhbmNpbmcgT1RQL1BJTiBpbnB1dCBmaWVsZHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuXG4vKipcbiAqIFNPT3RwSW5wdXQgLSBPVFAvUElOIGlucHV0IGNvbXBvbmVudFxuICogSGFuZGxlcyBhdXRvLWFkdmFuY2UsIHBhc3RlLCBhbmQgYmFja3NwYWNlIG5hdmlnYXRpb25cbiAqL1xuY2xhc3MgU09PdHBJbnB1dCBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAnb3RwJztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgbGVuZ3RoOiA2LFxuICAgIGlucHV0U2VsZWN0b3I6ICcuc28tb3RwLWlucHV0JyxcbiAgICBhdXRvRm9jdXM6IHRydWUsXG4gICAgbnVtZXJpY09ubHk6IHRydWUsXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBDT01QTEVURTogJ290cDpjb21wbGV0ZScsXG4gICAgQ0hBTkdFOiAnb3RwOmNoYW5nZScsXG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIE9UUCBpbnB1dFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgLy8gR2V0IGFsbCBpbnB1dCBlbGVtZW50c1xuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuJCQodGhpcy5vcHRpb25zLmlucHV0U2VsZWN0b3IpO1xuXG4gICAgaWYgKHRoaXMuX2lucHV0cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIC8vIEJpbmQgZXZlbnRzXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuXG4gICAgLy8gQXV0by1mb2N1cyBmaXJzdCBpbnB1dFxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB7XG4gICAgICB0aGlzLl9pbnB1dHNbMF0/LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQsIGluZGV4KSA9PiB7XG4gICAgICAvLyBJbnB1dCBldmVudFxuICAgICAgdGhpcy5vbignaW5wdXQnLCAoZSkgPT4gdGhpcy5faGFuZGxlSW5wdXQoZSwgaW5kZXgpLCBpbnB1dCk7XG5cbiAgICAgIC8vIEtleWRvd24gZXZlbnQgKGZvciBiYWNrc3BhY2UgbmF2aWdhdGlvbilcbiAgICAgIHRoaXMub24oJ2tleWRvd24nLCAoZSkgPT4gdGhpcy5faGFuZGxlS2V5ZG93bihlLCBpbmRleCksIGlucHV0KTtcblxuICAgICAgLy8gUGFzdGUgZXZlbnRcbiAgICAgIHRoaXMub24oJ3Bhc3RlJywgKGUpID0+IHRoaXMuX2hhbmRsZVBhc3RlKGUsIGluZGV4KSwgaW5wdXQpO1xuXG4gICAgICAvLyBGb2N1cyBldmVudCAoc2VsZWN0IGNvbnRlbnQpXG4gICAgICB0aGlzLm9uKCdmb2N1cycsICgpID0+IGlucHV0LnNlbGVjdCgpLCBpbnB1dCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGlucHV0IGV2ZW50XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBJbnB1dCBldmVudFxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBJbnB1dCBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUlucHV0KGUsIGluZGV4KSB7XG4gICAgY29uc3QgaW5wdXQgPSBlLnRhcmdldDtcbiAgICBsZXQgdmFsdWUgPSBpbnB1dC52YWx1ZTtcblxuICAgIC8vIE9ubHkgYWxsb3cgZGlnaXRzIGlmIG51bWVyaWMgb25seVxuICAgIGlmICh0aGlzLm9wdGlvbnMubnVtZXJpY09ubHkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvW14wLTldL2csICcnKTtcbiAgICB9XG5cbiAgICAvLyBPbmx5IGtlZXAgZmlyc3QgY2hhcmFjdGVyXG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCAxKTtcbiAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuXG4gICAgLy8gVXBkYXRlIGZpbGxlZCBzdGF0ZVxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnZmlsbGVkJyk7XG5cbiAgICAgIC8vIE1vdmUgdG8gbmV4dCBpbnB1dFxuICAgICAgaWYgKGluZGV4IDwgdGhpcy5faW5wdXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhpcy5faW5wdXRzW2luZGV4ICsgMV0uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZmlsbGVkJyk7XG4gICAgfVxuXG4gICAgLy8gRW1pdCBjaGFuZ2UgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09PdHBJbnB1dC5FVkVOVFMuQ0hBTkdFLCB7IHZhbHVlOiB0aGlzLmdldFZhbHVlKCksIGluZGV4IH0pO1xuXG4gICAgLy8gQ2hlY2sgaWYgY29tcGxldGVcbiAgICB0aGlzLl9jaGVja0NvbXBsZXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGtleWRvd24gZXZlbnRcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gS2V5Ym9hcmQgZXZlbnRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gSW5wdXQgaW5kZXhcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlkb3duKGUsIGluZGV4KSB7XG4gICAgY29uc3QgaW5wdXQgPSBlLnRhcmdldDtcblxuICAgIC8vIEhhbmRsZSBiYWNrc3BhY2VcbiAgICBpZiAoZS5rZXkgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICBpZiAoIWlucHV0LnZhbHVlICYmIGluZGV4ID4gMCkge1xuICAgICAgICAvLyBNb3ZlIHRvIHByZXZpb3VzIGlucHV0IGFuZCBjbGVhciBpdFxuICAgICAgICBjb25zdCBwcmV2SW5wdXQgPSB0aGlzLl9pbnB1dHNbaW5kZXggLSAxXTtcbiAgICAgICAgcHJldklucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHByZXZJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdmaWxsZWQnKTtcbiAgICAgICAgcHJldklucHV0LmZvY3VzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdmaWxsZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgYXJyb3cga2V5c1xuICAgIGlmIChlLmtleSA9PT0gJ0Fycm93TGVmdCcgJiYgaW5kZXggPiAwKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9pbnB1dHNbaW5kZXggLSAxXS5mb2N1cygpO1xuICAgIH1cblxuICAgIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnICYmIGluZGV4IDwgdGhpcy5faW5wdXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2lucHV0c1tpbmRleCArIDFdLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBub24tbnVtZXJpYyBpbnB1dCBpZiBudW1lcmljIG9ubHlcbiAgICBpZiAodGhpcy5vcHRpb25zLm51bWVyaWNPbmx5ICYmXG4gICAgICAgIGUua2V5Lmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAhL1swLTldLy50ZXN0KGUua2V5KSAmJlxuICAgICAgICAhZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBhc3RlIGV2ZW50XG4gICAqIEBwYXJhbSB7Q2xpcGJvYXJkRXZlbnR9IGUgLSBQYXN0ZSBldmVudFxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFN0YXJ0aW5nIGlucHV0IGluZGV4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlUGFzdGUoZSwgc3RhcnRJbmRleCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IHBhc3RlZERhdGEgPSAoZS5jbGlwYm9hcmREYXRhIHx8IHdpbmRvdy5jbGlwYm9hcmREYXRhKS5nZXREYXRhKCd0ZXh0Jyk7XG4gICAgbGV0IGNoYXJzID0gdGhpcy5vcHRpb25zLm51bWVyaWNPbmx5XG4gICAgICA/IHBhc3RlZERhdGEucmVwbGFjZSgvW14wLTldL2csICcnKS5zcGxpdCgnJylcbiAgICAgIDogcGFzdGVkRGF0YS5zcGxpdCgnJyk7XG5cbiAgICAvLyBGaWxsIGlucHV0cyBzdGFydGluZyBmcm9tIGN1cnJlbnQgcG9zaXRpb25cbiAgICBjaGFycy5mb3JFYWNoKChjaGFyLCBpKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dEluZGV4ID0gc3RhcnRJbmRleCArIGk7XG4gICAgICBpZiAodGhpcy5faW5wdXRzW2lucHV0SW5kZXhdKSB7XG4gICAgICAgIHRoaXMuX2lucHV0c1tpbnB1dEluZGV4XS52YWx1ZSA9IGNoYXI7XG4gICAgICAgIHRoaXMuX2lucHV0c1tpbnB1dEluZGV4XS5jbGFzc0xpc3QuYWRkKCdmaWxsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEZvY3VzIG5leHQgZW1wdHkgb3IgbGFzdCBpbnB1dFxuICAgIGNvbnN0IG5leHRFbXB0eUluZGV4ID0gdGhpcy5faW5wdXRzLmZpbmRJbmRleChpbnB1dCA9PiAhaW5wdXQudmFsdWUpO1xuICAgIGlmIChuZXh0RW1wdHlJbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2lucHV0c1tuZXh0RW1wdHlJbmRleF0uZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faW5wdXRzW3RoaXMuX2lucHV0cy5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgIH1cblxuICAgIC8vIEVtaXQgY2hhbmdlIGFuZCBjaGVjayBjb21wbGV0ZVxuICAgIHRoaXMuZW1pdChTT090cElucHV0LkVWRU5UUy5DSEFOR0UsIHsgdmFsdWU6IHRoaXMuZ2V0VmFsdWUoKSB9KTtcbiAgICB0aGlzLl9jaGVja0NvbXBsZXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYWxsIGlucHV0cyBhcmUgZmlsbGVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2hlY2tDb21wbGV0ZSgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICBpZiAodmFsdWUubGVuZ3RoID09PSB0aGlzLl9pbnB1dHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmVtaXQoU09PdHBJbnB1dC5FVkVOVFMuQ09NUExFVEUsIHsgdmFsdWUgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFVCTElDIEFQSVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgT1RQIHZhbHVlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IENvbWJpbmVkIE9UUCB2YWx1ZVxuICAgKi9cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0cy5tYXAoaW5wdXQgPT4gaW5wdXQudmFsdWUpLmpvaW4oJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgT1RQIHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIE9UUCB2YWx1ZSB0byBzZXRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBjaGFycyA9IHZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoJycpO1xuXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0LCBpKSA9PiB7XG4gICAgICBjb25zdCBjaGFyID0gY2hhcnNbaV0gfHwgJyc7XG4gICAgICBpbnB1dC52YWx1ZSA9IGNoYXI7XG4gICAgICBpbnB1dC5jbGFzc0xpc3QudG9nZ2xlKCdmaWxsZWQnLCAhIWNoYXIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbWl0KFNPT3RwSW5wdXQuRVZFTlRTLkNIQU5HRSwgeyB2YWx1ZTogdGhpcy5nZXRWYWx1ZSgpIH0pO1xuICAgIHRoaXMuX2NoZWNrQ29tcGxldGUoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnB1dHNcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbGxlZCcsICdlcnJvcicpO1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvRm9jdXMpIHtcbiAgICAgIHRoaXMuX2lucHV0c1swXT8uZm9jdXMoKTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoU09PdHBJbnB1dC5FVkVOVFMuQ0hBTkdFLCB7IHZhbHVlOiAnJyB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIHRoZSBmaXJzdCBlbXB0eSBpbnB1dFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBmb2N1cygpIHtcbiAgICBjb25zdCBlbXB0eUlucHV0ID0gdGhpcy5faW5wdXRzLmZpbmQoaW5wdXQgPT4gIWlucHV0LnZhbHVlKTtcbiAgICAoZW1wdHlJbnB1dCB8fCB0aGlzLl9pbnB1dHNbMF0pPy5mb2N1cygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBlcnJvciBzdGF0ZSBvbiBpbnB1dHNcbiAgICogQHBhcmFtIHtib29sZWFufSBbaGFzRXJyb3I9dHJ1ZV0gLSBXaGV0aGVyIHRvIHNob3cgZXJyb3Igc3RhdGVcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2V0RXJyb3IoaGFzRXJyb3IgPSB0cnVlKSB7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnRvZ2dsZSgnZXJyb3InLCBoYXNFcnJvcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgT1RQIGlzIGNvbXBsZXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIGFsbCBpbnB1dHMgYXJlIGZpbGxlZFxuICAgKi9cbiAgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSgpLmxlbmd0aCA9PT0gdGhpcy5faW5wdXRzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB0aGUgT1RQIGFnYWluc3QgYSB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwZWN0ZWQgLSBFeHBlY3RlZCBPVFAgdmFsdWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgT1RQIG1hdGNoZXNcbiAgICovXG4gIHZhbGlkYXRlKGV4cGVjdGVkKSB7XG4gICAgY29uc3QgaXNWYWxpZCA9IHRoaXMuZ2V0VmFsdWUoKSA9PT0gZXhwZWN0ZWQudG9TdHJpbmcoKTtcbiAgICB0aGlzLnNldEVycm9yKCFpc1ZhbGlkKTtcbiAgICByZXR1cm4gaXNWYWxpZDtcbiAgfVxufVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnRcblNPT3RwSW5wdXQucmVnaXN0ZXIoKTtcblxuLy8gRXhwb3NlIHRvIGdsb2JhbCBzY29wZVxud2luZG93LlNPT3RwSW5wdXQgPSBTT090cElucHV0O1xuXG4vLyBFeHBvcnQgZm9yIEVTIG1vZHVsZXNcbmV4cG9ydCBkZWZhdWx0IFNPT3RwSW5wdXQ7XG5leHBvcnQgeyBTT090cElucHV0IH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gVEFCUyBDT01QT05FTlRcbi8vIE5hdmlnYXRpb24gdGFicyB3aXRoIGtleWJvYXJkIHN1cHBvcnRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuXG4vKipcbiAqIFNPVGFicyAtIFRhYiBuYXZpZ2F0aW9uIGNvbXBvbmVudFxuICogU3VwcG9ydHMgbXVsdGlwbGUgdmFyaWFudHMsIGtleWJvYXJkIG5hdmlnYXRpb24sIGFuZCBBUklBXG4gKi9cbmNsYXNzIFNPVGFicyBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAndGFicyc7XG5cbiAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgIGF1dG9BY3RpdmF0ZTogZmFsc2UsICAvLyBBY3RpdmF0ZSB0YWIgb24gZm9jdXMgKHZzIG9uIGNsaWNrL2VudGVyKVxuICAgIGFuaW1hdGlvbjogdHJ1ZSwgICAgICAvLyBVc2UgZmFkZSBhbmltYXRpb24gZm9yIHBhbmVzXG4gICAga2V5Ym9hcmQ6IHRydWUsICAgICAgIC8vIEVuYWJsZSBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAgY2xvc2FibGU6IGZhbHNlLCAgICAgIC8vIEVuYWJsZSBjbG9zYWJsZSB0YWJzXG4gICAgZHJhZ2dhYmxlOiBmYWxzZSwgICAgIC8vIEVuYWJsZSBkcmFnZ2FibGUgdGFiIHJlb3JkZXJpbmdcbiAgICBvdmVyZmxvdzogJ25vbmUnLCAgICAgLy8gT3ZlcmZsb3cgaGFuZGxpbmc6ICdzY3JvbGwnLCAnZHJvcGRvd24nLCAnd3JhcCcsICdub25lJ1xuICAgIHNjcm9sbFN0ZXA6IDE1MCwgICAgICAvLyBQaXhlbHMgdG8gc2Nyb2xsIHBlciBjbGlja1xuICAgIGNsb3NlQ29uZmlybTogbnVsbCwgICAvLyBGdW5jdGlvbiB0byBjb25maXJtIGNsb3NlOiAodGFiLCBwYW5lKSA9PiBib29sZWFuXG4gICAgb25BZGQ6IG51bGwsICAgICAgICAgIC8vIENhbGxiYWNrIHdoZW4gYWRkIGJ1dHRvbiBjbGlja2VkXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBTSE9XOiAndGFiOnNob3cnLFxuICAgIFNIT1dOOiAndGFiOnNob3duJyxcbiAgICBISURFOiAndGFiOmhpZGUnLFxuICAgIEhJRERFTjogJ3RhYjpoaWRkZW4nLFxuICAgIENMT1NFOiAndGFiOmNsb3NlJyxcbiAgICBDTE9TRUQ6ICd0YWI6Y2xvc2VkJyxcbiAgICBSRU9SREVSOiAndGFiOnJlb3JkZXInLFxuICAgIEFERDogJ3RhYjphZGQnLFxuICB9O1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIElOSVRJQUxJWkFUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIHRhYnMgY29tcG9uZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBDYWNoZSB0YWIgZWxlbWVudHNcbiAgICB0aGlzLl90YWJzID0gdGhpcy4kJCgnLnNvLXRhYicpO1xuICAgIHRoaXMuX2FjdGl2ZVRhYiA9IG51bGw7XG4gICAgdGhpcy5fYWN0aXZlUGFuZSA9IG51bGw7XG4gICAgdGhpcy5fZHJhZ2dlZFRhYiA9IG51bGw7XG5cbiAgICAvLyBGaW5kIGluaXRpYWwgYWN0aXZlIHRhYlxuICAgIHRoaXMuX2ZpbmRBY3RpdmVUYWIoKTtcblxuICAgIC8vIFNldCB1cCBBUklBIGF0dHJpYnV0ZXNcbiAgICB0aGlzLl9zZXR1cEFyaWEoKTtcblxuICAgIC8vIFNldCB1cCBjbG9zYWJsZSB0YWJzIChhZGRzIGNsb3NlIGJ1dHRvbnMpXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zYWJsZSB8fCB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby10YWJzLWNsb3NhYmxlJykpIHtcbiAgICAgIHRoaXMuX3NldHVwQ2xvc2FibGUoKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgZHJhZ2dhYmxlIHRhYnMgKGFkZHMgZHJhZyBhdHRyaWJ1dGVzKVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLXRhYnMtZHJhZ2dhYmxlJykpIHtcbiAgICAgIHRoaXMuX3NldHVwRHJhZ2dhYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIG92ZXJmbG93IGhhbmRsaW5nIChyZXN0cnVjdHVyZXMgRE9NIC0gbXVzdCBiZSBhZnRlciBjbG9zYWJsZS9kcmFnZ2FibGUpXG4gICAgaWYgKHRoaXMub3B0aW9ucy5vdmVyZmxvdyAhPT0gJ25vbmUnICYmIHRoaXMub3B0aW9ucy5vdmVyZmxvdyAhPT0gJ3dyYXAnKSB7XG4gICAgICB0aGlzLl9zZXR1cE92ZXJmbG93KCk7XG4gICAgfVxuXG4gICAgLy8gQmluZCBldmVudHMgKGFmdGVyIERPTSBpcyBmaW5hbGl6ZWQpXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgYW5kIHNldCB0aGUgaW5pdGlhbCBhY3RpdmUgdGFiXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZmluZEFjdGl2ZVRhYigpIHtcbiAgICAvLyBMb29rIGZvciBleHBsaWNpdGx5IGFjdGl2ZSB0YWJcbiAgICB0aGlzLl9hY3RpdmVUYWIgPSB0aGlzLiQoJy5zby10YWIuc28tYWN0aXZlJykgfHwgdGhpcy4kKCcuc28tdGFiW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdJyk7XG5cbiAgICAvLyBEZWZhdWx0IHRvIGZpcnN0IHRhYiBpZiBub25lIGFjdGl2ZVxuICAgIGlmICghdGhpcy5fYWN0aXZlVGFiICYmIHRoaXMuX3RhYnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fYWN0aXZlVGFiID0gdGhpcy5fdGFic1swXTtcbiAgICAgIHRoaXMuX2FjdGl2ZVRhYi5jbGFzc0xpc3QuYWRkKCdzby1hY3RpdmUnKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIGFzc29jaWF0ZWQgcGFuZVxuICAgIGlmICh0aGlzLl9hY3RpdmVUYWIpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2dldFRhYlRhcmdldCh0aGlzLl9hY3RpdmVUYWIpO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVQYW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlUGFuZSkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZVBhbmUuY2xhc3NMaXN0LmFkZCgnc28tYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVBhbmUuY2xhc3NMaXN0LmFkZCgnc28tc2hvdycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gQ2xpY2sgaGFuZGxlciBmb3IgdGFic1xuICAgIHRoaXMuZGVsZWdhdGUoJ2NsaWNrJywgJy5zby10YWInLCB0aGlzLl9oYW5kbGVUYWJDbGljay5iaW5kKHRoaXMpKTtcblxuICAgIC8vIEtleWJvYXJkIG5hdmlnYXRpb25cbiAgICBpZiAodGhpcy5vcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICB0aGlzLm9uKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvLyBBdXRvLWFjdGl2YXRlIG9uIGZvY3VzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvQWN0aXZhdGUpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUoJ2ZvY3VzJywgJy5zby10YWInLCB0aGlzLl9oYW5kbGVUYWJGb2N1cy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvLyBDbG9zZSBidXR0b24gaGFuZGxlciAtIHVzZSBkaXJlY3QgbGlzdGVuZXIgb24gZWxlbWVudCBmb3IgYnViYmxpbmdcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY2xvc2VCdG4gPSBlLnRhcmdldC5jbG9zZXN0KCcuc28tdGFiLWNsb3NlJyk7XG4gICAgICBpZiAoY2xvc2VCdG4gJiYgdGhpcy5lbGVtZW50LmNvbnRhaW5zKGNsb3NlQnRuKSkge1xuICAgICAgICB0aGlzLl9oYW5kbGVDbG9zZUNsaWNrKGUsIGNsb3NlQnRuKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFkZCBidXR0b24gaGFuZGxlclxuICAgIHRoaXMuZGVsZWdhdGUoJ2NsaWNrJywgJy5zby10YWItYWRkJywgdGhpcy5faGFuZGxlQWRkQ2xpY2suYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIEFSSUEgYXR0cmlidXRlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldHVwQXJpYSgpIHtcbiAgICAvLyBTZXQgcm9sZSBvbiBjb250YWluZXIgaWYgbm90IGFscmVhZHkgc2V0XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFibGlzdCcpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciB2ZXJ0aWNhbCBvcmllbnRhdGlvblxuICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby10YWJzLXZlcnRpY2FsJykpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtb3JpZW50YXRpb24nLCAndmVydGljYWwnKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgZWFjaCB0YWJcbiAgICB0aGlzLl90YWJzLmZvckVhY2goKHRhYiwgaW5kZXgpID0+IHtcbiAgICAgIC8vIEdlbmVyYXRlIElEIGlmIG5lZWRlZFxuICAgICAgaWYgKCF0YWIuaWQpIHtcbiAgICAgICAgdGFiLmlkID0gU2l4T3JiaXQudW5pcXVlSWQoJ3NvLXRhYicpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgcm9sZVxuICAgICAgaWYgKCF0YWIuZ2V0QXR0cmlidXRlKCdyb2xlJykpIHtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgncm9sZScsICd0YWInKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IGFyaWEtc2VsZWN0ZWRcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiID09PSB0aGlzLl9hY3RpdmVUYWI7XG4gICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcblxuICAgICAgLy8gU2V0IHRhYmluZGV4XG4gICAgICB0YWIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIGlzQWN0aXZlID8gJzAnIDogJy0xJyk7XG5cbiAgICAgIC8vIExpbmsgdG8gcGFuZVxuICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fZ2V0VGFiVGFyZ2V0KHRhYik7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHBhbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gICAgICAgIGlmIChwYW5lKSB7XG4gICAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIHBhbmUuaWQgfHwgdGFyZ2V0LnJlcGxhY2UoJyMnLCAnJykpO1xuXG4gICAgICAgICAgLy8gU2V0IHVwIHBhbmUgQVJJQVxuICAgICAgICAgIGlmICghcGFuZS5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSkge1xuICAgICAgICAgICAgcGFuZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFicGFuZWwnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFuZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScsIHRhYi5pZCk7XG4gICAgICAgICAgaWYgKCFwYW5lLmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgICAgICAgcGFuZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEVWRU5UIEhBTkRMRVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0YWIgY2xpY2tcbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIENsaWNrIGV2ZW50XG4gICAqIEBwYXJhbSB7RWxlbWVudH0gdGFiIC0gQ2xpY2tlZCB0YWIgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVRhYkNsaWNrKGUsIHRhYikge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0YWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1kaXNhYmxlZCcpIHx8IHRhYi5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9hY3RpdmF0ZVRhYih0YWIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0YWIgZm9jdXMgKGZvciBhdXRvLWFjdGl2YXRlIG1vZGUpXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBGb2N1cyBldmVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhYiAtIEZvY3VzZWQgdGFiIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVUYWJGb2N1cyhlLCB0YWIpIHtcbiAgICBpZiAodGFiLmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKSB8fCB0YWIuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYWN0aXZhdGVUYWIodGFiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgLSBLZXlib2FyZCBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUtleWRvd24oZSkge1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby10YWJzLXZlcnRpY2FsJyk7XG4gICAgY29uc3QgZW5hYmxlZFRhYnMgPSB0aGlzLl90YWJzLmZpbHRlcihcbiAgICAgIHRhYiA9PiAhdGFiLmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKSAmJiAhdGFiLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKVxuICAgICk7XG5cbiAgICBpZiAoZW5hYmxlZFRhYnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBlbmFibGVkVGFicy5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIGxldCBuZXdJbmRleCA9IGN1cnJlbnRJbmRleDtcblxuICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgIGlmICghaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCAtIDE7XG4gICAgICAgICAgaWYgKG5ld0luZGV4IDwgMCkgbmV3SW5kZXggPSBlbmFibGVkVGFicy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgaWYgKCFpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIG5ld0luZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPj0gZW5hYmxlZFRhYnMubGVuZ3RoKSBuZXdJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCAtIDE7XG4gICAgICAgICAgaWYgKG5ld0luZGV4IDwgMCkgbmV3SW5kZXggPSBlbmFibGVkVGFicy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCArIDE7XG4gICAgICAgICAgaWYgKG5ld0luZGV4ID49IGVuYWJsZWRUYWJzLmxlbmd0aCkgbmV3SW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBuZXdJbmRleCA9IDA7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdFbmQnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIG5ld0luZGV4ID0gZW5hYmxlZFRhYnMubGVuZ3RoIC0gMTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgIGNhc2UgJyAnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPj0gMCkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2YXRlVGFiKGVuYWJsZWRUYWJzW2N1cnJlbnRJbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZvY3VzIG5ldyB0YWJcbiAgICBpZiAobmV3SW5kZXggIT09IGN1cnJlbnRJbmRleCAmJiBuZXdJbmRleCA+PSAwKSB7XG4gICAgICBlbmFibGVkVGFic1tuZXdJbmRleF0uZm9jdXMoKTtcblxuICAgICAgLy8gQXV0by1hY3RpdmF0ZSBvbiBrZXlib2FyZCBuYXYgaWYgb3B0aW9uIGVuYWJsZWRcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0FjdGl2YXRlKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlVGFiKGVuYWJsZWRUYWJzW25ld0luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ0xPU0FCTEUgVEFCU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgY2xvc2FibGUgdGFic1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldHVwQ2xvc2FibGUoKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLXRhYnMtY2xvc2FibGUnKTtcblxuICAgIC8vIEFkZCBjbG9zZSBidXR0b25zIHRvIHRhYnMgdGhhdCBkb24ndCBoYXZlIHRoZW1cbiAgICB0aGlzLl90YWJzLmZvckVhY2godGFiID0+IHtcbiAgICAgIGlmICghdGFiLnF1ZXJ5U2VsZWN0b3IoJy5zby10YWItY2xvc2UnKSAmJiAhdGFiLmNsYXNzTGlzdC5jb250YWlucygnc28tdGFiLW5vLWNsb3NlJykpIHtcbiAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3NvLXRhYi1jbG9zYWJsZScpO1xuICAgICAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjbG9zZUJ0bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGNsb3NlQnRuLmNsYXNzTmFtZSA9ICdzby10YWItY2xvc2UnO1xuICAgICAgICBjbG9zZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2xvc2UgdGFiJyk7XG4gICAgICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+JztcbiAgICAgICAgdGFiLmFwcGVuZENoaWxkKGNsb3NlQnRuKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2xvc2UgYnV0dG9uIGNsaWNrXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBDbGljayBldmVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNsb3NlQnRuIC0gQ2xvc2UgYnV0dG9uIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVDbG9zZUNsaWNrKGUsIGNsb3NlQnRuKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBjb25zdCB0YWIgPSBjbG9zZUJ0bi5jbG9zZXN0KCcuc28tdGFiJyk7XG4gICAgaWYgKHRhYikge1xuICAgICAgdGhpcy5jbG9zZVRhYih0YWIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYWRkIGJ1dHRvbiBjbGlja1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBhZGRCdG4gLSBBZGQgYnV0dG9uIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVBZGRDbGljayhlLCBhZGRCdG4pIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBFbWl0IGFkZCBldmVudFxuICAgIGNvbnN0IGFkZEV2ZW50ID0gdGhpcy5fZW1pdFRhYkV2ZW50KFNPVGFicy5FVkVOVFMuQURELCB0aGlzLmVsZW1lbnQsIHt9LCB0cnVlKTtcblxuICAgIGlmIChhZGRFdmVudCAmJiB0eXBlb2YgdGhpcy5vcHRpb25zLm9uQWRkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25BZGQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRFJBR0dBQkxFIFRBQlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU2V0IHVwIGRyYWdnYWJsZSB0YWJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0dXBEcmFnZ2FibGUoKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLXRhYnMtZHJhZ2dhYmxlJyk7XG5cbiAgICB0aGlzLl90YWJzLmZvckVhY2godGFiID0+IHtcbiAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG5cbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4gdGhpcy5faGFuZGxlRHJhZ1N0YXJ0KGUsIHRhYikpO1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoZSkgPT4gdGhpcy5faGFuZGxlRHJhZ0VuZChlLCB0YWIpKTtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB0aGlzLl9oYW5kbGVEcmFnT3ZlcihlLCB0YWIpKTtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4gdGhpcy5faGFuZGxlRHJhZ0xlYXZlKGUsIHRhYikpO1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gdGhpcy5faGFuZGxlRHJvcChlLCB0YWIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgZHJhZyBzdGFydFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZURyYWdTdGFydChlLCB0YWIpIHtcbiAgICB0aGlzLl9kcmFnZ2VkVGFiID0gdGFiO1xuICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdzby1kcmFnZ2luZycpO1xuXG4gICAgLy8gU2V0IGRyYWcgZGF0YVxuICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIHRhYi5pZCB8fCAnJyk7XG5cbiAgICAvLyBTZXQgZHJhZyBpbWFnZVxuICAgIGlmIChlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UpIHtcbiAgICAgIGNvbnN0IGdob3N0ID0gdGFiLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGdob3N0LmNsYXNzTGlzdC5hZGQoJ3NvLXRhYi1kcmFnLWdob3N0Jyk7XG4gICAgICBnaG9zdC5zdHlsZS53aWR0aCA9IGAke3RhYi5vZmZzZXRXaWR0aH1weGA7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdob3N0KTtcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShnaG9zdCwgMTAsIDEwKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gZ2hvc3QucmVtb3ZlKCksIDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgZHJhZyBlbmRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVEcmFnRW5kKGUsIHRhYikge1xuICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdzby1kcmFnZ2luZycpO1xuICAgIHRoaXMuX3RhYnMuZm9yRWFjaCh0ID0+IHQuY2xhc3NMaXN0LnJlbW92ZSgnc28tZHJhZy1vdmVyJykpO1xuICAgIHRoaXMuX2RyYWdnZWRUYWIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkcmFnIG92ZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVEcmFnT3ZlcihlLCB0YWIpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcblxuICAgIGlmICh0YWIgIT09IHRoaXMuX2RyYWdnZWRUYWIpIHtcbiAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdzby1kcmFnLW92ZXInKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGRyYWcgbGVhdmVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVEcmFnTGVhdmUoZSwgdGFiKSB7XG4gICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWRyYWctb3ZlcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkcm9wXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlRHJvcChlLCB0YWIpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWRyYWctb3ZlcicpO1xuXG4gICAgaWYgKHRoaXMuX2RyYWdnZWRUYWIgJiYgdGFiICE9PSB0aGlzLl9kcmFnZ2VkVGFiKSB7XG4gICAgICAvLyBEZXRlcm1pbmUgcG9zaXRpb25cbiAgICAgIGNvbnN0IGlzVmVydGljYWwgPSB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby10YWJzLXZlcnRpY2FsJyk7XG4gICAgICBjb25zdCByZWN0ID0gdGFiLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWlkcG9pbnQgPSBpc1ZlcnRpY2FsXG4gICAgICAgID8gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDJcbiAgICAgICAgOiByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gaXNWZXJ0aWNhbFxuICAgICAgICA/IGUuY2xpZW50WSA8IG1pZHBvaW50ID8gJ2JlZm9yZScgOiAnYWZ0ZXInXG4gICAgICAgIDogZS5jbGllbnRYIDwgbWlkcG9pbnQgPyAnYmVmb3JlJyA6ICdhZnRlcic7XG5cbiAgICAgIC8vIE1vdmUgdGhlIHRhYlxuICAgICAgaWYgKHBvc2l0aW9uID09PSAnYmVmb3JlJykge1xuICAgICAgICB0YWIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5fZHJhZ2dlZFRhYiwgdGFiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhYi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLl9kcmFnZ2VkVGFiLCB0YWIubmV4dFNpYmxpbmcpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGFicyBhcnJheVxuICAgICAgdGhpcy5fdGFicyA9IHRoaXMuJCQoJy5zby10YWInKTtcblxuICAgICAgLy8gRW1pdCByZW9yZGVyIGV2ZW50XG4gICAgICB0aGlzLl9lbWl0VGFiRXZlbnQoU09UYWJzLkVWRU5UUy5SRU9SREVSLCB0aGlzLl9kcmFnZ2VkVGFiLCB7XG4gICAgICAgIG9sZEluZGV4OiB0aGlzLl90YWJzLmluZGV4T2YodGhpcy5fZHJhZ2dlZFRhYiksXG4gICAgICAgIG5ld0luZGV4OiB0aGlzLl90YWJzLmluZGV4T2YodGFiKSxcbiAgICAgICAgdGFiczogdGhpcy5fdGFicyxcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBPVkVSRkxPVyBIQU5ETElOR1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgb3ZlcmZsb3cgaGFuZGxpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXR1cE92ZXJmbG93KCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMub3ZlcmZsb3cgPT09ICdzY3JvbGwnKSB7XG4gICAgICB0aGlzLl9zZXR1cFNjcm9sbE92ZXJmbG93KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMub3ZlcmZsb3cgPT09ICdkcm9wZG93bicpIHtcbiAgICAgIHRoaXMuX3NldHVwRHJvcGRvd25PdmVyZmxvdygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgc2Nyb2xsLWJhc2VkIG92ZXJmbG93XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0dXBTY3JvbGxPdmVyZmxvdygpIHtcbiAgICAvLyBEb24ndCBhcHBseSB0byB2ZXJ0aWNhbCB0YWJzIG9yIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLXRhYnMtdmVydGljYWwnKSB8fFxuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby10YWJzLW92ZXJmbG93JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgY29udGFpbmVyIHN0cnVjdHVyZVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnc28tdGFicy1vdmVyZmxvdy1jb250YWluZXInO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ3NvLXRhYnMtc2Nyb2xsLXdyYXBwZXInO1xuXG4gICAgY29uc3QgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpbm5lci5jbGFzc05hbWUgPSAnc28tdGFicy1zY3JvbGwtaW5uZXInO1xuXG4gICAgLy8gQ3JlYXRlIHNjcm9sbCBidXR0b25zXG4gICAgY29uc3QgcHJldkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHByZXZCdG4udHlwZSA9ICdidXR0b24nO1xuICAgIHByZXZCdG4uY2xhc3NOYW1lID0gJ3NvLXRhYnMtc2Nyb2xsLWJ0biBzby10YWJzLXNjcm9sbC1wcmV2JztcbiAgICBwcmV2QnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPic7XG4gICAgcHJldkJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnU2Nyb2xsIHRhYnMgbGVmdCcpO1xuXG4gICAgY29uc3QgbmV4dEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG5leHRCdG4udHlwZSA9ICdidXR0b24nO1xuICAgIG5leHRCdG4uY2xhc3NOYW1lID0gJ3NvLXRhYnMtc2Nyb2xsLWJ0biBzby10YWJzLXNjcm9sbC1uZXh0JztcbiAgICBuZXh0QnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj4nO1xuICAgIG5leHRCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ1Njcm9sbCB0YWJzIHJpZ2h0Jyk7XG5cbiAgICAvLyBNb3ZlIHRhYnMgdG8gaW5uZXIgY29udGFpbmVyXG4gICAgQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQuY2hpbGRyZW4pLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgaW5uZXIuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH0pO1xuXG4gICAgLy8gQnVpbGQgc3RydWN0dXJlXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbm5lcik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHByZXZCdG4pO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobmV4dEJ0bik7XG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgICAvLyBBZGQgY2xhc3NcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tdGFicy1vdmVyZmxvdycpO1xuXG4gICAgLy8gU3RvcmUgcmVmZXJlbmNlc1xuICAgIHRoaXMuX3Njcm9sbElubmVyID0gaW5uZXI7XG4gICAgdGhpcy5fc2Nyb2xsUHJldiA9IHByZXZCdG47XG4gICAgdGhpcy5fc2Nyb2xsTmV4dCA9IG5leHRCdG47XG4gICAgdGhpcy5fc2Nyb2xsQ29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgLy8gQmluZCBzY3JvbGwgZXZlbnRzXG4gICAgcHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX3Njcm9sbFRhYnMoLXRoaXMub3B0aW9ucy5zY3JvbGxTdGVwKSk7XG4gICAgbmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX3Njcm9sbFRhYnModGhpcy5vcHRpb25zLnNjcm9sbFN0ZXApKTtcblxuICAgIC8vIFVwZGF0ZSBzY3JvbGwgYnV0dG9ucyBvbiBzY3JvbGxcbiAgICBpbm5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB0aGlzLl91cGRhdGVTY3JvbGxCdXR0b25zKCkpO1xuXG4gICAgLy8gSW5pdGlhbCBjaGVja1xuICAgIHRoaXMuX3VwZGF0ZVNjcm9sbEJ1dHRvbnMoKTtcblxuICAgIC8vIFdhdGNoIGZvciByZXNpemVcbiAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5fcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gdGhpcy5fdXBkYXRlU2Nyb2xsQnV0dG9ucygpKTtcbiAgICAgIHRoaXMuX3Jlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRhYnMgYnkgYW1vdW50XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBQaXhlbHMgdG8gc2Nyb2xsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2Nyb2xsVGFicyhhbW91bnQpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsSW5uZXIpIHtcbiAgICAgIHRoaXMuX3Njcm9sbElubmVyLnNjcm9sbExlZnQgKz0gYW1vdW50O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgc2Nyb2xsIGJ1dHRvbiBzdGF0ZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVTY3JvbGxCdXR0b25zKCkge1xuICAgIGlmICghdGhpcy5fc2Nyb2xsSW5uZXIpIHJldHVybjtcblxuICAgIGNvbnN0IHsgc2Nyb2xsTGVmdCwgc2Nyb2xsV2lkdGgsIGNsaWVudFdpZHRoIH0gPSB0aGlzLl9zY3JvbGxJbm5lcjtcblxuICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYW55IG92ZXJmbG93IGF0IGFsbFxuICAgIGNvbnN0IGhhc092ZXJmbG93ID0gc2Nyb2xsV2lkdGggPiBjbGllbnRXaWR0aDtcbiAgICB0aGlzLl9zY3JvbGxDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShTaXhPcmJpdC5jbHMoJ2hhcy1vdmVyZmxvdycpLCBoYXNPdmVyZmxvdyk7XG5cbiAgICAvLyBPbmx5IHVwZGF0ZSBidXR0b24gc3RhdGVzIGlmIHRoZXJlJ3Mgb3ZlcmZsb3dcbiAgICBpZiAoaGFzT3ZlcmZsb3cpIHtcbiAgICAgIGNvbnN0IGNhblNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0ID4gMDtcbiAgICAgIGNvbnN0IGNhblNjcm9sbFJpZ2h0ID0gc2Nyb2xsTGVmdCArIGNsaWVudFdpZHRoIDwgc2Nyb2xsV2lkdGggLSAxO1xuXG4gICAgICB0aGlzLl9zY3JvbGxQcmV2LmRpc2FibGVkID0gIWNhblNjcm9sbExlZnQ7XG4gICAgICB0aGlzLl9zY3JvbGxOZXh0LmRpc2FibGVkID0gIWNhblNjcm9sbFJpZ2h0O1xuXG4gICAgICB0aGlzLl9zY3JvbGxDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnc28tY2FuLXNjcm9sbC1sZWZ0JywgY2FuU2Nyb2xsTGVmdCk7XG4gICAgICB0aGlzLl9zY3JvbGxDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnc28tY2FuLXNjcm9sbC1yaWdodCcsIGNhblNjcm9sbFJpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIGRyb3Bkb3duLWJhc2VkIG92ZXJmbG93XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0dXBEcm9wZG93bk92ZXJmbG93KCkge1xuICAgIC8vIEltcGxlbWVudGF0aW9uIGZvciBkcm9wZG93biBvdmVyZmxvd1xuICAgIC8vIFRoaXMgd291bGQgaGlkZSBvdmVyZmxvd2luZyB0YWJzIGFuZCBzaG93IHRoZW0gaW4gYSBkcm9wZG93biBtZW51XG4gICAgLy8gTW9yZSBjb21wbGV4IC0gY2FuIGJlIGltcGxlbWVudGVkIGlmIG5lZWRlZFxuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCBhY3RpdmUgdGFiIGludG8gdmlld1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Njcm9sbEFjdGl2ZUludG9WaWV3KCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxJbm5lciAmJiB0aGlzLl9hY3RpdmVUYWIpIHtcbiAgICAgIGNvbnN0IHRhYlJlY3QgPSB0aGlzLl9hY3RpdmVUYWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBpbm5lclJlY3QgPSB0aGlzLl9zY3JvbGxJbm5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgaWYgKHRhYlJlY3QubGVmdCA8IGlubmVyUmVjdC5sZWZ0KSB7XG4gICAgICAgIHRoaXMuX3Njcm9sbElubmVyLnNjcm9sbExlZnQgLT0gKGlubmVyUmVjdC5sZWZ0IC0gdGFiUmVjdC5sZWZ0ICsgMjApO1xuICAgICAgfSBlbHNlIGlmICh0YWJSZWN0LnJpZ2h0ID4gaW5uZXJSZWN0LnJpZ2h0KSB7XG4gICAgICAgIHRoaXMuX3Njcm9sbElubmVyLnNjcm9sbExlZnQgKz0gKHRhYlJlY3QucmlnaHQgLSBpbm5lclJlY3QucmlnaHQgKyAyMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFJJVkFURSBNRVRIT0RTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGFyZ2V0IHNlbGVjdG9yIGZvciBhIHRhYlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhYiAtIFRhYiBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gVGFyZ2V0IHNlbGVjdG9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0VGFiVGFyZ2V0KHRhYikge1xuICAgIC8vIENoZWNrIGRhdGEgYXR0cmlidXRlXG4gICAgbGV0IHRhcmdldCA9IHRhYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tdGFyZ2V0JykgfHwgdGFiLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcblxuICAgIC8vIENoZWNrIGhyZWYgZm9yIGFuY2hvciBsaW5rc1xuICAgIGlmICghdGFyZ2V0ICYmIHRhYi50YWdOYW1lID09PSAnQScpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSB0YWIuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICBpZiAoaHJlZiAmJiBocmVmLnN0YXJ0c1dpdGgoJyMnKSAmJiBocmVmLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGFyZ2V0ID0gaHJlZjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlIGEgdGFiXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gdGFiIC0gVGFiIHRvIGFjdGl2YXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWN0aXZhdGVUYWIodGFiKSB7XG4gICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWxyZWFkeSBhY3RpdmVcbiAgICBpZiAodGFiID09PSB0aGlzLl9hY3RpdmVUYWIpIHJldHVybjtcblxuICAgIGNvbnN0IHByZXZpb3VzVGFiID0gdGhpcy5fYWN0aXZlVGFiO1xuICAgIGNvbnN0IHByZXZpb3VzUGFuZSA9IHRoaXMuX2FjdGl2ZVBhbmU7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fZ2V0VGFiVGFyZ2V0KHRhYik7XG4gICAgY29uc3QgbmV3UGFuZSA9IHRhcmdldCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KSA6IG51bGw7XG5cbiAgICAvLyBFbWl0IGhpZGUgZXZlbnQgb24gcHJldmlvdXMgdGFiIChjYW5jZWxhYmxlKVxuICAgIGlmIChwcmV2aW91c1RhYikge1xuICAgICAgY29uc3QgaGlkZUV2ZW50ID0gdGhpcy5fZW1pdFRhYkV2ZW50KFNPVGFicy5FVkVOVFMuSElERSwgcHJldmlvdXNUYWIsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogdGFiXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFoaWRlRXZlbnQpIHJldHVybjsgLy8gUHJldmVudGVkXG4gICAgfVxuXG4gICAgLy8gRW1pdCBzaG93IGV2ZW50IG9uIG5ldyB0YWIgKGNhbmNlbGFibGUpXG4gICAgY29uc3Qgc2hvd0V2ZW50ID0gdGhpcy5fZW1pdFRhYkV2ZW50KFNPVGFicy5FVkVOVFMuU0hPVywgdGFiLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1RhYlxuICAgIH0pO1xuXG4gICAgaWYgKCFzaG93RXZlbnQpIHJldHVybjsgLy8gUHJldmVudGVkXG5cbiAgICAvLyBEZWFjdGl2YXRlIHByZXZpb3VzIHRhYlxuICAgIGlmIChwcmV2aW91c1RhYikge1xuICAgICAgcHJldmlvdXNUYWIuY2xhc3NMaXN0LnJlbW92ZSgnc28tYWN0aXZlJyk7XG4gICAgICBwcmV2aW91c1RhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAnZmFsc2UnKTtcbiAgICAgIHByZXZpb3VzVGFiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB9XG5cbiAgICAvLyBEZWFjdGl2YXRlIHByZXZpb3VzIHBhbmVcbiAgICBpZiAocHJldmlvdXNQYW5lKSB7XG4gICAgICBwcmV2aW91c1BhbmUuY2xhc3NMaXN0LnJlbW92ZSgnc28tYWN0aXZlJyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICBwcmV2aW91c1BhbmUuY2xhc3NMaXN0LnJlbW92ZSgnc28tc2hvdycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFjdGl2YXRlIG5ldyB0YWJcbiAgICB0YWIuY2xhc3NMaXN0LmFkZCgnc28tYWN0aXZlJyk7XG4gICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICd0cnVlJyk7XG4gICAgdGFiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuXG4gICAgLy8gQWN0aXZhdGUgbmV3IHBhbmVcbiAgICBpZiAobmV3UGFuZSkge1xuICAgICAgbmV3UGFuZS5jbGFzc0xpc3QuYWRkKCdzby1hY3RpdmUnKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgLy8gVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBmb3IgZmFkZSBhbmltYXRpb25cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBuZXdQYW5lLmNsYXNzTGlzdC5hZGQoJ3NvLXNob3cnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGludGVybmFsIHN0YXRlXG4gICAgdGhpcy5fYWN0aXZlVGFiID0gdGFiO1xuICAgIHRoaXMuX2FjdGl2ZVBhbmUgPSBuZXdQYW5lO1xuXG4gICAgLy8gRW1pdCBoaWRkZW4gZXZlbnQgb24gcHJldmlvdXMgdGFiXG4gICAgaWYgKHByZXZpb3VzVGFiKSB7XG4gICAgICB0aGlzLl9lbWl0VGFiRXZlbnQoU09UYWJzLkVWRU5UUy5ISURERU4sIHByZXZpb3VzVGFiLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRhYlxuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIEVtaXQgc2hvd24gZXZlbnQgb24gbmV3IHRhYlxuICAgIGNvbnN0IGVtaXRTaG93biA9ICgpID0+IHtcbiAgICAgIHRoaXMuX2VtaXRUYWJFdmVudChTT1RhYnMuRVZFTlRTLlNIT1dOLCB0YWIsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNUYWJcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24gJiYgbmV3UGFuZSkge1xuICAgICAgLy8gV2FpdCBmb3IgdHJhbnNpdGlvblxuICAgICAgbmV3UGFuZS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZW1pdFNob3duLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXRTaG93bigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IGEgdGFiIGV2ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBFdmVudCBuYW1lXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gVGFyZ2V0IGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IGRldGFpbCAtIEV2ZW50IGRldGFpbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGFibGUgLSBXaGV0aGVyIGV2ZW50IGlzIGNhbmNlbGFibGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgZXZlbnQgd2FzIG5vdCBwcmV2ZW50ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9lbWl0VGFiRXZlbnQoZXZlbnROYW1lLCB0YXJnZXQsIGRldGFpbCA9IHt9LCBjYW5jZWxhYmxlID0gdHJ1ZSkge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFNpeE9yYml0LmV2dChldmVudE5hbWUpLCB7XG4gICAgICBkZXRhaWw6IHsgLi4uZGV0YWlsLCBjb21wb25lbnQ6IHRoaXMgfSxcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFVCTElDIEFQSVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBTaG93IHRhYiBieSBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUYWIgaW5kZXggKDAtYmFzZWQpXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNob3coaW5kZXgpIHtcbiAgICBjb25zdCB0YWIgPSB0aGlzLl90YWJzW2luZGV4XTtcbiAgICBpZiAodGFiICYmICF0YWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1kaXNhYmxlZCcpICYmICF0YWIuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICB0aGlzLl9hY3RpdmF0ZVRhYih0YWIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRhYiBieSB0YXJnZXQgSURcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGFyZ2V0IHBhbmUgSUQgKHdpdGggb3Igd2l0aG91dCAjKVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBzaG93QnlJZChpZCkge1xuICAgIGNvbnN0IHRhcmdldElkID0gaWQuc3RhcnRzV2l0aCgnIycpID8gaWQgOiBgIyR7aWR9YDtcbiAgICBjb25zdCB0YWIgPSB0aGlzLl90YWJzLmZpbmQodCA9PiB0aGlzLl9nZXRUYWJUYXJnZXQodCkgPT09IHRhcmdldElkKTtcbiAgICBpZiAodGFiICYmICF0YWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1kaXNhYmxlZCcpICYmICF0YWIuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICB0aGlzLl9hY3RpdmF0ZVRhYih0YWIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIG5leHQgdGFiXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIG5leHQoKSB7XG4gICAgY29uc3QgZW5hYmxlZFRhYnMgPSB0aGlzLl90YWJzLmZpbHRlcihcbiAgICAgIHRhYiA9PiAhdGFiLmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKSAmJiAhdGFiLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKVxuICAgICk7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gZW5hYmxlZFRhYnMuaW5kZXhPZih0aGlzLl9hY3RpdmVUYWIpO1xuICAgIGNvbnN0IG5leHRJbmRleCA9IChjdXJyZW50SW5kZXggKyAxKSAlIGVuYWJsZWRUYWJzLmxlbmd0aDtcbiAgICB0aGlzLl9hY3RpdmF0ZVRhYihlbmFibGVkVGFic1tuZXh0SW5kZXhdKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHByZXZpb3VzIHRhYlxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBwcmV2KCkge1xuICAgIGNvbnN0IGVuYWJsZWRUYWJzID0gdGhpcy5fdGFicy5maWx0ZXIoXG4gICAgICB0YWIgPT4gIXRhYi5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRpc2FibGVkJykgJiYgIXRhYi5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJylcbiAgICApO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGVuYWJsZWRUYWJzLmluZGV4T2YodGhpcy5fYWN0aXZlVGFiKTtcbiAgICBjb25zdCBwcmV2SW5kZXggPSBjdXJyZW50SW5kZXggLSAxIDwgMCA/IGVuYWJsZWRUYWJzLmxlbmd0aCAtIDEgOiBjdXJyZW50SW5kZXggLSAxO1xuICAgIHRoaXMuX2FjdGl2YXRlVGFiKGVuYWJsZWRUYWJzW3ByZXZJbmRleF0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGFjdGl2ZSB0YWIgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7RWxlbWVudHxudWxsfSBBY3RpdmUgdGFiIGVsZW1lbnRcbiAgICovXG4gIGdldEFjdGl2ZVRhYigpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlVGFiO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGFjdGl2ZSB0YWIgaW5kZXhcbiAgICogQHJldHVybnMge251bWJlcn0gQWN0aXZlIHRhYiBpbmRleCAoLTEgaWYgbm9uZSlcbiAgICovXG4gIGdldEFjdGl2ZUluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLl90YWJzLmluZGV4T2YodGhpcy5fYWN0aXZlVGFiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHRhYiBlbGVtZW50c1xuICAgKiBAcmV0dXJucyB7RWxlbWVudFtdfSBBcnJheSBvZiB0YWIgZWxlbWVudHNcbiAgICovXG4gIGdldFRhYnMoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLl90YWJzXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBhIHRhYlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8bnVtYmVyfSB0YWIgLSBUYWIgZWxlbWVudCBvciBpbmRleCB0byBjbG9zZVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBjbG9zZVRhYih0YWIpIHtcbiAgICAvLyBHZXQgdGFiIGVsZW1lbnQgZnJvbSBpbmRleCBpZiBudW1iZXIgcHJvdmlkZWRcbiAgICBpZiAodHlwZW9mIHRhYiA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRhYiA9IHRoaXMuX3RhYnNbdGFiXTtcbiAgICB9XG5cbiAgICBpZiAoIXRhYiB8fCAhdGhpcy5fdGFicy5pbmNsdWRlcyh0YWIpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBHZXQgcGFuZSBiZWZvcmUgY2xvc2luZ1xuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2dldFRhYlRhcmdldCh0YWIpO1xuICAgIGNvbnN0IHBhbmUgPSB0YXJnZXQgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCkgOiBudWxsO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbmZpcm0gY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5jbG9zZUNvbmZpcm0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IHRoaXMub3B0aW9ucy5jbG9zZUNvbmZpcm0odGFiLCBwYW5lKTtcbiAgICAgIGlmIChjb25maXJtZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVtaXQgY2xvc2UgZXZlbnQgKGNhbmNlbGFibGUpXG4gICAgY29uc3QgY2xvc2VFdmVudCA9IHRoaXMuX2VtaXRUYWJFdmVudChTT1RhYnMuRVZFTlRTLkNMT1NFLCB0YWIsIHsgcGFuZSB9LCB0cnVlKTtcbiAgICBpZiAoIWNsb3NlRXZlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IHdhc0FjdGl2ZSA9IHRhYiA9PT0gdGhpcy5fYWN0aXZlVGFiO1xuICAgIGNvbnN0IHRhYkluZGV4ID0gdGhpcy5fdGFicy5pbmRleE9mKHRhYik7XG5cbiAgICAvLyBSZW1vdmUgdGFiIGZyb20gRE9NXG4gICAgdGFiLnJlbW92ZSgpO1xuXG4gICAgLy8gUmVtb3ZlIHBhbmUgaWYgZXhpc3RzXG4gICAgaWYgKHBhbmUpIHtcbiAgICAgIHBhbmUucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRhYnMgYXJyYXlcbiAgICB0aGlzLl90YWJzID0gdGhpcy4kJCgnLnNvLXRhYicpO1xuXG4gICAgLy8gSWYgY2xvc2VkIHRhYiB3YXMgYWN0aXZlLCBhY3RpdmF0ZSBhZGphY2VudCB0YWJcbiAgICBpZiAod2FzQWN0aXZlICYmIHRoaXMuX3RhYnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBNYXRoLm1pbih0YWJJbmRleCwgdGhpcy5fdGFicy5sZW5ndGggLSAxKTtcbiAgICAgIHRoaXMuX2FjdGl2YXRlVGFiKHRoaXMuX3RhYnNbbmV3SW5kZXhdKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3RhYnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9hY3RpdmVUYWIgPSBudWxsO1xuICAgICAgdGhpcy5fYWN0aXZlUGFuZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gRW1pdCBjbG9zZWQgZXZlbnRcbiAgICB0aGlzLl9lbWl0VGFiRXZlbnQoU09UYWJzLkVWRU5UUy5DTE9TRUQsIHRoaXMuZWxlbWVudCwge1xuICAgICAgY2xvc2VkVGFiOiB0YWIsXG4gICAgICBjbG9zZWRQYW5lOiBwYW5lLFxuICAgICAgcmVtYWluaW5nVGFiczogdGhpcy5fdGFicy5sZW5ndGhcbiAgICB9LCBmYWxzZSk7XG5cbiAgICAvLyBVcGRhdGUgb3ZlcmZsb3cgYnV0dG9ucyBpZiBuZWVkZWRcbiAgICBpZiAodGhpcy5fc2Nyb2xsSW5uZXIpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbEJ1dHRvbnMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgdGFiIGR5bmFtaWNhbGx5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGFiIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubGFiZWwgLSBUYWIgbGFiZWwgdGV4dFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jb250ZW50IC0gUGFuZSBjb250ZW50IEhUTUxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmljb25dIC0gTWF0ZXJpYWwgaWNvbiBuYW1lXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xvc2FibGU9dHJ1ZV0gLSBXaGV0aGVyIHRhYiBpcyBjbG9zYWJsZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFjdGl2YXRlPXRydWVdIC0gV2hldGhlciB0byBhY3RpdmF0ZSB0aGUgbmV3IHRhYlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uPSdlbmQnXSAtIFBvc2l0aW9uOiAnc3RhcnQnLCAnZW5kJywgb3IgaW5kZXhcbiAgICogQHJldHVybnMge09iamVjdH0gQ3JlYXRlZCB0YWIgYW5kIHBhbmUgZWxlbWVudHNcbiAgICovXG4gIGFkZFRhYihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICBsYWJlbCA9ICdOZXcgVGFiJyxcbiAgICAgIGNvbnRlbnQgPSAnJyxcbiAgICAgIGljb24gPSBudWxsLFxuICAgICAgY2xvc2FibGUgPSB0aGlzLm9wdGlvbnMuY2xvc2FibGUsXG4gICAgICBhY3RpdmF0ZSA9IHRydWUsXG4gICAgICBwb3NpdGlvbiA9ICdlbmQnXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICAvLyBDcmVhdGUgdGFiIGVsZW1lbnRcbiAgICBjb25zdCB0YWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICB0YWIudHlwZSA9ICdidXR0b24nO1xuICAgIHRhYi5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ3RhYicpO1xuXG4gICAgLy8gQWRkIGljb24gaWYgcHJvdmlkZWRcbiAgICBsZXQgdGFiSFRNTCA9ICcnO1xuICAgIGlmIChpY29uKSB7XG4gICAgICB0YWJIVE1MICs9IGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtpY29ufTwvc3Bhbj5gO1xuICAgIH1cbiAgICB0YWJIVE1MICs9IGA8c3Bhbj4ke2xhYmVsfTwvc3Bhbj5gO1xuXG4gICAgLy8gQWRkIGNsb3NlIGJ1dHRvbiBpZiBjbG9zYWJsZVxuICAgIGlmIChjbG9zYWJsZSkge1xuICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCd0YWItY2xvc2FibGUnKSk7XG4gICAgICB0YWJIVE1MICs9IGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCd0YWItY2xvc2UnKX1cIiBhcmlhLWxhYmVsPVwiQ2xvc2UgdGFiXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPmA7XG4gICAgfVxuXG4gICAgdGFiLmlubmVySFRNTCA9IHRhYkhUTUw7XG5cbiAgICAvLyBHZW5lcmF0ZSBJRHNcbiAgICBjb25zdCB0YWJJZCA9IFNpeE9yYml0LnVuaXF1ZUlkKCdzby10YWInKTtcbiAgICBjb25zdCBwYW5lSWQgPSBTaXhPcmJpdC51bmlxdWVJZCgnc28tcGFuZScpO1xuXG4gICAgdGFiLmlkID0gdGFiSWQ7XG4gICAgdGFiLnNldEF0dHJpYnV0ZSgncm9sZScsICd0YWInKTtcbiAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgdGFiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB0YWIuc2V0QXR0cmlidXRlKCdkYXRhLXNvLXRhcmdldCcsIGAjJHtwYW5lSWR9YCk7XG4gICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIHBhbmVJZCk7XG5cbiAgICAvLyBDcmVhdGUgcGFuZSBlbGVtZW50XG4gICAgY29uc3QgcGFuZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBhbmUuaWQgPSBwYW5lSWQ7XG4gICAgcGFuZS5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ3RhYi1wYW5lJyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgIHBhbmUuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ2ZhZGUnKSk7XG4gICAgfVxuICAgIHBhbmUuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYnBhbmVsJyk7XG4gICAgcGFuZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScsIHRhYklkKTtcbiAgICBwYW5lLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIHBhbmUuaW5uZXJIVE1MID0gY29udGVudDtcblxuICAgIC8vIEZpbmQgaW5zZXJ0aW9uIHBvaW50IGZvciB0YWJcbiAgICBsZXQgaW5zZXJ0QmVmb3JlVGFiID0gbnVsbDtcbiAgICBjb25zdCB0YWJDb250YWluZXIgPSB0aGlzLl9zY3JvbGxJbm5lciB8fCB0aGlzLmVsZW1lbnQ7XG5cbiAgICAvLyBGaW5kIGFkZCBidXR0b24gaWYgZXhpc3RzIChpbnNlcnQgYmVmb3JlIGl0KVxuICAgIGNvbnN0IGFkZEJ0biA9IHRhYkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAuJHtTaXhPcmJpdC5jbHMoJ3RhYi1hZGQnKX1gKTtcblxuICAgIGlmIChwb3NpdGlvbiA9PT0gJ3N0YXJ0Jykge1xuICAgICAgaW5zZXJ0QmVmb3JlVGFiID0gdGhpcy5fdGFic1swXSB8fCBhZGRCdG47XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICAgIGluc2VydEJlZm9yZVRhYiA9IGFkZEJ0bjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwb3NpdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgIGluc2VydEJlZm9yZVRhYiA9IHRoaXMuX3RhYnNbcG9zaXRpb25dIHx8IGFkZEJ0bjtcbiAgICB9XG5cbiAgICBpZiAoaW5zZXJ0QmVmb3JlVGFiKSB7XG4gICAgICB0YWJDb250YWluZXIuaW5zZXJ0QmVmb3JlKHRhYiwgaW5zZXJ0QmVmb3JlVGFiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFiQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhYik7XG4gICAgfVxuXG4gICAgLy8gQWRkIHBhbmUgdG8gdGFiIGNvbnRlbnQgY29udGFpbmVyXG4gICAgY29uc3QgdGFiQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke1NpeE9yYml0LmNscygndGFiLWNvbnRlbnQnKX1gKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVQYW5lPy5wYXJlbnRFbGVtZW50O1xuICAgIGlmICh0YWJDb250ZW50KSB7XG4gICAgICB0YWJDb250ZW50LmFwcGVuZENoaWxkKHBhbmUpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0YWJzIGFycmF5XG4gICAgdGhpcy5fdGFicyA9IHRoaXMuJCQoJy5zby10YWInKTtcblxuICAgIC8vIFNldCB1cCBkcmFnZ2FibGUgaWYgZW5hYmxlZFxuICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoU2l4T3JiaXQuY2xzKCd0YWJzLWRyYWdnYWJsZScpKSkge1xuICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4gdGhpcy5faGFuZGxlRHJhZ1N0YXJ0KGUsIHRhYikpO1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoZSkgPT4gdGhpcy5faGFuZGxlRHJhZ0VuZChlLCB0YWIpKTtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB0aGlzLl9oYW5kbGVEcmFnT3ZlcihlLCB0YWIpKTtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4gdGhpcy5faGFuZGxlRHJhZ0xlYXZlKGUsIHRhYikpO1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gdGhpcy5faGFuZGxlRHJvcChlLCB0YWIpKTtcbiAgICB9XG5cbiAgICAvLyBFbWl0IGFkZCBldmVudFxuICAgIHRoaXMuX2VtaXRUYWJFdmVudChTT1RhYnMuRVZFTlRTLkFERCwgdGFiLCB7IHRhYiwgcGFuZSB9LCBmYWxzZSk7XG5cbiAgICAvLyBBY3RpdmF0ZSBuZXcgdGFiIGlmIHJlcXVlc3RlZFxuICAgIGlmIChhY3RpdmF0ZSkge1xuICAgICAgdGhpcy5fYWN0aXZhdGVUYWIodGFiKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgb3ZlcmZsb3cgYnV0dG9ucyBpZiBuZWVkZWRcbiAgICBpZiAodGhpcy5fc2Nyb2xsSW5uZXIpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbEJ1dHRvbnMoKTtcbiAgICAgIC8vIFNjcm9sbCBuZXcgdGFiIGludG8gdmlld1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLl9zY3JvbGxBY3RpdmVJbnRvVmlldygpLCA1MCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdGFiLCBwYW5lIH07XG4gIH1cblxuICAvKipcbiAgICogUmVmcmVzaCB0YWJzIChyZS1zY2FuIGZvciB0YWIgZWxlbWVudHMpXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5fdGFicyA9IHRoaXMuJCQoJy5zby10YWInKTtcbiAgICB0aGlzLl9zZXR1cEFyaWEoKTtcblxuICAgIC8vIFJlLXNldHVwIGNsb3NhYmxlIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NhYmxlIHx8IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoU2l4T3JiaXQuY2xzKCd0YWJzLWNsb3NhYmxlJykpKSB7XG4gICAgICB0aGlzLl9zZXR1cENsb3NhYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gUmUtc2V0dXAgZHJhZ2dhYmxlIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSB8fCB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFNpeE9yYml0LmNscygndGFicy1kcmFnZ2FibGUnKSkpIHtcbiAgICAgIHRoaXMuX3NldHVwRHJhZ2dhYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIG92ZXJmbG93IGJ1dHRvbnMgaWYgcHJlc2VudFxuICAgIGlmICh0aGlzLl9zY3JvbGxJbm5lcikge1xuICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsQnV0dG9ucygpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIGNvbXBvbmVudCBhbmQgY2xlYW4gdXBcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgLy8gQ2xlYW4gdXAgcmVzaXplIG9ic2VydmVyXG4gICAgaWYgKHRoaXMuX3Jlc2l6ZU9ic2VydmVyKSB7XG4gICAgICB0aGlzLl9yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLl9yZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2FsbCBwYXJlbnQgZGVzdHJveVxuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgfVxufVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnRcblNPVGFicy5yZWdpc3RlcigpO1xuXG4vLyBBdXRvLWluaXRpYWxpemUgdGFicyB3aXRoIGRhdGEgYXR0cmlidXRlXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBTT1RhYnMuaW5pdEFsbCgnW2RhdGEtc28tdGFic10nKTtcbn0pO1xuXG4vLyBFeHBvc2UgdG8gZ2xvYmFsIHNjb3BlXG53aW5kb3cuU09UYWJzID0gU09UYWJzO1xuXG4vLyBFeHBvcnQgZm9yIEVTIG1vZHVsZXNcbmV4cG9ydCBkZWZhdWx0IFNPVGFicztcbmV4cG9ydCB7IFNPVGFicyB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIFRPT0xUSVAgQ09NUE9ORU5UXG4vLyBKYXZhU2NyaXB0LWNvbnRyb2xsZWQgdG9vbHRpcHMgd2l0aCBzaG9ydGN1dHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuXG4vKipcbiAqIFNPVG9vbHRpcCAtIER5bmFtaWMgdG9vbHRpcCBjb21wb25lbnQgd2l0aCBrZXlib2FyZCBzaG9ydGN1dCBzdXBwb3J0XG4gKiBGZWF0dXJlczogcG9zaXRpb25zLCBjb2xvcnMsIHNpemVzLCB0aGVtZXMsIGFuaW1hdGlvbnMsIHNob3J0Y3V0cywgZXZlbnRzXG4gKi9cbmNsYXNzIFNPVG9vbHRpcCBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAndG9vbHRpcCc7XG5cbiAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHNob3J0Y3V0OiAnJyxcbiAgICBwb3NpdGlvbjogJ3RvcCcsICAgICAgICAvLyB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHRcbiAgICBjb2xvcjogJycsICAgICAgICAgICAgICAvLyBwcmltYXJ5LCBzdWNjZXNzLCBkYW5nZXIsIHdhcm5pbmcsIGluZm9cbiAgICBzaXplOiAnJywgICAgICAgICAgICAgICAvLyBzbSwgbGcgKGVtcHR5ID0gZGVmYXVsdClcbiAgICB0aGVtZTogJycsICAgICAgICAgICAgICAvLyBsaWdodCAoZW1wdHkgPSBkYXJrIGRlZmF1bHQpXG4gICAgaHRtbDogZmFsc2UsXG4gICAgYW5pbWF0aW9uOiAnc2NhbGUnLCAgICAgLy8gZmFkZSwgc2NhbGUsIHNsaWRlXG4gICAgdHJpZ2dlcjogJ2hvdmVyJywgICAgICAgLy8gaG92ZXIsIGNsaWNrLCBmb2N1cywgbWFudWFsXG4gICAgZGVsYXk6IHsgc2hvdzogMCwgaGlkZTogMCB9LFxuICAgIGF1dG9IaWRlOiAwLCAgICAgICAgICAgIC8vIEF1dG8taGlkZSBhZnRlciBYIG1zICgwID0gZGlzYWJsZWQpXG4gICAgb2Zmc2V0OiA4LFxuICAgIGNvbnRhaW5lcjogbnVsbCwgICAgICAgIC8vIEFwcGVuZCB0byBzcGVjaWZpYyBjb250YWluZXIgKGRlZmF1bHQ6IGJvZHkpXG4gICAgYXJyb3c6IHRydWUsXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBTSE9XOiAndG9vbHRpcDpzaG93JyxcbiAgICBTSE9XTjogJ3Rvb2x0aXA6c2hvd24nLFxuICAgIEhJREU6ICd0b29sdGlwOmhpZGUnLFxuICAgIEhJRERFTjogJ3Rvb2x0aXA6aGlkZGVuJyxcbiAgICBJTlNFUlQ6ICd0b29sdGlwOmluc2VydCcsXG4gICAgVVBEQVRFOiAndG9vbHRpcDp1cGRhdGUnLFxuICAgIFBPU0lUSU9OOiAndG9vbHRpcDpwb3NpdGlvbicsXG4gIH07XG5cbiAgLy8gUGxhdGZvcm0gZGV0ZWN0aW9uIGZvciBrZXlib2FyZCBzaG9ydGN1dHNcbiAgc3RhdGljIGlzTWFjID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvTWFjfGlQb2R8aVBob25lfGlQYWQvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuICAvLyBLZXkgbWFwcGluZ3MgZm9yIGRpZmZlcmVudCBwbGF0Zm9ybXNcbiAgc3RhdGljIEtFWV9NQVBTID0ge1xuICAgIG1hYzoge1xuICAgICAgJ2N0cmwnOiAnXHUyMzAzJyxcbiAgICAgICdjbWQnOiAnXHUyMzE4JyxcbiAgICAgICdjb21tYW5kJzogJ1x1MjMxOCcsXG4gICAgICAnYWx0JzogJ1x1MjMyNScsXG4gICAgICAnb3B0aW9uJzogJ1x1MjMyNScsXG4gICAgICAnc2hpZnQnOiAnXHUyMUU3JyxcbiAgICAgICdlbnRlcic6ICdcdTIxQjUnLFxuICAgICAgJ3JldHVybic6ICdcdTIxQjUnLFxuICAgICAgJ2JhY2tzcGFjZSc6ICdcdTIzMkInLFxuICAgICAgJ2RlbGV0ZSc6ICdcdTIzMjYnLFxuICAgICAgJ2RlbCc6ICdcdTIzMjYnLFxuICAgICAgJ3RhYic6ICdcdTIxRTUnLFxuICAgICAgJ2VzY2FwZSc6ICdFc2MnLFxuICAgICAgJ2VzYyc6ICdFc2MnLFxuICAgICAgJ3VwJzogJ1x1MjE5MScsXG4gICAgICAnZG93bic6ICdcdTIxOTMnLFxuICAgICAgJ2xlZnQnOiAnXHUyMTkwJyxcbiAgICAgICdyaWdodCc6ICdcdTIxOTInLFxuICAgICAgJ3NwYWNlJzogJ1x1MjQyMycsXG4gICAgfSxcbiAgICBvdGhlcjoge1xuICAgICAgJ2N0cmwnOiAnQ3RybCcsXG4gICAgICAnY21kJzogJ0N0cmwnLFxuICAgICAgJ2NvbW1hbmQnOiAnQ3RybCcsXG4gICAgICAnYWx0JzogJ0FsdCcsXG4gICAgICAnb3B0aW9uJzogJ0FsdCcsXG4gICAgICAnc2hpZnQnOiAnU2hpZnQnLFxuICAgICAgJ2VudGVyJzogJ0VudGVyJyxcbiAgICAgICdyZXR1cm4nOiAnRW50ZXInLFxuICAgICAgJ2JhY2tzcGFjZSc6ICdCYWNrc3BhY2UnLFxuICAgICAgJ2RlbGV0ZSc6ICdEZWwnLFxuICAgICAgJ2RlbCc6ICdEZWwnLFxuICAgICAgJ3RhYic6ICdUYWInLFxuICAgICAgJ2VzY2FwZSc6ICdFc2MnLFxuICAgICAgJ2VzYyc6ICdFc2MnLFxuICAgICAgJ3VwJzogJ1x1MjE5MScsXG4gICAgICAnZG93bic6ICdcdTIxOTMnLFxuICAgICAgJ2xlZnQnOiAnXHUyMTkwJyxcbiAgICAgICdyaWdodCc6ICdcdTIxOTInLFxuICAgICAgJ3NwYWNlJzogJ1NwYWNlJyxcbiAgICB9LFxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSB0b29sdGlwXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBTdGF0ZVxuICAgIHRoaXMuX2lzVmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuX3Rvb2x0aXBFbCA9IG51bGw7XG4gICAgdGhpcy5fc2hvd1RpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuX2hpZGVUaW1lb3V0ID0gbnVsbDtcbiAgICB0aGlzLl9hdXRvSGlkZVRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuX2Rpc2FibGVkID0gZmFsc2U7XG5cbiAgICAvLyBSZWFkIGRhdGEgYXR0cmlidXRlc1xuICAgIHRoaXMuX3JlYWREYXRhQXR0cmlidXRlcygpO1xuXG4gICAgLy8gR2VuZXJhdGUgdW5pcXVlIElEIGZvciBhcmlhLWRlc2NyaWJlZGJ5XG4gICAgdGhpcy5fdG9vbHRpcElkID0gU2l4T3JiaXQudW5pcXVlSWQoJ3Rvb2x0aXAnKTtcblxuICAgIC8vIEJpbmQgZXZlbnRzXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgb3B0aW9ucyBmcm9tIGRhdGEgYXR0cmlidXRlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlYWREYXRhQXR0cmlidXRlcygpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMuZWxlbWVudDtcblxuICAgIC8vIENvbnRlbnQgZnJvbSBkYXRhLXNvLXRvb2x0aXBcbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXNvLXRvb2x0aXAnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmNvbnRlbnQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tdG9vbHRpcCcpO1xuICAgIH1cblxuICAgIC8vIFNob3J0Y3V0IGZyb20gZGF0YS1zby1zaG9ydGN1dFxuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc28tc2hvcnRjdXQnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLnNob3J0Y3V0ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNvLXNob3J0Y3V0Jyk7XG4gICAgfVxuXG4gICAgLy8gUG9zaXRpb24gZnJvbSBkYXRhLXNvLXRvb2x0aXAtcG9zaXRpb25cbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXNvLXRvb2x0aXAtcG9zaXRpb24nKSkge1xuICAgICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNvLXRvb2x0aXAtcG9zaXRpb24nKTtcbiAgICB9XG5cbiAgICAvLyBDb2xvciBmcm9tIGRhdGEtc28tdG9vbHRpcC1jb2xvclxuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc28tdG9vbHRpcC1jb2xvcicpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuY29sb3IgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tdG9vbHRpcC1jb2xvcicpO1xuICAgIH1cblxuICAgIC8vIFNpemUgZnJvbSBkYXRhLXNvLXRvb2x0aXAtc2l6ZVxuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc28tdG9vbHRpcC1zaXplJykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zaXplID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNvLXRvb2x0aXAtc2l6ZScpO1xuICAgIH1cblxuICAgIC8vIFRoZW1lIGZyb20gZGF0YS1zby10b29sdGlwLXRoZW1lXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby10b29sdGlwLXRoZW1lJykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy50aGVtZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zby10b29sdGlwLXRoZW1lJyk7XG4gICAgfVxuXG4gICAgLy8gSFRNTCBmcm9tIGRhdGEtc28tdG9vbHRpcC1odG1sXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby10b29sdGlwLWh0bWwnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmh0bWwgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tdG9vbHRpcC1odG1sJykgPT09ICd0cnVlJztcbiAgICB9XG5cbiAgICAvLyBBbmltYXRpb24gZnJvbSBkYXRhLXNvLXRvb2x0aXAtYW5pbWF0aW9uXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby10b29sdGlwLWFuaW1hdGlvbicpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNvLXRvb2x0aXAtYW5pbWF0aW9uJyk7XG4gICAgfVxuXG4gICAgLy8gVHJpZ2dlciBmcm9tIGRhdGEtc28tdG9vbHRpcC10cmlnZ2VyXG4gICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zby10b29sdGlwLXRyaWdnZXInKSkge1xuICAgICAgdGhpcy5vcHRpb25zLnRyaWdnZXIgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tdG9vbHRpcC10cmlnZ2VyJyk7XG4gICAgfVxuXG4gICAgLy8gRGVsYXkgZnJvbSBkYXRhLXNvLXRvb2x0aXAtZGVsYXlcbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXNvLXRvb2x0aXAtZGVsYXknKSkge1xuICAgICAgY29uc3QgZGVsYXkgPSBwYXJzZUludChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tdG9vbHRpcC1kZWxheScpLCAxMCk7XG4gICAgICB0aGlzLm9wdGlvbnMuZGVsYXkgPSB7IHNob3c6IGRlbGF5LCBoaWRlOiBkZWxheSB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVycyBiYXNlZCBvbiB0cmlnZ2VyIHR5cGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIGNvbnN0IHRyaWdnZXIgPSB0aGlzLm9wdGlvbnMudHJpZ2dlcjtcblxuICAgIGlmICh0cmlnZ2VyID09PSAnaG92ZXInIHx8IHRyaWdnZXIgPT09ICdob3ZlciBmb2N1cycpIHtcbiAgICAgIHRoaXMub24oJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgdGhpcy5vbignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUsIHRoaXMuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgaWYgKHRyaWdnZXIgPT09ICdmb2N1cycgfHwgdHJpZ2dlciA9PT0gJ2hvdmVyIGZvY3VzJykge1xuICAgICAgdGhpcy5vbignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1cywgdGhpcy5lbGVtZW50KTtcbiAgICAgIHRoaXMub24oJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyLCB0aGlzLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmICh0cmlnZ2VyID09PSAnY2xpY2snKSB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrLCB0aGlzLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIEFsd2F5cyBsaXN0ZW4gZm9yIGVzY2FwZSBrZXlcbiAgICB0aGlzLm9uKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93biwgZG9jdW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBtb3VzZSBlbnRlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgdGhpcy5fY2xlYXJUaW1lb3V0cygpO1xuICAgIHRoaXMuX3Nob3dUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNob3coJ2hvdmVyJyk7XG4gICAgfSwgdGhpcy5vcHRpb25zLmRlbGF5LnNob3cpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBtb3VzZSBsZWF2ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5fY2xlYXJUaW1lb3V0cygpO1xuICAgIHRoaXMuX2hpZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmhpZGUoJ2hvdmVyJyk7XG4gICAgfSwgdGhpcy5vcHRpb25zLmRlbGF5LmhpZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBmb2N1c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUZvY3VzKCkge1xuICAgIHRoaXMuX2NsZWFyVGltZW91dHMoKTtcbiAgICB0aGlzLl9zaG93VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zaG93KCdmb2N1cycpO1xuICAgIH0sIHRoaXMub3B0aW9ucy5kZWxheS5zaG93KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYmx1clxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUJsdXIoKSB7XG4gICAgdGhpcy5fY2xlYXJUaW1lb3V0cygpO1xuICAgIHRoaXMuX2hpZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmhpZGUoJ2ZvY3VzJyk7XG4gICAgfSwgdGhpcy5vcHRpb25zLmRlbGF5LmhpZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBjbGlja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUNsaWNrKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLl9pc1Zpc2libGUpIHtcbiAgICAgIHRoaXMuaGlkZSgnY2xpY2snKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93KCdjbGljaycpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUga2V5ZG93biAoZXNjYXBlIHRvIGNsb3NlKVxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlkb3duKGUpIHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmIHRoaXMuX2lzVmlzaWJsZSkge1xuICAgICAgdGhpcy5oaWRlKCdlc2NhcGUnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHRpbWVvdXRzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2xlYXJUaW1lb3V0cygpIHtcbiAgICBpZiAodGhpcy5fc2hvd1RpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zaG93VGltZW91dCk7XG4gICAgICB0aGlzLl9zaG93VGltZW91dCA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLl9oaWRlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2hpZGVUaW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2F1dG9IaWRlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2F1dG9IaWRlVGltZW91dCk7XG4gICAgICB0aGlzLl9hdXRvSGlkZVRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdG9vbHRpcCBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVUb29sdGlwKCkge1xuICAgIGNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b29sdGlwLmlkID0gdGhpcy5fdG9vbHRpcElkO1xuICAgIHRvb2x0aXAuY2xhc3NOYW1lID0gdGhpcy5fZ2V0VG9vbHRpcENsYXNzZXMoKTtcbiAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgncm9sZScsICd0b29sdGlwJyk7XG4gICAgdG9vbHRpcC5pbm5lckhUTUwgPSB0aGlzLl9nZXRUb29sdGlwQ29udGVudCgpO1xuXG4gICAgcmV0dXJuIHRvb2x0aXA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRvb2x0aXAgQ1NTIGNsYXNzZXNcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRUb29sdGlwQ2xhc3NlcygpIHtcbiAgICBjb25zdCBjbGFzc2VzID0gWydzby10b29sdGlwLXBvcHVwJ107XG5cbiAgICAvLyBQb3NpdGlvblxuICAgIGNsYXNzZXMucHVzaChgc28tdG9vbHRpcC0ke3RoaXMub3B0aW9ucy5wb3NpdGlvbn1gKTtcblxuICAgIC8vIENvbG9yXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb2xvcikge1xuICAgICAgY2xhc3Nlcy5wdXNoKGBzby10b29sdGlwLSR7dGhpcy5vcHRpb25zLmNvbG9yfWApO1xuICAgIH1cblxuICAgIC8vIFNpemVcbiAgICBpZiAodGhpcy5vcHRpb25zLnNpemUpIHtcbiAgICAgIGNsYXNzZXMucHVzaChgc28tdG9vbHRpcC0ke3RoaXMub3B0aW9ucy5zaXplfWApO1xuICAgIH1cblxuICAgIC8vIFRoZW1lXG4gICAgaWYgKHRoaXMub3B0aW9ucy50aGVtZSA9PT0gJ2xpZ2h0Jykge1xuICAgICAgY2xhc3Nlcy5wdXNoKCdzby10b29sdGlwLWxpZ2h0Jyk7XG4gICAgfVxuXG4gICAgLy8gQW5pbWF0aW9uXG4gICAgY2xhc3Nlcy5wdXNoKGBzby10b29sdGlwLWFuaW1hdGUtJHt0aGlzLm9wdGlvbnMuYW5pbWF0aW9ufWApO1xuXG4gICAgLy8gQXJyb3dcbiAgICBpZiAodGhpcy5vcHRpb25zLmFycm93KSB7XG4gICAgICBjbGFzc2VzLnB1c2goJ3NvLXRvb2x0aXAtYXJyb3cnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRvb2x0aXAgaW5uZXIgY29udGVudCBIVE1MXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0VG9vbHRpcENvbnRlbnQoKSB7XG4gICAgY29uc3QgY29udGVudCA9IHRoaXMub3B0aW9ucy5jb250ZW50O1xuICAgIGNvbnN0IHNob3J0Y3V0ID0gdGhpcy5vcHRpb25zLnNob3J0Y3V0O1xuICAgIGNvbnN0IGhhc0NvbnRlbnQgPSBjb250ZW50ICYmIGNvbnRlbnQudHJpbSgpO1xuICAgIGNvbnN0IGhhc1Nob3J0Y3V0ID0gc2hvcnRjdXQgJiYgc2hvcnRjdXQudHJpbSgpO1xuXG4gICAgbGV0IGh0bWwgPSAnPGRpdiBjbGFzcz1cInNvLXRvb2x0aXAtaW5uZXJcIj4nO1xuXG4gICAgLy8gQ29udGVudFxuICAgIGlmIChoYXNDb250ZW50KSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmh0bWwpIHtcbiAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJzby10b29sdGlwLXRleHRcIj4ke2NvbnRlbnR9PC9zcGFuPmA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cInNvLXRvb2x0aXAtdGV4dFwiPiR7dGhpcy5fZXNjYXBlSHRtbChjb250ZW50KX08L3NwYW4+YDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEaXZpZGVyIGJldHdlZW4gY29udGVudCBhbmQgc2hvcnRjdXRcbiAgICBpZiAoaGFzQ29udGVudCAmJiBoYXNTaG9ydGN1dCkge1xuICAgICAgaHRtbCArPSAnPHNwYW4gY2xhc3M9XCJzby10b29sdGlwLWRpdmlkZXJcIj48L3NwYW4+JztcbiAgICB9XG5cbiAgICAvLyBTaG9ydGN1dFxuICAgIGlmIChoYXNTaG9ydGN1dCkge1xuICAgICAgaHRtbCArPSB0aGlzLl9yZW5kZXJTaG9ydGN1dChzaG9ydGN1dCk7XG4gICAgfVxuXG4gICAgaHRtbCArPSAnPC9kaXY+JztcblxuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBrZXlib2FyZCBzaG9ydGN1dCBhcyBrYmQgZWxlbWVudHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNob3J0Y3V0IC0gU2hvcnRjdXQgc3RyaW5nIChlLmcuLCBcIkN0cmwrQ1wiLCBcIkNtZCtTaGlmdCtQXCIpXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEhUTUwgc3RyaW5nXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVuZGVyU2hvcnRjdXQoc2hvcnRjdXQpIHtcbiAgICBjb25zdCBrZXlNYXAgPSBTT1Rvb2x0aXAuaXNNYWMgPyBTT1Rvb2x0aXAuS0VZX01BUFMubWFjIDogU09Ub29sdGlwLktFWV9NQVBTLm90aGVyO1xuXG4gICAgLy8gU3BsaXQgYnkgKyBhbmQgcmVuZGVyIGVhY2gga2V5XG4gICAgY29uc3Qga2V5cyA9IHNob3J0Y3V0LnNwbGl0KCcrJykubWFwKGtleSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZGlzcGxheUtleSA9IGtleU1hcFtub3JtYWxpemVkS2V5XSB8fCBrZXkudHJpbSgpO1xuICAgICAgcmV0dXJuIGA8a2JkPiR7dGhpcy5fZXNjYXBlSHRtbChkaXNwbGF5S2V5KX08L2tiZD5gO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cInNvLXRvb2x0aXAtc2hvcnRjdXRcIj4ke2tleXMuam9pbignJyl9PC9zcGFuPmA7XG4gIH1cblxuICAvKipcbiAgICogRXNjYXBlIEhUTUwgdG8gcHJldmVudCBYU1NcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2VzY2FwZUh0bWwoc3RyKSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnRleHRDb250ZW50ID0gc3RyO1xuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvc2l0aW9uIHRoZSB0b29sdGlwIHJlbGF0aXZlIHRvIHRyaWdnZXIgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Bvc2l0aW9uVG9vbHRpcCgpIHtcbiAgICBpZiAoIXRoaXMuX3Rvb2x0aXBFbCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdHJpZ2dlclJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgdG9vbHRpcFJlY3QgPSB0aGlzLl90b29sdGlwRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5vcHRpb25zLm9mZnNldDtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuXG4gICAgbGV0IHRvcCwgbGVmdDtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcblxuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIHRvcCA9IHRyaWdnZXJSZWN0LnRvcCArIHNjcm9sbFRvcCAtIHRvb2x0aXBSZWN0LmhlaWdodCAtIG9mZnNldDtcbiAgICAgICAgbGVmdCA9IHRyaWdnZXJSZWN0LmxlZnQgKyBzY3JvbGxMZWZ0ICsgKHRyaWdnZXJSZWN0LndpZHRoIC0gdG9vbHRpcFJlY3Qud2lkdGgpIC8gMjtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIHRvcCA9IHRyaWdnZXJSZWN0LmJvdHRvbSArIHNjcm9sbFRvcCArIG9mZnNldDtcbiAgICAgICAgbGVmdCA9IHRyaWdnZXJSZWN0LmxlZnQgKyBzY3JvbGxMZWZ0ICsgKHRyaWdnZXJSZWN0LndpZHRoIC0gdG9vbHRpcFJlY3Qud2lkdGgpIC8gMjtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICB0b3AgPSB0cmlnZ2VyUmVjdC50b3AgKyBzY3JvbGxUb3AgKyAodHJpZ2dlclJlY3QuaGVpZ2h0IC0gdG9vbHRpcFJlY3QuaGVpZ2h0KSAvIDI7XG4gICAgICAgIGxlZnQgPSB0cmlnZ2VyUmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCAtIHRvb2x0aXBSZWN0LndpZHRoIC0gb2Zmc2V0O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICB0b3AgPSB0cmlnZ2VyUmVjdC50b3AgKyBzY3JvbGxUb3AgKyAodHJpZ2dlclJlY3QuaGVpZ2h0IC0gdG9vbHRpcFJlY3QuaGVpZ2h0KSAvIDI7XG4gICAgICAgIGxlZnQgPSB0cmlnZ2VyUmVjdC5yaWdodCArIHNjcm9sbExlZnQgKyBvZmZzZXQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0b29sdGlwIHN0YXlzIHdpdGhpbiB2aWV3cG9ydFxuICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgIC8vIEhvcml6b250YWwgYm91bmRzXG4gICAgaWYgKGxlZnQgPCA1KSB7XG4gICAgICBsZWZ0ID0gNTtcbiAgICB9IGVsc2UgaWYgKGxlZnQgKyB0b29sdGlwUmVjdC53aWR0aCA+IHZpZXdwb3J0V2lkdGggLSA1KSB7XG4gICAgICBsZWZ0ID0gdmlld3BvcnRXaWR0aCAtIHRvb2x0aXBSZWN0LndpZHRoIC0gNTtcbiAgICB9XG5cbiAgICAvLyBWZXJ0aWNhbCBib3VuZHNcbiAgICBpZiAodG9wIDwgNSkge1xuICAgICAgdG9wID0gNTtcbiAgICB9IGVsc2UgaWYgKHRvcCArIHRvb2x0aXBSZWN0LmhlaWdodCA+IHNjcm9sbFRvcCArIHZpZXdwb3J0SGVpZ2h0IC0gNSkge1xuICAgICAgdG9wID0gc2Nyb2xsVG9wICsgdmlld3BvcnRIZWlnaHQgLSB0b29sdGlwUmVjdC5oZWlnaHQgLSA1O1xuICAgIH1cblxuICAgIHRoaXMuX3Rvb2x0aXBFbC5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xuICAgIHRoaXMuX3Rvb2x0aXBFbC5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG5cbiAgICAvLyBFbWl0IHBvc2l0aW9uIGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPVG9vbHRpcC5FVkVOVFMuUE9TSVRJT04sIHtcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgY29vcmRzOiB7IHRvcCwgbGVmdCB9LFxuICAgIH0sIHRydWUsIGZhbHNlKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBVQkxJQyBBUElcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU2hvdyB0aGUgdG9vbHRpcFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3RyaWdnZXI9J21hbnVhbCddIC0gV2hhdCB0cmlnZ2VyZWQgdGhlIHNob3dcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICBzaG93KHRyaWdnZXIgPSAnbWFudWFsJykge1xuICAgIGlmICh0aGlzLl9kaXNhYmxlZCB8fCB0aGlzLl9pc1Zpc2libGUpIHJldHVybiB0aGlzO1xuXG4gICAgLy8gQ2hlY2sgaWYgY29udGVudCBleGlzdHNcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5jb250ZW50ICYmICF0aGlzLm9wdGlvbnMuc2hvcnRjdXQpIHJldHVybiB0aGlzO1xuXG4gICAgLy8gRW1pdCBzaG93IGV2ZW50IChjYW5jZWxhYmxlKVxuICAgIGNvbnN0IHNob3dBbGxvd2VkID0gdGhpcy5lbWl0KFNPVG9vbHRpcC5FVkVOVFMuU0hPVywgeyB0cmlnZ2VyIH0sIHRydWUsIHRydWUpO1xuICAgIGlmICghc2hvd0FsbG93ZWQpIHJldHVybiB0aGlzO1xuXG4gICAgdGhpcy5faXNWaXNpYmxlID0gdHJ1ZTtcblxuICAgIC8vIENyZWF0ZSBhbmQgaW5zZXJ0IHRvb2x0aXBcbiAgICB0aGlzLl90b29sdGlwRWwgPSB0aGlzLl9jcmVhdGVUb29sdGlwKCk7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyXG4gICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmNvbnRhaW5lcilcbiAgICAgIDogZG9jdW1lbnQuYm9keTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl90b29sdGlwRWwpO1xuXG4gICAgLy8gRW1pdCBpbnNlcnQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09Ub29sdGlwLkVWRU5UUy5JTlNFUlQsIHtcbiAgICAgIHRvb2x0aXBFbDogdGhpcy5fdG9vbHRpcEVsLFxuICAgIH0sIHRydWUsIGZhbHNlKTtcblxuICAgIC8vIFNldCBhcmlhLWRlc2NyaWJlZGJ5IG9uIHRyaWdnZXJcbiAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGhpcy5fdG9vbHRpcElkKTtcblxuICAgIC8vIFBvc2l0aW9uIHRvb2x0aXAgYWNjdXJhdGVseSB3aXRob3V0IGFuaW1hdGlvbiBzaGlmdDpcbiAgICAvLyAxLiBGb3JjZSBzY2FsZSgxKSBpbW1lZGlhdGVseSAobm8gdHJhbnNpdGlvbikgdG8gZ2V0IGFjY3VyYXRlIGRpbWVuc2lvbnNcbiAgICAvLyAyLiBQb3NpdGlvbiB0aGUgdG9vbHRpcFxuICAgIC8vIDMuIFRoZW4gZW5hYmxlIGFuaW1hdGlvbiBmb3Igb3BhY2l0eVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fdG9vbHRpcEVsKSB7XG4gICAgICAgIC8vIFRlbXBvcmFyaWx5IGRpc2FibGUgdHJhbnNpdGlvbiBhbmQgZm9yY2UgZnVsbCBzY2FsZSBmb3IgYWNjdXJhdGUgbWVhc3VyZW1lbnRcbiAgICAgICAgdGhpcy5fdG9vbHRpcEVsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxKSc7XG4gICAgICAgIHRoaXMuX3Rvb2x0aXBFbC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuXG4gICAgICAgIC8vIEZvcmNlIHJlZmxvdyB0byBhcHBseSBzdHlsZXMgaW1tZWRpYXRlbHlcbiAgICAgICAgdGhpcy5fdG9vbHRpcEVsLm9mZnNldEhlaWdodDtcblxuICAgICAgICAvLyBQb3NpdGlvbiB3aXRoIGNvcnJlY3QgZnVsbC1zY2FsZSBkaW1lbnNpb25zXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uVG9vbHRpcCgpO1xuXG4gICAgICAgIC8vIFJlLWVuYWJsZSBDU1MgY29udHJvbCBhbmQgYWRkIHNob3cgY2xhc3NcbiAgICAgICAgLy8gU2luY2Ugd2UncmUgYWxyZWFkeSBhdCBzY2FsZSgxKSwgYWRkaW5nIHNvLXNob3cgd29uJ3QgY2F1c2UgdmlzdWFsIHNoaWZ0XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuX3Rvb2x0aXBFbCkge1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcEVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcEVsLnN0eWxlLnRyYW5zaXRpb24gPSAnJztcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBFbC5jbGFzc0xpc3QuYWRkKCdzby1zaG93Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEVtaXQgc2hvd24gZXZlbnQgYWZ0ZXIgdHJhbnNpdGlvblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFNPVG9vbHRpcC5FVkVOVFMuU0hPV04sIHtcbiAgICAgICAgdHJpZ2dlcixcbiAgICAgICAgdG9vbHRpcEVsOiB0aGlzLl90b29sdGlwRWwsXG4gICAgICB9LCB0cnVlLCBmYWxzZSk7XG4gICAgfSwgMTUwKTtcblxuICAgIC8vIEF1dG8taGlkZSBpZiBjb25maWd1cmVkXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvSGlkZSA+IDApIHtcbiAgICAgIHRoaXMuX2F1dG9IaWRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmhpZGUoJ2F1dG8nKTtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5hdXRvSGlkZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSB0aGUgdG9vbHRpcFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3RyaWdnZXI9J21hbnVhbCddIC0gV2hhdCB0cmlnZ2VyZWQgdGhlIGhpZGVcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICBoaWRlKHRyaWdnZXIgPSAnbWFudWFsJykge1xuICAgIGlmICghdGhpcy5faXNWaXNpYmxlKSByZXR1cm4gdGhpcztcblxuICAgIC8vIEVtaXQgaGlkZSBldmVudCAoY2FuY2VsYWJsZSlcbiAgICBjb25zdCBoaWRlQWxsb3dlZCA9IHRoaXMuZW1pdChTT1Rvb2x0aXAuRVZFTlRTLkhJREUsIHsgdHJpZ2dlciB9LCB0cnVlLCB0cnVlKTtcbiAgICBpZiAoIWhpZGVBbGxvd2VkKSByZXR1cm4gdGhpcztcblxuICAgIHRoaXMuX2NsZWFyVGltZW91dHMoKTtcbiAgICB0aGlzLl9pc1Zpc2libGUgPSBmYWxzZTtcblxuICAgIC8vIFJlbW92ZSBhcmlhLWRlc2NyaWJlZGJ5XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpO1xuXG4gICAgLy8gSGlkZSB3aXRoIGFuaW1hdGlvblxuICAgIGlmICh0aGlzLl90b29sdGlwRWwpIHtcbiAgICAgIHRoaXMuX3Rvb2x0aXBFbC5jbGFzc0xpc3QucmVtb3ZlKCdzby1zaG93Jyk7XG5cbiAgICAgIC8vIFJlbW92ZSBhZnRlciB0cmFuc2l0aW9uXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX3Rvb2x0aXBFbCkge1xuICAgICAgICAgIHRoaXMuX3Rvb2x0aXBFbC5yZW1vdmUoKTtcbiAgICAgICAgICB0aGlzLl90b29sdGlwRWwgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW1pdCBoaWRkZW4gZXZlbnRcbiAgICAgICAgdGhpcy5lbWl0KFNPVG9vbHRpcC5FVkVOVFMuSElEREVOLCB7IHRyaWdnZXIgfSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgfSwgMTUwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgdG9vbHRpcCB2aXNpYmlsaXR5XG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKi9cbiAgdG9nZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1Zpc2libGUgPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0b29sdGlwIGNvbnRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgLSBOZXcgY29udGVudFxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIHNldENvbnRlbnQoY29udGVudCkge1xuICAgIHRoaXMub3B0aW9ucy5jb250ZW50ID0gY29udGVudDtcblxuICAgIGlmICh0aGlzLl90b29sdGlwRWwpIHtcbiAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5fdG9vbHRpcEVsLnF1ZXJ5U2VsZWN0b3IoJy5zby10b29sdGlwLWlubmVyJyk7XG4gICAgICBpZiAoaW5uZXIpIHtcbiAgICAgICAgaW5uZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSB0aGlzLl9nZXRUb29sdGlwQ29udGVudCgpO1xuICAgICAgICBpbm5lci5pbm5lckhUTUwgPSB0ZW1wRGl2LmZpcnN0Q2hpbGQuaW5uZXJIVE1MO1xuICAgICAgICB0aGlzLl9wb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoU09Ub29sdGlwLkVWRU5UUy5VUERBVEUsIHtcbiAgICAgIGNvbnRlbnQ6IHRoaXMub3B0aW9ucy5jb250ZW50LFxuICAgICAgc2hvcnRjdXQ6IHRoaXMub3B0aW9ucy5zaG9ydGN1dCxcbiAgICB9LCB0cnVlLCBmYWxzZSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdG9vbHRpcCBzaG9ydGN1dFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2hvcnRjdXQgLSBOZXcgc2hvcnRjdXRcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICBzZXRTaG9ydGN1dChzaG9ydGN1dCkge1xuICAgIHRoaXMub3B0aW9ucy5zaG9ydGN1dCA9IHNob3J0Y3V0O1xuXG4gICAgaWYgKHRoaXMuX3Rvb2x0aXBFbCkge1xuICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl90b29sdGlwRWwucXVlcnlTZWxlY3RvcignLnNvLXRvb2x0aXAtaW5uZXInKTtcbiAgICAgIGlmIChpbm5lcikge1xuICAgICAgICBpbm5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IHRoaXMuX2dldFRvb2x0aXBDb250ZW50KCk7XG4gICAgICAgIGlubmVyLmlubmVySFRNTCA9IHRlbXBEaXYuZmlyc3RDaGlsZC5pbm5lckhUTUw7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZW1pdChTT1Rvb2x0aXAuRVZFTlRTLlVQREFURSwge1xuICAgICAgY29udGVudDogdGhpcy5vcHRpb25zLmNvbnRlbnQsXG4gICAgICBzaG9ydGN1dDogdGhpcy5vcHRpb25zLnNob3J0Y3V0LFxuICAgIH0sIHRydWUsIGZhbHNlKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0b29sdGlwIGNvbG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIE5ldyBjb2xvciAocHJpbWFyeSwgc3VjY2VzcywgZGFuZ2VyLCB3YXJuaW5nLCBpbmZvLCAnJylcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICBzZXRDb2xvcihjb2xvcikge1xuICAgIHRoaXMub3B0aW9ucy5jb2xvciA9IGNvbG9yO1xuXG4gICAgaWYgKHRoaXMuX3Rvb2x0aXBFbCkge1xuICAgICAgLy8gUmVtb3ZlIGV4aXN0aW5nIGNvbG9yIGNsYXNzZXNcbiAgICAgIHRoaXMuX3Rvb2x0aXBFbC5jbGFzc05hbWUgPSB0aGlzLl9nZXRUb29sdGlwQ2xhc3NlcygpO1xuICAgICAgaWYgKHRoaXMuX2lzVmlzaWJsZSkge1xuICAgICAgICB0aGlzLl90b29sdGlwRWwuY2xhc3NMaXN0LmFkZCgnc28tc2hvdycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0b29sdGlwIHBvc2l0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwb3NpdGlvbiAtIE5ldyBwb3NpdGlvbiAodG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0KVxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIHNldFBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uID0gcG9zaXRpb247XG5cbiAgICBpZiAodGhpcy5fdG9vbHRpcEVsKSB7XG4gICAgICB0aGlzLl90b29sdGlwRWwuY2xhc3NOYW1lID0gdGhpcy5fZ2V0VG9vbHRpcENsYXNzZXMoKTtcbiAgICAgIGlmICh0aGlzLl9pc1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5fdG9vbHRpcEVsLmNsYXNzTGlzdC5hZGQoJ3NvLXNob3cnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3Bvc2l0aW9uVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY2FsY3VsYXRlIHRvb2x0aXAgcG9zaXRpb25cbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICB0aGlzLl9wb3NpdGlvblRvb2x0aXAoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0b29sdGlwIGlzIHZpc2libGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc1Zpc2libGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVmlzaWJsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgdGhlIHRvb2x0aXBcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICBlbmFibGUoKSB7XG4gICAgdGhpcy5fZGlzYWJsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHRoZSB0b29sdGlwXG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKi9cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMuX2lzVmlzaWJsZSkge1xuICAgICAgdGhpcy5oaWRlKCdkaXNhYmxlJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIHRvb2x0aXAgaW5zdGFuY2VcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fY2xlYXJUaW1lb3V0cygpO1xuXG4gICAgaWYgKHRoaXMuX3Rvb2x0aXBFbCkge1xuICAgICAgdGhpcy5fdG9vbHRpcEVsLnJlbW92ZSgpO1xuICAgICAgdGhpcy5fdG9vbHRpcEVsID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG5cbiAgICBzdXBlci5kZXN0cm95KCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTVEFUSUMgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGFsbCB0b29sdGlwcyBtYXRjaGluZyBzZWxlY3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlbGVjdG9yPSdbZGF0YS1zby10b29sdGlwXSwgW2RhdGEtc28tc2hvcnRjdXRdJ10gLSBDU1Mgc2VsZWN0b3JcbiAgICogQHJldHVybnMge1NPVG9vbHRpcFtdfVxuICAgKi9cbiAgc3RhdGljIGluaXRBbGwoc2VsZWN0b3IgPSAnW2RhdGEtc28tdG9vbHRpcF0sIFtkYXRhLXNvLXNob3J0Y3V0XScpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnRzKS5tYXAoZWwgPT4gU09Ub29sdGlwLmdldEluc3RhbmNlKGVsKSk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSBhbGwgdmlzaWJsZSB0b29sdGlwc1xuICAgKi9cbiAgc3RhdGljIGhpZGVBbGwoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNvLXRvb2x0aXAtcG9wdXAuc2hvdycpLmZvckVhY2godG9vbHRpcCA9PiB7XG4gICAgICB0b29sdGlwLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXNob3cnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdG9vbHRpcC5yZW1vdmUoKSwgMTUwKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGEgdGVtcG9yYXJ5IHRvb2x0aXAgb24gYW4gZWxlbWVudCAodXNlZnVsIGZvciBmZWVkYmFjayBsaWtlIFwiQ29waWVkIVwiKVxuICAgKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBlbGVtZW50IC0gVGFyZ2V0IGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUb29sdGlwIG9wdGlvbnNcbiAgICogQHJldHVybnMge1NPVG9vbHRpcH1cbiAgICovXG4gIHN0YXRpYyBzaG93VGVtcG9yYXJ5KGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGVsID0gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KSA6IGVsZW1lbnQ7XG4gICAgaWYgKCFlbCkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBHZXQgb3IgY3JlYXRlIGluc3RhbmNlIHdpdGggdGVtcG9yYXJ5IG9wdGlvbnNcbiAgICBjb25zdCBpbnN0YW5jZSA9IFNPVG9vbHRpcC5nZXRJbnN0YW5jZShlbCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHRyaWdnZXI6ICdtYW51YWwnLFxuICAgICAgYXV0b0hpZGU6IG9wdGlvbnMuYXV0b0hpZGUgfHwgMjAwMCxcbiAgICB9KTtcblxuICAgIC8vIFVwZGF0ZSBjb250ZW50IGlmIHByb3ZpZGVkXG4gICAgaWYgKG9wdGlvbnMuY29udGVudCkge1xuICAgICAgaW5zdGFuY2Uuc2V0Q29udGVudChvcHRpb25zLmNvbnRlbnQpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnNob3J0Y3V0KSB7XG4gICAgICBpbnN0YW5jZS5zZXRTaG9ydGN1dChvcHRpb25zLnNob3J0Y3V0KTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5jb2xvcikge1xuICAgICAgaW5zdGFuY2Uuc2V0Q29sb3Iob3B0aW9ucy5jb2xvcik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgIGluc3RhbmNlLnNldFBvc2l0aW9uKG9wdGlvbnMucG9zaXRpb24pO1xuICAgIH1cblxuICAgIC8vIFNob3cgdGhlIHRvb2x0aXBcbiAgICBpbnN0YW5jZS5zaG93KCd0ZW1wb3JhcnknKTtcblxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxufVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnRcblNPVG9vbHRpcC5yZWdpc3RlcigpO1xuXG4vLyBFeHBvc2UgdG8gZ2xvYmFsIHNjb3BlXG53aW5kb3cuU09Ub29sdGlwID0gU09Ub29sdGlwO1xuXG4vLyBFeHBvcnQgZm9yIEVTIG1vZHVsZXNcbmV4cG9ydCBkZWZhdWx0IFNPVG9vbHRpcDtcbmV4cG9ydCB7IFNPVG9vbHRpcCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIENPTlRFWFQgTUVOVSBDT01QT05FTlRcbi8vIFJpZ2h0LWNsaWNrIGNvbnRleHR1YWwgbWVudSB3aXRoIHN1Ym1lbnVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vY29yZS9zby1jb25maWcuanMnO1xuaW1wb3J0IFNPQ29tcG9uZW50IGZyb20gJy4uL2NvcmUvc28tY29tcG9uZW50LmpzJztcblxuLyoqXG4gKiBTT0NvbnRleHRNZW51IC0gQ29udGV4dCBtZW51IGNvbXBvbmVudFxuICogU3VwcG9ydHMgaGVhZGVycywgZGl2aWRlcnMsIHN1Ym1lbnVzICgyIGxldmVscyksIGFuZCBmdWxsIEphdmFTY3JpcHQgQVBJXG4gKi9cbmNsYXNzIFNPQ29udGV4dE1lbnUgZXh0ZW5kcyBTT0NvbXBvbmVudCB7XG4gIHN0YXRpYyBOQU1FID0gJ2NvbnRleHRNZW51JztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgaXRlbXM6IFtdLCAgICAgICAgICAgICAgICAgICAgLy8gTWVudSBpdGVtcyBjb25maWd1cmF0aW9uXG4gICAgdHJpZ2dlcjogJ2NvbnRleHRtZW51JywgICAgICAgLy8gJ2NvbnRleHRtZW51JyBvciAnY2xpY2snXG4gICAgZGlzYWJsZWQ6IGZhbHNlLCAgICAgICAgICAgICAgLy8gRGlzYWJsZSBlbnRpcmUgbWVudVxuICAgIGNsb3NlT25TZWxlY3Q6IHRydWUsICAgICAgICAgIC8vIENsb3NlIG1lbnUgd2hlbiBpdGVtIHNlbGVjdGVkXG4gICAgY2xvc2VPbk91dHNpZGVDbGljazogdHJ1ZSwgICAgLy8gQ2xvc2Ugb24gY2xpY2sgb3V0c2lkZVxuICAgIHN1Ym1lbnVEZWxheTogMjAwLCAgICAgICAgICAgIC8vIERlbGF5IGJlZm9yZSBvcGVuaW5nIHN1Ym1lbnUgKG1zKVxuICAgIGFuaW1hdGVkOiBmYWxzZSwgICAgICAgICAgICAgIC8vIFVzZSBhbmltYXRpb24ga2V5ZnJhbWVzXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBTSE9XOiAnY29udGV4dG1lbnU6c2hvdycsXG4gICAgU0hPV046ICdjb250ZXh0bWVudTpzaG93bicsXG4gICAgSElERTogJ2NvbnRleHRtZW51OmhpZGUnLFxuICAgIEhJRERFTjogJ2NvbnRleHRtZW51OmhpZGRlbicsXG4gICAgU0VMRUNUOiAnY29udGV4dG1lbnU6c2VsZWN0JyxcbiAgICBTVUJNRU5VX1NIT1c6ICdjb250ZXh0bWVudTpzdWJtZW51OnNob3cnLFxuICAgIFNVQk1FTlVfSElERTogJ2NvbnRleHRtZW51OnN1Ym1lbnU6aGlkZScsXG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGNvbnRleHQgbWVudVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgLy8gU3RhdGVcbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IHRoaXMub3B0aW9ucy5kaXNhYmxlZDtcbiAgICB0aGlzLl90YXJnZXQgPSBudWxsOyAgICAgICAgICAgLy8gRWxlbWVudCBtZW51IGlzIGF0dGFjaGVkIHRvXG4gICAgdGhpcy5fbWVudUVsZW1lbnQgPSBudWxsOyAgICAgIC8vIFRoZSBtZW51IERPTSBlbGVtZW50XG4gICAgdGhpcy5faXRlbXMgPSBbXTsgICAgICAgICAgICAgIC8vIEludGVybmFsIGl0ZW1zIHN0b3JlXG4gICAgdGhpcy5fZ3JvdXBzID0gbmV3IE1hcCgpOyAgICAgIC8vIEdyb3VwIElEIC0+IGl0ZW0gSURzIG1hcHBpbmdcbiAgICB0aGlzLl9mb2N1c2VkSW5kZXggPSAtMTtcbiAgICB0aGlzLl9hY3RpdmVTdWJtZW51ID0gbnVsbDtcbiAgICB0aGlzLl9zdWJtZW51VGltZW91dCA9IG51bGw7XG5cbiAgICAvLyBDaGVjayBpZiBlbGVtZW50IGlzIHRoZSBtZW51IGl0c2VsZiBvciBhIHRyaWdnZXJcbiAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc28tY29udGV4dC1tZW51JykpIHtcbiAgICAgIC8vIEVsZW1lbnQgaXMgdGhlIG1lbnUgLSBmaW5kIHRyaWdnZXIgdmlhIGRhdGEgYXR0cmlidXRlXG4gICAgICB0aGlzLl9tZW51RWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgIGNvbnN0IHRyaWdnZXJJZCA9IHRoaXMuZWxlbWVudC5pZDtcbiAgICAgIGlmICh0cmlnZ2VySWQpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc28tY29udGV4dC1tZW51PVwiIyR7dHJpZ2dlcklkfVwiXWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFbGVtZW50IGlzIGEgdHJpZ2dlciAtIGZpbmQgb3IgY3JlYXRlIG1lbnVcbiAgICAgIHRoaXMuX3RhcmdldCA9IHRoaXMuZWxlbWVudDtcbiAgICAgIGNvbnN0IG1lbnVTZWxlY3RvciA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc28tY29udGV4dC1tZW51Jyk7XG4gICAgICBpZiAobWVudVNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX21lbnVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtZW51U2VsZWN0b3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJ1aWxkIGl0ZW1zIGZyb20gb3B0aW9ucyBvciBwYXJzZSBmcm9tIERPTVxuICAgIGlmICh0aGlzLm9wdGlvbnMuaXRlbXMgJiYgdGhpcy5vcHRpb25zLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX2J1aWxkRnJvbUNvbmZpZyh0aGlzLm9wdGlvbnMuaXRlbXMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fbWVudUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX3BhcnNlRnJvbURPTSgpO1xuICAgIH1cblxuICAgIC8vIEJpbmQgZXZlbnRzXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIG1lbnUgZnJvbSBjb25maWd1cmF0aW9uIGFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zIC0gSXRlbXMgY29uZmlndXJhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2J1aWxkRnJvbUNvbmZpZyhpdGVtcykge1xuICAgIGlmICghdGhpcy5fbWVudUVsZW1lbnQpIHtcbiAgICAgIC8vIENyZWF0ZSBtZW51IGVsZW1lbnRcbiAgICAgIHRoaXMuX21lbnVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9tZW51RWxlbWVudC5jbGFzc05hbWUgPSAnc28tY29udGV4dC1tZW51JztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0ZWQpIHtcbiAgICAgICAgdGhpcy5fbWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tY29udGV4dC1tZW51LWFuaW1hdGVkJyk7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX21lbnVFbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgIHRoaXMuX21lbnVFbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuX3JlbmRlckl0ZW1zKGl0ZW1zLCB0aGlzLl9tZW51RWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGl0ZW1zIHRvIGNvbnRhaW5lclxuICAgKiBAcGFyYW0ge0FycmF5fSBpdGVtcyAtIEl0ZW1zIHRvIHJlbmRlclxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRhaW5lciAtIENvbnRhaW5lciBlbGVtZW50XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbGV2ZWw9MF0gLSBOZXN0aW5nIGxldmVsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVuZGVySXRlbXMoaXRlbXMsIGNvbnRhaW5lciwgbGV2ZWwgPSAwKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1FbCA9IHRoaXMuX2NyZWF0ZUl0ZW1FbGVtZW50KGl0ZW0sIGxldmVsKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtRWwpO1xuXG4gICAgICAvLyBTdG9yZSBpdGVtIHJlZmVyZW5jZVxuICAgICAgY29uc3QgaXRlbURhdGEgPSB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIGlkOiBpdGVtLmlkIHx8IGBpdGVtLSR7bGV2ZWx9LSR7aW5kZXh9YCxcbiAgICAgICAgZWxlbWVudDogaXRlbUVsLFxuICAgICAgICBsZXZlbCxcbiAgICAgIH07XG4gICAgICB0aGlzLl9pdGVtcy5wdXNoKGl0ZW1EYXRhKTtcblxuICAgICAgLy8gVHJhY2sgZ3JvdXBzXG4gICAgICBpZiAoaXRlbS5ncm91cElkKSB7XG4gICAgICAgIGlmICghdGhpcy5fZ3JvdXBzLmhhcyhpdGVtLmdyb3VwSWQpKSB7XG4gICAgICAgICAgdGhpcy5fZ3JvdXBzLnNldChpdGVtLmdyb3VwSWQsIFtdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ncm91cHMuZ2V0KGl0ZW0uZ3JvdXBJZCkucHVzaChpdGVtRGF0YS5pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgc2luZ2xlIGl0ZW0gZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbSAtIEl0ZW0gY29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBOZXN0aW5nIGxldmVsXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fSBDcmVhdGVkIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVJdGVtRWxlbWVudChpdGVtLCBsZXZlbCkge1xuICAgIC8vIEhlYWRlclxuICAgIGlmIChpdGVtLnR5cGUgPT09ICdoZWFkZXInKSB7XG4gICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnc28tY29udGV4dC1tZW51LWhlYWRlcic7XG4gICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBpdGVtLmxhYmVsIHx8IGl0ZW0udGV4dCB8fCAnJztcbiAgICAgIGhlYWRlci5kYXRhc2V0LmlkID0gaXRlbS5pZCB8fCAnJztcbiAgICAgIHJldHVybiBoZWFkZXI7XG4gICAgfVxuXG4gICAgLy8gRGl2aWRlclxuICAgIGlmIChpdGVtLnR5cGUgPT09ICdkaXZpZGVyJykge1xuICAgICAgY29uc3QgZGl2aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2aWRlci5jbGFzc05hbWUgPSAnc28tY29udGV4dC1tZW51LWRpdmlkZXInO1xuICAgICAgcmV0dXJuIGRpdmlkZXI7XG4gICAgfVxuXG4gICAgLy8gR3JvdXAgd3JhcHBlclxuICAgIGlmIChpdGVtLnR5cGUgPT09ICdncm91cCcpIHtcbiAgICAgIGNvbnN0IGdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBncm91cC5jbGFzc05hbWUgPSAnc28tY29udGV4dC1tZW51LWdyb3VwJztcbiAgICAgIGdyb3VwLmRhdGFzZXQuZ3JvdXBJZCA9IGl0ZW0uZ3JvdXBJZCB8fCBpdGVtLmlkIHx8ICcnO1xuICAgICAgaWYgKGl0ZW0uZGlzYWJsZWQpIGdyb3VwLmNsYXNzTGlzdC5hZGQoJ3NvLWRpc2FibGVkJyk7XG5cbiAgICAgIC8vIFJlbmRlciBncm91cCBpdGVtc1xuICAgICAgaWYgKGl0ZW0uaXRlbXMgJiYgaXRlbS5pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlckl0ZW1zKGl0ZW0uaXRlbXMubWFwKGkgPT4gKHsgLi4uaSwgZ3JvdXBJZDogaXRlbS5ncm91cElkIHx8IGl0ZW0uaWQgfSkpLCBncm91cCwgbGV2ZWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIC8vIFJlZ3VsYXIgaXRlbVxuICAgIGNvbnN0IGl0ZW1FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGl0ZW1FbC5jbGFzc05hbWUgPSAnc28tY29udGV4dC1tZW51LWl0ZW0nO1xuICAgIGlmIChpdGVtLmlkKSBpdGVtRWwuZGF0YXNldC5pZCA9IGl0ZW0uaWQ7XG4gICAgaWYgKGl0ZW0uZGlzYWJsZWQpIGl0ZW1FbC5jbGFzc0xpc3QuYWRkKCdzby1kaXNhYmxlZCcpO1xuICAgIGlmIChpdGVtLmRhbmdlcikgaXRlbUVsLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdkYW5nZXInKSk7XG4gICAgaWYgKGl0ZW0uY2hlY2tlZCkgaXRlbUVsLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdjaGVja2VkJykpO1xuICAgIGlmIChpdGVtLmRhdGEpIGl0ZW1FbC5kYXRhc2V0LmRhdGEgPSBKU09OLnN0cmluZ2lmeShpdGVtLmRhdGEpO1xuXG4gICAgLy8gSGFzIHN1Ym1lbnU/XG4gICAgY29uc3QgaGFzU3VibWVudSA9IGl0ZW0uaXRlbXMgJiYgaXRlbS5pdGVtcy5sZW5ndGggPiAwICYmIGxldmVsIDwgMjtcbiAgICBpZiAoaGFzU3VibWVudSkgaXRlbUVsLmNsYXNzTGlzdC5hZGQoJ3NvLWhhcy1zdWJtZW51Jyk7XG5cbiAgICAvLyBCdWlsZCBpbm5lciBIVE1MXG4gICAgbGV0IGh0bWwgPSAnJztcblxuICAgIC8vIENoZWNrbWFyayBmb3IgY2hlY2thYmxlIGl0ZW1zXG4gICAgaWYgKGl0ZW0uY2hlY2thYmxlKSB7XG4gICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cInNvLWNvbnRleHQtbWVudS1pdGVtLWNoZWNrXCI+PHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNoZWNrPC9zcGFuPjwvc3Bhbj5gO1xuICAgIH1cblxuICAgIC8vIEljb25cbiAgICBpZiAoaXRlbS5pY29uKSB7XG4gICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cInNvLWNvbnRleHQtbWVudS1pdGVtLWljb25cIj48c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtpdGVtLmljb259PC9zcGFuPjwvc3Bhbj5gO1xuICAgIH1cblxuICAgIC8vIFRleHQvTGFiZWwgd2l0aCBvcHRpb25hbCBkZXNjcmlwdGlvblxuICAgIGlmIChpdGVtLmRlc2NyaXB0aW9uKSB7XG4gICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cInNvLWNvbnRleHQtbWVudS1pdGVtLWNvbnRlbnRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzby1jb250ZXh0LW1lbnUtaXRlbS10ZXh0XCI+JHtpdGVtLmxhYmVsIHx8IGl0ZW0udGV4dCB8fCAnJ308L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwic28tY29udGV4dC1tZW51LWl0ZW0tZGVzY3JpcHRpb25cIj4ke2l0ZW0uZGVzY3JpcHRpb259PC9zcGFuPlxuICAgICAgPC9zcGFuPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwic28tY29udGV4dC1tZW51LWl0ZW0tdGV4dFwiPiR7aXRlbS5sYWJlbCB8fCBpdGVtLnRleHQgfHwgJyd9PC9zcGFuPmA7XG4gICAgfVxuXG4gICAgLy8gS2V5Ym9hcmQgc2hvcnRjdXRcbiAgICBpZiAoaXRlbS5zaG9ydGN1dCkge1xuICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJzby1jb250ZXh0LW1lbnUtaXRlbS1zaG9ydGN1dFwiPiR7aXRlbS5zaG9ydGN1dH08L3NwYW4+YDtcbiAgICB9XG5cbiAgICAvLyBTdWJtZW51IGFycm93XG4gICAgaWYgKGhhc1N1Ym1lbnUpIHtcbiAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwic28tY29udGV4dC1tZW51LWl0ZW0tYXJyb3dcIj48c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj48L3NwYW4+YDtcbiAgICB9XG5cbiAgICBpdGVtRWwuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIC8vIENyZWF0ZSBzdWJtZW51XG4gICAgaWYgKGhhc1N1Ym1lbnUpIHtcbiAgICAgIGNvbnN0IHN1Ym1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHN1Ym1lbnUuY2xhc3NOYW1lID0gJ3NvLWNvbnRleHQtbWVudS1zdWJtZW51JztcbiAgICAgIHRoaXMuX3JlbmRlckl0ZW1zKGl0ZW0uaXRlbXMsIHN1Ym1lbnUsIGxldmVsICsgMSk7XG4gICAgICBpdGVtRWwuYXBwZW5kQ2hpbGQoc3VibWVudSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZW1FbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBpdGVtcyBmcm9tIGV4aXN0aW5nIERPTVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BhcnNlRnJvbURPTSgpIHtcbiAgICBpZiAoIXRoaXMuX21lbnVFbGVtZW50KSByZXR1cm47XG5cbiAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5fbWVudUVsZW1lbnQuY2hpbGRyZW47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbCA9IGNoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX3BhcnNlSXRlbUVsZW1lbnQoZWwsIDAsIGkpO1xuICAgICAgaWYgKGl0ZW0pIHRoaXMuX2l0ZW1zLnB1c2goaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIGEgc2luZ2xlIGl0ZW0gZWxlbWVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIC0gSXRlbSBlbGVtZW50XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIE5lc3RpbmcgbGV2ZWxcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gSXRlbSBpbmRleFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IFBhcnNlZCBpdGVtIGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wYXJzZUl0ZW1FbGVtZW50KGVsLCBsZXZlbCwgaW5kZXgpIHtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1jb250ZXh0LW1lbnUtaGVhZGVyJykpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBlbC5kYXRhc2V0LmlkIHx8IGBoZWFkZXItJHtsZXZlbH0tJHtpbmRleH1gLFxuICAgICAgICB0eXBlOiAnaGVhZGVyJyxcbiAgICAgICAgbGFiZWw6IGVsLnRleHRDb250ZW50LnRyaW0oKSxcbiAgICAgICAgZWxlbWVudDogZWwsXG4gICAgICAgIGxldmVsLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1jb250ZXh0LW1lbnUtZGl2aWRlcicpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogYGRpdmlkZXItJHtsZXZlbH0tJHtpbmRleH1gLFxuICAgICAgICB0eXBlOiAnZGl2aWRlcicsXG4gICAgICAgIGVsZW1lbnQ6IGVsLFxuICAgICAgICBsZXZlbCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnc28tY29udGV4dC1tZW51LWdyb3VwJykpIHtcbiAgICAgIGNvbnN0IGdyb3VwSWQgPSBlbC5kYXRhc2V0Lmdyb3VwSWQgfHwgYGdyb3VwLSR7aW5kZXh9YDtcbiAgICAgIGNvbnN0IGdyb3VwSXRlbXMgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZEl0ZW0gPSB0aGlzLl9wYXJzZUl0ZW1FbGVtZW50KGVsLmNoaWxkcmVuW2ldLCBsZXZlbCwgaSk7XG4gICAgICAgIGlmIChjaGlsZEl0ZW0pIHtcbiAgICAgICAgICBjaGlsZEl0ZW0uZ3JvdXBJZCA9IGdyb3VwSWQ7XG4gICAgICAgICAgZ3JvdXBJdGVtcy5wdXNoKGNoaWxkSXRlbSk7XG4gICAgICAgICAgdGhpcy5faXRlbXMucHVzaChjaGlsZEl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2dyb3Vwcy5zZXQoZ3JvdXBJZCwgZ3JvdXBJdGVtcy5tYXAoaSA9PiBpLmlkKSk7XG5cbiAgICAgIHJldHVybiBudWxsOyAvLyBHcm91cCBpdHNlbGYgaXMgbm90IHN0b3JlZCBhcyBpdGVtXG4gICAgfVxuXG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnc28tY29udGV4dC1tZW51LWl0ZW0nKSkge1xuICAgICAgY29uc3QgdGV4dEVsID0gZWwucXVlcnlTZWxlY3RvcignLnNvLWNvbnRleHQtbWVudS1pdGVtLXRleHQnKTtcbiAgICAgIGNvbnN0IGljb25FbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zby1jb250ZXh0LW1lbnUtaXRlbS1pY29uIC5tYXRlcmlhbC1pY29ucycpO1xuICAgICAgY29uc3Qgc2hvcnRjdXRFbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zby1jb250ZXh0LW1lbnUtaXRlbS1zaG9ydGN1dCcpO1xuICAgICAgY29uc3Qgc3VibWVudUVsID0gZWwucXVlcnlTZWxlY3RvcignLnNvLWNvbnRleHQtbWVudS1zdWJtZW51Jyk7XG5cbiAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgIGlkOiBlbC5kYXRhc2V0LmlkIHx8IGBpdGVtLSR7bGV2ZWx9LSR7aW5kZXh9YCxcbiAgICAgICAgdHlwZTogJ2l0ZW0nLFxuICAgICAgICBsYWJlbDogdGV4dEVsID8gdGV4dEVsLnRleHRDb250ZW50LnRyaW0oKSA6IGVsLnRleHRDb250ZW50LnRyaW0oKSxcbiAgICAgICAgaWNvbjogaWNvbkVsID8gaWNvbkVsLnRleHRDb250ZW50LnRyaW0oKSA6IG51bGwsXG4gICAgICAgIHNob3J0Y3V0OiBzaG9ydGN1dEVsID8gc2hvcnRjdXRFbC50ZXh0Q29udGVudC50cmltKCkgOiBudWxsLFxuICAgICAgICBkaXNhYmxlZDogZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1kaXNhYmxlZCcpLFxuICAgICAgICBkYW5nZXI6IGVsLmNsYXNzTGlzdC5jb250YWlucyhTaXhPcmJpdC5jbHMoJ2RhbmdlcicpKSxcbiAgICAgICAgY2hlY2tlZDogZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFNpeE9yYml0LmNscygnY2hlY2tlZCcpKSxcbiAgICAgICAgZGF0YTogZWwuZGF0YXNldC5kYXRhID8gSlNPTi5wYXJzZShlbC5kYXRhc2V0LmRhdGEpIDoge30sXG4gICAgICAgIGVsZW1lbnQ6IGVsLFxuICAgICAgICBsZXZlbCxcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgfTtcblxuICAgICAgLy8gUGFyc2Ugc3VibWVudSBpdGVtc1xuICAgICAgaWYgKHN1Ym1lbnVFbCAmJiBsZXZlbCA8IDIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJtZW51RWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBzdWJJdGVtID0gdGhpcy5fcGFyc2VJdGVtRWxlbWVudChzdWJtZW51RWwuY2hpbGRyZW5baV0sIGxldmVsICsgMSwgaSk7XG4gICAgICAgICAgaWYgKHN1Ykl0ZW0pIGl0ZW0uaXRlbXMucHVzaChzdWJJdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gVHJpZ2dlciBldmVudFxuICAgIGlmICh0aGlzLl90YXJnZXQpIHtcbiAgICAgIGNvbnN0IHRyaWdnZXJFdmVudCA9IHRoaXMub3B0aW9ucy50cmlnZ2VyID09PSAnY2xpY2snID8gJ2NsaWNrJyA6ICdjb250ZXh0bWVudSc7XG4gICAgICB0aGlzLm9uKHRyaWdnZXJFdmVudCwgdGhpcy5faGFuZGxlVHJpZ2dlciwgdGhpcy5fdGFyZ2V0KTtcbiAgICB9XG5cbiAgICAvLyBNZW51IGl0ZW0gY2xpY2tzXG4gICAgaWYgKHRoaXMuX21lbnVFbGVtZW50KSB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUl0ZW1DbGljaywgdGhpcy5fbWVudUVsZW1lbnQpO1xuICAgICAgdGhpcy5vbignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZUl0ZW1Ib3ZlciwgdGhpcy5fbWVudUVsZW1lbnQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIHRoaXMub24oJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVJdGVtTGVhdmUsIHRoaXMuX21lbnVFbGVtZW50LCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2xvc2Ugb24gb3V0c2lkZSBjbGlja1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbk91dHNpZGVDbGljaykge1xuICAgICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2ssIGRvY3VtZW50KTtcbiAgICAgIHRoaXMub24oJ2NvbnRleHRtZW51JywgdGhpcy5faGFuZGxlT3V0c2lkZUNvbnRleHRNZW51LCBkb2N1bWVudCk7XG4gICAgfVxuXG4gICAgLy8gS2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgIHRoaXMub24oJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duLCBkb2N1bWVudCk7XG5cbiAgICAvLyBDbG9zZSBvbiBzY3JvbGxcbiAgICB0aGlzLm9uKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5faXNPcGVuKSB0aGlzLmNsb3NlKCk7XG4gICAgfSwgd2luZG93LCB7IHBhc3NpdmU6IHRydWUgfSk7XG5cbiAgICAvLyBDbG9zZSBvbiByZXNpemVcbiAgICB0aGlzLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5faXNPcGVuKSB0aGlzLmNsb3NlKCk7XG4gICAgfSwgd2luZG93LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRyaWdnZXIgZXZlbnQgKGNvbnRleHRtZW51IG9yIGNsaWNrKVxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gRXZlbnQgb2JqZWN0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlVHJpZ2dlcihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAodGhpcy5fZGlzYWJsZWQpIHJldHVybjtcblxuICAgIGNvbnN0IHggPSBlLmNsaWVudFggfHwgZS5wYWdlWDtcbiAgICBjb25zdCB5ID0gZS5jbGllbnRZIHx8IGUucGFnZVk7XG5cbiAgICB0aGlzLm9wZW4oeCwgeSwgZSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGl0ZW0gY2xpY2tcbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIENsaWNrIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSXRlbUNsaWNrKGUpIHtcbiAgICBjb25zdCBpdGVtRWwgPSBlLnRhcmdldC5jbG9zZXN0KCcuc28tY29udGV4dC1tZW51LWl0ZW0nKTtcbiAgICBpZiAoIWl0ZW1FbCkgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgaWYgZGlzYWJsZWRcbiAgICBpZiAoaXRlbUVsLmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBoYXMgc3VibWVudSAoZG9uJ3Qgc2VsZWN0LCBsZXQgaG92ZXIgaGFuZGxlIGl0KVxuICAgIGlmIChpdGVtRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1oYXMtc3VibWVudScpKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAvLyBGaW5kIGl0ZW0gZGF0YVxuICAgIGNvbnN0IGl0ZW1JZCA9IGl0ZW1FbC5kYXRhc2V0LmlkO1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9pdGVtcy5maW5kKGkgPT4gaS5pZCA9PT0gaXRlbUlkKSB8fCB7XG4gICAgICBpZDogaXRlbUlkLFxuICAgICAgbGFiZWw6IGl0ZW1FbC5xdWVyeVNlbGVjdG9yKCcuc28tY29udGV4dC1tZW51LWl0ZW0tdGV4dCcpPy50ZXh0Q29udGVudC50cmltKCksXG4gICAgICBkYXRhOiBpdGVtRWwuZGF0YXNldC5kYXRhID8gSlNPTi5wYXJzZShpdGVtRWwuZGF0YXNldC5kYXRhKSA6IHt9LFxuICAgICAgZWxlbWVudDogaXRlbUVsLFxuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgY2hlY2thYmxlIGl0ZW1zXG4gICAgaWYgKGl0ZW1FbC5jbGFzc0xpc3QuY29udGFpbnMoU2l4T3JiaXQuY2xzKCdjaGVja2VkJykpIHx8IGl0ZW0uY2hlY2thYmxlKSB7XG4gICAgICBpdGVtRWwuY2xhc3NMaXN0LnRvZ2dsZShTaXhPcmJpdC5jbHMoJ2NoZWNrZWQnKSk7XG4gICAgICBpdGVtLmNoZWNrZWQgPSBpdGVtRWwuY2xhc3NMaXN0LmNvbnRhaW5zKFNpeE9yYml0LmNscygnY2hlY2tlZCcpKTtcbiAgICB9XG5cbiAgICAvLyBFbWl0IHNlbGVjdCBldmVudFxuICAgIHRoaXMuZW1pdChTT0NvbnRleHRNZW51LkVWRU5UUy5TRUxFQ1QsIHtcbiAgICAgIGl0ZW0sXG4gICAgICBpZDogaXRlbS5pZCxcbiAgICAgIGxhYmVsOiBpdGVtLmxhYmVsLFxuICAgICAgZGF0YTogaXRlbS5kYXRhLFxuICAgICAgY2hlY2tlZDogaXRlbS5jaGVja2VkLFxuICAgIH0pO1xuXG4gICAgLy8gQ2xvc2UgbWVudVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPblNlbGVjdCkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgaXRlbSBob3ZlciBmb3Igc3VibWVudXNcbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIE1vdXNlIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSXRlbUhvdmVyKGUpIHtcbiAgICBjb25zdCBpdGVtRWwgPSBlLnRhcmdldC5jbG9zZXN0KCcuc28tY29udGV4dC1tZW51LWl0ZW0nKTtcbiAgICBpZiAoIWl0ZW1FbCkgcmV0dXJuO1xuXG4gICAgLy8gQ2xlYXIgYW55IHBlbmRpbmcgc3VibWVudSB0aW1lb3V0XG4gICAgaWYgKHRoaXMuX3N1Ym1lbnVUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fc3VibWVudVRpbWVvdXQpO1xuICAgICAgdGhpcy5fc3VibWVudVRpbWVvdXQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIENsb3NlIG90aGVyIHN1Ym1lbnVzIGF0IHRoaXMgbGV2ZWxcbiAgICBjb25zdCBwYXJlbnQgPSBpdGVtRWwucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBzaWJsaW5ncyA9IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiAuc28tY29udGV4dC1tZW51LWl0ZW0uc3VibWVudS1vcGVuJyk7XG4gICAgc2libGluZ3MuZm9yRWFjaChzaWIgPT4ge1xuICAgICAgaWYgKHNpYiAhPT0gaXRlbUVsKSB7XG4gICAgICAgIHNpYi5jbGFzc0xpc3QucmVtb3ZlKCdzdWJtZW51LW9wZW4nKTtcbiAgICAgICAgY29uc3Qgc3VibWVudSA9IHNpYi5xdWVyeVNlbGVjdG9yKCcuc28tY29udGV4dC1tZW51LXN1Ym1lbnUnKTtcbiAgICAgICAgaWYgKHN1Ym1lbnUpIHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnc28tb3BlbicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgaWYgaGFzIHN1Ym1lbnVcbiAgICBpZiAoIWl0ZW1FbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWhhcy1zdWJtZW51JykpIHJldHVybjtcblxuICAgIC8vIE9wZW4gc3VibWVudSB3aXRoIGRlbGF5XG4gICAgdGhpcy5fc3VibWVudVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuX29wZW5TdWJtZW51KGl0ZW1FbCk7XG4gICAgfSwgdGhpcy5vcHRpb25zLnN1Ym1lbnVEZWxheSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGl0ZW0gbGVhdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIE1vdXNlIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSXRlbUxlYXZlKGUpIHtcbiAgICAvLyBDbGVhciBzdWJtZW51IHRpbWVvdXRcbiAgICBpZiAodGhpcy5fc3VibWVudVRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zdWJtZW51VGltZW91dCk7XG4gICAgICB0aGlzLl9zdWJtZW51VGltZW91dCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gYSBzdWJtZW51XG4gICAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50SXRlbSAtIFBhcmVudCBpdGVtIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9vcGVuU3VibWVudShwYXJlbnRJdGVtKSB7XG4gICAgY29uc3Qgc3VibWVudSA9IHBhcmVudEl0ZW0ucXVlcnlTZWxlY3RvcignLnNvLWNvbnRleHQtbWVudS1zdWJtZW51Jyk7XG4gICAgaWYgKCFzdWJtZW51KSByZXR1cm47XG5cbiAgICAvLyBNYXJrIHBhcmVudCBhcyBvcGVuXG4gICAgcGFyZW50SXRlbS5jbGFzc0xpc3QuYWRkKCdzdWJtZW51LW9wZW4nKTtcblxuICAgIC8vIFBvc2l0aW9uIHN1Ym1lbnVcbiAgICB0aGlzLl9wb3NpdGlvblN1Ym1lbnUocGFyZW50SXRlbSwgc3VibWVudSk7XG5cbiAgICAvLyBTaG93IHN1Ym1lbnVcbiAgICBzdWJtZW51LmNsYXNzTGlzdC5hZGQoJ3NvLW9wZW4nKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICBjb25zdCBpdGVtSWQgPSBwYXJlbnRJdGVtLmRhdGFzZXQuaWQ7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuX2l0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtSWQpO1xuICAgIHRoaXMuZW1pdChTT0NvbnRleHRNZW51LkVWRU5UUy5TVUJNRU5VX1NIT1csIHtcbiAgICAgIHBhcmVudEl0ZW06IGl0ZW0sXG4gICAgICBpdGVtczogaXRlbT8uaXRlbXMgfHwgW10sXG4gICAgfSk7XG5cbiAgICB0aGlzLl9hY3RpdmVTdWJtZW51ID0gc3VibWVudTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3NpdGlvbiBzdWJtZW51IHJlbGF0aXZlIHRvIHBhcmVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBhcmVudEl0ZW0gLSBQYXJlbnQgaXRlbSBlbGVtZW50XG4gICAqIEBwYXJhbSB7RWxlbWVudH0gc3VibWVudSAtIFN1Ym1lbnUgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Bvc2l0aW9uU3VibWVudShwYXJlbnRJdGVtLCBzdWJtZW51KSB7XG4gICAgLy8gUmVzZXQgcG9zaXRpb24gY2xhc3Nlc1xuICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnc28tZmxpcC14Jyk7XG5cbiAgICBjb25zdCBwYXJlbnRSZWN0ID0gcGFyZW50SXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBzdWJtZW51V2lkdGggPSBzdWJtZW51Lm9mZnNldFdpZHRoIHx8IDE2MDtcbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cbiAgICAvLyBDaGVjayBpZiBzdWJtZW51IHdvdWxkIG92ZXJmbG93IHJpZ2h0IGVkZ2VcbiAgICBpZiAocGFyZW50UmVjdC5yaWdodCArIHN1Ym1lbnVXaWR0aCA+IHZpZXdwb3J0V2lkdGggLSAxMCkge1xuICAgICAgc3VibWVudS5jbGFzc0xpc3QuYWRkKCdzby1mbGlwLXgnKTtcbiAgICB9XG5cbiAgICAvLyBWZXJ0aWNhbCBwb3NpdGlvbiAtIGFsaWduIHRvcCB3aXRoIHBhcmVudFxuICAgIGNvbnN0IHN1Ym1lbnVIZWlnaHQgPSBzdWJtZW51Lm9mZnNldEhlaWdodCB8fCAxMDA7XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICBpZiAocGFyZW50UmVjdC50b3AgKyBzdWJtZW51SGVpZ2h0ID4gdmlld3BvcnRIZWlnaHQgLSAxMCkge1xuICAgICAgLy8gU2hpZnQgdXBcbiAgICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWluKFxuICAgICAgICBwYXJlbnRSZWN0LnRvcCArIHN1Ym1lbnVIZWlnaHQgLSB2aWV3cG9ydEhlaWdodCArIDEwLFxuICAgICAgICBwYXJlbnRSZWN0LnRvcCAtIDEwXG4gICAgICApO1xuICAgICAgc3VibWVudS5zdHlsZS50b3AgPSBgLSR7b2Zmc2V0fXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VibWVudS5zdHlsZS50b3AgPSAnMCc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBvdXRzaWRlIGNsaWNrXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBDbGljayBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU91dHNpZGVDbGljayhlKSB7XG4gICAgaWYgKCF0aGlzLl9pc09wZW4pIHJldHVybjtcblxuICAgIC8vIENoZWNrIGlmIGNsaWNrIGlzIGluc2lkZSBtZW51XG4gICAgaWYgKHRoaXMuX21lbnVFbGVtZW50ICYmIHRoaXMuX21lbnVFbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KSkgcmV0dXJuO1xuXG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBvdXRzaWRlIGNvbnRleHQgbWVudVxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ29udGV4dCBtZW51IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlT3V0c2lkZUNvbnRleHRNZW51KGUpIHtcbiAgICBpZiAoIXRoaXMuX2lzT3BlbikgcmV0dXJuO1xuXG4gICAgLy8gSWYgaXQncyBvbiBvdXIgdGFyZ2V0LCBsZXQgX2hhbmRsZVRyaWdnZXIgaGFuZGxlIGl0XG4gICAgaWYgKHRoaXMuX3RhcmdldCAmJiB0aGlzLl90YXJnZXQuY29udGFpbnMoZS50YXJnZXQpKSByZXR1cm47XG5cbiAgICAvLyBJZiBpdCdzIGluc2lkZSB0aGUgbWVudSwgZG9uJ3QgY2xvc2VcbiAgICBpZiAodGhpcy5fbWVudUVsZW1lbnQgJiYgdGhpcy5fbWVudUVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIEtleWJvYXJkIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5ZG93bihlKSB7XG4gICAgaWYgKCF0aGlzLl9pc09wZW4pIHJldHVybjtcblxuICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9mb2N1c05leHRJdGVtKDEpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNOZXh0SXRlbSgtMSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9vcGVuRm9jdXNlZFN1Ym1lbnUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fY2xvc2VBY3RpdmVTdWJtZW51KCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdFbnRlcic6XG4gICAgICBjYXNlICcgJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnSG9tZSc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNJdGVtKDApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnRW5kJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9mb2N1c0l0ZW0odGhpcy5fZ2V0TmF2aWdhYmxlSXRlbXMoKS5sZW5ndGggLSAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBuYXZpZ2FibGUgaXRlbXMgKGV4Y2x1ZGluZyBoZWFkZXJzLCBkaXZpZGVycywgZGlzYWJsZWQpXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gW2NvbnRhaW5lcl0gLSBDb250YWluZXIgdG8gc2VhcmNoIGluXG4gICAqIEByZXR1cm5zIHtFbGVtZW50W119IEFycmF5IG9mIG5hdmlnYWJsZSBpdGVtc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE5hdmlnYWJsZUl0ZW1zKGNvbnRhaW5lcikge1xuICAgIGNvbnN0IGNvbnQgPSBjb250YWluZXIgfHwgdGhpcy5fbWVudUVsZW1lbnQ7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oY29udC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiAuc28tY29udGV4dC1tZW51LWl0ZW06bm90KC5kaXNhYmxlZCknKSk7XG4gIH1cblxuICAvKipcbiAgICogRm9jdXMgbmV4dC9wcmV2aW91cyBpdGVtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gLSAxIGZvciBuZXh0LCAtMSBmb3IgcHJldmlvdXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9mb2N1c05leHRJdGVtKGRpcmVjdGlvbikge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fZ2V0TmF2aWdhYmxlSXRlbXMoKTtcbiAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBsZXQgbmV3SW5kZXggPSB0aGlzLl9mb2N1c2VkSW5kZXggKyBkaXJlY3Rpb247XG5cbiAgICAvLyBXcmFwIGFyb3VuZFxuICAgIGlmIChuZXdJbmRleCA8IDApIG5ld0luZGV4ID0gaXRlbXMubGVuZ3RoIC0gMTtcbiAgICBpZiAobmV3SW5kZXggPj0gaXRlbXMubGVuZ3RoKSBuZXdJbmRleCA9IDA7XG5cbiAgICB0aGlzLl9mb2N1c0l0ZW0obmV3SW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIGl0ZW0gYnkgaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gSXRlbSBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZvY3VzSXRlbShpbmRleCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fZ2V0TmF2aWdhYmxlSXRlbXMoKTtcblxuICAgIC8vIFJlbW92ZSBmb2N1cyBmcm9tIGFsbFxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWZvY3VzZWQnKSk7XG5cbiAgICB0aGlzLl9mb2N1c2VkSW5kZXggPSBpbmRleDtcbiAgICBpZiAoaXRlbXNbaW5kZXhdKSB7XG4gICAgICBpdGVtc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnc28tZm9jdXNlZCcpO1xuICAgICAgaXRlbXNbaW5kZXhdLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6ICduZWFyZXN0JyB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBzdWJtZW51IG9mIGZvY3VzZWQgaXRlbVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX29wZW5Gb2N1c2VkU3VibWVudSgpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuX2dldE5hdmlnYWJsZUl0ZW1zKCk7XG4gICAgaWYgKHRoaXMuX2ZvY3VzZWRJbmRleCA8IDAgfHwgIWl0ZW1zW3RoaXMuX2ZvY3VzZWRJbmRleF0pIHJldHVybjtcblxuICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1t0aGlzLl9mb2N1c2VkSW5kZXhdO1xuICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygnc28taGFzLXN1Ym1lbnUnKSkge1xuICAgICAgdGhpcy5fb3BlblN1Ym1lbnUoaXRlbSk7XG4gICAgICAvLyBGb2N1cyBmaXJzdCBpdGVtIGluIHN1Ym1lbnVcbiAgICAgIGNvbnN0IHN1Ym1lbnUgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zby1jb250ZXh0LW1lbnUtc3VibWVudScpO1xuICAgICAgaWYgKHN1Ym1lbnUpIHtcbiAgICAgICAgY29uc3Qgc3ViSXRlbXMgPSB0aGlzLl9nZXROYXZpZ2FibGVJdGVtcyhzdWJtZW51KTtcbiAgICAgICAgaWYgKHN1Ykl0ZW1zWzBdKSBzdWJJdGVtc1swXS5jbGFzc0xpc3QuYWRkKCdzby1mb2N1c2VkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIGFjdGl2ZSBzdWJtZW51XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2xvc2VBY3RpdmVTdWJtZW51KCkge1xuICAgIGlmICghdGhpcy5fYWN0aXZlU3VibWVudSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGFyZW50SXRlbSA9IHRoaXMuX2FjdGl2ZVN1Ym1lbnUuY2xvc2VzdCgnLnNvLWNvbnRleHQtbWVudS1pdGVtJyk7XG4gICAgaWYgKHBhcmVudEl0ZW0pIHtcbiAgICAgIHBhcmVudEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc3VibWVudS1vcGVuJyk7XG4gICAgICB0aGlzLl9hY3RpdmVTdWJtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLW9wZW4nKTtcblxuICAgICAgLy8gRW1pdCBldmVudFxuICAgICAgY29uc3QgaXRlbUlkID0gcGFyZW50SXRlbS5kYXRhc2V0LmlkO1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2l0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtSWQpO1xuICAgICAgdGhpcy5lbWl0KFNPQ29udGV4dE1lbnUuRVZFTlRTLlNVQk1FTlVfSElERSwgeyBwYXJlbnRJdGVtOiBpdGVtIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2FjdGl2ZVN1Ym1lbnUgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCB0aGUgZm9jdXNlZCBpdGVtXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2VsZWN0Rm9jdXNlZEl0ZW0oKSB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLl9nZXROYXZpZ2FibGVJdGVtcygpO1xuICAgIGlmICh0aGlzLl9mb2N1c2VkSW5kZXggPCAwIHx8ICFpdGVtc1t0aGlzLl9mb2N1c2VkSW5kZXhdKSByZXR1cm47XG5cbiAgICBjb25zdCBpdGVtID0gaXRlbXNbdGhpcy5fZm9jdXNlZEluZGV4XTtcblxuICAgIC8vIElmIGhhcyBzdWJtZW51LCBvcGVuIGl0XG4gICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1oYXMtc3VibWVudScpKSB7XG4gICAgICB0aGlzLl9vcGVuRm9jdXNlZFN1Ym1lbnUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmlnZ2VyIGNsaWNrXG4gICAgaXRlbS5jbGljaygpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFVCTElDIEFQSSAtIE1FTlUgQ09OVFJPTFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBPcGVuIHRoZSBjb250ZXh0IG1lbnUgYXQgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBYIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHtFdmVudH0gW29yaWdpbmFsRXZlbnRdIC0gT3JpZ2luYWwgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgb3BlblxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBvcGVuKHgsIHksIG9yaWdpbmFsRXZlbnQgPSBudWxsKSB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiB8fCB0aGlzLl9kaXNhYmxlZCB8fCAhdGhpcy5fbWVudUVsZW1lbnQpIHJldHVybiB0aGlzO1xuXG4gICAgLy8gRW1pdCBjYW5jZWxhYmxlIHNob3cgZXZlbnRcbiAgICBjb25zdCBzaG93QWxsb3dlZCA9IHRoaXMuZW1pdChTT0NvbnRleHRNZW51LkVWRU5UUy5TSE9XLCB7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIG9yaWdpbmFsRXZlbnQsXG4gICAgfSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICBpZiAoIXNob3dBbGxvd2VkKSByZXR1cm4gdGhpcztcblxuICAgIHRoaXMuX2lzT3BlbiA9IHRydWU7XG5cbiAgICAvLyBQb3NpdGlvbiBtZW51XG4gICAgdGhpcy5fcG9zaXRpb25NZW51KHgsIHkpO1xuXG4gICAgLy8gU2hvdyBtZW51XG4gICAgdGhpcy5fbWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tb3BlbicpO1xuXG4gICAgLy8gUmVzZXQgZm9jdXNcbiAgICB0aGlzLl9mb2N1c2VkSW5kZXggPSAtMTtcblxuICAgIC8vIEVtaXQgc2hvd24gZXZlbnQgYWZ0ZXIgdHJhbnNpdGlvblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFNPQ29udGV4dE1lbnUuRVZFTlRTLlNIT1dOLCB7IHgsIHkgfSk7XG4gICAgfSwgMTUwKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvc2l0aW9uIHRoZSBtZW51IGF0IGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gWSBjb29yZGluYXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcG9zaXRpb25NZW51KHgsIHkpIHtcbiAgICBjb25zdCBtZW51ID0gdGhpcy5fbWVudUVsZW1lbnQ7XG5cbiAgICAvLyBSZXNldCBwb3NpdGlvbiBjbGFzc2VzXG4gICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKCdzby1mbGlwLXgnLCAnc28tZmxpcC15Jyk7XG5cbiAgICAvLyBUZW1wb3JhcmlseSBzaG93IHRvIGdldCBkaW1lbnNpb25zXG4gICAgbWVudS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBtZW51LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cbiAgICBjb25zdCBtZW51V2lkdGggPSBtZW51Lm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IG1lbnVIZWlnaHQgPSBtZW51Lm9mZnNldEhlaWdodDtcblxuICAgIG1lbnUuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIG1lbnUuc3R5bGUub3BhY2l0eSA9ICcnO1xuXG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgbGV0IGZpbmFsWCA9IHg7XG4gICAgbGV0IGZpbmFsWSA9IHk7XG5cbiAgICAvLyBDaGVjayByaWdodCBlZGdlXG4gICAgaWYgKHggKyBtZW51V2lkdGggPiB2aWV3cG9ydFdpZHRoIC0gMTApIHtcbiAgICAgIGZpbmFsWCA9IHggLSBtZW51V2lkdGg7XG4gICAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ3NvLWZsaXAteCcpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGJvdHRvbSBlZGdlXG4gICAgaWYgKHkgKyBtZW51SGVpZ2h0ID4gdmlld3BvcnRIZWlnaHQgLSAxMCkge1xuICAgICAgZmluYWxZID0geSAtIG1lbnVIZWlnaHQ7XG4gICAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ3NvLWZsaXAteScpO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBtaW5pbXVtIGJvdW5kc1xuICAgIGZpbmFsWCA9IE1hdGgubWF4KDEwLCBmaW5hbFgpO1xuICAgIGZpbmFsWSA9IE1hdGgubWF4KDEwLCBmaW5hbFkpO1xuXG4gICAgbWVudS5zdHlsZS5sZWZ0ID0gYCR7ZmluYWxYfXB4YDtcbiAgICBtZW51LnN0eWxlLnRvcCA9IGAke2ZpbmFsWX1weGA7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgdGhlIGNvbnRleHQgbWVudVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuX2lzT3BlbiB8fCAhdGhpcy5fbWVudUVsZW1lbnQpIHJldHVybiB0aGlzO1xuXG4gICAgLy8gRW1pdCBjYW5jZWxhYmxlIGhpZGUgZXZlbnRcbiAgICBjb25zdCBoaWRlQWxsb3dlZCA9IHRoaXMuZW1pdChTT0NvbnRleHRNZW51LkVWRU5UUy5ISURFLCB7fSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgaWYgKCFoaWRlQWxsb3dlZCkgcmV0dXJuIHRoaXM7XG5cbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcblxuICAgIC8vIENsb3NlIGFsbCBzdWJtZW51c1xuICAgIHRoaXMuX2Nsb3NlQWxsU3VibWVudXMoKTtcblxuICAgIC8vIENsZWFyIGZvY3VzXG4gICAgY29uc3QgZm9jdXNlZCA9IHRoaXMuX21lbnVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zby1jb250ZXh0LW1lbnUtaXRlbS5zby1mb2N1c2VkJyk7XG4gICAgaWYgKGZvY3VzZWQpIGZvY3VzZWQuY2xhc3NMaXN0LnJlbW92ZSgnc28tZm9jdXNlZCcpO1xuICAgIHRoaXMuX2ZvY3VzZWRJbmRleCA9IC0xO1xuXG4gICAgLy8gSGlkZSBtZW51XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRlZCkge1xuICAgICAgdGhpcy5fbWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tY2xvc2luZycpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX21lbnVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLW9wZW4nLCAnc28tY2xvc2luZycpO1xuICAgICAgICB0aGlzLmVtaXQoU09Db250ZXh0TWVudS5FVkVOVFMuSElEREVOKTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21lbnVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLW9wZW4nKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoU09Db250ZXh0TWVudS5FVkVOVFMuSElEREVOKTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgYWxsIHN1Ym1lbnVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2xvc2VBbGxTdWJtZW51cygpIHtcbiAgICBpZiAoIXRoaXMuX21lbnVFbGVtZW50KSByZXR1cm47XG5cbiAgICBjb25zdCBvcGVuU3VibWVudXMgPSB0aGlzLl9tZW51RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tY29udGV4dC1tZW51LXN1Ym1lbnUuc28tb3BlbicpO1xuICAgIG9wZW5TdWJtZW51cy5mb3JFYWNoKHN1Ym1lbnUgPT4gc3VibWVudS5jbGFzc0xpc3QucmVtb3ZlKCdzby1vcGVuJykpO1xuXG4gICAgY29uc3Qgb3BlblBhcmVudHMgPSB0aGlzLl9tZW51RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tY29udGV4dC1tZW51LWl0ZW0uc3VibWVudS1vcGVuJyk7XG4gICAgb3BlblBhcmVudHMuZm9yRWFjaChwYXJlbnQgPT4gcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3N1Ym1lbnUtb3BlbicpKTtcblxuICAgIHRoaXMuX2FjdGl2ZVN1Ym1lbnUgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSB0aGUgY29udGV4dCBtZW51XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gWSBjb29yZGluYXRlXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHRvZ2dsZSh4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzT3BlbiA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3Blbih4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBtZW51IGlzIG9wZW5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IE9wZW4gc3RhdGVcbiAgICovXG4gIGlzT3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5faXNPcGVuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSB0aGUgZW50aXJlIG1lbnVcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMuX2Rpc2FibGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgZW50aXJlIG1lbnVcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMuX2lzT3BlbikgdGhpcy5jbG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIG1lbnUgaXMgZGlzYWJsZWRcbiAgICogQHJldHVybnMge2Jvb2xlYW59IERpc2FibGVkIHN0YXRlXG4gICAqL1xuICBpc0Rpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBVQkxJQyBBUEkgLSBJVEVNIE1BTkFHRU1FTlRcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogQWRkIGFuIGl0ZW0gdG8gdGhlIG1lbnVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gLSBJdGVtIGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfE9iamVjdH0gW3Bvc2l0aW9uPSdib3R0b20nXSAtIFBvc2l0aW9uOiBpbmRleCwgJ3RvcCcsICdib3R0b20nLCB7YmVmb3JlOidpZCd9LCB7YWZ0ZXI6J2lkJ30sIHtncm91cDonaWQnLHBvc2l0aW9uOid0b3AnfCdib3R0b20nfVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBhZGQoaXRlbSwgcG9zaXRpb24gPSAnYm90dG9tJykge1xuICAgIGlmICghdGhpcy5fbWVudUVsZW1lbnQpIHJldHVybiB0aGlzO1xuXG4gICAgY29uc3QgaXRlbUVsID0gdGhpcy5fY3JlYXRlSXRlbUVsZW1lbnQoaXRlbSwgMCk7XG5cbiAgICAvLyBEZXRlcm1pbmUgaW5zZXJ0IHBvc2l0aW9uXG4gICAgbGV0IHJlZmVyZW5jZU5vZGUgPSBudWxsO1xuICAgIGxldCBpbnNlcnRCZWZvcmUgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiBwb3NpdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIEluc2VydCBhdCBpbmRleFxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHRoaXMuX21lbnVFbGVtZW50LmNoaWxkcmVuKTtcbiAgICAgIHJlZmVyZW5jZU5vZGUgPSBjaGlsZHJlbltwb3NpdGlvbl0gfHwgbnVsbDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgcmVmZXJlbmNlTm9kZSA9IHRoaXMuX21lbnVFbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHJlZmVyZW5jZU5vZGUgPSBudWxsO1xuICAgICAgaW5zZXJ0QmVmb3JlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcG9zaXRpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAocG9zaXRpb24uYmVmb3JlKSB7XG4gICAgICAgIHJlZmVyZW5jZU5vZGUgPSB0aGlzLl9tZW51RWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD1cIiR7cG9zaXRpb24uYmVmb3JlfVwiXWApO1xuICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbi5hZnRlcikge1xuICAgICAgICBjb25zdCBhZnRlckVsID0gdGhpcy5fbWVudUVsZW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaWQ9XCIke3Bvc2l0aW9uLmFmdGVyfVwiXWApO1xuICAgICAgICByZWZlcmVuY2VOb2RlID0gYWZ0ZXJFbD8ubmV4dFNpYmxpbmcgfHwgbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24uZ3JvdXApIHtcbiAgICAgICAgY29uc3QgZ3JvdXBFbCA9IHRoaXMuX21lbnVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWdyb3VwLWlkPVwiJHtwb3NpdGlvbi5ncm91cH1cIl1gKTtcbiAgICAgICAgaWYgKGdyb3VwRWwpIHtcbiAgICAgICAgICBpZiAocG9zaXRpb24ucG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICAgICAgICByZWZlcmVuY2VOb2RlID0gZ3JvdXBFbC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVmZXJlbmNlTm9kZSA9IG51bGw7XG4gICAgICAgICAgICBpbnNlcnRCZWZvcmUgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSW5zZXJ0IGludG8gZ3JvdXBcbiAgICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlICYmIHJlZmVyZW5jZU5vZGUpIHtcbiAgICAgICAgICAgIGdyb3VwRWwuaW5zZXJ0QmVmb3JlKGl0ZW1FbCwgcmVmZXJlbmNlTm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdyb3VwRWwuYXBwZW5kQ2hpbGQoaXRlbUVsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fc3RvcmVJdGVtKGl0ZW0sIGl0ZW1FbCwgMCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbnNlcnQgaW50byBtYWluIG1lbnVcbiAgICBpZiAoaW5zZXJ0QmVmb3JlICYmIHJlZmVyZW5jZU5vZGUpIHtcbiAgICAgIHRoaXMuX21lbnVFbGVtZW50Lmluc2VydEJlZm9yZShpdGVtRWwsIHJlZmVyZW5jZU5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tZW51RWxlbWVudC5hcHBlbmRDaGlsZChpdGVtRWwpO1xuICAgIH1cblxuICAgIHRoaXMuX3N0b3JlSXRlbShpdGVtLCBpdGVtRWwsIDApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlIGl0ZW0gZGF0YVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbSAtIEl0ZW0gY29uZmlnXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gaXRlbUVsIC0gSXRlbSBlbGVtZW50XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIE5lc3RpbmcgbGV2ZWxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdG9yZUl0ZW0oaXRlbSwgaXRlbUVsLCBsZXZlbCkge1xuICAgIGNvbnN0IGl0ZW1EYXRhID0ge1xuICAgICAgLi4uaXRlbSxcbiAgICAgIGlkOiBpdGVtLmlkIHx8IGBpdGVtLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICAgIGVsZW1lbnQ6IGl0ZW1FbCxcbiAgICAgIGxldmVsLFxuICAgIH07XG4gICAgaXRlbUVsLmRhdGFzZXQuaWQgPSBpdGVtRGF0YS5pZDtcbiAgICB0aGlzLl9pdGVtcy5wdXNoKGl0ZW1EYXRhKTtcblxuICAgIGlmIChpdGVtLmdyb3VwSWQpIHtcbiAgICAgIGlmICghdGhpcy5fZ3JvdXBzLmhhcyhpdGVtLmdyb3VwSWQpKSB7XG4gICAgICAgIHRoaXMuX2dyb3Vwcy5zZXQoaXRlbS5ncm91cElkLCBbXSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9ncm91cHMuZ2V0KGl0ZW0uZ3JvdXBJZCkucHVzaChpdGVtRGF0YS5pZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGdyb3VwIG9mIGl0ZW1zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBncm91cElkIC0gR3JvdXAgaWRlbnRpZmllclxuICAgKiBAcGFyYW0ge0FycmF5fSBpdGVtcyAtIEl0ZW1zIHRvIGFkZFxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtwb3NpdGlvbj0nYm90dG9tJ10gLSBQb3NpdGlvbiBpbiBtZW51XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGFkZEdyb3VwKGdyb3VwSWQsIGl0ZW1zLCBwb3NpdGlvbiA9ICdib3R0b20nKSB7XG4gICAgY29uc3QgZ3JvdXBDb25maWcgPSB7XG4gICAgICB0eXBlOiAnZ3JvdXAnLFxuICAgICAgaWQ6IGdyb3VwSWQsXG4gICAgICBncm91cElkOiBncm91cElkLFxuICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuYWRkKGdyb3VwQ29uZmlnLCBwb3NpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgc2VwYXJhdG9yL2RpdmlkZXJcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfE9iamVjdH0gW3Bvc2l0aW9uPSdib3R0b20nXSAtIFBvc2l0aW9uXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGFkZFNlcGFyYXRvcihwb3NpdGlvbiA9ICdib3R0b20nKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKHsgdHlwZTogJ2RpdmlkZXInIH0sIHBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBoZWFkZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBIZWFkZXIgdGV4dFxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8T2JqZWN0fSBbcG9zaXRpb249J2JvdHRvbSddIC0gUG9zaXRpb25cbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgYWRkSGVhZGVyKHRleHQsIHBvc2l0aW9uID0gJ2JvdHRvbScpIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoeyB0eXBlOiAnaGVhZGVyJywgbGFiZWw6IHRleHQgfSwgcG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBpdGVtIGJ5IGlkIG9yIGluZGV4XG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWRlbnRpZmllciAtIEl0ZW0gaWQgb3IgaW5kZXhcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgcmVtb3ZlKGlkZW50aWZpZXIpIHtcbiAgICBsZXQgaXRlbTtcblxuICAgIGlmICh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ251bWJlcicpIHtcbiAgICAgIGl0ZW0gPSB0aGlzLl9pdGVtc1tpZGVudGlmaWVyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbSA9IHRoaXMuX2l0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBpZGVudGlmaWVyKTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbSAmJiBpdGVtLmVsZW1lbnQpIHtcbiAgICAgIGl0ZW0uZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIHRoaXMuX2l0ZW1zID0gdGhpcy5faXRlbXMuZmlsdGVyKGkgPT4gaSAhPT0gaXRlbSk7XG5cbiAgICAgIC8vIFJlbW92ZSBmcm9tIGdyb3VwIHRyYWNraW5nXG4gICAgICBpZiAoaXRlbS5ncm91cElkICYmIHRoaXMuX2dyb3Vwcy5oYXMoaXRlbS5ncm91cElkKSkge1xuICAgICAgICBjb25zdCBncm91cEl0ZW1zID0gdGhpcy5fZ3JvdXBzLmdldChpdGVtLmdyb3VwSWQpO1xuICAgICAgICB0aGlzLl9ncm91cHMuc2V0KGl0ZW0uZ3JvdXBJZCwgZ3JvdXBJdGVtcy5maWx0ZXIoaWQgPT4gaWQgIT09IGl0ZW0uaWQpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGl0ZW1zXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHJlbW92ZUFsbCgpIHtcbiAgICBpZiAodGhpcy5fbWVudUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX21lbnVFbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgIHRoaXMuX2dyb3Vwcy5jbGVhcigpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBpdGVtIGJ5IGlkIG9yIGluZGV4XG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWRlbnRpZmllciAtIEl0ZW0gaWQgb3IgaW5kZXhcbiAgICogQHJldHVybnMge09iamVjdHxudWxsfSBJdGVtIGRhdGFcbiAgICovXG4gIGdldEl0ZW0oaWRlbnRpZmllcikge1xuICAgIGlmICh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVtc1tpZGVudGlmaWVyXSB8fCBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faXRlbXMuZmluZChpID0+IGkuaWQgPT09IGlkZW50aWZpZXIpIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBpdGVtc1xuICAgKiBAcmV0dXJucyB7QXJyYXl9IEFsbCBpdGVtc1xuICAgKi9cbiAgZ2V0SXRlbXMoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLl9pdGVtc107XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFuIGl0ZW0ncyBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWRlbnRpZmllciAtIEl0ZW0gaWQgb3IgaW5kZXhcbiAgICogQHBhcmFtIHtPYmplY3R9IHVwZGF0ZXMgLSBQcm9wZXJ0aWVzIHRvIHVwZGF0ZVxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICB1cGRhdGVJdGVtKGlkZW50aWZpZXIsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5nZXRJdGVtKGlkZW50aWZpZXIpO1xuICAgIGlmICghaXRlbSB8fCAhaXRlbS5lbGVtZW50KSByZXR1cm4gdGhpcztcblxuICAgIC8vIFVwZGF0ZSBkYXRhXG4gICAgT2JqZWN0LmFzc2lnbihpdGVtLCB1cGRhdGVzKTtcblxuICAgIC8vIFVwZGF0ZSBET01cbiAgICBjb25zdCBlbCA9IGl0ZW0uZWxlbWVudDtcblxuICAgIGlmICh1cGRhdGVzLmxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHRleHRFbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zby1jb250ZXh0LW1lbnUtaXRlbS10ZXh0Jyk7XG4gICAgICBpZiAodGV4dEVsKSB0ZXh0RWwudGV4dENvbnRlbnQgPSB1cGRhdGVzLmxhYmVsO1xuICAgIH1cblxuICAgIGlmICh1cGRhdGVzLmljb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IGljb25FbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zby1jb250ZXh0LW1lbnUtaXRlbS1pY29uIC5tYXRlcmlhbC1pY29ucycpO1xuICAgICAgaWYgKGljb25FbCkge1xuICAgICAgICBpY29uRWwudGV4dENvbnRlbnQgPSB1cGRhdGVzLmljb247XG4gICAgICB9IGVsc2UgaWYgKHVwZGF0ZXMuaWNvbikge1xuICAgICAgICBjb25zdCBpY29uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgaWNvbldyYXBwZXIuY2xhc3NOYW1lID0gJ3NvLWNvbnRleHQtbWVudS1pdGVtLWljb24nO1xuICAgICAgICBpY29uV3JhcHBlci5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7dXBkYXRlcy5pY29ufTwvc3Bhbj5gO1xuICAgICAgICBlbC5pbnNlcnRCZWZvcmUoaWNvbldyYXBwZXIsIGVsLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1cGRhdGVzLmRpc2FibGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NvLWRpc2FibGVkJywgdXBkYXRlcy5kaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgaWYgKHVwZGF0ZXMuZGFuZ2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC50b2dnbGUoU2l4T3JiaXQuY2xzKCdkYW5nZXInKSwgdXBkYXRlcy5kYW5nZXIpO1xuICAgIH1cblxuICAgIGlmICh1cGRhdGVzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZShTaXhPcmJpdC5jbHMoJ2NoZWNrZWQnKSwgdXBkYXRlcy5jaGVja2VkKTtcbiAgICB9XG5cbiAgICBpZiAodXBkYXRlcy5zaG9ydGN1dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgc2hvcnRjdXRFbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zby1jb250ZXh0LW1lbnUtaXRlbS1zaG9ydGN1dCcpO1xuICAgICAgaWYgKHNob3J0Y3V0RWwpIHtcbiAgICAgICAgc2hvcnRjdXRFbC50ZXh0Q29udGVudCA9IHVwZGF0ZXMuc2hvcnRjdXQ7XG4gICAgICB9IGVsc2UgaWYgKHVwZGF0ZXMuc2hvcnRjdXQpIHtcbiAgICAgICAgY29uc3QgYXJyb3cgPSBlbC5xdWVyeVNlbGVjdG9yKCcuc28tY29udGV4dC1tZW51LWl0ZW0tYXJyb3cnKTtcbiAgICAgICAgY29uc3Qgc2hvcnRjdXRTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzaG9ydGN1dFNwYW4uY2xhc3NOYW1lID0gJ3NvLWNvbnRleHQtbWVudS1pdGVtLXNob3J0Y3V0JztcbiAgICAgICAgc2hvcnRjdXRTcGFuLnRleHRDb250ZW50ID0gdXBkYXRlcy5zaG9ydGN1dDtcbiAgICAgICAgaWYgKGFycm93KSB7XG4gICAgICAgICAgZWwuaW5zZXJ0QmVmb3JlKHNob3J0Y3V0U3BhbiwgYXJyb3cpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsLmFwcGVuZENoaWxkKHNob3J0Y3V0U3Bhbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBVQkxJQyBBUEkgLSBJVEVNIFNUQVRFXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBhIHNwZWNpZmljIGl0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBpZGVudGlmaWVyIC0gSXRlbSBpZCBvciBpbmRleFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBlbmFibGVJdGVtKGlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVJdGVtKGlkZW50aWZpZXIsIHsgZGlzYWJsZWQ6IGZhbHNlIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgYSBzcGVjaWZpYyBpdGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWRlbnRpZmllciAtIEl0ZW0gaWQgb3IgaW5kZXhcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgZGlzYWJsZUl0ZW0oaWRlbnRpZmllcikge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZUl0ZW0oaWRlbnRpZmllciwgeyBkaXNhYmxlZDogdHJ1ZSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgYWxsIGl0ZW1zIGluIGEgZ3JvdXBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwSWQgLSBHcm91cCBpZGVudGlmaWVyXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGVuYWJsZUdyb3VwKGdyb3VwSWQpIHtcbiAgICAvLyBFbmFibGUgdmlhIERPTSBjbGFzc1xuICAgIGNvbnN0IGdyb3VwRWwgPSB0aGlzLl9tZW51RWxlbWVudD8ucXVlcnlTZWxlY3RvcihgW2RhdGEtZ3JvdXAtaWQ9XCIke2dyb3VwSWR9XCJdYCk7XG4gICAgaWYgKGdyb3VwRWwpIHtcbiAgICAgIGdyb3VwRWwuY2xhc3NMaXN0LnJlbW92ZSgnc28tZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICAvLyBFbmFibGUgaW5kaXZpZHVhbCBpdGVtc1xuICAgIGNvbnN0IGl0ZW1JZHMgPSB0aGlzLl9ncm91cHMuZ2V0KGdyb3VwSWQpIHx8IFtdO1xuICAgIGl0ZW1JZHMuZm9yRWFjaChpZCA9PiB0aGlzLmVuYWJsZUl0ZW0oaWQpKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgYWxsIGl0ZW1zIGluIGEgZ3JvdXBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwSWQgLSBHcm91cCBpZGVudGlmaWVyXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGRpc2FibGVHcm91cChncm91cElkKSB7XG4gICAgLy8gRGlzYWJsZSB2aWEgRE9NIGNsYXNzXG4gICAgY29uc3QgZ3JvdXBFbCA9IHRoaXMuX21lbnVFbGVtZW50Py5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ncm91cC1pZD1cIiR7Z3JvdXBJZH1cIl1gKTtcbiAgICBpZiAoZ3JvdXBFbCkge1xuICAgICAgZ3JvdXBFbC5jbGFzc0xpc3QuYWRkKCdzby1kaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIC8vIERpc2FibGUgaW5kaXZpZHVhbCBpdGVtc1xuICAgIGNvbnN0IGl0ZW1JZHMgPSB0aGlzLl9ncm91cHMuZ2V0KGdyb3VwSWQpIHx8IFtdO1xuICAgIGl0ZW1JZHMuZm9yRWFjaChpZCA9PiB0aGlzLmRpc2FibGVJdGVtKGlkKSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBVQkxJQyBBUEkgLSBBVFRBQ0hNRU5UXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEF0dGFjaCBtZW51IHRvIGEgdHJpZ2dlciBlbGVtZW50XG4gICAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IGVsZW1lbnQgLSBFbGVtZW50IG9yIHNlbGVjdG9yXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGF0dGFjaChlbGVtZW50KSB7XG4gICAgLy8gRGV0YWNoIGZyb20gY3VycmVudFxuICAgIHRoaXMuZGV0YWNoKCk7XG5cbiAgICAvLyBSZXNvbHZlIGVsZW1lbnRcbiAgICBjb25zdCBlbCA9IHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCkgOiBlbGVtZW50O1xuICAgIGlmICghZWwpIHJldHVybiB0aGlzO1xuXG4gICAgdGhpcy5fdGFyZ2V0ID0gZWw7XG5cbiAgICAvLyBCaW5kIHRyaWdnZXIgZXZlbnRcbiAgICBjb25zdCB0cmlnZ2VyRXZlbnQgPSB0aGlzLm9wdGlvbnMudHJpZ2dlciA9PT0gJ2NsaWNrJyA/ICdjbGljaycgOiAnY29udGV4dG1lbnUnO1xuICAgIHRoaXMub24odHJpZ2dlckV2ZW50LCB0aGlzLl9oYW5kbGVUcmlnZ2VyLCB0aGlzLl90YXJnZXQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWNoIG1lbnUgZnJvbSBjdXJyZW50IHRyaWdnZXIgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBkZXRhY2goKSB7XG4gICAgaWYgKCF0aGlzLl90YXJnZXQpIHJldHVybiB0aGlzO1xuXG4gICAgLy8gVW5iaW5kIHRyaWdnZXIgZXZlbnRcbiAgICBjb25zdCB0cmlnZ2VyRXZlbnQgPSB0aGlzLm9wdGlvbnMudHJpZ2dlciA9PT0gJ2NsaWNrJyA/ICdjbGljaycgOiAnY29udGV4dG1lbnUnO1xuXG4gICAgLy8gRmluZCBhbmQgcmVtb3ZlIHRoZSBoYW5kbGVyXG4gICAgdGhpcy5fYm91bmRIYW5kbGVycy5mb3JFYWNoKChzdG9yZWQsIGhhbmRsZXIpID0+IHtcbiAgICAgIGlmIChzdG9yZWQudGFyZ2V0ID09PSB0aGlzLl90YXJnZXQgJiYgc3RvcmVkLmV2ZW50ID09PSB0cmlnZ2VyRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHJpZ2dlckV2ZW50LCBzdG9yZWQuYm91bmRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fYm91bmRIYW5kbGVycy5kZWxldGUoaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgdHJpZ2dlciBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9IFRyaWdnZXIgZWxlbWVudFxuICAgKi9cbiAgZ2V0VGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQVUJMSUMgQVBJIC0gTElGRUNZQ0xFXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIGNvbnRleHQgbWVudSBhbmQgY2xlYW51cFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICAvLyBDbG9zZSBpZiBvcGVuXG4gICAgaWYgKHRoaXMuX2lzT3BlbikgdGhpcy5jbG9zZSgpO1xuXG4gICAgLy8gQ2xlYXIgdGltZW91dHNcbiAgICBpZiAodGhpcy5fc3VibWVudVRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zdWJtZW51VGltZW91dCk7XG4gICAgfVxuXG4gICAgLy8gRGV0YWNoIGZyb20gdGFyZ2V0XG4gICAgdGhpcy5kZXRhY2goKTtcblxuICAgIC8vIFJlbW92ZSBtZW51IGVsZW1lbnQgaWYgd2UgY3JlYXRlZCBpdFxuICAgIGlmICh0aGlzLl9tZW51RWxlbWVudCAmJiAhdGhpcy5fbWVudUVsZW1lbnQuaWQpIHtcbiAgICAgIHRoaXMuX21lbnVFbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIENsZWFyIHN0YXRlXG4gICAgdGhpcy5faXRlbXMgPSBbXTtcbiAgICB0aGlzLl9ncm91cHMuY2xlYXIoKTtcbiAgICB0aGlzLl9tZW51RWxlbWVudCA9IG51bGw7XG5cbiAgICAvLyBDYWxsIHBhcmVudCBkZXN0cm95XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIEZBQ1RPUlkgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjb250ZXh0IG1lbnUgcHJvZ3JhbW1hdGljYWxseVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE1lbnUgY29uZmlndXJhdGlvblxuICAgKiBAcmV0dXJucyB7U09Db250ZXh0TWVudX0gTWVudSBpbnN0YW5jZVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICB0YXJnZXQsXG4gICAgICBpdGVtcyA9IFtdLFxuICAgICAgdHJpZ2dlciA9ICdjb250ZXh0bWVudScsXG4gICAgICAuLi5yZXN0XG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICAvLyBDcmVhdGUgYSBkdW1teSBlbGVtZW50IGZvciB0aGUgY29tcG9uZW50XG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuXG4gICAgY29uc3QgbWVudSA9IG5ldyBTT0NvbnRleHRNZW51KHdyYXBwZXIsIHtcbiAgICAgIGl0ZW1zLFxuICAgICAgdHJpZ2dlcixcbiAgICAgIC4uLnJlc3QsXG4gICAgfSk7XG5cbiAgICAvLyBBdHRhY2ggdG8gdGFyZ2V0IGlmIHByb3ZpZGVkXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgbWVudS5hdHRhY2godGFyZ2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVudTtcbiAgfVxufVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnRcblNPQ29udGV4dE1lbnUucmVnaXN0ZXIoKTtcblxuLy8gRXhwb3NlIHRvIGdsb2JhbCBzY29wZVxud2luZG93LlNPQ29udGV4dE1lbnUgPSBTT0NvbnRleHRNZW51O1xuXG4vLyBFeHBvcnQgZm9yIEVTIG1vZHVsZXNcbmV4cG9ydCBkZWZhdWx0IFNPQ29udGV4dE1lbnU7XG5leHBvcnQgeyBTT0NvbnRleHRNZW51IH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gUFJPR1JFU1MgQlVUVE9OIENPTVBPTkVOVFxuLy8gQnV0dG9ucyB3aXRoIHByb2dyZXNzIGluZGljYXRvciBhbmQgc3RhdGUgbWFuYWdlbWVudFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uL2NvcmUvc28tY29uZmlnLmpzJztcbmltcG9ydCBTT0NvbXBvbmVudCBmcm9tICcuLi9jb3JlL3NvLWNvbXBvbmVudC5qcyc7XG5cbi8qKlxuICogU09Qcm9ncmVzc0J1dHRvbiAtIFByb2dyZXNzIGJ1dHRvbiBjb21wb25lbnRcbiAqIFByb3ZpZGVzIHByb2dyYW1tYXRpYyBjb250cm9sIG92ZXIgYnV0dG9uIHByb2dyZXNzIHN0YXRlc1xuICovXG5jbGFzcyBTT1Byb2dyZXNzQnV0dG9uIGV4dGVuZHMgU09Db21wb25lbnQge1xuICBzdGF0aWMgTkFNRSA9ICdwcm9ncmVzc0J1dHRvbic7XG5cbiAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgIGF1dG9EaXNhYmxlOiB0cnVlLCAgICAgICAgICAvLyBEaXNhYmxlIGJ1dHRvbiBkdXJpbmcgcHJvZ3Jlc3NcbiAgICBhdXRvUmVzZXQ6IGZhbHNlLCAgICAgICAgICAgLy8gQXV0byByZXNldCBhZnRlciBjb21wbGV0ZSAobXMsIDAgPSBkaXNhYmxlZClcbiAgICBzaW11bGF0ZU9uQ2xpY2s6IGZhbHNlLCAgICAgLy8gQXV0by1zaW11bGF0ZSBwcm9ncmVzcyBvbiBjbGlja1xuICAgIHNpbXVsYXRlU3BlZWQ6IDE1MCwgICAgICAgICAvLyBJbnRlcnZhbCBmb3Igc2ltdWxhdGVkIHByb2dyZXNzIChtcylcbiAgICBzaW11bGF0ZUluY3JlbWVudDogWzUsIDE1XSwgLy8gUmFuZG9tIGluY3JlbWVudCByYW5nZSBbbWluLCBtYXhdXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBTVEFSVDogJ3Byb2dyZXNzOnN0YXJ0JyxcbiAgICBQUk9HUkVTUzogJ3Byb2dyZXNzOnVwZGF0ZScsXG4gICAgQ09NUExFVEU6ICdwcm9ncmVzczpjb21wbGV0ZScsXG4gICAgUkVTRVQ6ICdwcm9ncmVzczpyZXNldCcsXG4gIH07XG5cbiAgc3RhdGljIFNUQVRFUyA9IHtcbiAgICBJRExFOiAnaWRsZScsXG4gICAgUFJPR1JFU1NJTkc6ICdwcm9ncmVzc2luZycsXG4gICAgQ09NUExFVEVEOiAnY29tcGxldGVkJyxcbiAgfTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBJTklUSUFMSVpBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBwcm9ncmVzcyBidXR0b24gY29tcG9uZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBDdXJyZW50IHN0YXRlXG4gICAgdGhpcy5fc3RhdGUgPSBTT1Byb2dyZXNzQnV0dG9uLlNUQVRFUy5JRExFO1xuICAgIHRoaXMuX3Byb2dyZXNzID0gMDtcbiAgICB0aGlzLl9zaW11bGF0ZUludGVydmFsID0gbnVsbDtcblxuICAgIC8vIENhY2hlIGVsZW1lbnRzXG4gICAgdGhpcy5fcHJvZ3Jlc3NCYXIgPSB0aGlzLiQoJy5zby1idG4tcHJvZ3Jlc3MtYmFyJyk7XG4gICAgdGhpcy5fdGV4dEVsID0gdGhpcy4kKCcuc28tYnRuLXRleHQnKTtcbiAgICB0aGlzLl9zdGFydEVsID0gdGhpcy4kKCcuc28tYnRuLXN0YXJ0Jyk7XG4gICAgdGhpcy5fZG9uZUVsID0gdGhpcy4kKCcuc28tYnRuLWRvbmUnKTtcblxuICAgIC8vIFBhcnNlIG9wdGlvbnMgZnJvbSBkYXRhIGF0dHJpYnV0ZXNcbiAgICB0aGlzLl9wYXJzZURhdGFPcHRpb25zKCk7XG5cbiAgICAvLyBCaW5kIGV2ZW50c1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBhZGRpdGlvbmFsIGRhdGEgYXR0cmlidXRlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BhcnNlRGF0YU9wdGlvbnMoKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgICBpZiAoZWwuZGF0YXNldC5hdXRvRGlzYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuYXV0b0Rpc2FibGUgPSBlbC5kYXRhc2V0LmF1dG9EaXNhYmxlICE9PSAnZmFsc2UnO1xuICAgIH1cbiAgICBpZiAoZWwuZGF0YXNldC5hdXRvUmVzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmF1dG9SZXNldCA9IHBhcnNlSW50KGVsLmRhdGFzZXQuYXV0b1Jlc2V0LCAxMCkgfHwgMDtcbiAgICB9XG4gICAgaWYgKGVsLmRhdGFzZXQuc2ltdWxhdGVPbkNsaWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zaW11bGF0ZU9uQ2xpY2sgPSBlbC5kYXRhc2V0LnNpbXVsYXRlT25DbGljayA9PT0gJ3RydWUnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gQ2xpY2sgaGFuZGxlciBmb3Igc2ltdWxhdGUgbW9kZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2ltdWxhdGVPbkNsaWNrKSB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGNsaWNrIGZvciBzaW11bGF0ZSBtb2RlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBDbGljayBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUNsaWNrKGUpIHtcbiAgICBpZiAodGhpcy5fc3RhdGUgPT09IFNPUHJvZ3Jlc3NCdXR0b24uU1RBVEVTLkNPTVBMRVRFRCkge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fc3RhdGUgPT09IFNPUHJvZ3Jlc3NCdXR0b24uU1RBVEVTLklETEUpIHtcbiAgICAgIHRoaXMuc2ltdWxhdGUoKTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQVUJMSUMgQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHByb2dyZXNzIChlbnRlciBwcm9ncmVzc2luZyBzdGF0ZSlcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbml0aWFsUHJvZ3Jlc3M9MF0gLSBJbml0aWFsIHByb2dyZXNzIHZhbHVlICgwLTEwMClcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc3RhcnQoaW5pdGlhbFByb2dyZXNzID0gMCkge1xuICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gU09Qcm9ncmVzc0J1dHRvbi5TVEFURVMuUFJPR1JFU1NJTkcpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YXRlID0gU09Qcm9ncmVzc0J1dHRvbi5TVEFURVMuUFJPR1JFU1NJTkc7XG4gICAgdGhpcy5fcHJvZ3Jlc3MgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIGluaXRpYWxQcm9ncmVzcykpO1xuXG4gICAgLy8gVXBkYXRlIFVJXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLXByb2dyZXNzaW5nJyk7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWNvbXBsZXRlZCcpO1xuICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzQmFyKCk7XG5cbiAgICAvLyBEaXNhYmxlIGlmIGNvbmZpZ3VyZWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9EaXNhYmxlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09Qcm9ncmVzc0J1dHRvbi5FVkVOVFMuU1RBUlQsIHtcbiAgICAgIHByb2dyZXNzOiB0aGlzLl9wcm9ncmVzcyxcbiAgICAgIHN0YXRlOiB0aGlzLl9zdGF0ZSxcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBwcm9ncmVzcyB2YWx1ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBQcm9ncmVzcyB2YWx1ZSAoMC0xMDApXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNldFByb2dyZXNzKHZhbHVlKSB7XG4gICAgLy8gQXV0by1zdGFydCBpZiBub3QgcHJvZ3Jlc3NpbmdcbiAgICBpZiAodGhpcy5fc3RhdGUgPT09IFNPUHJvZ3Jlc3NCdXR0b24uU1RBVEVTLklETEUpIHtcbiAgICAgIHRoaXMuc3RhcnQodmFsdWUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0YXRlICE9PSBTT1Byb2dyZXNzQnV0dG9uLlNUQVRFUy5QUk9HUkVTU0lORykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkUHJvZ3Jlc3MgPSB0aGlzLl9wcm9ncmVzcztcbiAgICB0aGlzLl9wcm9ncmVzcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgdmFsdWUpKTtcbiAgICB0aGlzLl91cGRhdGVQcm9ncmVzc0JhcigpO1xuXG4gICAgLy8gRW1pdCBldmVudFxuICAgIHRoaXMuZW1pdChTT1Byb2dyZXNzQnV0dG9uLkVWRU5UUy5QUk9HUkVTUywge1xuICAgICAgcHJvZ3Jlc3M6IHRoaXMuX3Byb2dyZXNzLFxuICAgICAgcHJldmlvdXNQcm9ncmVzczogb2xkUHJvZ3Jlc3MsXG4gICAgICBzdGF0ZTogdGhpcy5fc3RhdGUsXG4gICAgfSk7XG5cbiAgICAvLyBBdXRvLWNvbXBsZXRlIGF0IDEwMCVcbiAgICBpZiAodGhpcy5fcHJvZ3Jlc3MgPj0gMTAwKSB7XG4gICAgICB0aGlzLl9kb0NvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW5jcmVtZW50IHByb2dyZXNzIGJ5IGEgdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIEFtb3VudCB0byBpbmNyZW1lbnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgaW5jcmVtZW50KGFtb3VudCkge1xuICAgIHJldHVybiB0aGlzLnNldFByb2dyZXNzKHRoaXMuX3Byb2dyZXNzICsgYW1vdW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wbGV0ZSB0aGUgcHJvZ3Jlc3MgKGVudGVyIGNvbXBsZXRlZCBzdGF0ZSlcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgY29tcGxldGUoKSB7XG4gICAgaWYgKHRoaXMuX3N0YXRlID09PSBTT1Byb2dyZXNzQnV0dG9uLlNUQVRFUy5DT01QTEVURUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIFN0b3AgYW55IHNpbXVsYXRpb25cbiAgICB0aGlzLl9zdG9wU2ltdWxhdGlvbigpO1xuXG4gICAgLy8gU2V0IHRvIDEwMCUgZmlyc3RcbiAgICB0aGlzLl9wcm9ncmVzcyA9IDEwMDtcbiAgICB0aGlzLl91cGRhdGVQcm9ncmVzc0JhcigpO1xuXG4gICAgLy8gU21hbGwgZGVsYXkgZm9yIHZpc3VhbCBmZWVkYmFjaywgdGhlbiBjb21wbGV0ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fZG9Db21wbGV0ZSgpLCAyMDApO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgY29tcGxldGUgaGFuZGxlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RvQ29tcGxldGUoKSB7XG4gICAgdGhpcy5fc3RhdGUgPSBTT1Byb2dyZXNzQnV0dG9uLlNUQVRFUy5DT01QTEVURUQ7XG5cbiAgICAvLyBVcGRhdGUgVUlcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc28tcHJvZ3Jlc3NpbmcnKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tY29tcGxldGVkJyk7XG5cbiAgICAvLyBSZS1lbmFibGUgYnV0dG9uXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvRGlzYWJsZSkge1xuICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRW1pdCBldmVudFxuICAgIHRoaXMuZW1pdChTT1Byb2dyZXNzQnV0dG9uLkVWRU5UUy5DT01QTEVURSwge1xuICAgICAgcHJvZ3Jlc3M6IDEwMCxcbiAgICAgIHN0YXRlOiB0aGlzLl9zdGF0ZSxcbiAgICB9KTtcblxuICAgIC8vIEF1dG8tcmVzZXQgaWYgY29uZmlndXJlZFxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1Jlc2V0ID4gMCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlc2V0KCksIHRoaXMub3B0aW9ucy5hdXRvUmVzZXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0byBpbml0aWFsIHN0YXRlXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIC8vIFN0b3AgYW55IHNpbXVsYXRpb25cbiAgICB0aGlzLl9zdG9wU2ltdWxhdGlvbigpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSBTT1Byb2dyZXNzQnV0dG9uLlNUQVRFUy5JRExFO1xuICAgIHRoaXMuX3Byb2dyZXNzID0gMDtcblxuICAgIC8vIFVwZGF0ZSBVSVxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzby1wcm9ncmVzc2luZycsICdzby1jb21wbGV0ZWQnKTtcbiAgICB0aGlzLl91cGRhdGVQcm9ncmVzc0JhcigpO1xuXG4gICAgLy8gUmUtZW5hYmxlIGJ1dHRvblxuICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gRW1pdCBldmVudFxuICAgIHRoaXMuZW1pdChTT1Byb2dyZXNzQnV0dG9uLkVWRU5UUy5SRVNFVCwge1xuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBzdGF0ZTogdGhpcy5fc3RhdGUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTaW11bGF0ZSBwcm9ncmVzcyBhdXRvbWF0aWNhbGx5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBTaW11bGF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNwZWVkXSAtIEludGVydmFsIGluIG1zXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IFtvcHRpb25zLmluY3JlbWVudF0gLSBbbWluLCBtYXhdIHJhbmRvbSBpbmNyZW1lbnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2ltdWxhdGUob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgc3BlZWQgPSBvcHRpb25zLnNwZWVkIHx8IHRoaXMub3B0aW9ucy5zaW11bGF0ZVNwZWVkO1xuICAgIGNvbnN0IFttaW5JbmMsIG1heEluY10gPSBvcHRpb25zLmluY3JlbWVudCB8fCB0aGlzLm9wdGlvbnMuc2ltdWxhdGVJbmNyZW1lbnQ7XG5cbiAgICAvLyBTdGFydCBwcm9ncmVzc1xuICAgIHRoaXMuc3RhcnQoMCk7XG5cbiAgICAvLyBSdW4gc2ltdWxhdGlvblxuICAgIHRoaXMuX3NpbXVsYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBjb25zdCBpbmNyZW1lbnQgPSBNYXRoLnJhbmRvbSgpICogKG1heEluYyAtIG1pbkluYykgKyBtaW5JbmM7XG4gICAgICBjb25zdCBuZXdQcm9ncmVzcyA9IHRoaXMuX3Byb2dyZXNzICsgaW5jcmVtZW50O1xuXG4gICAgICBpZiAobmV3UHJvZ3Jlc3MgPj0gMTAwKSB7XG4gICAgICAgIHRoaXMuX3N0b3BTaW11bGF0aW9uKCk7XG4gICAgICAgIHRoaXMuc2V0UHJvZ3Jlc3MoMTAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0UHJvZ3Jlc3MobmV3UHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgIH0sIHNwZWVkKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3Agc2ltdWxhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0b3BTaW11bGF0aW9uKCkge1xuICAgIGlmICh0aGlzLl9zaW11bGF0ZUludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuX3NpbXVsYXRlSW50ZXJ2YWwpO1xuICAgICAgdGhpcy5fc2ltdWxhdGVJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBwcm9ncmVzcyBiYXIgQ1NTXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlUHJvZ3Jlc3NCYXIoKSB7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXByb2dyZXNzJywgYCR7dGhpcy5fcHJvZ3Jlc3N9JWApO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gR0VUVEVSU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBwcm9ncmVzcyB2YWx1ZVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBQcm9ncmVzcyAoMC0xMDApXG4gICAqL1xuICBnZXRQcm9ncmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvZ3Jlc3M7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgc3RhdGVcbiAgICogQHJldHVybnMge3N0cmluZ30gQ3VycmVudCBzdGF0ZSAoaWRsZSwgcHJvZ3Jlc3NpbmcsIGNvbXBsZXRlZClcbiAgICovXG4gIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBidXR0b24gaXMgcHJvZ3Jlc3NpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc1Byb2dyZXNzaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU09Qcm9ncmVzc0J1dHRvbi5TVEFURVMuUFJPR1JFU1NJTkc7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYnV0dG9uIGlzIGNvbXBsZXRlZFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQ29tcGxldGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU09Qcm9ncmVzc0J1dHRvbi5TVEFURVMuQ09NUExFVEVEO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGJ1dHRvbiBpcyBpZGxlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNJZGxlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU09Qcm9ncmVzc0J1dHRvbi5TVEFURVMuSURMRTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIENPTlRFTlQgTUFOSVBVTEFUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWFpbiB0ZXh0IGNvbnRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgLSBIVE1MIGNvbnRlbnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2V0VGV4dChodG1sKSB7XG4gICAgaWYgKHRoaXMuX3RleHRFbCkge1xuICAgICAgdGhpcy5fdGV4dEVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RhcnQgY29udGVudCAoc2hvd24gZHVyaW5nIHByb2dyZXNzKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gaHRtbCAtIEhUTUwgY29udGVudFxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBzZXRTdGFydENvbnRlbnQoaHRtbCkge1xuICAgIGlmICh0aGlzLl9zdGFydEVsKSB7XG4gICAgICB0aGlzLl9zdGFydEVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZG9uZSBjb250ZW50IChzaG93biBvbiBjb21wbGV0ZSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgLSBIVE1MIGNvbnRlbnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2V0RG9uZUNvbnRlbnQoaHRtbCkge1xuICAgIGlmICh0aGlzLl9kb25lRWwpIHtcbiAgICAgIHRoaXMuX2RvbmVFbC5pbm5lckhUTUwgPSBodG1sO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIExJRkVDWUNMRVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBjb21wb25lbnRcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc3RvcFNpbXVsYXRpb24oKTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG59XG5cbi8vIFJlZ2lzdGVyIGNvbXBvbmVudFxuU09Qcm9ncmVzc0J1dHRvbi5yZWdpc3RlcigpO1xuXG4vLyBBdXRvLWluaXRpYWxpemUgcHJvZ3Jlc3MgYnV0dG9ucyB3aXRoIGRhdGEgYXR0cmlidXRlXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBTT1Byb2dyZXNzQnV0dG9uLmluaXRBbGwoJy5zby1idG4tcHJvZ3Jlc3NbZGF0YS1zby1wcm9ncmVzc10nKTtcbn0pO1xuXG4vLyBFeHBvc2UgdG8gZ2xvYmFsIHNjb3BlXG53aW5kb3cuU09Qcm9ncmVzc0J1dHRvbiA9IFNPUHJvZ3Jlc3NCdXR0b247XG5cbi8vIEV4cG9ydCBmb3IgRVMgbW9kdWxlc1xuZXhwb3J0IGRlZmF1bHQgU09Qcm9ncmVzc0J1dHRvbjtcbmV4cG9ydCB7IFNPUHJvZ3Jlc3NCdXR0b24gfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgLSBCVVRUT04gR1JPVVAgQ09NUE9ORU5UXG4vLyBUb2dnbGUgYnV0dG9ucyB3aXRoIHJhZGlvL2NoZWNrYm94IGJlaGF2aW9yXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vY29yZS9zby1jb25maWcuanMnO1xuaW1wb3J0IFNPQ29tcG9uZW50IGZyb20gJy4uL2NvcmUvc28tY29tcG9uZW50LmpzJztcblxuLyoqXG4gKiBTT0J1dHRvbkdyb3VwIC0gVG9nZ2xlIGJ1dHRvbiBncm91cCBjb21wb25lbnRcbiAqIFN1cHBvcnRzIHJhZGlvIChzaW5nbGUgc2VsZWN0aW9uKSBhbmQgY2hlY2tib3ggKG11bHRpLXNlbGVjdGlvbikgbW9kZXNcbiAqL1xuY2xhc3MgU09CdXR0b25Hcm91cCBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAnYnV0dG9uR3JvdXAnO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICB0eXBlOiAnY2hlY2tib3gnLCAgICAgICAgICAvLyAncmFkaW8nIG9yICdjaGVja2JveCdcbiAgICBlbmZvcmNlU2VsZWN0aW9uOiBmYWxzZSwgICAvLyBQcmV2ZW50IGRlc2VsZWN0aW5nIGxhc3QgaXRlbVxuICAgIGtleWJvYXJkOiB0cnVlLCAgICAgICAgICAgIC8vIEVuYWJsZSBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBDSEFOR0U6ICd0b2dnbGU6Y2hhbmdlJyxcbiAgfTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBJTklUSUFMSVpBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBidXR0b24gZ3JvdXAgY29tcG9uZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBHZXQgdG9nZ2xlIHR5cGUgZnJvbSBkYXRhIGF0dHJpYnV0ZSBvciBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zLnR5cGUgPSB0aGlzLmVsZW1lbnQuZGF0YXNldC50b2dnbGVUeXBlIHx8IHRoaXMub3B0aW9ucy50eXBlO1xuICAgIHRoaXMub3B0aW9ucy5lbmZvcmNlU2VsZWN0aW9uID0gdGhpcy5lbGVtZW50LmRhdGFzZXQuZW5mb3JjZVNlbGVjdGlvbiA9PT0gJ3RydWUnIHx8IHRoaXMub3B0aW9ucy5lbmZvcmNlU2VsZWN0aW9uO1xuXG4gICAgLy8gQ2FjaGUgaW5wdXQgZWxlbWVudHNcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLiQkKCcuc28tYnRuLWNoZWNrJyk7XG4gICAgdGhpcy5fYnV0dG9ucyA9IHRoaXMuX2lucHV0cy5tYXAoaW5wdXQgPT4gaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nKTtcblxuICAgIC8vIEJpbmQgZXZlbnRzXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuXG4gICAgLy8gU2V0IHVwIEFSSUEgYXR0cmlidXRlc1xuICAgIHRoaXMuX3NldHVwQXJpYSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICAvLyBDaGFuZ2UgaGFuZGxlciBmb3IgaW5wdXRzXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgdGhpcy5vbignY2hhbmdlJywgdGhpcy5faGFuZGxlQ2hhbmdlLCBpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBDbGljayBoYW5kbGVyIGZvciBlbmZvcmNlZCBzZWxlY3Rpb24gKHJhZGlvKVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZW5mb3JjZVNlbGVjdGlvbiAmJiB0aGlzLm9wdGlvbnMudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZVJhZGlvQ2xpY2ssIGlucHV0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEtleWJvYXJkIG5hdmlnYXRpb25cbiAgICBpZiAodGhpcy5vcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICB0aGlzLm9uKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCBBUklBIGF0dHJpYnV0ZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXR1cEFyaWEoKSB7XG4gICAgLy8gU2V0IHJvbGUgb24gY29udGFpbmVyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2dyb3VwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZ3JvdXAnKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgdmVydGljYWwgb3JpZW50YXRpb25cbiAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc28tYnRuLWdyb3VwLXZlcnRpY2FsJykpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtb3JpZW50YXRpb24nLCAndmVydGljYWwnKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgZWFjaCBidXR0b25cbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSB0aGlzLl9idXR0b25zW2luZGV4XTtcbiAgICAgIGlmIChidXR0b24pIHtcbiAgICAgICAgLy8gQnV0dG9uIHNob3VsZCBub3QgaGF2ZSByb2xlIHdoZW4gaXQncyBhIGxhYmVsXG4gICAgICAgIGlmIChidXR0b24udGFnTmFtZSA9PT0gJ0xBQkVMJykge1xuICAgICAgICAgIC8vIExhYmVsIGlzIHN1ZmZpY2llbnQgZm9yIGFjY2Vzc2liaWxpdHlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgSEFORExFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogSGFuZGxlIGlucHV0IGNoYW5nZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2hhbmdlIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICBjb25zdCBpbnB1dCA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IHZhbHVlID0gaW5wdXQudmFsdWU7XG4gICAgY29uc3QgY2hlY2tlZCA9IGlucHV0LmNoZWNrZWQ7XG5cbiAgICAvLyBFbmZvcmNlIHNlbGVjdGlvbiBmb3IgY2hlY2tib3ggbW9kZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZW5mb3JjZVNlbGVjdGlvbiAmJiB0aGlzLm9wdGlvbnMudHlwZSA9PT0gJ2NoZWNrYm94JyAmJiAhY2hlY2tlZCkge1xuICAgICAgY29uc3QgY2hlY2tlZElucHV0cyA9IHRoaXMuX2lucHV0cy5maWx0ZXIoaSA9PiBpLmNoZWNrZWQpO1xuICAgICAgaWYgKGNoZWNrZWRJbnB1dHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFByZXZlbnQgdW5jaGVja2luZyB0aGUgbGFzdCBpdGVtXG4gICAgICAgIGlucHV0LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW1pdCBjaGFuZ2UgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09CdXR0b25Hcm91cC5FVkVOVFMuQ0hBTkdFLCB7XG4gICAgICB2YWx1ZTogdGhpcy5nZXRWYWx1ZSgpLFxuICAgICAgY2hhbmdlZDogdmFsdWUsXG4gICAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgICAgaW5wdXQ6IGlucHV0XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHJhZGlvIGNsaWNrIGZvciBlbmZvcmNlZCBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIENsaWNrIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlUmFkaW9DbGljayhlKSB7XG4gICAgY29uc3QgaW5wdXQgPSBlLnRhcmdldDtcblxuICAgIC8vIFN0b3JlIHRoZSBwcmV2aW91cyBzdGF0ZSBiZWZvcmUgdGhlIGNsaWNrIGNoYW5nZXMgaXRcbiAgICBpZiAoaW5wdXQuX3dhc0NoZWNrZWQgJiYgdGhpcy5vcHRpb25zLmVuZm9yY2VTZWxlY3Rpb24pIHtcbiAgICAgIC8vIFJhZGlvIHdhcyBhbHJlYWR5IGNoZWNrZWQsIHByZXZlbnQgbmF0aXZlIGJlaGF2aW9yIGZyb20gdW5jaGVja2luZ1xuICAgICAgLy8gKE5vdGU6IG5hdGl2ZSByYWRpbyBpbnB1dHMgZG9uJ3QgdW5jaGVjayBvbiBjbGljaywgYnV0IHRoaXMgaXMgZm9yIHNhZmV0eSlcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlucHV0LmNoZWNrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIE1hcmsgY3VycmVudCBzdGF0ZSBmb3IgbmV4dCBjbGlja1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKGkgPT4ge1xuICAgICAgaS5fd2FzQ2hlY2tlZCA9IGkuY2hlY2tlZDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgLSBLZXlib2FyZCBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUtleWRvd24oZSkge1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1idG4tZ3JvdXAtdmVydGljYWwnKTtcbiAgICBjb25zdCBlbmFibGVkSW5wdXRzID0gdGhpcy5faW5wdXRzLmZpbHRlcihpbnB1dCA9PiAhaW5wdXQuZGlzYWJsZWQpO1xuXG4gICAgaWYgKGVuYWJsZWRJbnB1dHMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAvLyBGaW5kIHRoZSBjdXJyZW50bHkgZm9jdXNlZCBidXR0b24vbGFiZWxcbiAgICBjb25zdCBmb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgY29uc3QgY3VycmVudElucHV0ID0gZW5hYmxlZElucHV0cy5maW5kKGlucHV0ID0+IHtcbiAgICAgIGNvbnN0IGxhYmVsID0gaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgcmV0dXJuIGxhYmVsID09PSBmb2N1c2VkRWxlbWVudCB8fCBpbnB1dCA9PT0gZm9jdXNlZEVsZW1lbnQ7XG4gICAgfSk7XG5cbiAgICBpZiAoIWN1cnJlbnRJbnB1dCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gZW5hYmxlZElucHV0cy5pbmRleE9mKGN1cnJlbnRJbnB1dCk7XG4gICAgbGV0IG5ld0luZGV4ID0gY3VycmVudEluZGV4O1xuXG4gICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgaWYgKCFpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIG5ld0luZGV4ID0gY3VycmVudEluZGV4IC0gMTtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IGVuYWJsZWRJbnB1dHMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgIGlmICghaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCArIDE7XG4gICAgICAgICAgaWYgKG5ld0luZGV4ID49IGVuYWJsZWRJbnB1dHMubGVuZ3RoKSBuZXdJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCAtIDE7XG4gICAgICAgICAgaWYgKG5ld0luZGV4IDwgMCkgbmV3SW5kZXggPSBlbmFibGVkSW5wdXRzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIG5ld0luZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPj0gZW5hYmxlZElucHV0cy5sZW5ndGgpIG5ld0luZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnSG9tZSc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbmV3SW5kZXggPSAwO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnRW5kJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBuZXdJbmRleCA9IGVuYWJsZWRJbnB1dHMubGVuZ3RoIC0gMTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJyAnOlxuICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGVuYWJsZWRJbnB1dHNbY3VycmVudEluZGV4XS5jaGVja2VkID0gIWVuYWJsZWRJbnB1dHNbY3VycmVudEluZGV4XS5jaGVja2VkO1xuICAgICAgICAgIGVuYWJsZWRJbnB1dHNbY3VycmVudEluZGV4XS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmFibGVkSW5wdXRzW2N1cnJlbnRJbmRleF0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgZW5hYmxlZElucHV0c1tjdXJyZW50SW5kZXhdLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZvY3VzIHRoZSBuZXcgYnV0dG9uJ3MgbGFiZWxcbiAgICBpZiAobmV3SW5kZXggIT09IGN1cnJlbnRJbmRleCAmJiBuZXdJbmRleCA+PSAwKSB7XG4gICAgICBjb25zdCBuZXdMYWJlbCA9IGVuYWJsZWRJbnB1dHNbbmV3SW5kZXhdLm5leHRFbGVtZW50U2libGluZztcbiAgICAgIGlmIChuZXdMYWJlbCkge1xuICAgICAgICBuZXdMYWJlbC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBVQkxJQyBBUElcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgc2VsZWN0ZWQgdmFsdWUocylcbiAgICogQHJldHVybnMge3N0cmluZ3xzdHJpbmdbXXxudWxsfSBTZWxlY3RlZCB2YWx1ZSAocmFkaW8pIG9yIGFycmF5IG9mIHZhbHVlcyAoY2hlY2tib3gpXG4gICAqL1xuICBnZXRWYWx1ZSgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIGNvbnN0IGNoZWNrZWQgPSB0aGlzLl9pbnB1dHMuZmluZChpbnB1dCA9PiBpbnB1dC5jaGVja2VkKTtcbiAgICAgIHJldHVybiBjaGVja2VkID8gY2hlY2tlZC52YWx1ZSA6IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbnB1dHNcbiAgICAgICAgLmZpbHRlcihpbnB1dCA9PiBpbnB1dC5jaGVja2VkKVxuICAgICAgICAubWFwKGlucHV0ID0+IGlucHV0LnZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHNlbGVjdGVkIHZhbHVlKHMpXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB2YWx1ZSAtIFZhbHVlIG9yIGFycmF5IG9mIHZhbHVlcyB0byBzZWxlY3RcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIGNvbnN0IHZhbHVlU3RyID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgaW5wdXQuY2hlY2tlZCA9IGlucHV0LnZhbHVlID09PSB2YWx1ZVN0cjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgaW5wdXQuY2hlY2tlZCA9IHZhbHVlcy5pbmNsdWRlcyhpbnB1dC52YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBFbWl0IGNoYW5nZSBldmVudFxuICAgIHRoaXMuZW1pdChTT0J1dHRvbkdyb3VwLkVWRU5UUy5DSEFOR0UsIHtcbiAgICAgIHZhbHVlOiB0aGlzLmdldFZhbHVlKCksXG4gICAgICBjaGFuZ2VkOiBudWxsLFxuICAgICAgY2hlY2tlZDogbnVsbCxcbiAgICAgIHByb2dyYW1tYXRpYzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGEgc3BlY2lmaWMgYnV0dG9uIGJ5IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFZhbHVlIG9mIGJ1dHRvbiB0byB0b2dnbGVcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgdG9nZ2xlKHZhbHVlKSB7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLl9pbnB1dHMuZmluZChpID0+IGkudmFsdWUgPT09IHZhbHVlKTtcbiAgICBpZiAoIWlucHV0IHx8IGlucHV0LmRpc2FibGVkKSByZXR1cm4gdGhpcztcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgLy8gUmFkaW86IGp1c3Qgc2VsZWN0IHRoaXMgb25lXG4gICAgICBpbnB1dC5jaGVja2VkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2hlY2tib3g6IHRvZ2dsZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmZvcmNlU2VsZWN0aW9uICYmIGlucHV0LmNoZWNrZWQpIHtcbiAgICAgICAgY29uc3QgY2hlY2tlZENvdW50ID0gdGhpcy5faW5wdXRzLmZpbHRlcihpID0+IGkuY2hlY2tlZCkubGVuZ3RoO1xuICAgICAgICBpZiAoY2hlY2tlZENvdW50IDw9IDEpIHtcbiAgICAgICAgICByZXR1cm4gdGhpczsgLy8gRG9uJ3QgdW5jaGVjayB0aGUgbGFzdCBvbmVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaW5wdXQuY2hlY2tlZCA9ICFpbnB1dC5jaGVja2VkO1xuICAgIH1cblxuICAgIGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBidXR0b24gYnkgaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgYnV0dG9uIHRvIHRvZ2dsZSAoMC1iYXNlZClcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgdG9nZ2xlSW5kZXgoaW5kZXgpIHtcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuX2lucHV0c1tpbmRleF07XG4gICAgaWYgKCFpbnB1dCkgcmV0dXJuIHRoaXM7XG4gICAgcmV0dXJuIHRoaXMudG9nZ2xlKGlucHV0LnZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3QgYWxsIGJ1dHRvbnMgKGNoZWNrYm94IG1vZGUgb25seSlcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgc2VsZWN0QWxsKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudHlwZSAhPT0gJ2NoZWNrYm94JykgcmV0dXJuIHRoaXM7XG5cbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBpZiAoIWlucHV0LmRpc2FibGVkKSB7XG4gICAgICAgIGlucHV0LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5lbWl0KFNPQnV0dG9uR3JvdXAuRVZFTlRTLkNIQU5HRSwge1xuICAgICAgdmFsdWU6IHRoaXMuZ2V0VmFsdWUoKSxcbiAgICAgIGNoYW5nZWQ6IG51bGwsXG4gICAgICBjaGVja2VkOiB0cnVlLFxuICAgICAgcHJvZ3JhbW1hdGljOiB0cnVlXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXNlbGVjdCBhbGwgYnV0dG9uc1xuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBkZXNlbGVjdEFsbCgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmVuZm9yY2VTZWxlY3Rpb24pIHJldHVybiB0aGlzO1xuXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgaW5wdXQuY2hlY2tlZCA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbWl0KFNPQnV0dG9uR3JvdXAuRVZFTlRTLkNIQU5HRSwge1xuICAgICAgdmFsdWU6IHRoaXMuZ2V0VmFsdWUoKSxcbiAgICAgIGNoYW5nZWQ6IG51bGwsXG4gICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgIHByb2dyYW1tYXRpYzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIGFsbCBidXR0b25zXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBpbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIHJldHVybiBzdXBlci5lbmFibGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIGFsbCBidXR0b25zXG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgaW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiBzdXBlci5kaXNhYmxlKCk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIGEgc3BlY2lmaWMgYnV0dG9uIGJ5IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFZhbHVlIG9mIGJ1dHRvbiB0byBlbmFibGVcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgZW5hYmxlQnV0dG9uKHZhbHVlKSB7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLl9pbnB1dHMuZmluZChpID0+IGkudmFsdWUgPT09IHZhbHVlKTtcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIGlucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgYSBzcGVjaWZpYyBidXR0b24gYnkgdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsdWUgb2YgYnV0dG9uIHRvIGRpc2FibGVcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgZGlzYWJsZUJ1dHRvbih2YWx1ZSkge1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5faW5wdXRzLmZpbmQoaSA9PiBpLnZhbHVlID09PSB2YWx1ZSk7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICBpbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgYnV0dG9uIHZhbHVlc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nW119IEFycmF5IG9mIGFsbCBidXR0b24gdmFsdWVzXG4gICAqL1xuICBnZXRWYWx1ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0cy5tYXAoaW5wdXQgPT4gaW5wdXQudmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgc3BlY2lmaWMgdmFsdWUgaXMgc2VsZWN0ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHZhbHVlIGlzIHNlbGVjdGVkXG4gICAqL1xuICBpc1NlbGVjdGVkKHZhbHVlKSB7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLl9pbnB1dHMuZmluZChpID0+IGkudmFsdWUgPT09IHZhbHVlKTtcbiAgICByZXR1cm4gaW5wdXQgPyBpbnB1dC5jaGVja2VkIDogZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBudW1iZXIgb2Ygc2VsZWN0ZWQgYnV0dG9uc1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBDb3VudCBvZiBzZWxlY3RlZCBidXR0b25zXG4gICAqL1xuICBnZXRTZWxlY3RlZENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dHMuZmlsdGVyKGlucHV0ID0+IGlucHV0LmNoZWNrZWQpLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHRoZSBjb21wb25lbnQgKHJlLXNjYW4gZm9yIGlucHV0cylcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLiQkKCcuc28tYnRuLWNoZWNrJyk7XG4gICAgdGhpcy5fYnV0dG9ucyA9IHRoaXMuX2lucHV0cy5tYXAoaW5wdXQgPT4gaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgICB0aGlzLl9zZXR1cEFyaWEoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnRcblNPQnV0dG9uR3JvdXAucmVnaXN0ZXIoKTtcblxuLy8gQXV0by1pbml0aWFsaXplIGJ1dHRvbiBncm91cHMgd2l0aCBkYXRhIGF0dHJpYnV0ZVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgU09CdXR0b25Hcm91cC5pbml0QWxsKCdbZGF0YS1zby10b2dnbGU9XCJidXR0b25zXCJdJyk7XG59KTtcblxuLy8gRXhwb3NlIHRvIGdsb2JhbCBzY29wZVxud2luZG93LlNPQnV0dG9uR3JvdXAgPSBTT0J1dHRvbkdyb3VwO1xuXG4vLyBFeHBvcnQgZm9yIEVTIG1vZHVsZXNcbmV4cG9ydCBkZWZhdWx0IFNPQnV0dG9uR3JvdXA7XG5leHBvcnQgeyBTT0J1dHRvbkdyb3VwIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gQUxFUlQgQ09NUE9ORU5UXG4vLyBEaXNtaXNzaWJsZSBhbGVydHMgd2l0aCBhbmltYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vY29yZS9zby1jb25maWcuanMnO1xuaW1wb3J0IFNPQ29tcG9uZW50IGZyb20gJy4uL2NvcmUvc28tY29tcG9uZW50LmpzJztcblxuLyoqXG4gKiBTT0FsZXJ0IC0gQWxlcnQgbm90aWZpY2F0aW9uIGNvbXBvbmVudFxuICogU3VwcG9ydHMgZGlzbWlzc2libGUgYWxlcnRzIHdpdGggc21vb3RoIGFuaW1hdGlvbnNcbiAqL1xuY2xhc3MgU09BbGVydCBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAnYWxlcnQnO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICBkaXNtaXNzaWJsZTogdHJ1ZSxcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgYXV0b0Rpc21pc3M6IGZhbHNlLFxuICAgIGF1dG9EaXNtaXNzRGVsYXk6IDUwMDAsXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBDTE9TRTogJ2FsZXJ0OmNsb3NlJyxcbiAgICBDTE9TRUQ6ICdhbGVydDpjbG9zZWQnLFxuICB9O1xuXG4gIC8vIEljb24gbWFwIGZvciBjb250ZXh0dWFsIHR5cGVzXG4gIHN0YXRpYyBJQ09OUyA9IHtcbiAgICBwcmltYXJ5OiAnbGlnaHRidWxiJyxcbiAgICBzZWNvbmRhcnk6ICdpbmZvJyxcbiAgICBzdWNjZXNzOiAnY2hlY2tfY2lyY2xlJyxcbiAgICBkYW5nZXI6ICdlcnJvcicsXG4gICAgZXJyb3I6ICdlcnJvcicsXG4gICAgd2FybmluZzogJ3dhcm5pbmcnLFxuICAgIGluZm86ICdpbmZvJyxcbiAgICBsaWdodDogJ2hlbHBfb3V0bGluZScsXG4gICAgZGFyazogJ2luZm8nLFxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBhbGVydFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgLy8gU3RhdGVcbiAgICB0aGlzLl9pc0Nsb3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9hdXRvRGlzbWlzc1RpbWVyID0gbnVsbDtcblxuICAgIC8vIEJpbmQgZXZlbnRzXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuXG4gICAgLy8gU3RhcnQgYXV0by1kaXNtaXNzIHRpbWVyIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9EaXNtaXNzKSB7XG4gICAgICB0aGlzLl9zdGFydEF1dG9EaXNtaXNzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICAvLyBDbG9zZSBidXR0b24gY2xpY2tcbiAgICB0aGlzLmRlbGVnYXRlKCdjbGljaycsICcuc28tYWxlcnQtY2xvc2UsIFtkYXRhLWRpc21pc3M9XCJhbGVydFwiXScsICgpID0+IHRoaXMuY2xvc2UoKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgYXV0by1kaXNtaXNzIHRpbWVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RhcnRBdXRvRGlzbWlzcygpIHtcbiAgICB0aGlzLl9hdXRvRGlzbWlzc1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSwgdGhpcy5vcHRpb25zLmF1dG9EaXNtaXNzRGVsYXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGF1dG8tZGlzbWlzcyB0aW1lclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NsZWFyQXV0b0Rpc21pc3MoKSB7XG4gICAgaWYgKHRoaXMuX2F1dG9EaXNtaXNzVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9hdXRvRGlzbWlzc1RpbWVyKTtcbiAgICAgIHRoaXMuX2F1dG9EaXNtaXNzVGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBVQkxJQyBBUElcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogQ2xvc2UvZGlzbWlzcyB0aGUgYWxlcnRcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuX2lzQ2xvc2luZykgcmV0dXJuIHRoaXM7XG5cbiAgICAvLyBFbWl0IGNsb3NlIGV2ZW50IChjYW4gYmUgcHJldmVudGVkKVxuICAgIGlmICghdGhpcy5lbWl0KFNPQWxlcnQuRVZFTlRTLkNMT1NFKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5faXNDbG9zaW5nID0gdHJ1ZTtcbiAgICB0aGlzLl9jbGVhckF1dG9EaXNtaXNzKCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgLy8gQWRkIGNsb3NpbmcgYW5pbWF0aW9uXG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTBweCknO1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnb3BhY2l0eSAwLjE1cyBlYXNlLCB0cmFuc2Zvcm0gMC4xNXMgZWFzZSwgbWFyZ2luIDAuMTVzIGVhc2UsIHBhZGRpbmcgMC4xNXMgZWFzZSc7XG5cbiAgICAgIC8vIEFmdGVyIGluaXRpYWwgZmFkZSwgY29sbGFwc2UgaGVpZ2h0XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9ICcwJztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcwJztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnBhZGRpbmdUb3AgPSAnMCc7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gJzAnO1xuXG4gICAgICAgIC8vIEZvcmNlIHJlZmxvd1xuICAgICAgICB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgICB9LCAxNTApO1xuXG4gICAgICAvLyBSZW1vdmUgZWxlbWVudCBhZnRlciBhbmltYXRpb25cbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUucHJvcGVydHlOYW1lID09PSAnaGVpZ2h0Jykge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW1vdmVFbGVtZW50KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGVsZW1lbnQgZnJvbSBET00gYW5kIGNsZWFudXBcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVFbGVtZW50KCkge1xuICAgIC8vIEd1YXJkIGFnYWluc3QgbXVsdGlwbGUgY2FsbHNcbiAgICBpZiAoIXRoaXMuZWxlbWVudCB8fCAhdGhpcy5lbGVtZW50LnBhcmVudE5vZGUpIHJldHVybjtcblxuICAgIHRoaXMuZW1pdChTT0FsZXJ0LkVWRU5UUy5DTE9TRUQpO1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGEgaGlkZGVuIGFsZXJ0XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJyc7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9EaXNtaXNzKSB7XG4gICAgICB0aGlzLl9zdGFydEF1dG9EaXNtaXNzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTVEFUSUMgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYWxlcnQgcHJvZ3JhbW1hdGljYWxseVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFsZXJ0IGNvbmZpZ3VyYXRpb25cbiAgICogQHJldHVybnMge1NPQWxlcnR9IEFsZXJ0IGluc3RhbmNlXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUgPSAnaW5mbycsXG4gICAgICB0aXRsZSA9ICcnLFxuICAgICAgbWVzc2FnZSA9ICcnLFxuICAgICAgaWNvbiA9IG51bGwsXG4gICAgICBkaXNtaXNzaWJsZSA9IHRydWUsXG4gICAgICBvdXRsaW5lID0gZmFsc2UsXG4gICAgICBzbWFsbCA9IGZhbHNlLFxuICAgICAgYXV0b0Rpc21pc3MgPSBmYWxzZSxcbiAgICAgIGF1dG9EaXNtaXNzRGVsYXkgPSA1MDAwLFxuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuYm9keSxcbiAgICAgIGluc2VydFBvc2l0aW9uID0gJ2FmdGVyYmVnaW4nLCAvLyAnYmVmb3JlZW5kJyB8ICdhZnRlcmJlZ2luJ1xuICAgICAgY2xhc3NOYW1lID0gJycsXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICAvLyBEZXRlcm1pbmUgaWNvblxuICAgIGNvbnN0IGFsZXJ0SWNvbiA9IGljb24gfHwgU09BbGVydC5JQ09OU1t0eXBlXSB8fCAnaW5mbyc7XG5cbiAgICAvLyBCdWlsZCBjbGFzcyBsaXN0XG4gICAgY29uc3QgY2xhc3NlcyA9IFtcbiAgICAgICdzby1hbGVydCcsXG4gICAgICBgc28tYWxlcnQtJHt0eXBlfWAsXG4gICAgICBkaXNtaXNzaWJsZSA/ICdzby1hbGVydC1kaXNtaXNzaWJsZScgOiAnJyxcbiAgICAgIG91dGxpbmUgPyAnc28tYWxlcnQtb3V0bGluZScgOiAnJyxcbiAgICAgIHNtYWxsID8gJ3NvLWFsZXJ0LXNtJyA6ICcnLFxuICAgICAgY2xhc3NOYW1lLFxuICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKTtcblxuICAgIC8vIENyZWF0ZSBlbGVtZW50XG4gICAgY29uc3QgYWxlcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhbGVydC5jbGFzc05hbWUgPSBjbGFzc2VzO1xuICAgIGFsZXJ0LnNldEF0dHJpYnV0ZSgncm9sZScsICdhbGVydCcpO1xuXG4gICAgLy8gQnVpbGQgSFRNTFxuICAgIGxldCBodG1sID0gYFxuICAgICAgPHNwYW4gY2xhc3M9XCJzby1hbGVydC1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke2FsZXJ0SWNvbn08L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPVwic28tYWxlcnQtY29udGVudFwiPlxuICAgICAgICAke3RpdGxlID8gYDxzdHJvbmc+JHt0aXRsZX08L3N0cm9uZz5gIDogJyd9XG4gICAgICAgICR7bWVzc2FnZX1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICBpZiAoZGlzbWlzc2libGUpIHtcbiAgICAgIGh0bWwgKz0gYFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLWFsZXJ0LWNsb3NlXCIgZGF0YS1kaXNtaXNzPVwiYWxlcnRcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgYDtcbiAgICB9XG5cbiAgICBhbGVydC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgLy8gSW5zZXJ0IGludG8gY29udGFpbmVyXG4gICAgY29uc3QgY29udGFpbmVyRWwgPSB0eXBlb2YgY29udGFpbmVyID09PSAnc3RyaW5nJ1xuICAgICAgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcilcbiAgICAgIDogY29udGFpbmVyO1xuXG4gICAgaWYgKGNvbnRhaW5lckVsKSB7XG4gICAgICBjb250YWluZXJFbC5pbnNlcnRBZGphY2VudEVsZW1lbnQoaW5zZXJ0UG9zaXRpb24sIGFsZXJ0KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYW5kIHJldHVybiBpbnN0YW5jZVxuICAgIHJldHVybiBuZXcgU09BbGVydChhbGVydCwge1xuICAgICAgZGlzbWlzc2libGUsXG4gICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICBhdXRvRGlzbWlzcyxcbiAgICAgIGF1dG9EaXNtaXNzRGVsYXksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgc3VjY2VzcyBhbGVydFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIEFsZXJ0IG1lc3NhZ2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAgICogQHJldHVybnMge1NPQWxlcnR9IEFsZXJ0IGluc3RhbmNlXG4gICAqL1xuICBzdGF0aWMgc3VjY2VzcyhtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gU09BbGVydC5jcmVhdGUoeyAuLi5vcHRpb25zLCB0eXBlOiAnc3VjY2VzcycsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGVycm9yL2RhbmdlciBhbGVydFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIEFsZXJ0IG1lc3NhZ2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAgICogQHJldHVybnMge1NPQWxlcnR9IEFsZXJ0IGluc3RhbmNlXG4gICAqL1xuICBzdGF0aWMgZXJyb3IobWVzc2FnZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIFNPQWxlcnQuY3JlYXRlKHsgLi4ub3B0aW9ucywgdHlwZTogJ2RhbmdlcicsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgd2FybmluZyBhbGVydFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIEFsZXJ0IG1lc3NhZ2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAgICogQHJldHVybnMge1NPQWxlcnR9IEFsZXJ0IGluc3RhbmNlXG4gICAqL1xuICBzdGF0aWMgd2FybmluZyhtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gU09BbGVydC5jcmVhdGUoeyAuLi5vcHRpb25zLCB0eXBlOiAnd2FybmluZycsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGluZm8gYWxlcnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBBbGVydCBtZXNzYWdlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtTT0FsZXJ0fSBBbGVydCBpbnN0YW5jZVxuICAgKi9cbiAgc3RhdGljIGluZm8obWVzc2FnZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIFNPQWxlcnQuY3JlYXRlKHsgLi4ub3B0aW9ucywgdHlwZTogJ2luZm8nLCBtZXNzYWdlIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYWxsIGRpc21pc3NpYmxlIGFsZXJ0cyBvbiBwYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIE9wdGlvbmFsIGN1c3RvbSBzZWxlY3RvclxuICAgKiBAcmV0dXJucyB7U09BbGVydFtdfSBBcnJheSBvZiBpbnN0YW5jZXNcbiAgICovXG4gIHN0YXRpYyBpbml0QWxsKHNlbGVjdG9yID0gJy5zby1hbGVydC1kaXNtaXNzaWJsZScpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnRzKS5tYXAoZWwgPT4gU09BbGVydC5nZXRJbnN0YW5jZShlbCkpO1xuICB9XG59XG5cbi8vIFJlZ2lzdGVyIGNvbXBvbmVudFxuU09BbGVydC5yZWdpc3RlcigpO1xuXG4vLyBFeHBvc2UgdG8gZ2xvYmFsIHNjb3BlXG53aW5kb3cuU09BbGVydCA9IFNPQWxlcnQ7XG5cbi8vIEV4cG9ydCBmb3IgRVMgbW9kdWxlc1xuZXhwb3J0IGRlZmF1bHQgU09BbGVydDtcbmV4cG9ydCB7IFNPQWxlcnQgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgLSBUT0FTVCBDT01QT05FTlRcbi8vIFRvYXN0IG5vdGlmaWNhdGlvbnMgd2l0aCBhdXRvLWRpc21pc3Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuXG4vKipcbiAqIFNPVG9hc3QgLSBUb2FzdCBub3RpZmljYXRpb24gY29tcG9uZW50XG4gKiBTdXBwb3J0cyBtdWx0aXBsZSBwb3NpdGlvbnMsIGF1dG8tZGlzbWlzcywgYW5kIHN0YWNraW5nXG4gKi9cbmNsYXNzIFNPVG9hc3QgZXh0ZW5kcyBTT0NvbXBvbmVudCB7XG4gIHN0YXRpYyBOQU1FID0gJ3RvYXN0JztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLCAvLyB0b3AtbGVmdCwgdG9wLWNlbnRlciwgdG9wLXJpZ2h0LCBib3R0b20tbGVmdCwgYm90dG9tLWNlbnRlciwgYm90dG9tLXJpZ2h0LCBjZW50ZXIsIGN1c3RvbVxuICAgIGF1dG9oaWRlOiB0cnVlLFxuICAgIGRlbGF5OiA1MDAwLFxuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBzaG93UHJvZ3Jlc3M6IHRydWUsXG4gICAgcGF1c2VPbkhvdmVyOiB0cnVlLFxuICAgIHBhdXNlT25Gb2N1c0xvc3M6IGZhbHNlLFxuICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuICAgIG5ld2VzdE9uVG9wOiB0cnVlLFxuICAgIG1heFZpc2libGU6IDUsXG4gICAgLy8gQ3VzdG9tIHBvc2l0aW9uIGNvb3JkaW5hdGVzIChvbmx5IHVzZWQgd2hlbiBwb3NpdGlvbjogJ2N1c3RvbScpXG4gICAgeDogbnVsbCwgLy8gbGVmdCBwb3NpdGlvbiBpbiBweCBvciBwZXJjZW50YWdlIChlLmcuLCAxMDAgb3IgJzUwJScpXG4gICAgeTogbnVsbCwgLy8gdG9wIHBvc2l0aW9uIGluIHB4IG9yIHBlcmNlbnRhZ2UgKGUuZy4sIDEwMCBvciAnNTAlJylcbiAgfTtcblxuICBzdGF0aWMgRVZFTlRTID0ge1xuICAgIFNIT1c6ICd0b2FzdDpzaG93JyxcbiAgICBTSE9XTjogJ3RvYXN0OnNob3duJyxcbiAgICBISURFOiAndG9hc3Q6aGlkZScsXG4gICAgSElEREVOOiAndG9hc3Q6aGlkZGVuJyxcbiAgICBDTElDSzogJ3RvYXN0OmNsaWNrJyxcbiAgfTtcblxuICAvLyBJY29uIG1hcCBmb3IgY29udGV4dHVhbCB0eXBlc1xuICBzdGF0aWMgSUNPTlMgPSB7XG4gICAgcHJpbWFyeTogJ3N0YXInLFxuICAgIHNlY29uZGFyeTogJ2luZm8nLFxuICAgIHN1Y2Nlc3M6ICdjaGVja19jaXJjbGUnLFxuICAgIGRhbmdlcjogJ2Vycm9yJyxcbiAgICBlcnJvcjogJ2Vycm9yJyxcbiAgICB3YXJuaW5nOiAnd2FybmluZycsXG4gICAgaW5mbzogJ2luZm8nLFxuICAgIGxpZ2h0OiAnbGlnaHRidWxiJyxcbiAgICBkYXJrOiAnaW5mbycsXG4gIH07XG5cbiAgLy8gQ29udGFpbmVyIGNhY2hlIGJ5IHBvc2l0aW9uXG4gIHN0YXRpYyBfY29udGFpbmVycyA9IHt9O1xuXG4gIC8vIFRyYWNrIGFsbCBhY3RpdmUgdG9hc3RzXG4gIHN0YXRpYyBfYWN0aXZlVG9hc3RzID0gW107XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIHRvYXN0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBTdGF0ZVxuICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICB0aGlzLl9pc0hpZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5fYXV0b2hpZGVUaW1lciA9IG51bGw7XG4gICAgdGhpcy5fcmVtYWluaW5nVGltZSA9IHRoaXMub3B0aW9ucy5kZWxheTtcbiAgICB0aGlzLl9zdGFydFRpbWUgPSBudWxsO1xuICAgIHRoaXMuX3Byb2dyZXNzQmFyID0gbnVsbDtcbiAgICB0aGlzLl9wcm9ncmVzc0FuaW1hdGlvbiA9IG51bGw7XG5cbiAgICAvLyBCaW5kIGV2ZW50c1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gQ2xvc2UgYnV0dG9uXG4gICAgdGhpcy5kZWxlZ2F0ZSgnY2xpY2snLCAnLnNvLXRvYXN0LWNsb3NlLCBbZGF0YS1kaXNtaXNzPVwidG9hc3RcIl0nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2xpY2sgb24gdG9hc3QgYm9keVxuICAgIHRoaXMub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLnNvLXRvYXN0LWNsb3NlJykpIHtcbiAgICAgICAgdGhpcy5lbWl0KFNPVG9hc3QuRVZFTlRTLkNMSUNLKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFBhdXNlIG9uIGhvdmVyIC0gYmluZCBkaXJlY3RseSB0byBlbGVtZW50XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXVzZU9uSG92ZXIgJiYgdGhpcy5vcHRpb25zLmF1dG9oaWRlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVNb3VzZUVudGVyID0gKCkgPT4gdGhpcy5wYXVzZSgpO1xuICAgICAgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSA9ICgpID0+IHRoaXMucmVzdW1lKCk7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIpO1xuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcbiAgICB9XG5cbiAgICAvLyBQYXVzZSBvbiBmb2N1cyBsb3NzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXVzZU9uRm9jdXNMb3NzICYmIHRoaXMub3B0aW9ucy5hdXRvaGlkZSkge1xuICAgICAgdGhpcy5faGFuZGxlV2luZG93Qmx1ciA9ICgpID0+IHRoaXMucGF1c2UoKTtcbiAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd0ZvY3VzID0gKCkgPT4gdGhpcy5yZXN1bWUoKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlV2luZG93Qmx1cik7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVXaW5kb3dGb2N1cyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGF1dG8taGlkZSB0aW1lclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0YXJ0QXV0b2hpZGUoKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYXV0b2hpZGUpIHJldHVybjtcblxuICAgIHRoaXMuX3N0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cbiAgICB0aGlzLl9hdXRvaGlkZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9LCB0aGlzLl9yZW1haW5pbmdUaW1lKTtcblxuICAgIC8vIFN0YXJ0IHByb2dyZXNzIGJhciBhbmltYXRpb25cbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dQcm9ncmVzcyAmJiB0aGlzLl9wcm9ncmVzc0Jhcikge1xuICAgICAgdGhpcy5fYW5pbWF0ZVByb2dyZXNzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFuaW1hdGUgcHJvZ3Jlc3MgYmFyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYW5pbWF0ZVByb2dyZXNzKCkge1xuICAgIGlmICghdGhpcy5fcHJvZ3Jlc3NCYXIpIHJldHVybjtcblxuICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgcGVyY2VudGFnZVxuICAgIGNvbnN0IGVsYXBzZWQgPSB0aGlzLm9wdGlvbnMuZGVsYXkgLSB0aGlzLl9yZW1haW5pbmdUaW1lO1xuICAgIGNvbnN0IHN0YXJ0UGVyY2VudGFnZSA9IGVsYXBzZWQgLyB0aGlzLm9wdGlvbnMuZGVsYXk7XG5cbiAgICAvLyBSZXNldCB0cmFuc2l0aW9uIGZpcnN0XG4gICAgdGhpcy5fcHJvZ3Jlc3NCYXIuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICB0aGlzLl9wcm9ncmVzc0Jhci5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGVYKCR7MSAtIHN0YXJ0UGVyY2VudGFnZX0pYDtcblxuICAgIC8vIEZvcmNlIHJlZmxvd1xuICAgIHRoaXMuX3Byb2dyZXNzQmFyLm9mZnNldEhlaWdodDtcblxuICAgIC8vIE5vdyBzZXQgdHJhbnNpdGlvbiBhbmQgYW5pbWF0ZSB0byAwXG4gICAgdGhpcy5fcHJvZ3Jlc3NCYXIuc3R5bGUudHJhbnNpdGlvbiA9IGB0cmFuc2Zvcm0gJHt0aGlzLl9yZW1haW5pbmdUaW1lfW1zIGxpbmVhcmA7XG4gICAgdGhpcy5fcHJvZ3Jlc3NCYXIuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgwKSc7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYXV0by1oaWRlIHRpbWVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2xlYXJBdXRvaGlkZSgpIHtcbiAgICBpZiAodGhpcy5fYXV0b2hpZGVUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2F1dG9oaWRlVGltZXIpO1xuICAgICAgdGhpcy5fYXV0b2hpZGVUaW1lciA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gUGF1c2UgcHJvZ3Jlc3MgYmFyXG4gICAgaWYgKHRoaXMuX3Byb2dyZXNzQmFyKSB7XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9wcm9ncmVzc0Jhcik7XG4gICAgICBjb25zdCBjdXJyZW50VHJhbnNmb3JtID0gY29tcHV0ZWRTdHlsZS50cmFuc2Zvcm07XG4gICAgICB0aGlzLl9wcm9ncmVzc0Jhci5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgICAgdGhpcy5fcHJvZ3Jlc3NCYXIuc3R5bGUudHJhbnNmb3JtID0gY3VycmVudFRyYW5zZm9ybTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQVUJMSUMgQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIHRvYXN0XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIHNob3coKSB7XG4gICAgaWYgKHRoaXMuX2lzU2hvd24pIHJldHVybiB0aGlzO1xuXG4gICAgLy8gRW1pdCBzaG93IGV2ZW50IChjYW4gYmUgcHJldmVudGVkKVxuICAgIGlmICghdGhpcy5lbWl0KFNPVG9hc3QuRVZFTlRTLlNIT1cpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcblxuICAgIC8vIEFkZCB0byBhY3RpdmUgdG9hc3RzXG4gICAgU09Ub2FzdC5fYWN0aXZlVG9hc3RzLnB1c2godGhpcyk7XG5cbiAgICAvLyBFbmZvcmNlIG1heCB2aXNpYmxlXG4gICAgdGhpcy5fZW5mb3JjZU1heFZpc2libGUoKTtcblxuICAgIC8vIEdldCBvciBjcmVhdGUgY29udGFpbmVyICh3aXRoIGN1c3RvbSBjb29yZHMgaWYgYXBwbGljYWJsZSlcbiAgICBjb25zdCBjdXN0b21Db29yZHMgPSB0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICdjdXN0b20nXG4gICAgICA/IHsgeDogdGhpcy5vcHRpb25zLngsIHk6IHRoaXMub3B0aW9ucy55IH1cbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb250YWluZXIgPSBTT1RvYXN0Ll9nZXRDb250YWluZXIodGhpcy5vcHRpb25zLnBvc2l0aW9uLCBjdXN0b21Db29yZHMpO1xuXG4gICAgLy8gQWRkIHRvIGNvbnRhaW5lclxuICAgIGlmICh0aGlzLm9wdGlvbnMubmV3ZXN0T25Ub3ApIHtcbiAgICAgIGNvbnRhaW5lci5wcmVwZW5kKHRoaXMuZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIFNob3cgd2l0aCBhbmltYXRpb25cbiAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgLy8gRm9yY2UgcmVmbG93XG4gICAgICB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgdGhpcy5hZGRDbGFzcygnc28tc2hvdycpO1xuXG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KFNPVG9hc3QuRVZFTlRTLlNIT1dOKTtcbiAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRDbGFzcygnc28tc2hvdycpO1xuICAgICAgdGhpcy5lbWl0KFNPVG9hc3QuRVZFTlRTLlNIT1dOKTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCBhdXRvLWhpZGVcbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9oaWRlKSB7XG4gICAgICB0aGlzLl9yZW1haW5pbmdUaW1lID0gdGhpcy5vcHRpb25zLmRlbGF5O1xuICAgICAgdGhpcy5fc3RhcnRBdXRvaGlkZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgdGhlIHRvYXN0XG4gICAqIEByZXR1cm5zIHt0aGlzfSBGb3IgY2hhaW5pbmdcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IHRoaXMuX2lzSGlkaW5nKSByZXR1cm4gdGhpcztcblxuICAgIC8vIEVtaXQgaGlkZSBldmVudCAoY2FuIGJlIHByZXZlbnRlZClcbiAgICBpZiAoIXRoaXMuZW1pdChTT1RvYXN0LkVWRU5UUy5ISURFKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5faXNIaWRpbmcgPSB0cnVlO1xuICAgIHRoaXMuX2NsZWFyQXV0b2hpZGUoKTtcblxuICAgIC8vIEhpZGUgd2l0aCBhbmltYXRpb25cbiAgICB0aGlzLnJlbW92ZUNsYXNzKCdzby1zaG93Jyk7XG4gICAgdGhpcy5hZGRDbGFzcygnc28taGlkaW5nJyk7XG5cbiAgICBjb25zdCBoaWRlQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAvLyBHdWFyZCBhZ2FpbnN0IG11bHRpcGxlIGNhbGxzXG4gICAgICBpZiAoIXRoaXMuZWxlbWVudCB8fCAhdGhpcy5lbGVtZW50LnBhcmVudE5vZGUpIHJldHVybjtcblxuICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNIaWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gUmVtb3ZlIGZyb20gYWN0aXZlIHRvYXN0c1xuICAgICAgY29uc3QgaW5kZXggPSBTT1RvYXN0Ll9hY3RpdmVUb2FzdHMuaW5kZXhPZih0aGlzKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIFNPVG9hc3QuX2FjdGl2ZVRvYXN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgZnJvbSBET01cbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcblxuICAgICAgLy8gRW1pdCBoaWRkZW4gZXZlbnRcbiAgICAgIHRoaXMuZW1pdChTT1RvYXN0LkVWRU5UUy5ISURERU4pO1xuXG4gICAgICAvLyBDbGVhbnVwXG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGlkZUNvbXBsZXRlLCB7IG9uY2U6IHRydWUgfSk7XG5cbiAgICAgIC8vIEZhbGxiYWNrIHRpbWVvdXQgaW4gY2FzZSB0cmFuc2l0aW9uIGRvZXNuJ3QgZmlyZVxuICAgICAgc2V0VGltZW91dChoaWRlQ29tcGxldGUsIDM1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVDb21wbGV0ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhdXNlIGF1dG8taGlkZSB0aW1lclxuICAgKiBAcmV0dXJucyB7dGhpc30gRm9yIGNoYWluaW5nXG4gICAqL1xuICBwYXVzZSgpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hdXRvaGlkZSkgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCF0aGlzLl9hdXRvaGlkZVRpbWVyKSByZXR1cm4gdGhpcztcblxuICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgdGltZSBiZWZvcmUgY2xlYXJpbmcgdGhlIHRpbWVyXG4gICAgaWYgKHRoaXMuX3N0YXJ0VGltZSkge1xuICAgICAgY29uc3QgZWxhcHNlZCA9IERhdGUubm93KCkgLSB0aGlzLl9zdGFydFRpbWU7XG4gICAgICB0aGlzLl9yZW1haW5pbmdUaW1lID0gTWF0aC5tYXgoMTAwLCB0aGlzLl9yZW1haW5pbmdUaW1lIC0gZWxhcHNlZCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xlYXJBdXRvaGlkZSgpO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3VtZSBhdXRvLWhpZGUgdGltZXJcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgcmVzdW1lKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG9oaWRlKSByZXR1cm4gdGhpcztcbiAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSByZXR1cm4gdGhpcztcbiAgICBpZiAoIXRoaXMuX2lzU2hvd24pIHJldHVybiB0aGlzO1xuICAgIGlmICh0aGlzLl9pc0hpZGluZykgcmV0dXJuIHRoaXM7XG5cbiAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3N0YXJ0QXV0b2hpZGUoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0b2FzdCBjb250ZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gTmV3IG9wdGlvbnNcbiAgICogQHJldHVybnMge3RoaXN9IEZvciBjaGFpbmluZ1xuICAgKi9cbiAgdXBkYXRlKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgdGl0bGUsIG1lc3NhZ2UgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAodGl0bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgdGl0bGVFbCA9IHRoaXMuJCgnLnNvLXRvYXN0LXRpdGxlJyk7XG4gICAgICBpZiAodGl0bGVFbCkgdGl0bGVFbC50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGJvZHlFbCA9IHRoaXMuJCgnLnNvLXRvYXN0LWJvZHknKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VFbCA9IHRoaXMuJCgnLnNvLXRvYXN0LW1lc3NhZ2UnKTtcbiAgICAgIGlmIChtZXNzYWdlRWwpIHtcbiAgICAgICAgbWVzc2FnZUVsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICAgIH0gZWxzZSBpZiAoYm9keUVsKSB7XG4gICAgICAgIGJvZHlFbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRW5mb3JjZSBtYXggdmlzaWJsZSB0b2FzdHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9lbmZvcmNlTWF4VmlzaWJsZSgpIHtcbiAgICBjb25zdCBzYW1lUG9zaXRpb25Ub2FzdHMgPSBTT1RvYXN0Ll9hY3RpdmVUb2FzdHMuZmlsdGVyKFxuICAgICAgdCA9PiB0Lm9wdGlvbnMucG9zaXRpb24gPT09IHRoaXMub3B0aW9ucy5wb3NpdGlvbiAmJiB0ICE9PSB0aGlzXG4gICAgKTtcblxuICAgIHdoaWxlIChzYW1lUG9zaXRpb25Ub2FzdHMubGVuZ3RoID49IHRoaXMub3B0aW9ucy5tYXhWaXNpYmxlKSB7XG4gICAgICBjb25zdCBvbGRlc3QgPSB0aGlzLm9wdGlvbnMubmV3ZXN0T25Ub3BcbiAgICAgICAgPyBzYW1lUG9zaXRpb25Ub2FzdHMucG9wKClcbiAgICAgICAgOiBzYW1lUG9zaXRpb25Ub2FzdHMuc2hpZnQoKTtcblxuICAgICAgaWYgKG9sZGVzdCkge1xuICAgICAgICBvbGRlc3QuaGlkZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFNUQVRJQyBNRVRIT0RTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEdldCBvciBjcmVhdGUgY29udGFpbmVyIGZvciBwb3NpdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24gLSBUb2FzdCBwb3NpdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gY3VzdG9tQ29vcmRzIC0gQ3VzdG9tIGNvb3JkaW5hdGVzIHsgeCwgeSB9IGZvciAnY3VzdG9tJyBwb3NpdGlvblxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IENvbnRhaW5lciBlbGVtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2dldENvbnRhaW5lcihwb3NpdGlvbiwgY3VzdG9tQ29vcmRzID0gbnVsbCkge1xuICAgIC8vIEZvciBjdXN0b20gcG9zaXRpb25zLCBjcmVhdGUgYSB1bmlxdWUga2V5IGJhc2VkIG9uIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgY29udGFpbmVyS2V5ID0gcG9zaXRpb24gPT09ICdjdXN0b20nICYmIGN1c3RvbUNvb3Jkc1xuICAgICAgPyBgY3VzdG9tLSR7Y3VzdG9tQ29vcmRzLnh9LSR7Y3VzdG9tQ29vcmRzLnl9YFxuICAgICAgOiBwb3NpdGlvbjtcblxuICAgIGlmICghU09Ub2FzdC5fY29udGFpbmVyc1tjb250YWluZXJLZXldKSB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBgc28tdG9hc3QtY29udGFpbmVyICR7cG9zaXRpb259YDtcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtYXRvbWljJywgJ3RydWUnKTtcblxuICAgICAgLy8gQXBwbHkgY3VzdG9tIGNvb3JkaW5hdGVzIGlmIHBvc2l0aW9uIGlzICdjdXN0b20nXG4gICAgICBpZiAocG9zaXRpb24gPT09ICdjdXN0b20nICYmIGN1c3RvbUNvb3Jkcykge1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGN1c3RvbUNvb3JkcztcbiAgICAgICAgaWYgKHggIT09IG51bGwpIHtcbiAgICAgICAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IHR5cGVvZiB4ID09PSAnbnVtYmVyJyA/IGAke3h9cHhgIDogeDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSB0eXBlb2YgeSA9PT0gJ251bWJlcicgPyBgJHt5fXB4YCA6IHk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgU09Ub2FzdC5fY29udGFpbmVyc1tjb250YWluZXJLZXldID0gY29udGFpbmVyO1xuICAgIH1cbiAgICByZXR1cm4gU09Ub2FzdC5fY29udGFpbmVyc1tjb250YWluZXJLZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgc2hvdyBhIHRvYXN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVG9hc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7U09Ub2FzdH0gVG9hc3QgaW5zdGFuY2VcbiAgICovXG4gIHN0YXRpYyBzaG93KG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUgPSAnaW5mbycsXG4gICAgICB0aXRsZSA9ICcnLFxuICAgICAgbWVzc2FnZSA9ICcnLFxuICAgICAgaWNvbiA9IG51bGwsXG4gICAgICBwb3NpdGlvbiA9ICd0b3AtcmlnaHQnLFxuICAgICAgYXV0b2hpZGUgPSB0cnVlLFxuICAgICAgZGVsYXkgPSA1MDAwLFxuICAgICAgc2hvd1Byb2dyZXNzID0gdHJ1ZSxcbiAgICAgIHBhdXNlT25Ib3ZlciA9IHRydWUsXG4gICAgICBjbG9zZUJ1dHRvbiA9IHRydWUsXG4gICAgICBzaW1wbGUgPSBmYWxzZSxcbiAgICAgIGFjdGlvbnMgPSBudWxsLFxuICAgICAgY2xhc3NOYW1lID0gJycsXG4gICAgICBvbkNsaWNrID0gbnVsbCxcbiAgICAgIHggPSBudWxsLFxuICAgICAgeSA9IG51bGwsXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICAvLyBEZXRlcm1pbmUgaWNvblxuICAgIGNvbnN0IHRvYXN0SWNvbiA9IGljb24gfHwgU09Ub2FzdC5JQ09OU1t0eXBlXSB8fCAnaW5mbyc7XG5cbiAgICAvLyBCdWlsZCBjbGFzcyBsaXN0XG4gICAgY29uc3QgY2xhc3NlcyA9IFtcbiAgICAgICdzby10b2FzdCcsXG4gICAgICBgc28tdG9hc3QtJHt0eXBlfWAsXG4gICAgICBjbGFzc05hbWUsXG4gICAgXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpO1xuXG4gICAgLy8gQ3JlYXRlIGVsZW1lbnRcbiAgICBjb25zdCB0b2FzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvYXN0LmNsYXNzTmFtZSA9IGNsYXNzZXM7XG4gICAgdG9hc3Quc2V0QXR0cmlidXRlKCdyb2xlJywgJ3N0YXR1cycpO1xuICAgIHRvYXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgIHRvYXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1hdG9taWMnLCAndHJ1ZScpO1xuXG4gICAgLy8gQnVpbGQgSFRNTCBiYXNlZCBvbiBzdHlsZVxuICAgIGxldCBodG1sID0gJyc7XG5cbiAgICBpZiAoc2ltcGxlKSB7XG4gICAgICAvLyBTaW1wbGUgdG9hc3QgKGNvbXBhY3QsIG5vIGhlYWRlcilcbiAgICAgIGh0bWwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby10b2FzdC1zaW1wbGVcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvLXRvYXN0LWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RvYXN0SWNvbn08L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzby10b2FzdC1jb250ZW50XCI+XG4gICAgICAgICAgICAke3RpdGxlID8gYDxkaXYgY2xhc3M9XCJzby10b2FzdC10aXRsZVwiPiR7dGl0bGV9PC9kaXY+YCA6ICcnfVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNvLXRvYXN0LW1lc3NhZ2VcIj4ke21lc3NhZ2V9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgJHtjbG9zZUJ1dHRvbiA/IGBcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic28tdG9hc3QtY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJ0b2FzdFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBgIDogJyd9XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RhbmRhcmQgdG9hc3Qgd2l0aCBoZWFkZXJcbiAgICAgIGh0bWwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby10b2FzdC1oZWFkZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvLXRvYXN0LWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RvYXN0SWNvbn08L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzdHJvbmcgY2xhc3M9XCJzby10b2FzdC10aXRsZVwiPiR7dGl0bGUgfHwgdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR5cGUuc2xpY2UoMSl9PC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsIGNsYXNzPVwic28tdG9hc3QtdGltZVwiPmp1c3Qgbm93PC9zbWFsbD5cbiAgICAgICAgICAke2Nsb3NlQnV0dG9uID8gYFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzby10b2FzdC1jbG9zZVwiIGRhdGEtZGlzbWlzcz1cInRvYXN0XCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby10b2FzdC1ib2R5XCI+XG4gICAgICAgICAgJHttZXNzYWdlfVxuICAgICAgICAgICR7YWN0aW9ucyA/IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzby10b2FzdC1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICR7YWN0aW9uc31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIEFkZCBwcm9ncmVzcyBiYXIgaWYgZW5hYmxlZFxuICAgIGlmIChhdXRvaGlkZSAmJiBzaG93UHJvZ3Jlc3MpIHtcbiAgICAgIGh0bWwgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic28tdG9hc3QtcHJvZ3Jlc3Mtd3JhcHBlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzby10b2FzdC1wcm9ncmVzc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNvLXRvYXN0LXByb2dyZXNzLWJhclwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgdG9hc3QuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIC8vIENyZWF0ZSBpbnN0YW5jZVxuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFNPVG9hc3QodG9hc3QsIHtcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgYXV0b2hpZGUsXG4gICAgICBkZWxheSxcbiAgICAgIHNob3dQcm9ncmVzcyxcbiAgICAgIHBhdXNlT25Ib3ZlcixcbiAgICAgIGNsb3NlQnV0dG9uLFxuICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgfSk7XG5cbiAgICAvLyBTdG9yZSBwcm9ncmVzcyBiYXIgcmVmZXJlbmNlICh0aGUgaW5uZXIgYmFyIHRoYXQgYW5pbWF0ZXMpXG4gICAgaW5zdGFuY2UuX3Byb2dyZXNzQmFyID0gdG9hc3QucXVlcnlTZWxlY3RvcignLnNvLXRvYXN0LXByb2dyZXNzLWJhcicpO1xuXG4gICAgLy8gQWRkIGNsaWNrIGhhbmRsZXIgaWYgcHJvdmlkZWRcbiAgICBpZiAob25DbGljaykge1xuICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcihTaXhPcmJpdC5ldnQoU09Ub2FzdC5FVkVOVFMuQ0xJQ0spLCBvbkNsaWNrKTtcbiAgICB9XG5cbiAgICAvLyBTaG93IHRoZSB0b2FzdFxuICAgIGluc3RhbmNlLnNob3coKTtcblxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWljayBzdWNjZXNzIHRvYXN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVG9hc3QgbWVzc2FnZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7U09Ub2FzdH0gVG9hc3QgaW5zdGFuY2VcbiAgICovXG4gIHN0YXRpYyBzdWNjZXNzKG1lc3NhZ2UsIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBTT1RvYXN0LnNob3coe1xuICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgdGl0bGU6ICdTdWNjZXNzJyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzaW1wbGU6IHRydWUsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1aWNrIGVycm9yIHRvYXN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVG9hc3QgbWVzc2FnZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7U09Ub2FzdH0gVG9hc3QgaW5zdGFuY2VcbiAgICovXG4gIHN0YXRpYyBlcnJvcihtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gU09Ub2FzdC5zaG93KHtcbiAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICBtZXNzYWdlLFxuICAgICAgc2ltcGxlOiB0cnVlLFxuICAgICAgZGVsYXk6IDgwMDAsIC8vIExvbmdlciBkZWxheSBmb3IgZXJyb3JzXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1aWNrIHdhcm5pbmcgdG9hc3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUb2FzdCBtZXNzYWdlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtTT1RvYXN0fSBUb2FzdCBpbnN0YW5jZVxuICAgKi9cbiAgc3RhdGljIHdhcm5pbmcobWVzc2FnZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIFNPVG9hc3Quc2hvdyh7XG4gICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICB0aXRsZTogJ1dhcm5pbmcnLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHNpbXBsZTogdHJ1ZSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUXVpY2sgaW5mbyB0b2FzdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRvYXN0IG1lc3NhZ2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAgICogQHJldHVybnMge1NPVG9hc3R9IFRvYXN0IGluc3RhbmNlXG4gICAqL1xuICBzdGF0aWMgaW5mbyhtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gU09Ub2FzdC5zaG93KHtcbiAgICAgIHR5cGU6ICdpbmZvJyxcbiAgICAgIHRpdGxlOiAnSW5mbycsXG4gICAgICBtZXNzYWdlLFxuICAgICAgc2ltcGxlOiB0cnVlLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgdG9hc3RzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbcG9zaXRpb25dIC0gT3B0aW9uYWwgcG9zaXRpb24gdG8gY2xlYXJcbiAgICovXG4gIHN0YXRpYyBjbGVhcihwb3NpdGlvbiA9IG51bGwpIHtcbiAgICBjb25zdCB0b2FzdHNUb0NsZWFyID0gcG9zaXRpb25cbiAgICAgID8gU09Ub2FzdC5fYWN0aXZlVG9hc3RzLmZpbHRlcih0ID0+IHQub3B0aW9ucy5wb3NpdGlvbiA9PT0gcG9zaXRpb24pXG4gICAgICA6IFsuLi5TT1RvYXN0Ll9hY3RpdmVUb2FzdHNdO1xuXG4gICAgdG9hc3RzVG9DbGVhci5mb3JFYWNoKHRvYXN0ID0+IHRvYXN0LmhpZGUoKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgdG9hc3RzIGJ5IHR5cGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUb2FzdCB0eXBlIChzdWNjZXNzLCBlcnJvciwgd2FybmluZywgaW5mbylcbiAgICovXG4gIHN0YXRpYyBjbGVhckJ5VHlwZSh0eXBlKSB7XG4gICAgY29uc3QgdG9hc3RzVG9DbGVhciA9IFNPVG9hc3QuX2FjdGl2ZVRvYXN0cy5maWx0ZXIoXG4gICAgICB0ID0+IHQuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoYHNvLXRvYXN0LSR7dHlwZX1gKVxuICAgICk7XG4gICAgdG9hc3RzVG9DbGVhci5mb3JFYWNoKHRvYXN0ID0+IHRvYXN0LmhpZGUoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNvdW50IG9mIGFjdGl2ZSB0b2FzdHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtwb3NpdGlvbl0gLSBPcHRpb25hbCBwb3NpdGlvbiBmaWx0ZXJcbiAgICogQHJldHVybnMge251bWJlcn0gQ291bnQgb2YgYWN0aXZlIHRvYXN0c1xuICAgKi9cbiAgc3RhdGljIGdldENvdW50KHBvc2l0aW9uID0gbnVsbCkge1xuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgcmV0dXJuIFNPVG9hc3QuX2FjdGl2ZVRvYXN0cy5maWx0ZXIodCA9PiB0Lm9wdGlvbnMucG9zaXRpb24gPT09IHBvc2l0aW9uKS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBTT1RvYXN0Ll9hY3RpdmVUb2FzdHMubGVuZ3RoO1xuICB9XG59XG5cbi8vIFJlZ2lzdGVyIGNvbXBvbmVudFxuU09Ub2FzdC5yZWdpc3RlcigpO1xuXG4vLyBFeHBvc2UgdG8gZ2xvYmFsIHNjb3BlXG53aW5kb3cuU09Ub2FzdCA9IFNPVG9hc3Q7XG5cbi8vIEV4cG9ydCBmb3IgRVMgbW9kdWxlc1xuZXhwb3J0IGRlZmF1bHQgU09Ub2FzdDtcbmV4cG9ydCB7IFNPVG9hc3QgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgLSBTRUxFQ1QgQ09NUE9ORU5UXG4vLyBNb2Rlcm4sIGZlYXR1cmUtcmljaCBzZWxlY3QgcmVwbGFjZW1lbnRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuXG4vKipcbiAqIFNPU2VsZWN0IC0gQ3VzdG9tIHNlbGVjdCBjb21wb25lbnRcbiAqIFN1cHBvcnRzIHNpbmdsZS9tdWx0aS1zZWxlY3QsIHNlYXJjaCwgZ3JvdXBzLCBhbmQgbW9yZVxuICovXG5jbGFzcyBTT1NlbGVjdCBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAnc2VsZWN0JztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgcGxhY2Vob2xkZXI6ICdTZWxlY3QgYW4gb3B0aW9uJyxcbiAgICBzZWFyY2hhYmxlOiBmYWxzZSxcbiAgICBzZWFyY2hQbGFjZWhvbGRlcjogJ1NlYXJjaC4uLicsXG4gICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgIGNsZWFyYWJsZTogZmFsc2UsXG4gICAgY2xvc2VPblNlbGVjdDogdHJ1ZSxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgb3B0aW9uczogW10sXG4gICAgbm9SZXN1bHRzVGV4dDogJ05vIHJlc3VsdHMgZm91bmQnLFxuICAgIGxvYWRpbmdUZXh0OiAnTG9hZGluZy4uLicsXG5cbiAgICAvLyBTZWxlY3Rpb24gbGltaXRzXG4gICAgbWluU2VsZWN0aW9uczogbnVsbCxcbiAgICBtYXhTZWxlY3Rpb25zOiBudWxsLFxuXG4gICAgLy8gU2VsZWN0IEFsbC9Ob25lIGFjdGlvbnNcbiAgICBzaG93QWN0aW9uczogZmFsc2UsXG4gICAgc2VsZWN0QWxsVGV4dDogJ0FsbCcsXG4gICAgc2VsZWN0Tm9uZVRleHQ6ICdOb25lJyxcblxuICAgIC8vIERpc3BsYXkgbW9kZVxuICAgIGRpc3BsYXlNb2RlOiAndGV4dCcsIC8vICd0ZXh0JywgJ2NoaXBzJywgJ2NoaXBzLW92ZXJmbG93J1xuICAgIG1heFZpc2libGVDaGlwczogMyxcbiAgICBhbGxTZWxlY3RlZFRleHQ6IG51bGwsXG4gICAgbXVsdGlwbGVTZWxlY3RlZFRleHQ6ICd7Y291bnR9IHNlbGVjdGVkJyxcbiAgICBvdmVyZmxvd1RleHQ6ICcre2NvdW50fSBtb3JlJyxcblxuICAgIC8vIFNlbGVjdGlvbiBzdHlsZVxuICAgIC8vIEZvciBtdWx0aXBsZTogJ2NoZWNrYm94JywgJ2NoZWNrYm94LWJnJywgJ2ljb24nLCAnYmcnLCAnaWNvbi1iZydcbiAgICAvLyBGb3Igc2luZ2xlOiAncmFkaW8nLCAncmFkaW8tYmcnLCAnaWNvbicsICdiZycsICdpY29uLWJnJ1xuICAgIHNlbGVjdGlvblN0eWxlOiAnaWNvbi1iZycsXG4gICAgc2VsZWN0aW9uSWNvbjogJ2NoZWNrJyxcblxuICAgIC8vIFZpc3VhbCBvcHRpb25zXG4gICAgc2l6ZTogbnVsbCwgLy8gJ3NtJywgJ2xnJywgb3IgbnVsbCBmb3IgZGVmYXVsdFxuICAgIHZhcmlhbnQ6IG51bGwsIC8vICdwcmltYXJ5JywgJ3NlY29uZGFyeScsICdzdWNjZXNzJywgJ2RhbmdlcicsICd3YXJuaW5nJywgJ2luZm8nLCAnbGlnaHQnLCAnZGFyaydcbiAgICBub3dyYXA6IGZhbHNlLCAvLyBQcmV2ZW50IHRleHQgd3JhcHBpbmcgaW4gZHJvcGRvd24gb3B0aW9uc1xuXG4gICAgLy8gQXN5bmMgb3B0aW9uc1xuICAgIGFzeW5jOiBmYWxzZSxcbiAgICBhc3luY1VybDogbnVsbCxcbiAgICBhc3luY01ldGhvZDogJ0dFVCcsXG4gICAgbWluU2VhcmNoTGVuZ3RoOiAwLFxuICAgIGRlYm91bmNlVGltZTogMzAwLFxuICB9O1xuXG4gIHN0YXRpYyBFVkVOVFMgPSB7XG4gICAgT1BFTjogJ3NlbGVjdDpvcGVuJyxcbiAgICBPUEVORUQ6ICdzZWxlY3Q6b3BlbmVkJyxcbiAgICBDTE9TRTogJ3NlbGVjdDpjbG9zZScsXG4gICAgQ0xPU0VEOiAnc2VsZWN0OmNsb3NlZCcsXG4gICAgQ0hBTkdFOiAnc2VsZWN0OmNoYW5nZScsXG4gICAgU0VBUkNIOiAnc2VsZWN0OnNlYXJjaCcsXG4gICAgQ0xFQVI6ICdzZWxlY3Q6Y2xlYXInLFxuICB9O1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIElOSVRJQUxJWkFUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgX2luaXQoKSB7XG4gICAgLy8gQ2hlY2sgaWYgZW5oYW5jaW5nIGEgbmF0aXZlIHNlbGVjdFxuICAgIHRoaXMuX2lzTmF0aXZlU2VsZWN0ID0gdGhpcy5lbGVtZW50LnRhZ05hbWUgPT09ICdTRUxFQ1QnO1xuXG4gICAgaWYgKHRoaXMuX2lzTmF0aXZlU2VsZWN0KSB7XG4gICAgICB0aGlzLl9lbmhhbmNlTmF0aXZlU2VsZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2luaXRDdXN0b21TZWxlY3QoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW5oYW5jZSBhIG5hdGl2ZSBzZWxlY3QgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2VuaGFuY2VOYXRpdmVTZWxlY3QoKSB7XG4gICAgLy8gUmVhZCBuYXRpdmUgc2VsZWN0IGF0dHJpYnV0ZXMgaW50byBvcHRpb25zXG4gICAgaWYgKHRoaXMuZWxlbWVudC5tdWx0aXBsZSkge1xuICAgICAgdGhpcy5vcHRpb25zLm11bHRpcGxlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxlbWVudC5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBvcHRpb25zIGZyb20gbmF0aXZlIHNlbGVjdFxuICAgIHRoaXMuX3BhcnNlTmF0aXZlT3B0aW9ucygpO1xuXG4gICAgLy8gQ3JlYXRlIGN1c3RvbSBzZWxlY3Qgc3RydWN0dXJlXG4gICAgY29uc3Qgd3JhcHBlciA9IHRoaXMuX2NyZWF0ZVNlbGVjdFN0cnVjdHVyZSgpO1xuXG4gICAgLy8gSW5zZXJ0IHdyYXBwZXIgYWZ0ZXIgbmF0aXZlIHNlbGVjdFxuICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCB0aGlzLmVsZW1lbnQubmV4dFNpYmxpbmcpO1xuXG4gICAgLy8gSGlkZSBuYXRpdmUgc2VsZWN0XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLXNlbGVjdC1lbmhhbmNlZCcpO1xuXG4gICAgLy8gU3RvcmUgcmVmZXJlbmNlIHRvIHdyYXBwZXJcbiAgICB0aGlzLl93cmFwcGVyID0gd3JhcHBlcjtcbiAgICB0aGlzLl9uYXRpdmVTZWxlY3QgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgICAvLyBSZS1hc3NpZ24gZWxlbWVudCB0byB3cmFwcGVyIGZvciBjb21wb25lbnQgbWV0aG9kc1xuICAgIHRoaXMuZWxlbWVudCA9IHdyYXBwZXI7XG5cbiAgICAvLyBTdG9yZSByZWZlcmVuY2Ugb24gd3JhcHBlciBmb3Igc3RhdGljIG1ldGhvZHMgKGNsb3NlQWxsRXhjZXB0LCBldGMuKVxuICAgIHdyYXBwZXIuX3NvU2VsZWN0SW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgLy8gQ2FjaGUgZWxlbWVudHNcbiAgICB0aGlzLl9jYWNoZUVsZW1lbnRzKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIHN0YXRlXG4gICAgdGhpcy5faW5pdFN0YXRlKCk7XG5cbiAgICAvLyBCaW5kIGV2ZW50c1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIC8vIEFwcGx5IG1vZGlmaWVyIGNsYXNzZXMgKHNpemUsIHZhcmlhbnQsIGV0Yy4pXG4gICAgdGhpcy5fYXBwbHlNb2RpZmllckNsYXNzZXMoKTtcblxuICAgIC8vIFN5bmMgaW5pdGlhbCB2YWx1ZSBmcm9tIG5hdGl2ZSBzZWxlY3RcbiAgICB0aGlzLl9zeW5jRnJvbU5hdGl2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgY3VzdG9tIHNlbGVjdCAobm9uLW5hdGl2ZSlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0Q3VzdG9tU2VsZWN0KCkge1xuICAgIC8vIENhY2hlIGVsZW1lbnRzXG4gICAgdGhpcy5fY2FjaGVFbGVtZW50cygpO1xuXG4gICAgLy8gUGFyc2Ugb3B0aW9ucyBmcm9tIERPTSBvciBjb25maWdcbiAgICBpZiAodGhpcy5vcHRpb25zLm9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fcmVuZGVyT3B0aW9ucyh0aGlzLm9wdGlvbnMub3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BhcnNlT3B0aW9uc0Zyb21ET00oKTtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIHN0YXRlXG4gICAgdGhpcy5faW5pdFN0YXRlKCk7XG5cbiAgICAvLyBCaW5kIGV2ZW50c1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIC8vIEFwcGx5IGluaXRpYWwgY2xhc3Nlc1xuICAgIHRoaXMuX2FwcGx5TW9kaWZpZXJDbGFzc2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2Ugb3B0aW9ucyBmcm9tIG5hdGl2ZSBzZWxlY3QgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BhcnNlTmF0aXZlT3B0aW9ucygpIHtcbiAgICBjb25zdCBuYXRpdmVPcHRpb25zID0gW107XG4gICAgY29uc3Qgb3B0Z3JvdXBzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGdyb3VwJyk7XG5cbiAgICBpZiAob3B0Z3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIEhhcyBvcHRncm91cHNcbiAgICAgIG9wdGdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgICAgY29uc3QgZ3JvdXBPcHRpb25zID0gW107XG4gICAgICAgIGdyb3VwLnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpLmZvckVhY2gob3B0ID0+IHtcbiAgICAgICAgICBpZiAob3B0LnZhbHVlKSB7XG4gICAgICAgICAgICBncm91cE9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgIHZhbHVlOiBvcHQudmFsdWUsXG4gICAgICAgICAgICAgIGxhYmVsOiBvcHQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgIGljb246IG9wdC5kYXRhc2V0Lmljb24gfHwgbnVsbCxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG9wdC5kYXRhc2V0LmRlc2NyaXB0aW9uIHx8IG51bGwsXG4gICAgICAgICAgICAgIGRpc2FibGVkOiBvcHQuZGlzYWJsZWQsXG4gICAgICAgICAgICAgIHNlbGVjdGVkOiBvcHQuc2VsZWN0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuYXRpdmVPcHRpb25zLnB1c2goe1xuICAgICAgICAgIGxhYmVsOiBncm91cC5sYWJlbCxcbiAgICAgICAgICBvcHRpb25zOiBncm91cE9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFsc28gZ2V0IG9wdGlvbnMgbm90IGluIGdyb3Vwc1xuICAgICAgY29uc3Qgcm9vdE9wdGlvbnMgPSBbXTtcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiBvcHRpb24nKS5mb3JFYWNoKG9wdCA9PiB7XG4gICAgICAgIGlmIChvcHQudmFsdWUpIHtcbiAgICAgICAgICByb290T3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlOiBvcHQudmFsdWUsXG4gICAgICAgICAgICBsYWJlbDogb3B0LnRleHRDb250ZW50LFxuICAgICAgICAgICAgaWNvbjogb3B0LmRhdGFzZXQuaWNvbiB8fCBudWxsLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IG9wdC5kYXRhc2V0LmRlc2NyaXB0aW9uIHx8IG51bGwsXG4gICAgICAgICAgICBkaXNhYmxlZDogb3B0LmRpc2FibGVkLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IG9wdC5zZWxlY3RlZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocm9vdE9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBuYXRpdmVPcHRpb25zLnVuc2hpZnQoLi4ucm9vdE9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBvcHRncm91cHNcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKS5mb3JFYWNoKG9wdCA9PiB7XG4gICAgICAgIGlmIChvcHQudmFsdWUpIHtcbiAgICAgICAgICBuYXRpdmVPcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IG9wdC52YWx1ZSxcbiAgICAgICAgICAgIGxhYmVsOiBvcHQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICBpY29uOiBvcHQuZGF0YXNldC5pY29uIHx8IG51bGwsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogb3B0LmRhdGFzZXQuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgICAgICAgIGRpc2FibGVkOiBvcHQuZGlzYWJsZWQsXG4gICAgICAgICAgICBzZWxlY3RlZDogb3B0LnNlbGVjdGVkLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9vcHRpb25zRGF0YSA9IG5hdGl2ZU9wdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2Ugb3B0aW9ucyBmcm9tIERPTSBzdHJ1Y3R1cmVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wYXJzZU9wdGlvbnNGcm9tRE9NKCkge1xuICAgIHRoaXMuX29wdGlvbnNEYXRhID0gW107XG4gICAgY29uc3QgZ3JvdXBzID0gdGhpcy4kJCgnLnNvLXNlbGVjdC1ncm91cCcpO1xuXG4gICAgaWYgKGdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICBncm91cHMuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gZ3JvdXAucXVlcnlTZWxlY3RvcignLnNvLXNlbGVjdC1ncm91cC1sYWJlbCcpPy50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBncm91cC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tc2VsZWN0LW9wdGlvbicpLmZvckVhY2gob3B0ID0+IHtcbiAgICAgICAgICBvcHRpb25zLnB1c2godGhpcy5fcGFyc2VPcHRpb25FbGVtZW50KG9wdCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fb3B0aW9uc0RhdGEucHVzaCh7IGxhYmVsLCBvcHRpb25zIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJCQoJy5zby1zZWxlY3Qtb3B0aW9uJykuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgICB0aGlzLl9vcHRpb25zRGF0YS5wdXNoKHRoaXMuX3BhcnNlT3B0aW9uRWxlbWVudChvcHQpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBhIHNpbmdsZSBvcHRpb24gZWxlbWVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IG9wdCAtIE9wdGlvbiBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IE9wdGlvbiBkYXRhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcGFyc2VPcHRpb25FbGVtZW50KG9wdCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogb3B0LmRhdGFzZXQudmFsdWUsXG4gICAgICBsYWJlbDogb3B0LnF1ZXJ5U2VsZWN0b3IoJy5zby1zZWxlY3Qtb3B0aW9uLXRleHQnKT8udGV4dENvbnRlbnQgfHxcbiAgICAgICAgICAgICBvcHQucXVlcnlTZWxlY3RvcignLnNvLXNlbGVjdC1vcHRpb24tY29udGVudCcpPy50ZXh0Q29udGVudCB8fFxuICAgICAgICAgICAgIG9wdC50ZXh0Q29udGVudC50cmltKCksXG4gICAgICBpY29uOiBvcHQucXVlcnlTZWxlY3RvcignLnNvLXNlbGVjdC1vcHRpb24taWNvbiAubWF0ZXJpYWwtaWNvbnMnKT8udGV4dENvbnRlbnQsXG4gICAgICBkZXNjcmlwdGlvbjogb3B0LnF1ZXJ5U2VsZWN0b3IoJy5zby1zZWxlY3Qtb3B0aW9uLWRlc2MnKT8udGV4dENvbnRlbnQsXG4gICAgICBkaXNhYmxlZDogb3B0LmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKSxcbiAgICAgIHNlbGVjdGVkOiBvcHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1zZWxlY3RlZCcpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHNlbGVjdCBzdHJ1Y3R1cmUgZm9yIG5hdGl2ZSBlbmhhbmNlbWVudFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFdyYXBwZXIgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZVNlbGVjdFN0cnVjdHVyZSgpIHtcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd3JhcHBlci5jbGFzc05hbWUgPSAnc28tc2VsZWN0JztcblxuICAgIC8vIENvcHkgZGF0YSBhdHRyaWJ1dGVzIGZyb20gbmF0aXZlIHNlbGVjdFxuICAgIEFycmF5LmZyb20odGhpcy5lbGVtZW50LmF0dHJpYnV0ZXMpLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICBpZiAoYXR0ci5uYW1lLnN0YXJ0c1dpdGgoJ2RhdGEtc28tJykgJiYgYXR0ci5uYW1lICE9PSAnZGF0YS1zby1zZWxlY3QnKSB7XG4gICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBCdWlsZCBIVE1MIHN0cnVjdHVyZVxuICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gdGhpcy5fYnVpbGRTZWxlY3RIVE1MKCk7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBzZWxlY3QgSFRNTCBzdHJ1Y3R1cmVcbiAgICogQHJldHVybnMge3N0cmluZ30gSFRNTCBzdHJpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9idWlsZFNlbGVjdEhUTUwoKSB7XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXI7XG4gICAgY29uc3Qgc2VsZWN0aW9uU3R5bGUgPSB0aGlzLm9wdGlvbnMuc2VsZWN0aW9uU3R5bGU7XG4gICAgY29uc3Qgc2VsZWN0aW9uSWNvbiA9IHRoaXMub3B0aW9ucy5zZWxlY3Rpb25JY29uO1xuXG4gICAgbGV0IG9wdGlvbnNIVE1MID0gdGhpcy5fYnVpbGRPcHRpb25zSFRNTCh0aGlzLl9vcHRpb25zRGF0YSwgc2VsZWN0aW9uU3R5bGUsIHNlbGVjdGlvbkljb24pO1xuXG4gICAgbGV0IHNlYXJjaEhUTUwgPSAnJztcbiAgICBpZiAodGhpcy5vcHRpb25zLnNlYXJjaGFibGUpIHtcbiAgICAgIHNlYXJjaEhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby1zZWxlY3Qtc2VhcmNoXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPnNlYXJjaDwvc3Bhbj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInNvLXNlbGVjdC1zZWFyY2gtaW5wdXRcIiBwbGFjZWhvbGRlcj1cIiR7dGhpcy5vcHRpb25zLnNlYXJjaFBsYWNlaG9sZGVyfVwiPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgbGV0IGFjdGlvbnNIVE1MID0gJyc7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5tdWx0aXBsZSAmJiB0aGlzLm9wdGlvbnMuc2hvd0FjdGlvbnMpIHtcbiAgICAgIGFjdGlvbnNIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic28tc2VsZWN0LWFjdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLXNlbGVjdC1hY3Rpb24gc28tc2VsZWN0LWFjdGlvbi1hbGxcIj4ke3RoaXMub3B0aW9ucy5zZWxlY3RBbGxUZXh0fTwvYnV0dG9uPlxuICAgICAgICAgICR7dGhpcy5vcHRpb25zLnNlbGVjdE5vbmVUZXh0ID8gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzby1zZWxlY3QtYWN0aW9uLXNlcGFyYXRvclwiPnw8L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLXNlbGVjdC1hY3Rpb24gc28tc2VsZWN0LWFjdGlvbi1ub25lXCI+JHt0aGlzLm9wdGlvbnMuc2VsZWN0Tm9uZVRleHR9PC9idXR0b24+XG4gICAgICAgICAgYCA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgbGV0IGNsZWFySFRNTCA9ICcnO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xlYXJhYmxlKSB7XG4gICAgICBjbGVhckhUTUwgPSBgXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic28tc2VsZWN0LWNsZWFyXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICBgO1xuICAgIH1cblxuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwic28tc2VsZWN0LXRyaWdnZXJcIiB0YWJpbmRleD1cIjBcIj5cbiAgICAgICAgJHt0aGlzLm9wdGlvbnMubXVsdGlwbGUgJiYgdGhpcy5vcHRpb25zLmRpc3BsYXlNb2RlICE9PSAndGV4dCcgP1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwic28tc2VsZWN0LWNoaXBzXCI+PC9kaXY+JyA6XG4gICAgICAgICAgYDxzcGFuIGNsYXNzPVwic28tc2VsZWN0LXBsYWNlaG9sZGVyXCI+JHtwbGFjZWhvbGRlcn08L3NwYW4+YFxuICAgICAgICB9XG4gICAgICAgICR7Y2xlYXJIVE1MfVxuICAgICAgICA8c3BhbiBjbGFzcz1cInNvLXNlbGVjdC1hcnJvd1wiPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5leHBhbmRfbW9yZTwvc3Bhbj48L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzby1zZWxlY3QtZHJvcGRvd25cIj5cbiAgICAgICAgJHtzZWFyY2hIVE1MfVxuICAgICAgICAke2FjdGlvbnNIVE1MfVxuICAgICAgICA8ZGl2IGNsYXNzPVwic28tc2VsZWN0LW9wdGlvbnNcIj5cbiAgICAgICAgICAke29wdGlvbnNIVE1MfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNvLXNlbGVjdC1uby1yZXN1bHRzXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPiR7dGhpcy5vcHRpb25zLm5vUmVzdWx0c1RleHR9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby1zZWxlY3QtbG9hZGluZy10ZXh0XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPiR7dGhpcy5vcHRpb25zLmxvYWRpbmdUZXh0fTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBvcHRpb25zIEhUTUxcbiAgICogQHBhcmFtIHtBcnJheX0gb3B0aW9ucyAtIE9wdGlvbnMgZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0aW9uU3R5bGUgLSBTZWxlY3Rpb24gc3R5bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdGlvbkljb24gLSBTZWxlY3Rpb24gaWNvblxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBIVE1MIHN0cmluZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2J1aWxkT3B0aW9uc0hUTUwob3B0aW9ucywgc2VsZWN0aW9uU3R5bGUsIHNlbGVjdGlvbkljb24pIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiAnJztcblxuICAgIGxldCBodG1sID0gJyc7XG5cbiAgICBvcHRpb25zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5vcHRpb25zKSB7XG4gICAgICAgIC8vIEl0J3MgYSBncm91cFxuICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwic28tc2VsZWN0LWdyb3VwXCI+YDtcbiAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cInNvLXNlbGVjdC1ncm91cC1sYWJlbFwiPiR7aXRlbS5sYWJlbH08L2Rpdj5gO1xuICAgICAgICBpdGVtLm9wdGlvbnMuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgICAgIGh0bWwgKz0gdGhpcy5fYnVpbGRPcHRpb25IVE1MKG9wdCwgc2VsZWN0aW9uU3R5bGUsIHNlbGVjdGlvbkljb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgaHRtbCArPSBgPC9kaXY+YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEl0J3MgYSBzaW5nbGUgb3B0aW9uXG4gICAgICAgIGh0bWwgKz0gdGhpcy5fYnVpbGRPcHRpb25IVE1MKGl0ZW0sIHNlbGVjdGlvblN0eWxlLCBzZWxlY3Rpb25JY29uKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIHNpbmdsZSBvcHRpb24gSFRNTFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0IC0gT3B0aW9uIGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdGlvblN0eWxlIC0gU2VsZWN0aW9uIHN0eWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3Rpb25JY29uIC0gU2VsZWN0aW9uIGljb25cbiAgICogQHJldHVybnMge3N0cmluZ30gSFRNTCBzdHJpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9idWlsZE9wdGlvbkhUTUwob3B0LCBzZWxlY3Rpb25TdHlsZSwgc2VsZWN0aW9uSWNvbikge1xuICAgIGNvbnN0IGNsYXNzZXMgPSBbJ3NvLXNlbGVjdC1vcHRpb24nXTtcbiAgICBpZiAob3B0LmRpc2FibGVkKSBjbGFzc2VzLnB1c2goJ3NvLWRpc2FibGVkJyk7XG4gICAgaWYgKG9wdC5zZWxlY3RlZCkgY2xhc3Nlcy5wdXNoKCdzby1zZWxlY3RlZCcpO1xuXG4gICAgLy8gQ2hlY2tib3ggaW5kaWNhdG9yIChmb3IgbXVsdGlwbGUgc2VsZWN0KVxuICAgIGxldCBjaGVja2JveEhUTUwgPSAnJztcbiAgICBpZiAoc2VsZWN0aW9uU3R5bGUgPT09ICdjaGVja2JveCcgfHwgc2VsZWN0aW9uU3R5bGUgPT09ICdjaGVja2JveC1iZycpIHtcbiAgICAgIGNoZWNrYm94SFRNTCA9IGA8c3BhbiBjbGFzcz1cInNvLWNoZWNrYm94LWJveFwiPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3NlbGVjdGlvbkljb259PC9zcGFuPjwvc3Bhbj5gO1xuICAgIH1cblxuICAgIC8vIFJhZGlvIGluZGljYXRvciAoZm9yIHNpbmdsZSBzZWxlY3QpIC0gdXNlcyBleGlzdGluZyBzby1yYWRpby1jaXJjbGUgY2xhc3NcbiAgICBsZXQgcmFkaW9IVE1MID0gJyc7XG4gICAgaWYgKHNlbGVjdGlvblN0eWxlID09PSAncmFkaW8nIHx8IHNlbGVjdGlvblN0eWxlID09PSAncmFkaW8tYmcnKSB7XG4gICAgICByYWRpb0hUTUwgPSBgPHNwYW4gY2xhc3M9XCJzby1yYWRpby1jaXJjbGVcIj48L3NwYW4+YDtcbiAgICB9XG5cbiAgICBsZXQgaWNvbkhUTUwgPSAnJztcbiAgICBpZiAob3B0Lmljb24pIHtcbiAgICAgIGljb25IVE1MID0gYDxzcGFuIGNsYXNzPVwic28tc2VsZWN0LW9wdGlvbi1pY29uXCI+PHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7b3B0Lmljb259PC9zcGFuPjwvc3Bhbj5gO1xuICAgIH1cblxuICAgIGxldCBjb250ZW50SFRNTCA9ICcnO1xuICAgIGlmIChvcHQuZGVzY3JpcHRpb24pIHtcbiAgICAgIGNvbnRlbnRIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic28tc2VsZWN0LW9wdGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzby1zZWxlY3Qtb3B0aW9uLXRleHRcIj4ke29wdC5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzby1zZWxlY3Qtb3B0aW9uLWRlc2NcIj4ke29wdC5kZXNjcmlwdGlvbn08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudEhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzby1zZWxlY3Qtb3B0aW9uLWNvbnRlbnRcIj4ke29wdC5sYWJlbH08L3NwYW4+YDtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpY29uIChmb3IgaWNvbiBhbmQgaWNvbi1iZyBzdHlsZXMpXG4gICAgbGV0IGNoZWNrSFRNTCA9ICcnO1xuICAgIGNvbnN0IG5vQ2hlY2tTdHlsZXMgPSBbJ2NoZWNrYm94JywgJ2NoZWNrYm94LWJnJywgJ3JhZGlvJywgJ3JhZGlvLWJnJywgJ2JnJ107XG4gICAgaWYgKCFub0NoZWNrU3R5bGVzLmluY2x1ZGVzKHNlbGVjdGlvblN0eWxlKSkge1xuICAgICAgY2hlY2tIVE1MID0gYDxzcGFuIGNsYXNzPVwic28tc2VsZWN0LW9wdGlvbi1jaGVja1wiPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3NlbGVjdGlvbkljb259PC9zcGFuPjwvc3Bhbj5gO1xuICAgIH1cblxuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwiJHtjbGFzc2VzLmpvaW4oJyAnKX1cIiBkYXRhLXZhbHVlPVwiJHtvcHQudmFsdWV9XCI+XG4gICAgICAgICR7Y2hlY2tib3hIVE1MfVxuICAgICAgICAke3JhZGlvSFRNTH1cbiAgICAgICAgJHtpY29uSFRNTH1cbiAgICAgICAgJHtjb250ZW50SFRNTH1cbiAgICAgICAgJHtjaGVja0hUTUx9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIERPTSBlbGVtZW50c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NhY2hlRWxlbWVudHMoKSB7XG4gICAgdGhpcy5fdHJpZ2dlciA9IHRoaXMuJCgnLnNvLXNlbGVjdC10cmlnZ2VyJyk7XG4gICAgdGhpcy5fZHJvcGRvd24gPSB0aGlzLiQoJy5zby1zZWxlY3QtZHJvcGRvd24nKTtcbiAgICB0aGlzLl9vcHRpb25zTGlzdCA9IHRoaXMuJCgnLnNvLXNlbGVjdC1vcHRpb25zJyk7XG4gICAgdGhpcy5fc2VhcmNoSW5wdXQgPSB0aGlzLiQoJy5zby1zZWxlY3Qtc2VhcmNoLWlucHV0Jyk7XG4gICAgdGhpcy5fcGxhY2Vob2xkZXIgPSB0aGlzLiQoJy5zby1zZWxlY3QtcGxhY2Vob2xkZXInKTtcbiAgICB0aGlzLl92YWx1ZUVsID0gdGhpcy4kKCcuc28tc2VsZWN0LXZhbHVlJyk7XG4gICAgdGhpcy5fY2hpcHNDb250YWluZXIgPSB0aGlzLiQoJy5zby1zZWxlY3QtY2hpcHMnKTtcbiAgICB0aGlzLl9jbGVhckJ0biA9IHRoaXMuJCgnLnNvLXNlbGVjdC1jbGVhcicpO1xuICAgIHRoaXMuX25vUmVzdWx0cyA9IHRoaXMuJCgnLnNvLXNlbGVjdC1uby1yZXN1bHRzJyk7XG4gICAgdGhpcy5fbG9hZGluZ1RleHQgPSB0aGlzLiQoJy5zby1zZWxlY3QtbG9hZGluZy10ZXh0Jyk7XG4gICAgdGhpcy5fYWN0aW9uc0FsbCA9IHRoaXMuJCgnLnNvLXNlbGVjdC1hY3Rpb24tYWxsJyk7XG4gICAgdGhpcy5fYWN0aW9uc05vbmUgPSB0aGlzLiQoJy5zby1zZWxlY3QtYWN0aW9uLW5vbmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHN0YXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdFN0YXRlKCkge1xuICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuX2Rpc2FibGVkID0gdGhpcy5vcHRpb25zLmRpc2FibGVkO1xuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5fc2VsZWN0ZWRUZXh0cyA9IFtdO1xuICAgIHRoaXMuX2ZvY3VzZWRJbmRleCA9IC0xO1xuICAgIHRoaXMuX3NlYXJjaFF1ZXJ5ID0gJyc7XG5cbiAgICAvLyBHZXQgaW5pdGlhbCBzZWxlY3Rpb25zXG4gICAgdGhpcy5fZ2V0SW5pdGlhbFNlbGVjdGlvbnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaW5pdGlhbCBzZWxlY3Rpb25zIGZyb20gRE9NXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0SW5pdGlhbFNlbGVjdGlvbnMoKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLiQkKCcuc28tc2VsZWN0LW9wdGlvbi5zby1zZWxlY3RlZCcpO1xuICAgIHNlbGVjdGVkLmZvckVhY2gob3B0ID0+IHtcbiAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzLnB1c2gob3B0LmRhdGFzZXQudmFsdWUpO1xuICAgICAgdGhpcy5fc2VsZWN0ZWRUZXh0cy5wdXNoKHRoaXMuX2dldE9wdGlvblRleHQob3B0KSk7XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgZGlzcGxheVxuICAgIHRoaXMuX3VwZGF0ZURpc3BsYXkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBtb2RpZmllciBjbGFzc2VzIGJhc2VkIG9uIG9wdGlvbnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hcHBseU1vZGlmaWVyQ2xhc3NlcygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNlYXJjaGFibGUpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3NvLXNlbGVjdC1zZWFyY2hhYmxlJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3NvLXNlbGVjdC1tdWx0aXBsZScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmNsZWFyYWJsZSkge1xuICAgICAgdGhpcy5hZGRDbGFzcygnc28tc2VsZWN0LWNsZWFyYWJsZScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCdzby1zZWxlY3QtZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICAvLyBTZWxlY3Rpb24gc3R5bGVcbiAgICBpZiAodGhpcy5vcHRpb25zLnNlbGVjdGlvblN0eWxlICE9PSAnaWNvbi1iZycpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoYHNvLXNlbGVjdC1zdHlsZS0ke3RoaXMub3B0aW9ucy5zZWxlY3Rpb25TdHlsZX1gKTtcbiAgICB9XG5cbiAgICAvLyBEaXNwbGF5IG1vZGVcbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc3BsYXlNb2RlICE9PSAndGV4dCcpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoYHNvLXNlbGVjdC1kaXNwbGF5LSR7dGhpcy5vcHRpb25zLmRpc3BsYXlNb2RlfWApO1xuICAgIH1cblxuICAgIC8vIFNpemUgdmFyaWFudHNcbiAgICBpZiAodGhpcy5vcHRpb25zLnNpemUpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoYHNvLXNlbGVjdC0ke3RoaXMub3B0aW9ucy5zaXplfWApO1xuICAgIH1cblxuICAgIC8vIENvbG9yIHZhcmlhbnRzXG4gICAgaWYgKHRoaXMub3B0aW9ucy52YXJpYW50KSB7XG4gICAgICB0aGlzLmFkZENsYXNzKGBzby1zZWxlY3QtJHt0aGlzLm9wdGlvbnMudmFyaWFudH1gKTtcbiAgICB9XG5cbiAgICAvLyBOb3dyYXAgLSBwcmV2ZW50IHRleHQgd3JhcHBpbmcgaW4gb3B0aW9uc1xuICAgIGlmICh0aGlzLm9wdGlvbnMubm93cmFwKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCdzby1zZWxlY3Qtbm93cmFwJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgZnJvbSBuYXRpdmUgc2VsZWN0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3luY0Zyb21OYXRpdmUoKSB7XG4gICAgaWYgKCF0aGlzLl9uYXRpdmVTZWxlY3QpIHJldHVybjtcblxuICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9ucyA9IEFycmF5LmZyb20odGhpcy5fbmF0aXZlU2VsZWN0LnNlbGVjdGVkT3B0aW9ucyk7XG4gICAgdGhpcy5fc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9zZWxlY3RlZFRleHRzID0gW107XG5cbiAgICBzZWxlY3RlZE9wdGlvbnMuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgaWYgKG9wdC52YWx1ZSkge1xuICAgICAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcy5wdXNoKG9wdC52YWx1ZSk7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMucHVzaChvcHQudGV4dENvbnRlbnQpO1xuXG4gICAgICAgIC8vIE1hcmsgYXMgc2VsZWN0ZWQgaW4gY3VzdG9tIHNlbGVjdFxuICAgICAgICBjb25zdCBjdXN0b21PcHQgPSB0aGlzLiQkKGAuc28tc2VsZWN0LW9wdGlvbltkYXRhLXZhbHVlPVwiJHtvcHQudmFsdWV9XCJdYCk7XG4gICAgICAgIGlmIChjdXN0b21PcHQubGVuZ3RoKSB7XG4gICAgICAgICAgY3VzdG9tT3B0WzBdLmNsYXNzTGlzdC5hZGQoJ3NvLXNlbGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX3VwZGF0ZURpc3BsYXkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jIHRvIG5hdGl2ZSBzZWxlY3RcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zeW5jVG9OYXRpdmUoKSB7XG4gICAgaWYgKCF0aGlzLl9uYXRpdmVTZWxlY3QpIHJldHVybjtcblxuICAgIC8vIFNldCBmbGFnIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcCB3aXRoIGJpZGlyZWN0aW9uYWwgc3luY1xuICAgIHRoaXMuX3N5bmNpbmdUb05hdGl2ZSA9IHRydWU7XG5cbiAgICAvLyBVcGRhdGUgbmF0aXZlIHNlbGVjdCBvcHRpb25zXG4gICAgQXJyYXkuZnJvbSh0aGlzLl9uYXRpdmVTZWxlY3Qub3B0aW9ucykuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgb3B0LnNlbGVjdGVkID0gdGhpcy5fc2VsZWN0ZWRWYWx1ZXMuaW5jbHVkZXMob3B0LnZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8vIFRyaWdnZXIgbmF0aXZlIGNoYW5nZSBldmVudFxuICAgIHRoaXMuX25hdGl2ZVNlbGVjdC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcblxuICAgIC8vIENsZWFyIGZsYWcgYWZ0ZXIgZXZlbnQgcHJvcGFnYXRpb25cbiAgICB0aGlzLl9zeW5jaW5nVG9OYXRpdmUgPSBmYWxzZTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEVWRU5UIEJJTkRJTkdcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBfYmluZEV2ZW50cygpIHtcbiAgICAvLyBUcmlnZ2VyIGNsaWNrXG4gICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2ssIHRoaXMuX3RyaWdnZXIpO1xuICAgIHRoaXMub24oJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93biwgdGhpcy5fdHJpZ2dlcik7XG5cbiAgICAvLyBPcHRpb24gY2xpY2tzXG4gICAgdGhpcy5kZWxlZ2F0ZSgnY2xpY2snLCAnLnNvLXNlbGVjdC1vcHRpb24nLCB0aGlzLl9oYW5kbGVPcHRpb25DbGljayk7XG5cbiAgICAvLyBTZWFyY2ggaW5wdXRcbiAgICBpZiAodGhpcy5fc2VhcmNoSW5wdXQpIHtcbiAgICAgIHRoaXMub24oJ2lucHV0JywgdGhpcy5faGFuZGxlU2VhcmNoLCB0aGlzLl9zZWFyY2hJbnB1dCk7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLCB0aGlzLl9zZWFyY2hJbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgYnV0dG9uXG4gICAgaWYgKHRoaXMuX2NsZWFyQnRuKSB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsZWFyLCB0aGlzLl9jbGVhckJ0bik7XG4gICAgfVxuXG4gICAgLy8gQWN0aW9uc1xuICAgIGlmICh0aGlzLl9hY3Rpb25zQWxsKSB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZVNlbGVjdEFsbCwgdGhpcy5fYWN0aW9uc0FsbCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9hY3Rpb25zTm9uZSkge1xuICAgICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVTZWxlY3ROb25lLCB0aGlzLl9hY3Rpb25zTm9uZSk7XG4gICAgfVxuXG4gICAgLy8gQ2hpcCByZW1vdmUgYnV0dG9uc1xuICAgIHRoaXMuZGVsZWdhdGUoJ2NsaWNrJywgJy5zby1zZWxlY3QtY2hpcC1yZW1vdmUnLCB0aGlzLl9oYW5kbGVDaGlwUmVtb3ZlKTtcblxuICAgIC8vIE91dHNpZGUgY2xpY2tcbiAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZU91dHNpZGVDbGljaywgZG9jdW1lbnQpO1xuXG4gICAgLy8gS2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgIHRoaXMub24oJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgLy8gTGlzdGVuIGZvciBwcm9ncmFtbWF0aWMgY2hhbmdlcyB0byBuYXRpdmUgc2VsZWN0IChiaWRpcmVjdGlvbmFsIHN5bmMpXG4gICAgaWYgKHRoaXMuX25hdGl2ZVNlbGVjdCkge1xuICAgICAgdGhpcy5fbmF0aXZlQ2hhbmdlSGFuZGxlciA9IHRoaXMuX2hhbmRsZU5hdGl2ZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fbmF0aXZlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX25hdGl2ZUNoYW5nZUhhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgbmF0aXZlIHNlbGVjdCBjaGFuZ2UgKGZvciBiaWRpcmVjdGlvbmFsIHN5bmMpXG4gICAqIFRoaXMgYWxsb3dzIGV4dGVybmFsIGNvZGUgdG8gY2hhbmdlIHRoZSBuYXRpdmUgc2VsZWN0IGFuZCBoYXZlIHRoZSBjdXN0b20gVUkgdXBkYXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlTmF0aXZlQ2hhbmdlKCkge1xuICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCAtIG9ubHkgc3luYyBpZiBjaGFuZ2Ugd2Fzbid0IHRyaWdnZXJlZCBieSB1c1xuICAgIGlmICh0aGlzLl9zeW5jaW5nVG9OYXRpdmUpIHJldHVybjtcbiAgICB0aGlzLl9zeW5jRnJvbU5hdGl2ZUV4dGVybmFsKCk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBmcm9tIG5hdGl2ZSBzZWxlY3Qgd2hlbiBjaGFuZ2VkIGV4dGVybmFsbHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zeW5jRnJvbU5hdGl2ZUV4dGVybmFsKCkge1xuICAgIGlmICghdGhpcy5fbmF0aXZlU2VsZWN0KSByZXR1cm47XG5cbiAgICAvLyBDbGVhciBjdXJyZW50IHNlbGVjdGlvbnMgaW4gY3VzdG9tIFVJXG4gICAgdGhpcy4kJCgnLnNvLXNlbGVjdC1vcHRpb24uc28tc2VsZWN0ZWQnKS5mb3JFYWNoKG9wdCA9PiB7XG4gICAgICBvcHQuY2xhc3NMaXN0LnJlbW92ZSgnc28tc2VsZWN0ZWQnKTtcbiAgICB9KTtcblxuICAgIC8vIEdldCBzZWxlY3RlZCB2YWx1ZXMgZnJvbSBuYXRpdmVcbiAgICBjb25zdCBzZWxlY3RlZE9wdGlvbnMgPSBBcnJheS5mcm9tKHRoaXMuX25hdGl2ZVNlbGVjdC5zZWxlY3RlZE9wdGlvbnMpO1xuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5fc2VsZWN0ZWRUZXh0cyA9IFtdO1xuXG4gICAgc2VsZWN0ZWRPcHRpb25zLmZvckVhY2gob3B0ID0+IHtcbiAgICAgIGlmIChvcHQudmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRWYWx1ZXMucHVzaChvcHQudmFsdWUpO1xuICAgICAgICB0aGlzLl9zZWxlY3RlZFRleHRzLnB1c2gob3B0LnRleHRDb250ZW50KTtcblxuICAgICAgICAvLyBNYXJrIGFzIHNlbGVjdGVkIGluIGN1c3RvbSBzZWxlY3RcbiAgICAgICAgY29uc3QgY3VzdG9tT3B0ID0gdGhpcy4kJChgLnNvLXNlbGVjdC1vcHRpb25bZGF0YS12YWx1ZT1cIiR7b3B0LnZhbHVlfVwiXWApO1xuICAgICAgICBpZiAoY3VzdG9tT3B0Lmxlbmd0aCkge1xuICAgICAgICAgIGN1c3RvbU9wdFswXS5jbGFzc0xpc3QuYWRkKCdzby1zZWxlY3RlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl91cGRhdGVEaXNwbGF5KCk7XG5cbiAgICAvLyBFbWl0IGN1c3RvbSBjaGFuZ2UgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09TZWxlY3QuRVZFTlRTLkNIQU5HRSwge1xuICAgICAgdmFsdWU6IHRoaXMuX3NlbGVjdGVkVmFsdWVzWzBdIHx8IG51bGwsXG4gICAgICB2YWx1ZXM6IFsuLi50aGlzLl9zZWxlY3RlZFZhbHVlc10sXG4gICAgICB0ZXh0OiB0aGlzLl9zZWxlY3RlZFRleHRzWzBdIHx8IG51bGwsXG4gICAgICB0ZXh0czogWy4uLnRoaXMuX3NlbGVjdGVkVGV4dHNdLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgSEFORExFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBfaGFuZGxlVHJpZ2dlckNsaWNrKGUpIHtcbiAgICAvLyBEb24ndCB0b2dnbGUgaWYgY2xpY2tpbmcgb24gY2hpcCByZW1vdmUgYnV0dG9uXG4gICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5zby1zZWxlY3QtY2hpcC1yZW1vdmUnKSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGNoaXAgPSBlLnRhcmdldC5jbG9zZXN0KCcuc28tc2VsZWN0LWNoaXAnKTtcbiAgICAgIGlmIChjaGlwPy5kYXRhc2V0LnZhbHVlKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlVmFsdWUoY2hpcC5kYXRhc2V0LnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLl9kaXNhYmxlZCkgcmV0dXJuO1xuICAgIHRoaXMudG9nZ2xlKCk7XG4gIH1cblxuICBfaGFuZGxlVHJpZ2dlcktleWRvd24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nICYmICF0aGlzLl9pc09wZW4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVPcHRpb25DbGljayhlLCBpdGVtKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgdmFsdWUgPSBpdGVtLmRhdGFzZXQudmFsdWU7XG4gICAgY29uc3QgdGV4dCA9IHRoaXMuX2dldE9wdGlvblRleHQoaXRlbSk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICB0aGlzLl90b2dnbGVTZWxlY3Rpb24odmFsdWUsIHRleHQsIGl0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zZWxlY3RTaW5nbGUodmFsdWUsIHRleHQsIGl0ZW0pO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uU2VsZWN0KSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlU2VhcmNoKGUpIHtcbiAgICBjb25zdCBxdWVyeSA9IGUudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIHRoaXMuX3NlYXJjaFF1ZXJ5ID0gcXVlcnk7XG4gICAgdGhpcy5fZmlsdGVyT3B0aW9ucyhxdWVyeSk7XG4gICAgdGhpcy5lbWl0KFNPU2VsZWN0LkVWRU5UUy5TRUFSQ0gsIHsgcXVlcnkgfSk7XG4gIH1cblxuICBfaGFuZGxlQ2xlYXIoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgX2hhbmRsZVNlbGVjdEFsbChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5zZWxlY3RBbGwoKTtcbiAgfVxuXG4gIF9oYW5kbGVTZWxlY3ROb25lKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnNlbGVjdE5vbmUoKTtcbiAgfVxuXG4gIF9oYW5kbGVDaGlwUmVtb3ZlKGUsIGNoaXApIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IHZhbHVlID0gY2hpcC5jbG9zZXN0KCcuc28tc2VsZWN0LWNoaXAnKT8uZGF0YXNldC52YWx1ZTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMucmVtb3ZlVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVPdXRzaWRlQ2xpY2soZSkge1xuICAgIGlmICghdGhpcy5faXNPcGVuKSByZXR1cm47XG4gICAgLy8gU2tpcCBpZiB3ZSBqdXN0IG9wZW5lZCAocHJldmVudHMgc2FtZS1jbGljay1jeWNsZSBjbG9zaW5nIGZyb20gZXh0ZXJuYWwgdHJpZ2dlcnMpXG4gICAgaWYgKHRoaXMuX2p1c3RPcGVuZWQpIHJldHVybjtcbiAgICBpZiAodGhpcy5lbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KSkgcmV0dXJuO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVLZXlkb3duKGUpIHtcbiAgICBpZiAoIXRoaXMuX2lzT3BlbikgcmV0dXJuO1xuXG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLl9nZXROYXZpZ2FibGVPcHRpb25zKCk7XG5cbiAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fdHJpZ2dlcj8uZm9jdXMoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNOZXh0T3B0aW9uKGl0ZW1zLCAxKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzTmV4dE9wdGlvbihpdGVtcywgLTEpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgY2FzZSAnICc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvY3VzZWRJbmRleCA+PSAwICYmIGl0ZW1zW3RoaXMuX2ZvY3VzZWRJbmRleF0pIHtcbiAgICAgICAgICBpdGVtc1t0aGlzLl9mb2N1c2VkSW5kZXhdLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzT3B0aW9uKGl0ZW1zLCAwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNPcHRpb24oaXRlbXMsIGl0ZW1zLmxlbmd0aCAtIDEpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTRUxFQ1RJT04gTE9HSUNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBfc2VsZWN0U2luZ2xlKHZhbHVlLCB0ZXh0LCBpdGVtKSB7XG4gICAgY29uc3QgcHJldmlvdXNWYWx1ZXMgPSBbLi4udGhpcy5fc2VsZWN0ZWRWYWx1ZXNdO1xuXG4gICAgLy8gUmVtb3ZlIHByZXZpb3VzIHNlbGVjdGlvblxuICAgIHRoaXMuJCQoJy5zby1zZWxlY3Qtb3B0aW9uLnNvLXNlbGVjdGVkJykuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgb3B0LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXNlbGVjdGVkJyk7XG4gICAgfSk7XG5cbiAgICAvLyBTZXQgbmV3IHNlbGVjdGlvblxuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW3ZhbHVlXTtcbiAgICB0aGlzLl9zZWxlY3RlZFRleHRzID0gW3RleHRdO1xuICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnc28tc2VsZWN0ZWQnKTtcblxuICAgIC8vIFVwZGF0ZSBkaXNwbGF5XG4gICAgdGhpcy5fdXBkYXRlRGlzcGxheSgpO1xuXG4gICAgLy8gU3luYyB0byBuYXRpdmVcbiAgICB0aGlzLl9zeW5jVG9OYXRpdmUoKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09TZWxlY3QuRVZFTlRTLkNIQU5HRSwge1xuICAgICAgdmFsdWUsXG4gICAgICB0ZXh0LFxuICAgICAgdmFsdWVzOiB0aGlzLl9zZWxlY3RlZFZhbHVlcyxcbiAgICAgIHRleHRzOiB0aGlzLl9zZWxlY3RlZFRleHRzLFxuICAgICAgcHJldmlvdXNWYWx1ZXMsXG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlU2VsZWN0aW9uKHZhbHVlLCB0ZXh0LCBpdGVtKSB7XG4gICAgY29uc3QgcHJldmlvdXNWYWx1ZXMgPSBbLi4udGhpcy5fc2VsZWN0ZWRWYWx1ZXNdO1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG5cbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgLy8gRGVzZWxlY3RcbiAgICAgIGNvbnN0IG1pblNlbGVjdGlvbnMgPSB0aGlzLm9wdGlvbnMubWluU2VsZWN0aW9ucyB8fCAwO1xuICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkVmFsdWVzLmxlbmd0aCA8PSBtaW5TZWxlY3Rpb25zKSB7XG4gICAgICAgIHJldHVybjsgLy8gQ2FuJ3QgZGVzZWxlY3QgYmVsb3cgbWluaW11bVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdGhpcy5fc2VsZWN0ZWRUZXh0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzby1zZWxlY3RlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZWxlY3RcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubWF4U2VsZWN0aW9ucyAmJiB0aGlzLl9zZWxlY3RlZFZhbHVlcy5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1heFNlbGVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBDYW4ndCBleGNlZWQgbWF4aW11bVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMucHVzaCh0ZXh0KTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnc28tc2VsZWN0ZWQnKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgZGlzcGxheVxuICAgIHRoaXMuX3VwZGF0ZURpc3BsYXkoKTtcblxuICAgIC8vIFN5bmMgdG8gbmF0aXZlXG4gICAgdGhpcy5fc3luY1RvTmF0aXZlKCk7XG5cbiAgICAvLyBFbWl0IGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPU2VsZWN0LkVWRU5UUy5DSEFOR0UsIHtcbiAgICAgIHZhbHVlLFxuICAgICAgdGV4dCxcbiAgICAgIHZhbHVlczogdGhpcy5fc2VsZWN0ZWRWYWx1ZXMsXG4gICAgICB0ZXh0czogdGhpcy5fc2VsZWN0ZWRUZXh0cyxcbiAgICAgIHByZXZpb3VzVmFsdWVzLFxuICAgICAgYWN0aW9uOiBpbmRleCA+IC0xID8gJ2Rlc2VsZWN0JyA6ICdzZWxlY3QnLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRElTUExBWSBVUERBVEVcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBfdXBkYXRlRGlzcGxheSgpIHtcbiAgICBjb25zdCBjb3VudCA9IHRoaXMuX3NlbGVjdGVkVmFsdWVzLmxlbmd0aDtcblxuICAgIC8vIFNob3cvaGlkZSBjbGVhciBidXR0b25cbiAgICBpZiAodGhpcy5fY2xlYXJCdG4pIHtcbiAgICAgIHRoaXMuX2NsZWFyQnRuLnN0eWxlLmRpc3BsYXkgPSBjb3VudCA+IDAgPyAnZmxleCcgOiAnbm9uZSc7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLl9zaG93UGxhY2Vob2xkZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICB0aGlzLl91cGRhdGVNdWx0aXBsZURpc3BsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlU2luZ2xlRGlzcGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93UGxhY2Vob2xkZXIoKSB7XG4gICAgaWYgKHRoaXMuX3BsYWNlaG9sZGVyKSB7XG4gICAgICB0aGlzLl9wbGFjZWhvbGRlci5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICB0aGlzLl9wbGFjZWhvbGRlci50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3ZhbHVlRWwpIHtcbiAgICAgIHRoaXMuX3ZhbHVlRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgaWYgKHRoaXMuX2NoaXBzQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLl9jaGlwc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlU2luZ2xlRGlzcGxheSgpIHtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5fc2VsZWN0ZWRUZXh0c1swXTtcblxuICAgIGlmICh0aGlzLl9wbGFjZWhvbGRlcikge1xuICAgICAgdGhpcy5fcGxhY2Vob2xkZXIudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgdGhpcy5fcGxhY2Vob2xkZXIuY2xhc3NMaXN0LnJlbW92ZSgnc28tc2VsZWN0LXBsYWNlaG9sZGVyJyk7XG4gICAgICB0aGlzLl9wbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKCdzby1zZWxlY3QtdmFsdWUnKTtcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlTXVsdGlwbGVEaXNwbGF5KCkge1xuICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsSXRlbXMgPSB0aGlzLl9nZXRUb3RhbFNlbGVjdGFibGVPcHRpb25zKCk7XG4gICAgY29uc3QgZGlzcGxheU1vZGUgPSB0aGlzLm9wdGlvbnMuZGlzcGxheU1vZGU7XG5cbiAgICBpZiAoZGlzcGxheU1vZGUgPT09ICdjaGlwcycgfHwgZGlzcGxheU1vZGUgPT09ICdjaGlwcy1vdmVyZmxvdycpIHtcbiAgICAgIHRoaXMuX3JlbmRlckNoaXBzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRleHQgbW9kZVxuICAgICAgbGV0IHRleHQ7XG4gICAgICBpZiAoY291bnQgPT09IHRvdGFsSXRlbXMgJiYgdGhpcy5vcHRpb25zLmFsbFNlbGVjdGVkVGV4dCkge1xuICAgICAgICB0ZXh0ID0gdGhpcy5vcHRpb25zLmFsbFNlbGVjdGVkVGV4dC5yZXBsYWNlKCd7Y291bnR9JywgY291bnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IHRoaXMub3B0aW9ucy5tdWx0aXBsZVNlbGVjdGVkVGV4dC5yZXBsYWNlKCd7Y291bnR9JywgY291bnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXIudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICB0aGlzLl9wbGFjZWhvbGRlci5jbGFzc0xpc3QucmVtb3ZlKCdzby1zZWxlY3QtcGxhY2Vob2xkZXInKTtcbiAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXIuY2xhc3NMaXN0LmFkZCgnc28tc2VsZWN0LXZhbHVlJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3JlbmRlckNoaXBzKCkge1xuICAgIGlmICghdGhpcy5fY2hpcHNDb250YWluZXIpIHJldHVybjtcblxuICAgIGNvbnN0IGRpc3BsYXlNb2RlID0gdGhpcy5vcHRpb25zLmRpc3BsYXlNb2RlO1xuICAgIGNvbnN0IG1heENoaXBzID0gdGhpcy5vcHRpb25zLm1heFZpc2libGVDaGlwcztcbiAgICBsZXQgY2hpcHMgPSAnJztcblxuICAgIGNvbnN0IHZhbHVlc1RvU2hvdyA9IGRpc3BsYXlNb2RlID09PSAnY2hpcHMtb3ZlcmZsb3cnXG4gICAgICA/IHRoaXMuX3NlbGVjdGVkVmFsdWVzLnNsaWNlKDAsIG1heENoaXBzKVxuICAgICAgOiB0aGlzLl9zZWxlY3RlZFZhbHVlcztcblxuICAgIHZhbHVlc1RvU2hvdy5mb3JFYWNoKCh2YWx1ZSwgaSkgPT4ge1xuICAgICAgY29uc3QgdGV4dCA9IHRoaXMuX3NlbGVjdGVkVGV4dHNbaV0gfHwgdmFsdWU7XG4gICAgICBjaGlwcyArPSBgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwic28tc2VsZWN0LWNoaXBcIiBkYXRhLXZhbHVlPVwiJHt2YWx1ZX1cIj5cbiAgICAgICAgICA8c3Bhbj4ke3RleHR9PC9zcGFuPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic28tc2VsZWN0LWNoaXAtcmVtb3ZlXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIGA7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgb3ZlcmZsb3cgaW5kaWNhdG9yXG4gICAgaWYgKGRpc3BsYXlNb2RlID09PSAnY2hpcHMtb3ZlcmZsb3cnICYmIHRoaXMuX3NlbGVjdGVkVmFsdWVzLmxlbmd0aCA+IG1heENoaXBzKSB7XG4gICAgICBjb25zdCBvdmVyZmxvd0NvdW50ID0gdGhpcy5fc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoIC0gbWF4Q2hpcHM7XG4gICAgICBjb25zdCBvdmVyZmxvd1RleHQgPSB0aGlzLm9wdGlvbnMub3ZlcmZsb3dUZXh0LnJlcGxhY2UoJ3tjb3VudH0nLCBvdmVyZmxvd0NvdW50KTtcbiAgICAgIGNoaXBzICs9IGA8c3BhbiBjbGFzcz1cInNvLXNlbGVjdC1vdmVyZmxvd1wiPiR7b3ZlcmZsb3dUZXh0fTwvc3Bhbj5gO1xuICAgIH1cblxuICAgIHRoaXMuX2NoaXBzQ29udGFpbmVyLmlubmVySFRNTCA9IGNoaXBzO1xuXG4gICAgLy8gSGlkZSBwbGFjZWhvbGRlciBpZiB3ZSBoYXZlIGNoaXBzXG4gICAgaWYgKHRoaXMuX3BsYWNlaG9sZGVyKSB7XG4gICAgICB0aGlzLl9wbGFjZWhvbGRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEZJTFRFUklOR1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIF9maWx0ZXJPcHRpb25zKHF1ZXJ5KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuJCQoJy5zby1zZWxlY3Qtb3B0aW9uJyk7XG4gICAgY29uc3QgZ3JvdXBzID0gdGhpcy4kJCgnLnNvLXNlbGVjdC1ncm91cCcpO1xuICAgIGxldCB2aXNpYmxlQ291bnQgPSAwO1xuXG4gICAgb3B0aW9ucy5mb3JFYWNoKG9wdCA9PiB7XG4gICAgICBjb25zdCB0ZXh0ID0gdGhpcy5fZ2V0T3B0aW9uVGV4dChvcHQpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBtYXRjaGVzID0gIXF1ZXJ5IHx8IHRleHQuaW5jbHVkZXMocXVlcnkpO1xuICAgICAgb3B0LnN0eWxlLmRpc3BsYXkgPSBtYXRjaGVzID8gJycgOiAnbm9uZSc7XG4gICAgICBpZiAobWF0Y2hlcykgdmlzaWJsZUNvdW50Kys7XG4gICAgfSk7XG5cbiAgICAvLyBIaWRlIGVtcHR5IGdyb3Vwc1xuICAgIGdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgIGNvbnN0IHZpc2libGVPcHRpb25zID0gZ3JvdXAucXVlcnlTZWxlY3RvckFsbCgnLnNvLXNlbGVjdC1vcHRpb246bm90KFtzdHlsZSo9XCJkaXNwbGF5OiBub25lXCJdKScpO1xuICAgICAgZ3JvdXAuc3R5bGUuZGlzcGxheSA9IHZpc2libGVPcHRpb25zLmxlbmd0aCA+IDAgPyAnJyA6ICdub25lJztcbiAgICB9KTtcblxuICAgIC8vIFNob3cvaGlkZSBubyByZXN1bHRzXG4gICAgaWYgKHRoaXMuX25vUmVzdWx0cykge1xuICAgICAgdGhpcy5fbm9SZXN1bHRzLnN0eWxlLmRpc3BsYXkgPSB2aXNpYmxlQ291bnQgPT09IDAgPyAnJyA6ICdub25lJztcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBLRVlCT0FSRCBOQVZJR0FUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgX2dldE5hdmlnYWJsZU9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuJCQoJy5zby1zZWxlY3Qtb3B0aW9uJykuZmlsdGVyKG9wdCA9PlxuICAgICAgIW9wdC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWRpc2FibGVkJykgJiZcbiAgICAgIG9wdC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSdcbiAgICApO1xuICB9XG5cbiAgX2ZvY3VzTmV4dE9wdGlvbihpdGVtcywgZGlyZWN0aW9uKSB7XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgbGV0IG5ld0luZGV4ID0gdGhpcy5fZm9jdXNlZEluZGV4ICsgZGlyZWN0aW9uO1xuICAgIGlmIChuZXdJbmRleCA8IDApIG5ld0luZGV4ID0gaXRlbXMubGVuZ3RoIC0gMTtcbiAgICBpZiAobmV3SW5kZXggPj0gaXRlbXMubGVuZ3RoKSBuZXdJbmRleCA9IDA7XG5cbiAgICB0aGlzLl9mb2N1c09wdGlvbihpdGVtcywgbmV3SW5kZXgpO1xuICB9XG5cbiAgX2ZvY3VzT3B0aW9uKGl0ZW1zLCBpbmRleCkge1xuICAgIC8vIFJlbW92ZSBmb2N1cyBmcm9tIGFsbFxuICAgIHRoaXMuJCQoJy5zby1zZWxlY3Qtb3B0aW9uJykuZm9yRWFjaChvcHQgPT4gb3B0LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWZvY3VzZWQnKSk7XG5cbiAgICAvLyBTZXQgbmV3IGZvY3VzXG4gICAgdGhpcy5fZm9jdXNlZEluZGV4ID0gaW5kZXg7XG4gICAgaWYgKGl0ZW1zW2luZGV4XSkge1xuICAgICAgaXRlbXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3NvLWZvY3VzZWQnKTtcbiAgICAgIGl0ZW1zW2luZGV4XS5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiAnbmVhcmVzdCcgfSk7XG4gICAgfVxuICB9XG5cbiAgX2NsZWFyRm9jdXMoKSB7XG4gICAgdGhpcy4kJCgnLnNvLXNlbGVjdC1vcHRpb24nKS5mb3JFYWNoKG9wdCA9PiBvcHQuY2xhc3NMaXN0LnJlbW92ZSgnc28tZm9jdXNlZCcpKTtcbiAgICB0aGlzLl9mb2N1c2VkSW5kZXggPSAtMTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFVUSUxJVFkgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIF9nZXRPcHRpb25UZXh0KG9wdCkge1xuICAgIC8vIEdldCB0ZXh0IGZyb20gc3BlY2lmaWMgZWxlbWVudHMsIGF2b2lkaW5nIGNoZWNrIGljb25zIGFuZCBjaGVja2JveGVzXG4gICAgY29uc3QgdGV4dEVsID0gb3B0LnF1ZXJ5U2VsZWN0b3IoJy5zby1zZWxlY3Qtb3B0aW9uLXRleHQnKTtcbiAgICBpZiAodGV4dEVsKSByZXR1cm4gdGV4dEVsLnRleHRDb250ZW50O1xuXG4gICAgY29uc3QgY29udGVudEVsID0gb3B0LnF1ZXJ5U2VsZWN0b3IoJy5zby1zZWxlY3Qtb3B0aW9uLWNvbnRlbnQnKTtcbiAgICBpZiAoY29udGVudEVsKSByZXR1cm4gY29udGVudEVsLnRleHRDb250ZW50O1xuXG4gICAgLy8gRmFsbGJhY2s6IGNsb25lIHRoZSBub2RlIGFuZCByZW1vdmUgY2hlY2svY2hlY2tib3ggZWxlbWVudHMgYmVmb3JlIGdldHRpbmcgdGV4dFxuICAgIGNvbnN0IGNsb25lID0gb3B0LmNsb25lTm9kZSh0cnVlKTtcbiAgICBjbG9uZS5xdWVyeVNlbGVjdG9yQWxsKCcuc28tc2VsZWN0LW9wdGlvbi1jaGVjaywgLnNvLWNoZWNrYm94LWJveCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgIHJldHVybiBjbG9uZS50ZXh0Q29udGVudC50cmltKCk7XG4gIH1cblxuICBfZ2V0VG90YWxTZWxlY3RhYmxlT3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy4kJCgnLnNvLXNlbGVjdC1vcHRpb24nKS5maWx0ZXIob3B0ID0+XG4gICAgICAhb3B0LmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKVxuICAgICkubGVuZ3RoO1xuICB9XG5cbiAgX2ZpbmRPcHRpb25CeVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuJChgLnNvLXNlbGVjdC1vcHRpb25bZGF0YS12YWx1ZT1cIiR7dmFsdWV9XCJdYCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQVUJMSUMgQVBJIC0gRFJPUERPV04gQ09OVFJPTFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIG9wZW4oKSB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiB8fCB0aGlzLl9kaXNhYmxlZCkgcmV0dXJuIHRoaXM7XG5cbiAgICBjb25zdCBhbGxvd2VkID0gdGhpcy5lbWl0KFNPU2VsZWN0LkVWRU5UUy5PUEVOLCB7fSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgaWYgKCFhbGxvd2VkKSByZXR1cm4gdGhpcztcblxuICAgIC8vIENsb3NlIGFueSBvdGhlciBvcGVuIHNlbGVjdHMgYmVmb3JlIG9wZW5pbmcgdGhpcyBvbmVcbiAgICBTT1NlbGVjdC5jbG9zZUFsbEV4Y2VwdCh0aGlzKTtcblxuICAgIHRoaXMuX2lzT3BlbiA9IHRydWU7XG4gICAgdGhpcy5hZGRDbGFzcygnc28tc2VsZWN0LW9wZW4nKTtcblxuICAgIC8vIFByZXZlbnQgaW1tZWRpYXRlIGNsb3NlIGZyb20gc2FtZSBjbGljayBldmVudCAoZm9yIHByb2dyYW1tYXRpYyBvcGVuKVxuICAgIHRoaXMuX2p1c3RPcGVuZWQgPSB0cnVlO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLl9qdXN0T3BlbmVkID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBGb2N1cyBzZWFyY2ggaW5wdXQgaWYgcHJlc2VudFxuICAgIGlmICh0aGlzLl9zZWFyY2hJbnB1dCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLl9zZWFyY2hJbnB1dC5mb2N1cygpLCA1MCk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgZm9jdXNcbiAgICB0aGlzLl9mb2N1c2VkSW5kZXggPSAtMTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFNPU2VsZWN0LkVWRU5UUy5PUEVORUQpO1xuICAgIH0sIDE1MCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGlmICghdGhpcy5faXNPcGVuKSByZXR1cm4gdGhpcztcblxuICAgIGNvbnN0IGFsbG93ZWQgPSB0aGlzLmVtaXQoU09TZWxlY3QuRVZFTlRTLkNMT1NFLCB7fSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgaWYgKCFhbGxvd2VkKSByZXR1cm4gdGhpcztcblxuICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3NvLXNlbGVjdC1vcGVuJyk7XG5cbiAgICAvLyBDbGVhciBzZWFyY2hcbiAgICBpZiAodGhpcy5fc2VhcmNoSW5wdXQpIHtcbiAgICAgIHRoaXMuX3NlYXJjaElucHV0LnZhbHVlID0gJyc7XG4gICAgICB0aGlzLl9maWx0ZXJPcHRpb25zKCcnKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBmb2N1c1xuICAgIHRoaXMuX2NsZWFyRm9jdXMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFNPU2VsZWN0LkVWRU5UUy5DTE9TRUQpO1xuICAgIH0sIDE1MCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHRvZ2dsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNPcGVuID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQVUJMSUMgQVBJIC0gVkFMVUUgTUFOQUdFTUVOVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZFZhbHVlc1swXSB8fCBudWxsO1xuICB9XG5cbiAgZ2V0VmFsdWVzKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fc2VsZWN0ZWRWYWx1ZXNdO1xuICB9XG5cbiAgZ2V0VGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRUZXh0c1swXSB8fCBudWxsO1xuICB9XG5cbiAgZ2V0VGV4dHMoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLl9zZWxlY3RlZFRleHRzXTtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgY29uc3Qgb3B0ID0gdGhpcy5fZmluZE9wdGlvbkJ5VmFsdWUodmFsdWUpO1xuICAgIGlmIChvcHQpIHtcbiAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl9nZXRPcHRpb25UZXh0KG9wdCk7XG4gICAgICB0aGlzLl9zZWxlY3RTaW5nbGUodmFsdWUsIHRleHQsIG9wdCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0VmFsdWVzKHZhbHVlcykge1xuICAgIGlmICghdGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXRWYWx1ZSh2YWx1ZXNbMF0pO1xuICAgIH1cblxuICAgIC8vIENsZWFyIGN1cnJlbnRcbiAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcyA9IFtdO1xuICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMgPSBbXTtcbiAgICB0aGlzLiQkKCcuc28tc2VsZWN0LW9wdGlvbi5zby1zZWxlY3RlZCcpLmZvckVhY2gob3B0ID0+IHtcbiAgICAgIG9wdC5jbGFzc0xpc3QucmVtb3ZlKCdzby1zZWxlY3RlZCcpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIG5ldyB2YWx1ZXNcbiAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBjb25zdCBvcHQgPSB0aGlzLl9maW5kT3B0aW9uQnlWYWx1ZSh2YWx1ZSk7XG4gICAgICBpZiAob3B0ICYmICFvcHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1kaXNhYmxlZCcpKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB0aGlzLl9zZWxlY3RlZFRleHRzLnB1c2godGhpcy5fZ2V0T3B0aW9uVGV4dChvcHQpKTtcbiAgICAgICAgb3B0LmNsYXNzTGlzdC5hZGQoJ3NvLXNlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl91cGRhdGVEaXNwbGF5KCk7XG4gICAgdGhpcy5fc3luY1RvTmF0aXZlKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHJldHVybiB0aGlzLnNldFZhbHVlKHZhbHVlKTtcblxuICAgIGNvbnN0IG9wdCA9IHRoaXMuX2ZpbmRPcHRpb25CeVZhbHVlKHZhbHVlKTtcbiAgICBpZiAob3B0ICYmICF0aGlzLl9zZWxlY3RlZFZhbHVlcy5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl9nZXRPcHRpb25UZXh0KG9wdCk7XG4gICAgICB0aGlzLl90b2dnbGVTZWxlY3Rpb24odmFsdWUsIHRleHQsIG9wdCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NlbGVjdGVkVmFsdWVzLmluZGV4T2YodmFsdWUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBjb25zdCBvcHQgPSB0aGlzLl9maW5kT3B0aW9uQnlWYWx1ZSh2YWx1ZSk7XG4gICAgICBpZiAob3B0KSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl9zZWxlY3RlZFRleHRzW2luZGV4XTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlU2VsZWN0aW9uKHZhbHVlLCB0ZXh0LCBvcHQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGNvbnN0IHByZXZpb3VzVmFsdWVzID0gWy4uLnRoaXMuX3NlbGVjdGVkVmFsdWVzXTtcblxuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5fc2VsZWN0ZWRUZXh0cyA9IFtdO1xuICAgIHRoaXMuJCQoJy5zby1zZWxlY3Qtb3B0aW9uLnNvLXNlbGVjdGVkJykuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgb3B0LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXNlbGVjdGVkJyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl91cGRhdGVEaXNwbGF5KCk7XG4gICAgdGhpcy5fc3luY1RvTmF0aXZlKCk7XG5cbiAgICB0aGlzLmVtaXQoU09TZWxlY3QuRVZFTlRTLkNMRUFSLCB7IHByZXZpb3VzVmFsdWVzIH0pO1xuICAgIHRoaXMuZW1pdChTT1NlbGVjdC5FVkVOVFMuQ0hBTkdFLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHRleHQ6IG51bGwsXG4gICAgICB2YWx1ZXM6IFtdLFxuICAgICAgdGV4dHM6IFtdLFxuICAgICAgcHJldmlvdXNWYWx1ZXMsXG4gICAgICBhY3Rpb246ICdjbGVhcicsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNlbGVjdEFsbCgpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5tdWx0aXBsZSkgcmV0dXJuIHRoaXM7XG5cbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlcyA9IFsuLi50aGlzLl9zZWxlY3RlZFZhbHVlc107XG4gICAgdGhpcy5fc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9zZWxlY3RlZFRleHRzID0gW107XG5cbiAgICB0aGlzLiQkKCcuc28tc2VsZWN0LW9wdGlvbicpLmZvckVhY2gob3B0ID0+IHtcbiAgICAgIGlmIChvcHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1kaXNhYmxlZCcpIHx8IG9wdC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLm1heFNlbGVjdGlvbnMgJiYgdGhpcy5fc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID49IHRoaXMub3B0aW9ucy5tYXhTZWxlY3Rpb25zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsdWUgPSBvcHQuZGF0YXNldC52YWx1ZTtcbiAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl9nZXRPcHRpb25UZXh0KG9wdCk7XG4gICAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMucHVzaCh0ZXh0KTtcbiAgICAgIG9wdC5jbGFzc0xpc3QuYWRkKCdzby1zZWxlY3RlZCcpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdXBkYXRlRGlzcGxheSgpO1xuICAgIHRoaXMuX3N5bmNUb05hdGl2ZSgpO1xuXG4gICAgdGhpcy5lbWl0KFNPU2VsZWN0LkVWRU5UUy5DSEFOR0UsIHtcbiAgICAgIHZhbHVlOiB0aGlzLl9zZWxlY3RlZFZhbHVlc1swXSB8fCBudWxsLFxuICAgICAgdGV4dDogdGhpcy5fc2VsZWN0ZWRUZXh0c1swXSB8fCBudWxsLFxuICAgICAgdmFsdWVzOiB0aGlzLl9zZWxlY3RlZFZhbHVlcyxcbiAgICAgIHRleHRzOiB0aGlzLl9zZWxlY3RlZFRleHRzLFxuICAgICAgcHJldmlvdXNWYWx1ZXMsXG4gICAgICBhY3Rpb246ICdzZWxlY3RBbGwnLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZWxlY3ROb25lKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLm11bHRpcGxlKSByZXR1cm4gdGhpcztcblxuICAgIGNvbnN0IG1pblNlbGVjdGlvbnMgPSB0aGlzLm9wdGlvbnMubWluU2VsZWN0aW9ucyB8fCAwO1xuICAgIGlmIChtaW5TZWxlY3Rpb25zID4gMCkgcmV0dXJuIHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFVCTElDIEFQSSAtIFNUQVRFIENPTlRST0xcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBlbmFibGUoKSB7XG4gICAgdGhpcy5fZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCdzby1zZWxlY3QtZGlzYWJsZWQnKTtcbiAgICBpZiAodGhpcy5fdHJpZ2dlcikge1xuICAgICAgdGhpcy5fdHJpZ2dlci5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5hZGRDbGFzcygnc28tc2VsZWN0LWRpc2FibGVkJyk7XG4gICAgaWYgKHRoaXMuX3RyaWdnZXIpIHtcbiAgICAgIHRoaXMuX3RyaWdnZXIuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2lzT3Blbikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkO1xuICB9XG5cbiAgaXNPcGVuKCkge1xuICAgIHJldHVybiB0aGlzLl9pc09wZW47XG4gIH1cblxuICBzZXRPcHRpb25EaXNhYmxlZCh2YWx1ZSwgZGlzYWJsZWQgPSB0cnVlKSB7XG4gICAgY29uc3Qgb3B0ID0gdGhpcy5fZmluZE9wdGlvbkJ5VmFsdWUodmFsdWUpO1xuICAgIGlmIChvcHQpIHtcbiAgICAgIG9wdC5jbGFzc0xpc3QudG9nZ2xlKCdzby1kaXNhYmxlZCcsIGRpc2FibGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQVUJMSUMgQVBJIC0gT1BUSU9OIE1BTkFHRU1FTlRcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9vcHRpb25zRGF0YSA9IG9wdGlvbnM7XG4gICAgdGhpcy5fcmVuZGVyT3B0aW9ucyhvcHRpb25zKTtcbiAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcyA9IFtdO1xuICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMgPSBbXTtcbiAgICB0aGlzLl91cGRhdGVEaXNwbGF5KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fb3B0aW9uc0RhdGFdO1xuICB9XG5cbiAgX3JlbmRlck9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5fb3B0aW9uc0xpc3QpIHJldHVybjtcblxuICAgIGNvbnN0IGh0bWwgPSB0aGlzLl9idWlsZE9wdGlvbnNIVE1MKFxuICAgICAgb3B0aW9ucyxcbiAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25TdHlsZSxcbiAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25JY29uXG4gICAgKTtcbiAgICB0aGlzLl9vcHRpb25zTGlzdC5pbm5lckhUTUwgPSBodG1sO1xuICB9XG5cbiAgYWRkT3B0aW9uKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmFkZE9wdGlvbkF0KG9wdGlvbiwgLTEpO1xuICB9XG5cbiAgcHJlcGVuZE9wdGlvbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5hZGRPcHRpb25BdChvcHRpb24sIDApO1xuICB9XG5cbiAgYXBwZW5kT3B0aW9uKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmFkZE9wdGlvbihvcHRpb24pO1xuICB9XG5cbiAgYWRkT3B0aW9uQXQob3B0aW9uLCBpbmRleCkge1xuICAgIGNvbnN0IGh0bWwgPSB0aGlzLl9idWlsZE9wdGlvbkhUTUwoXG4gICAgICBvcHRpb24sXG4gICAgICB0aGlzLm9wdGlvbnMuc2VsZWN0aW9uU3R5bGUsXG4gICAgICB0aGlzLm9wdGlvbnMuc2VsZWN0aW9uSWNvblxuICAgICk7XG4gICAgY29uc3QgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlbXAuaW5uZXJIVE1MID0gaHRtbDtcbiAgICBjb25zdCBuZXdPcHQgPSB0ZW1wLmZpcnN0RWxlbWVudENoaWxkO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuJCQoJy5zby1zZWxlY3Qtb3B0aW9uJyk7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBvcHRpb25zLmxlbmd0aCkge1xuICAgICAgdGhpcy5fb3B0aW9uc0xpc3QuYXBwZW5kQ2hpbGQobmV3T3B0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9uc1tpbmRleF0uYmVmb3JlKG5ld09wdCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGRhdGFcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuX29wdGlvbnNEYXRhLmxlbmd0aCkge1xuICAgICAgdGhpcy5fb3B0aW9uc0RhdGEucHVzaChvcHRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vcHRpb25zRGF0YS5zcGxpY2UoaW5kZXgsIDAsIG9wdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRPcHRpb25CZWZvcmUob3B0aW9uLCBiZWZvcmVWYWx1ZSkge1xuICAgIGNvbnN0IGJlZm9yZU9wdCA9IHRoaXMuX2ZpbmRPcHRpb25CeVZhbHVlKGJlZm9yZVZhbHVlKTtcbiAgICBpZiAoYmVmb3JlT3B0KSB7XG4gICAgICBjb25zdCBodG1sID0gdGhpcy5fYnVpbGRPcHRpb25IVE1MKFxuICAgICAgICBvcHRpb24sXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25TdHlsZSxcbiAgICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdGlvbkljb25cbiAgICAgICk7XG4gICAgICBiZWZvcmVPcHQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGh0bWwpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZE9wdGlvbkFmdGVyKG9wdGlvbiwgYWZ0ZXJWYWx1ZSkge1xuICAgIGNvbnN0IGFmdGVyT3B0ID0gdGhpcy5fZmluZE9wdGlvbkJ5VmFsdWUoYWZ0ZXJWYWx1ZSk7XG4gICAgaWYgKGFmdGVyT3B0KSB7XG4gICAgICBjb25zdCBodG1sID0gdGhpcy5fYnVpbGRPcHRpb25IVE1MKFxuICAgICAgICBvcHRpb24sXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25TdHlsZSxcbiAgICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdGlvbkljb25cbiAgICAgICk7XG4gICAgICBhZnRlck9wdC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgaHRtbCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkT3B0aW9uVG9Hcm91cChvcHRpb24sIGdyb3VwTGFiZWwpIHtcbiAgICBjb25zdCBncm91cCA9IHRoaXMuX2ZpbmRHcm91cEJ5TGFiZWwoZ3JvdXBMYWJlbCk7XG4gICAgaWYgKGdyb3VwKSB7XG4gICAgICBjb25zdCBodG1sID0gdGhpcy5fYnVpbGRPcHRpb25IVE1MKFxuICAgICAgICBvcHRpb24sXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25TdHlsZSxcbiAgICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdGlvbkljb25cbiAgICAgICk7XG4gICAgICBncm91cC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGh0bWwpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZEdyb3VwKGxhYmVsLCBvcHRpb25zID0gW10pIHtcbiAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwic28tc2VsZWN0LWdyb3VwXCI+YDtcbiAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwic28tc2VsZWN0LWdyb3VwLWxhYmVsXCI+JHtsYWJlbH08L2Rpdj5gO1xuICAgIG9wdGlvbnMuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgaHRtbCArPSB0aGlzLl9idWlsZE9wdGlvbkhUTUwob3B0LCB0aGlzLm9wdGlvbnMuc2VsZWN0aW9uU3R5bGUsIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25JY29uKTtcbiAgICB9KTtcbiAgICBodG1sICs9IGA8L2Rpdj5gO1xuXG4gICAgdGhpcy5fb3B0aW9uc0xpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBodG1sKTtcbiAgICB0aGlzLl9vcHRpb25zRGF0YS5wdXNoKHsgbGFiZWwsIG9wdGlvbnMgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlbW92ZU9wdGlvbih2YWx1ZSkge1xuICAgIGNvbnN0IG9wdCA9IHRoaXMuX2ZpbmRPcHRpb25CeVZhbHVlKHZhbHVlKTtcbiAgICBpZiAob3B0KSB7XG4gICAgICBvcHQucmVtb3ZlKCk7XG5cbiAgICAgIC8vIFJlbW92ZSBmcm9tIHNlbGVjdGVkIGlmIG5lZWRlZFxuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zZWxlY3RlZFZhbHVlcy5pbmRleE9mKHZhbHVlKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRGlzcGxheSgpO1xuICAgICAgICB0aGlzLl9zeW5jVG9OYXRpdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZW1vdmVHcm91cChsYWJlbCkge1xuICAgIGNvbnN0IGdyb3VwID0gdGhpcy5fZmluZEdyb3VwQnlMYWJlbChsYWJlbCk7XG4gICAgaWYgKGdyb3VwKSB7XG4gICAgICAvLyBSZW1vdmUgYWxsIHNlbGVjdGVkIHZhbHVlcyBmcm9tIHRoaXMgZ3JvdXBcbiAgICAgIGdyb3VwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1zZWxlY3Qtb3B0aW9uJykuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdC5kYXRhc2V0LnZhbHVlO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NlbGVjdGVkVmFsdWVzLmluZGV4T2YodmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0ZWRUZXh0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZ3JvdXAucmVtb3ZlKCk7XG4gICAgICB0aGlzLl91cGRhdGVEaXNwbGF5KCk7XG4gICAgICB0aGlzLl9zeW5jVG9OYXRpdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjbGVhck9wdGlvbnMoKSB7XG4gICAgdGhpcy5fb3B0aW9uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5fb3B0aW9uc0RhdGEgPSBbXTtcbiAgICB0aGlzLl9zZWxlY3RlZFZhbHVlcyA9IFtdO1xuICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMgPSBbXTtcbiAgICB0aGlzLl91cGRhdGVEaXNwbGF5KCk7XG4gICAgdGhpcy5fc3luY1RvTmF0aXZlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1cGRhdGVPcHRpb24odmFsdWUsIG5ld09wdGlvbikge1xuICAgIGNvbnN0IG9wdCA9IHRoaXMuX2ZpbmRPcHRpb25CeVZhbHVlKHZhbHVlKTtcbiAgICBpZiAob3B0KSB7XG4gICAgICBjb25zdCB3YXNTZWxlY3RlZCA9IG9wdC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLXNlbGVjdGVkJyk7XG4gICAgICBjb25zdCBodG1sID0gdGhpcy5fYnVpbGRPcHRpb25IVE1MKFxuICAgICAgICB7IC4uLm5ld09wdGlvbiwgdmFsdWU6IG5ld09wdGlvbi52YWx1ZSB8fCB2YWx1ZSwgc2VsZWN0ZWQ6IHdhc1NlbGVjdGVkIH0sXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25TdHlsZSxcbiAgICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdGlvbkljb25cbiAgICAgICk7XG4gICAgICBvcHQub3V0ZXJIVE1MID0gaHRtbDtcblxuICAgICAgLy8gVXBkYXRlIHRleHQgaWYgc2VsZWN0ZWRcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG4gICAgICBpZiAoaW5kZXggPiAtMSAmJiBuZXdPcHRpb24ubGFiZWwpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRUZXh0c1tpbmRleF0gPSBuZXdPcHRpb24ubGFiZWw7XG4gICAgICAgIHRoaXMuX3VwZGF0ZURpc3BsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRPcHRpb24odmFsdWUpIHtcbiAgICBjb25zdCBvcHQgPSB0aGlzLl9maW5kT3B0aW9uQnlWYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKG9wdCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlT3B0aW9uRWxlbWVudChvcHQpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGhhc09wdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAhIXRoaXMuX2ZpbmRPcHRpb25CeVZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBjb21wb25lbnQgYW5kIGNsZWFuIHVwXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIC8vIFJlbW92ZSBuYXRpdmUgc2VsZWN0IGNoYW5nZSBsaXN0ZW5lclxuICAgIGlmICh0aGlzLl9uYXRpdmVTZWxlY3QgJiYgdGhpcy5fbmF0aXZlQ2hhbmdlSGFuZGxlcikge1xuICAgICAgdGhpcy5fbmF0aXZlU2VsZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX25hdGl2ZUNoYW5nZUhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8vIFNob3cgbmF0aXZlIHNlbGVjdCBhZ2FpblxuICAgIGlmICh0aGlzLl9uYXRpdmVTZWxlY3QpIHtcbiAgICAgIHRoaXMuX25hdGl2ZVNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdzby1zZWxlY3QtZW5oYW5jZWQnKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgY3VzdG9tIGVsZW1lbnRcbiAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIENhbGwgcGFyZW50IGRlc3Ryb3kgaWYgZXhpc3RzXG4gICAgaWYgKHN1cGVyLmRlc3Ryb3kpIHtcbiAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9maW5kR3JvdXBCeUxhYmVsKGxhYmVsKSB7XG4gICAgY29uc3QgZ3JvdXBzID0gdGhpcy4kJCgnLnNvLXNlbGVjdC1ncm91cCcpO1xuICAgIHJldHVybiBncm91cHMuZmluZChnID0+IHtcbiAgICAgIGNvbnN0IGdyb3VwTGFiZWwgPSBnLnF1ZXJ5U2VsZWN0b3IoJy5zby1zZWxlY3QtZ3JvdXAtbGFiZWwnKT8udGV4dENvbnRlbnQ7XG4gICAgICByZXR1cm4gZ3JvdXBMYWJlbCA9PT0gbGFiZWw7XG4gICAgfSk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTVEFUSUMgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHN0YXRpYyBjcmVhdGUob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ3NvLXNlbGVjdCc7XG5cbiAgICAvLyBTZXQgZGF0YSBhdHRyaWJ1dGVzXG4gICAgaWYgKG9wdGlvbnMuc2VhcmNoYWJsZSkgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2RhdGEtc28tc2VhcmNoYWJsZScsICd0cnVlJyk7XG4gICAgaWYgKG9wdGlvbnMubXVsdGlwbGUpIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdkYXRhLXNvLW11bHRpcGxlJywgJ3RydWUnKTtcbiAgICBpZiAob3B0aW9ucy5jbGVhcmFibGUpIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdkYXRhLXNvLWNsZWFyYWJsZScsICd0cnVlJyk7XG4gICAgaWYgKG9wdGlvbnMucGxhY2Vob2xkZXIpIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdkYXRhLXNvLXBsYWNlaG9sZGVyJywgb3B0aW9ucy5wbGFjZWhvbGRlcik7XG5cbiAgICAvLyBDcmVhdGUgaW5zdGFuY2VcbiAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBTT1NlbGVjdCh3cmFwcGVyLCBvcHRpb25zKTtcbiAgICBpbnN0YW5jZS5lbGVtZW50ID0gd3JhcHBlcjtcblxuICAgIC8vIEJ1aWxkIGFuZCByZW5kZXJcbiAgICBpbnN0YW5jZS5fb3B0aW9uc0RhdGEgPSBvcHRpb25zLm9wdGlvbnMgfHwgW107XG4gICAgd3JhcHBlci5pbm5lckhUTUwgPSBpbnN0YW5jZS5fYnVpbGRTZWxlY3RIVE1MKCk7XG4gICAgaW5zdGFuY2UuX2NhY2hlRWxlbWVudHMoKTtcbiAgICBpbnN0YW5jZS5faW5pdFN0YXRlKCk7XG4gICAgaW5zdGFuY2UuX2JpbmRFdmVudHMoKTtcbiAgICBpbnN0YW5jZS5fYXBwbHlNb2RpZmllckNsYXNzZXMoKTtcblxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVGcm9tU2VsZWN0KHNlbGVjdEVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBTT1NlbGVjdC5nZXRJbnN0YW5jZShzZWxlY3RFbGVtZW50LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBhbGwgb3BlbiBzZWxlY3RzIGV4Y2VwdCB0aGUgc3BlY2lmaWVkIG9uZVxuICAgKiBAcGFyYW0ge1NPU2VsZWN0fSBleGNlcHRJbnN0YW5jZSAtIEluc3RhbmNlIHRvIGV4Y2x1ZGUgZnJvbSBjbG9zaW5nXG4gICAqL1xuICBzdGF0aWMgY2xvc2VBbGxFeGNlcHQoZXhjZXB0SW5zdGFuY2UgPSBudWxsKSB7XG4gICAgY29uc3Qgb3BlblNlbGVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tc2VsZWN0LnNvLXNlbGVjdC1vcGVuJyk7XG4gICAgb3BlblNlbGVjdHMuZm9yRWFjaCh3cmFwcGVyRWwgPT4ge1xuICAgICAgLy8gR2V0IGluc3RhbmNlIGZyb20gd3JhcHBlcidzIHN0b3JlZCByZWZlcmVuY2VcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gd3JhcHBlckVsLl9zb1NlbGVjdEluc3RhbmNlO1xuICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlICE9PSBleGNlcHRJbnN0YW5jZSAmJiBpbnN0YW5jZS5faXNPcGVuKSB7XG4gICAgICAgIGluc3RhbmNlLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgYWxsIG9wZW4gc2VsZWN0c1xuICAgKi9cbiAgc3RhdGljIGNsb3NlQWxsKCkge1xuICAgIFNPU2VsZWN0LmNsb3NlQWxsRXhjZXB0KG51bGwpO1xuICB9XG59XG5cbi8vIFJlZ2lzdGVyIGNvbXBvbmVudFxuU09TZWxlY3QucmVnaXN0ZXIoKTtcblxuLy8gRXhwb3NlIHRvIGdsb2JhbCBzY29wZVxud2luZG93LlNPU2VsZWN0ID0gU09TZWxlY3Q7XG5cbi8vIEV4cG9ydCBmb3IgRVMgbW9kdWxlc1xuZXhwb3J0IGRlZmF1bHQgU09TZWxlY3Q7XG5leHBvcnQgeyBTT1NlbGVjdCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIEFVVE9DT01QTEVURSBDT01QT05FTlRcbi8vIEF1dG9jb21wbGV0ZS9Ub2tlbiBJbnB1dCB3aXRoIGZ1bGwgZmVhdHVyZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuXG4vKipcbiAqIFNPQXV0b2NvbXBsZXRlIC0gQXV0b2NvbXBsZXRlL1Rva2VuIElucHV0IGNvbXBvbmVudFxuICogU3VwcG9ydHMgc2luZ2xlL211bHRpLXNlbGVjdCwgYXN5bmMgZGF0YSwgZnJlZSBzb2xvIG1vZGUsIGFuZCBtb3JlXG4gKi9cbmNsYXNzIFNPQXV0b2NvbXBsZXRlIGV4dGVuZHMgU09Db21wb25lbnQge1xuICBzdGF0aWMgTkFNRSA9ICdhdXRvY29tcGxldGUnO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAvLyBCYXNpYyBvcHRpb25zXG4gICAgcGxhY2Vob2xkZXI6ICdUeXBlIHRvIHNlYXJjaC4uLicsXG4gICAgbm9SZXN1bHRzVGV4dDogJ05vIHJlc3VsdHMgZm91bmQnLFxuICAgIGxvYWRpbmdUZXh0OiAnTG9hZGluZy4uLicsXG4gICAgY2xlYXJhYmxlOiB0cnVlLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBhdXRvRm9jdXM6IGZhbHNlLFxuXG4gICAgLy8gTW9kZSBvcHRpb25zXG4gICAgbXVsdGlwbGU6IGZhbHNlLCAgICAgICAgLy8gRW5hYmxlIG11bHRpcGxlIHNlbGVjdGlvbiB3aXRoIHRva2Vuc1xuICAgIGZyZWVTb2xvOiBmYWxzZSwgICAgICAgIC8vIEFsbG93IGN1c3RvbSB2YWx1ZXMgbm90IGluIHByZWRlZmluZWQgb3B0aW9uc1xuXG4gICAgLy8gRGF0YSBzb3VyY2Ugb3B0aW9uc1xuICAgIG9wdGlvbnM6IFtdLCAgICAgICAgICAgIC8vIFN0YXRpYyBvcHRpb25zIGFycmF5OiBbeyB2YWx1ZSwgdGV4dCwgZGlzYWJsZWQsIGdyb3VwIH0sIC4uLl1cbiAgICBhc3luYzogZmFsc2UsICAgICAgICAgICAvLyBFbmFibGUgYXN5bmMgZGF0YSBsb2FkaW5nXG4gICAgYXN5bmNVcmw6IG51bGwsICAgICAgICAgLy8gUmVtb3RlIEFQSSBlbmRwb2ludFxuICAgIGFzeW5jTWV0aG9kOiAnR0VUJywgICAgIC8vIEhUVFAgbWV0aG9kXG4gICAgYXN5bmNQYXJhbTogJ3EnLCAgICAgICAgLy8gUXVlcnkgcGFyYW1ldGVyIG5hbWVcbiAgICBtaW5TZWFyY2hMZW5ndGg6IDAsICAgICAvLyBNaW5pbXVtIGNoYXJhY3RlcnMgYmVmb3JlIHNlYXJjaFxuICAgIGRlYm91bmNlVGltZTogMzAwLCAgICAgIC8vIERlYm91bmNlIGRlbGF5IGluIG1pbGxpc2Vjb25kc1xuICAgIGxvYWRPbk9wZW46IGZhbHNlLCAgICAgIC8vIExvYWQgZGF0YSB3aGVuIGRyb3Bkb3duIG9wZW5zXG5cbiAgICAvLyBGaWx0ZXJpbmcgb3B0aW9uc1xuICAgIGZpbHRlckZ1bmN0aW9uOiBudWxsLCAgIC8vIEN1c3RvbSBmaWx0ZXIgZnVuY3Rpb25cbiAgICBjYXNlU2Vuc2l0aXZlOiBmYWxzZSwgICAvLyBDYXNlLXNlbnNpdGl2ZSBmaWx0ZXJpbmdcbiAgICBoaWdobGlnaHRNYXRjaGVzOiB0cnVlLCAvLyBIaWdobGlnaHQgdHlwZWQgdGV4dCBpbiByZXN1bHRzXG5cbiAgICAvLyBEaXNwbGF5IG9wdGlvbnMgKG11bHRpcGxlIG1vZGUpXG4gICAgZGlzcGxheU1vZGU6ICdjaGlwcycsICAgLy8gJ2NoaXBzJywgJ3RleHQnLCAnY2hpcHMtb3ZlcmZsb3cnXG4gICAgbWF4VmlzaWJsZVRva2VuczogMywgICAgLy8gTWF4IHZpc2libGUgdG9rZW5zIGJlZm9yZSBcIitOIG1vcmVcIlxuICAgIHRva2VuU2l6ZTogbnVsbCwgICAgICAgIC8vICdzbScsICdsZycsIG9yIG51bGxcbiAgICBvdmVyZmxvd1RleHQ6ICcre2NvdW50fSBtb3JlJyxcbiAgICBtdWx0aXBsZVNlbGVjdGVkVGV4dDogJ3tjb3VudH0gc2VsZWN0ZWQnLFxuXG4gICAgLy8gU2VsZWN0aW9uIG9wdGlvbnNcbiAgICBtaW5TZWxlY3Rpb25zOiBudWxsLCAgICAvLyBNaW5pbXVtIHNlbGVjdGlvbnMgKG11bHRpcGxlIG1vZGUpXG4gICAgbWF4U2VsZWN0aW9uczogbnVsbCwgICAgLy8gTWF4aW11bSBzZWxlY3Rpb25zIChtdWx0aXBsZSBtb2RlKVxuICAgIGNsb3NlT25TZWxlY3Q6IHRydWUsICAgIC8vIENsb3NlIGRyb3Bkb3duIGFmdGVyIHNlbGVjdGlvbiAoc2luZ2xlIG1vZGUpXG4gICAgYWxsb3dEdXBsaWNhdGVzOiBmYWxzZSwgLy8gQWxsb3cgZHVwbGljYXRlIHRva2VucyAoZnJlZSBzb2xvKVxuXG4gICAgLy8gVG9rZW4gb3B0aW9ucyAoZnJlZSBzb2xvICsgbXVsdGlwbGUpXG4gICAgdG9rZW5EZWxpbWl0ZXJzOiBbJywnLCAnOyddLCAvLyBDaGFyYWN0ZXJzIHRoYXQgY3JlYXRlIHRva2Vuc1xuICAgIHRva2VuVmFsaWRhdGlvbjogbnVsbCwgIC8vIEZ1bmN0aW9uIHRvIHZhbGlkYXRlIHRva2VuczogKHZhbHVlKSA9PiBib29sZWFuXG5cbiAgICAvLyBHcm91cGluZyBvcHRpb25zXG4gICAgZ3JvdXBlZDogZmFsc2UsICAgICAgICAgLy8gRW5hYmxlIG9wdGlvbiBncm91cGluZ1xuICAgIGdyb3VwQnk6IG51bGwsICAgICAgICAgIC8vIEZ1bmN0aW9uIHRvIGdyb3VwIG9wdGlvbnM6IChvcHRpb24pID0+IGdyb3VwTmFtZVxuXG4gICAgLy8gVmlzdWFsIG9wdGlvbnNcbiAgICBzaXplOiBudWxsLCAgICAgICAgICAgICAvLyAnc20nLCAnbGcnLCBvciBudWxsIGZvciBkZWZhdWx0XG4gICAgdmFyaWFudDogbnVsbCwgICAgICAgICAgLy8gJ3ByaW1hcnknLCAnc2Vjb25kYXJ5JywgJ3N1Y2Nlc3MnLCAnZGFuZ2VyJywgJ3dhcm5pbmcnLCAnaW5mbydcbiAgICBtYXhEcm9wZG93bkhlaWdodDogMjgwLCAvLyBNYXggZHJvcGRvd24gaGVpZ2h0IGluIHBpeGVsc1xuXG4gICAgLy8gVGVtcGxhdGUgb3B0aW9uc1xuICAgIG9wdGlvblRlbXBsYXRlOiBudWxsLCAgIC8vIEN1c3RvbSBvcHRpb24gcmVuZGVyIGZ1bmN0aW9uOiAob3B0aW9uKSA9PiBIVE1MIHN0cmluZ1xuICAgIHRva2VuVGVtcGxhdGU6IG51bGwsICAgIC8vIEN1c3RvbSB0b2tlbiByZW5kZXIgZnVuY3Rpb246ICh0b2tlbikgPT4gSFRNTCBzdHJpbmdcbiAgICBub0RhdGFUZW1wbGF0ZTogbnVsbCwgICAvLyBDdXN0b20gbm8gZGF0YSB0ZW1wbGF0ZTogKCkgPT4gSFRNTCBzdHJpbmdcblxuICAgIC8vIEJlaGF2aW9yIG9wdGlvbnNcbiAgICBvcGVuT25Gb2N1czogZmFsc2UsICAgICAvLyBPcGVuIGRyb3Bkb3duIG9uIGlucHV0IGZvY3VzXG4gICAgc2VsZWN0T25UYWI6IGZhbHNlLCAgICAgLy8gU2VsZWN0IGZvY3VzZWQgb3B0aW9uIG9uIFRhYiBrZXlcbiAgICBjbGVhck9uRXNjYXBlOiBmYWxzZSwgICAvLyBDbGVhciBpbnB1dCBvbiBFc2NhcGUga2V5XG4gICAgY3JlYXRlT25CbHVyOiBmYWxzZSwgICAgLy8gQ3JlYXRlIHRva2VuIG9uIGJsdXIgKGZyZWUgc29sbylcbiAgfTtcblxuICBzdGF0aWMgRVZFTlRTID0ge1xuICAgIC8vIERyb3Bkb3duIGV2ZW50c1xuICAgIE9QRU46ICdhdXRvY29tcGxldGU6b3BlbicsXG4gICAgT1BFTkVEOiAnYXV0b2NvbXBsZXRlOm9wZW5lZCcsXG4gICAgQ0xPU0U6ICdhdXRvY29tcGxldGU6Y2xvc2UnLFxuICAgIENMT1NFRDogJ2F1dG9jb21wbGV0ZTpjbG9zZWQnLFxuXG4gICAgLy8gU2VsZWN0aW9uIGV2ZW50c1xuICAgIFNFTEVDVDogJ2F1dG9jb21wbGV0ZTpzZWxlY3QnLFxuICAgIERFU0VMRUNUOiAnYXV0b2NvbXBsZXRlOmRlc2VsZWN0JyxcbiAgICBDSEFOR0U6ICdhdXRvY29tcGxldGU6Y2hhbmdlJyxcblxuICAgIC8vIFRva2VuIGV2ZW50cyAobXVsdGlwbGUgbW9kZSlcbiAgICBUT0tFTl9BREQ6ICdhdXRvY29tcGxldGU6dG9rZW4tYWRkJyxcbiAgICBUT0tFTl9SRU1PVkU6ICdhdXRvY29tcGxldGU6dG9rZW4tcmVtb3ZlJyxcblxuICAgIC8vIERhdGEgZXZlbnRzXG4gICAgU0VBUkNIOiAnYXV0b2NvbXBsZXRlOnNlYXJjaCcsXG4gICAgSU5QVVQ6ICdhdXRvY29tcGxldGU6aW5wdXQnLFxuICAgIENMRUFSOiAnYXV0b2NvbXBsZXRlOmNsZWFyJyxcbiAgICBDUkVBVEU6ICdhdXRvY29tcGxldGU6Y3JlYXRlJyxcblxuICAgIC8vIEFzeW5jIGV2ZW50c1xuICAgIExPQURfU1RBUlQ6ICdhdXRvY29tcGxldGU6bG9hZC1zdGFydCcsXG4gICAgTE9BRF9FTkQ6ICdhdXRvY29tcGxldGU6bG9hZC1lbmQnLFxuICAgIExPQURfRVJST1I6ICdhdXRvY29tcGxldGU6bG9hZC1lcnJvcicsXG4gIH07XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSU5JVElBTElaQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBfaW5pdCgpIHtcbiAgICAvLyBTdGF0ZVxuICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuX2lzTG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2Rpc2FibGVkID0gdGhpcy5vcHRpb25zLmRpc2FibGVkO1xuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5fc2VsZWN0ZWRUZXh0cyA9IFtdO1xuICAgIHRoaXMuX3Rva2VucyA9IFtdO1xuICAgIHRoaXMuX2FsbE9wdGlvbnMgPSBbXTtcbiAgICB0aGlzLl9maWx0ZXJlZE9wdGlvbnMgPSBbXTtcbiAgICB0aGlzLl9mb2N1c2VkSW5kZXggPSAtMTtcbiAgICB0aGlzLl9kZWJvdW5jZVRpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9hYm9ydENvbnRyb2xsZXIgPSBudWxsO1xuXG4gICAgLy8gQnVpbGQgSFRNTCBzdHJ1Y3R1cmVcbiAgICB0aGlzLl9idWlsZFN0cnVjdHVyZSgpO1xuXG4gICAgLy8gQ2FjaGUgZWxlbWVudHNcbiAgICB0aGlzLl9jYWNoZUVsZW1lbnRzKCk7XG5cbiAgICAvLyBTZXQgaW5pdGlhbCBvcHRpb25zXG4gICAgaWYgKHRoaXMub3B0aW9ucy5vcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8gQmluZCBldmVudHNcbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG5cbiAgICAvLyBBcHBseSBtb2RpZmllciBjbGFzc2VzXG4gICAgdGhpcy5fYXBwbHlNb2RpZmllckNsYXNzZXMoKTtcblxuICAgIC8vIEFwcGx5IGRpc2FibGVkIHN0YXRlXG4gICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgdGhlIEhUTUwgc3RydWN0dXJlIHByb2dyYW1tYXRpY2FsbHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9idWlsZFN0cnVjdHVyZSgpIHtcbiAgICAvLyBEZXRlcm1pbmUgaWYgZWxlbWVudCBpcyBqdXN0IGEgd3JhcHBlciBvciBuZWVkcyBmdWxsIGNyZWF0aW9uXG4gICAgY29uc3QgZXhpc3RpbmdJbnB1dCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc28tYXV0b2NvbXBsZXRlLWlucHV0Jyk7XG5cbiAgICBpZiAoIWV4aXN0aW5nSW5wdXQpIHtcbiAgICAgIC8vIENyZWF0ZSBmcm9tIHNjcmF0Y2hcbiAgICAgIGNvbnN0IHN0cnVjdHVyZSA9IHRoaXMuX2NyZWF0ZVN0cnVjdHVyZUhUTUwoKTtcbiAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSBzdHJ1Y3R1cmU7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tYXV0b2NvbXBsZXRlJyk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLWF1dG9jb21wbGV0ZS1tdWx0aXBsZScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFbGVtZW50IGFscmVhZHkgaGFzIHN0cnVjdHVyZSwgZW5zdXJlIGl0IGhhcyB0aGUgcmlnaHQgY2xhc3Nlc1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLWF1dG9jb21wbGV0ZScpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzby1hdXRvY29tcGxldGUtbXVsdGlwbGUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIEhUTUwgc3RydWN0dXJlXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEhUTUwgc3RyaW5nXG4gICAqL1xuICBfY3JlYXRlU3RydWN0dXJlSFRNTCgpIHtcbiAgICBjb25zdCBjb250YWluZXJJZCA9IGBhdXRvY29tcGxldGUtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgIGNvbnN0IGRyb3Bkb3duSWQgPSBgJHtjb250YWluZXJJZH0tZHJvcGRvd25gO1xuXG4gICAgLy8gTXVsdGlwbGUgbW9kZSBoYXMgdG9rZW5zIGNvbnRhaW5lclxuICAgIGNvbnN0IGlucHV0QXJlYSA9IHRoaXMub3B0aW9ucy5tdWx0aXBsZVxuICAgICAgPyBgPGRpdiBjbGFzcz1cInNvLWF1dG9jb21wbGV0ZS10b2tlbnNcIj5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwic28tYXV0b2NvbXBsZXRlLWlucHV0XCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiJHt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJ9XCJcbiAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZT1cIm9mZlwiXG4gICAgICAgICAgICAgICAgICByb2xlPVwiY29tYm9ib3hcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtb3ducz1cIiR7ZHJvcGRvd25JZH1cIlxuICAgICAgICAgICAgICAgICAgYXJpYS1hdXRvY29tcGxldGU9XCJsaXN0XCI+XG4gICAgICAgICA8L2Rpdj5gXG4gICAgICA6IGA8aW5wdXQgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwic28tYXV0b2NvbXBsZXRlLWlucHV0XCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIiR7dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyfVwiXG4gICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgICAgICAgICByb2xlPVwiY29tYm9ib3hcIlxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cImxpc3Rib3hcIlxuICAgICAgICAgICAgICAgIGFyaWEtb3ducz1cIiR7ZHJvcGRvd25JZH1cIlxuICAgICAgICAgICAgICAgIGFyaWEtYXV0b2NvbXBsZXRlPVwibGlzdFwiPmA7XG5cbiAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cInNvLWF1dG9jb21wbGV0ZS1jb250YWluZXJcIiBpZD1cIiR7Y29udGFpbmVySWR9XCI+XG4gICAgICAgICR7aW5wdXRBcmVhfVxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvLWF1dG9jb21wbGV0ZS1jbGVhclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiBhcmlhLWxhYmVsPVwiQ2xlYXIgYWxsXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNsb3NlPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzby1hdXRvY29tcGxldGUtYXJyb3dcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZXhwYW5kX21vcmU8L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInNvLWF1dG9jb21wbGV0ZS1kcm9wZG93blwiIGlkPVwiJHtkcm9wZG93bklkfVwiIHJvbGU9XCJsaXN0Ym94XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzby1hdXRvY29tcGxldGUtbG9hZGluZ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvLXNwaW5uZXIgc28tc3Bpbm5lci1zbVwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj4ke3RoaXMub3B0aW9ucy5sb2FkaW5nVGV4dH08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwic28tYXV0b2NvbXBsZXRlLW9wdGlvbnNcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNvLWF1dG9jb21wbGV0ZS1uby1yZXN1bHRzXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxuICAgICAgICAgICR7dGhpcy5vcHRpb25zLm5vUmVzdWx0c1RleHR9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBET00gZWxlbWVudHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYWNoZUVsZW1lbnRzKCkge1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IHRoaXMuJCgnLnNvLWF1dG9jb21wbGV0ZS1jb250YWluZXInKTtcbiAgICB0aGlzLl9pbnB1dCA9IHRoaXMuJCgnLnNvLWF1dG9jb21wbGV0ZS1pbnB1dCcpO1xuICAgIHRoaXMuX2NsZWFyQnRuID0gdGhpcy4kKCcuc28tYXV0b2NvbXBsZXRlLWNsZWFyJyk7XG4gICAgdGhpcy5fYXJyb3cgPSB0aGlzLiQoJy5zby1hdXRvY29tcGxldGUtYXJyb3cnKTtcbiAgICB0aGlzLl9kcm9wZG93biA9IHRoaXMuJCgnLnNvLWF1dG9jb21wbGV0ZS1kcm9wZG93bicpO1xuICAgIHRoaXMuX2xvYWRpbmdFbCA9IHRoaXMuJCgnLnNvLWF1dG9jb21wbGV0ZS1sb2FkaW5nJyk7XG4gICAgdGhpcy5fb3B0aW9uc0NvbnRhaW5lciA9IHRoaXMuJCgnLnNvLWF1dG9jb21wbGV0ZS1vcHRpb25zJyk7XG4gICAgdGhpcy5fbm9SZXN1bHRzRWwgPSB0aGlzLiQoJy5zby1hdXRvY29tcGxldGUtbm8tcmVzdWx0cycpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tdWx0aXBsZSkge1xuICAgICAgdGhpcy5fdG9rZW5zQ29udGFpbmVyID0gdGhpcy4kKCcuc28tYXV0b2NvbXBsZXRlLXRva2VucycpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gSW5wdXQgZXZlbnRzXG4gICAgaWYgKHRoaXMuX2lucHV0KSB7XG4gICAgICB0aGlzLm9uKCdpbnB1dCcsIHRoaXMuX2hhbmRsZUlucHV0LCB0aGlzLl9pbnB1dCk7XG4gICAgICB0aGlzLm9uKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzLCB0aGlzLl9pbnB1dCk7XG4gICAgICB0aGlzLm9uKCdibHVyJywgdGhpcy5faGFuZGxlQmx1ciwgdGhpcy5faW5wdXQpO1xuICAgICAgdGhpcy5vbigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24sIHRoaXMuX2lucHV0KTtcbiAgICAgIHRoaXMub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljaywgdGhpcy5faW5wdXQpO1xuICAgIH1cblxuICAgIC8vIENvbnRhaW5lciBjbGljayAoZm9yIGFsbCBtb2RlcylcbiAgICBpZiAodGhpcy5fY29udGFpbmVyKSB7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUNvbnRhaW5lckNsaWNrLCB0aGlzLl9jb250YWluZXIpO1xuICAgIH1cblxuICAgIC8vIENsZWFyIGJ1dHRvblxuICAgIGlmICh0aGlzLl9jbGVhckJ0bikge1xuICAgICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGVhckNsaWNrLCB0aGlzLl9jbGVhckJ0bik7XG4gICAgfVxuXG4gICAgLy8gQXJyb3cgY2xpY2tcbiAgICBpZiAodGhpcy5fYXJyb3cpIHtcbiAgICAgIHRoaXMub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlQXJyb3dDbGljaywgdGhpcy5fYXJyb3cpO1xuICAgIH1cblxuICAgIC8vIE9wdGlvbiBzZWxlY3Rpb24gKGV2ZW50IGRlbGVnYXRpb24pXG4gICAgdGhpcy5kZWxlZ2F0ZSgnY2xpY2snLCAnLnNvLWF1dG9jb21wbGV0ZS1vcHRpb24nLCB0aGlzLl9oYW5kbGVPcHRpb25DbGljayk7XG4gICAgdGhpcy5kZWxlZ2F0ZSgnbW91c2VlbnRlcicsICcuc28tYXV0b2NvbXBsZXRlLW9wdGlvbicsIHRoaXMuX2hhbmRsZU9wdGlvbkhvdmVyKTtcblxuICAgIC8vIE91dHNpZGUgY2xpY2tcbiAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZU91dHNpZGVDbGljaywgZG9jdW1lbnQpO1xuXG4gICAgLy8gUGFzdGUgZXZlbnQgKGZvciBmcmVlIHNvbG8gbW9kZSlcbiAgICBpZiAodGhpcy5vcHRpb25zLmZyZWVTb2xvICYmIHRoaXMub3B0aW9ucy5tdWx0aXBsZSAmJiB0aGlzLl9pbnB1dCkge1xuICAgICAgdGhpcy5vbigncGFzdGUnLCB0aGlzLl9oYW5kbGVQYXN0ZSwgdGhpcy5faW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBtb2RpZmllciBjbGFzc2VzIGJhc2VkIG9uIG9wdGlvbnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hcHBseU1vZGlmaWVyQ2xhc3NlcygpIHtcbiAgICAvLyBTaXplIHZhcmlhbnRcbiAgICBpZiAodGhpcy5vcHRpb25zLnNpemUpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGBzby1hdXRvY29tcGxldGUtJHt0aGlzLm9wdGlvbnMuc2l6ZX1gKTtcbiAgICB9XG5cbiAgICAvLyBDb2xvciB2YXJpYW50XG4gICAgaWYgKHRoaXMub3B0aW9ucy52YXJpYW50KSB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChgc28tYXV0b2NvbXBsZXRlLSR7dGhpcy5vcHRpb25zLnZhcmlhbnR9YCk7XG4gICAgfVxuXG4gICAgLy8gRGlzcGxheSBtb2RlIChtdWx0aXBsZSlcbiAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChgc28tYXV0b2NvbXBsZXRlLWRpc3BsYXktJHt0aGlzLm9wdGlvbnMuZGlzcGxheU1vZGV9YCk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgSEFORExFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogSGFuZGxlIGlucHV0IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSW5wdXQoZSkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAvLyBFbWl0IGlucHV0IGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPQXV0b2NvbXBsZXRlLkVWRU5UUy5JTlBVVCwgeyBxdWVyeSB9KTtcblxuICAgIC8vIERlYm91bmNlIHNlYXJjaFxuICAgIHRoaXMuX2RlYm91bmNlU2VhcmNoKHF1ZXJ5KTtcblxuICAgIC8vIFVwZGF0ZSBjbGVhciBidXR0b24gdmlzaWJpbGl0eVxuICAgIHRoaXMuX3VwZGF0ZUNsZWFyQnV0dG9uKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGZvY3VzIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlRm9jdXMoZSkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzby1hdXRvY29tcGxldGUtZm9jdXNlZCcpO1xuXG4gICAgLy8gQWx3YXlzIG9wZW4gb24gZm9jdXMgKG9yIHVzZSBvcGVuT25Gb2N1cyBvcHRpb24pXG4gICAgaWYgKHRoaXMub3B0aW9ucy5vcGVuT25Gb2N1cyAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYmx1ciBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUJsdXIoZSkge1xuICAgIC8vIERlbGF5IHRvIGFsbG93IGNsaWNrIG9uIGRyb3Bkb3duXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBPbmx5IGJsdXIgaWYgbm90IGNsaWNraW5nIGluc2lkZSBkcm9wZG93blxuICAgICAgaWYgKCF0aGlzLl9kcm9wZG93bi5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSAmJlxuICAgICAgICAgICF0aGlzLl9jb250YWluZXIuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWF1dG9jb21wbGV0ZS1mb2N1c2VkJyk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRva2VuIG9uIGJsdXIgKGZyZWUgc29sbyArIG11bHRpcGxlKVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyZWF0ZU9uQmx1ciAmJiB0aGlzLm9wdGlvbnMuZnJlZVNvbG8gJiYgdGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9pbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVUb2tlbih2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDIwMCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGtleWRvd24gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlkb3duKGUpIHtcbiAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhpcy5faXNPcGVuKSB7XG4gICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fZm9jdXNOZXh0T3B0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLl9pc09wZW4pIHtcbiAgICAgICAgICB0aGlzLl9mb2N1c1ByZXZpb3VzT3B0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5faXNPcGVuICYmIHRoaXMuX2ZvY3VzZWRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5mcmVlU29sbyAmJiB0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHtcbiAgICAgICAgICAvLyBDcmVhdGUgdG9rZW4gZnJvbSBpbnB1dCB2YWx1ZVxuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5faW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVG9rZW4odmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2lzT3Blbikge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuY2xlYXJPbkVzY2FwZSkge1xuICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnVGFiJzpcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZWxlY3RPblRhYiAmJiB0aGlzLl9pc09wZW4gJiYgdGhpcy5fZm9jdXNlZEluZGV4ID49IDApIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0Rm9jdXNlZE9wdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdCYWNrc3BhY2UnOlxuICAgICAgICAvLyBSZW1vdmUgbGFzdCB0b2tlbiBpZiBpbnB1dCBpcyBlbXB0eSAobXVsdGlwbGUgbW9kZSlcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tdWx0aXBsZSAmJiAhdGhpcy5faW5wdXQudmFsdWUgJiYgdGhpcy5fdG9rZW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5yZW1vdmVUb2tlbih0aGlzLl90b2tlbnMubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgICBpZiAodGhpcy5faXNPcGVuKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuX2ZvY3VzT3B0aW9uQXQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgIGlmICh0aGlzLl9pc09wZW4pIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5fZm9jdXNPcHRpb25BdCh0aGlzLl9maWx0ZXJlZE9wdGlvbnMubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIENoZWNrIGZvciBkZWxpbWl0ZXJzIChmcmVlIHNvbG8gKyBtdWx0aXBsZSlcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mcmVlU29sbyAmJiB0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRva2VuRGVsaW1pdGVycy5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5faW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVRva2VuKHZhbHVlKTtcbiAgICAgICAgICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBpbnB1dCBjbGlja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUlucHV0Q2xpY2soKSB7XG4gICAgaWYgKCF0aGlzLl9pc09wZW4pIHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY29udGFpbmVyIGNsaWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlQ29udGFpbmVyQ2xpY2soZSkge1xuICAgIC8vIERvbid0IGhhbmRsZSBpZiBjbGlja2luZyBvbiBjbGVhciBvciBhcnJvdyBidXR0b25cbiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLnNvLWF1dG9jb21wbGV0ZS1jbGVhciwgLnNvLWF1dG9jb21wbGV0ZS1hcnJvdycpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgaGFuZGxlIGlmIGNsaWNraW5nIG9uIHRva2VuIHJlbW92ZSBidXR0b25cbiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLnNvLWF1dG9jb21wbGV0ZS10b2tlbi1yZW1vdmUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZvY3VzIGlucHV0IGFuZCBvcGVuIGRyb3Bkb3duIHdoZW4gY2xpY2tpbmcgYW55d2hlcmUgaW4gdGhlIGNvbnRhaW5lclxuICAgIGlmICh0aGlzLl9pbnB1dCAmJiAhdGhpcy5fZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuX2lucHV0LmZvY3VzKCk7XG4gICAgICBpZiAoIXRoaXMuX2lzT3Blbikge1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGNsZWFyIGJ1dHRvbiBjbGlja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUNsZWFyQ2xpY2soZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3Qgd2FzT3BlbiA9IHRoaXMuX2lzT3BlbjtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5faW5wdXQuZm9jdXMoKTtcblxuICAgIC8vIE9wZW4gZHJvcGRvd24gdG8gc2hvdyBhbGwgb3B0aW9ucyBpZiBpdCB3YXNuJ3QgYWxyZWFkeSBvcGVuXG4gICAgaWYgKCF3YXNPcGVuKSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGFycm93IGNsaWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlQXJyb3dDbGljayhlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAodGhpcy5fZGlzYWJsZWQpIHJldHVybjtcblxuICAgIHRoaXMudG9nZ2xlKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIG9wdGlvbiBjbGlja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU9wdGlvbkNsaWNrKGUpIHtcbiAgICBjb25zdCBvcHRpb25FbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zby1hdXRvY29tcGxldGUtb3B0aW9uJyk7XG4gICAgaWYgKCFvcHRpb25FbCB8fCBvcHRpb25FbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWF1dG9jb21wbGV0ZS1vcHRpb24tZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgaW5kZXggPSBwYXJzZUludChvcHRpb25FbC5kYXRhc2V0LmluZGV4LCAxMCk7XG4gICAgY29uc3Qgb3B0aW9uID0gdGhpcy5fZmlsdGVyZWRPcHRpb25zW2luZGV4XTtcblxuICAgIGlmIChvcHRpb24pIHtcbiAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbihvcHRpb24sIGluZGV4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIG9wdGlvbiBob3ZlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU9wdGlvbkhvdmVyKGUpIHtcbiAgICBjb25zdCBvcHRpb25FbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zby1hdXRvY29tcGxldGUtb3B0aW9uJyk7XG4gICAgaWYgKCFvcHRpb25FbCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaW5kZXggPSBwYXJzZUludChvcHRpb25FbC5kYXRhc2V0LmluZGV4LCAxMCk7XG4gICAgdGhpcy5fZm9jdXNPcHRpb25BdChpbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIG91dHNpZGUgY2xpY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVPdXRzaWRlQ2xpY2soZSkge1xuICAgIGlmICh0aGlzLl9pc09wZW4gJiYgIXRoaXMuZWxlbWVudC5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBhc3RlIGV2ZW50IChmb3IgZnJlZSBzb2xvICsgbXVsdGlwbGUpXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlUGFzdGUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IHBhc3RlZFRleHQgPSAoZS5jbGlwYm9hcmREYXRhIHx8IHdpbmRvdy5jbGlwYm9hcmREYXRhKS5nZXREYXRhKCd0ZXh0Jyk7XG4gICAgY29uc3QgZGVsaW1pdGVyID0gdGhpcy5vcHRpb25zLnRva2VuRGVsaW1pdGVyc1swXSB8fCAnLCc7XG4gICAgY29uc3QgdmFsdWVzID0gcGFzdGVkVGV4dC5zcGxpdChuZXcgUmVnRXhwKGBbJHt0aGlzLm9wdGlvbnMudG9rZW5EZWxpbWl0ZXJzLmpvaW4oJycpfV1gKSlcbiAgICAgIC5tYXAodiA9PiB2LnRyaW0oKSlcbiAgICAgIC5maWx0ZXIodiA9PiB2KTtcblxuICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIHRoaXMuX2NyZWF0ZVRva2VuKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIERST1BET1dOIENPTlRST0xcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogT3BlbiB0aGUgZHJvcGRvd25cbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBvcGVuKCkge1xuICAgIGlmICh0aGlzLl9kaXNhYmxlZCB8fCB0aGlzLl9pc09wZW4pIHJldHVybiB0aGlzO1xuXG4gICAgLy8gRW1pdCBjYW5jZWxhYmxlIGV2ZW50XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmVtaXQoU09BdXRvY29tcGxldGUuRVZFTlRTLk9QRU4sIG51bGwsIHRydWUsIHRydWUpO1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm4gdGhpcztcblxuICAgIHRoaXMuX2lzT3BlbiA9IHRydWU7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLWF1dG9jb21wbGV0ZS1vcGVuJyk7XG4gICAgdGhpcy5faW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcblxuICAgIC8vIExvYWQgZGF0YSBvbiBvcGVuIGlmIGNvbmZpZ3VyZWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmxvYWRPbk9wZW4gJiYgdGhpcy5vcHRpb25zLmFzeW5jICYmIHRoaXMuX2FsbE9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmxvYWRPcHRpb25zKCcnKTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuYXN5bmMpIHtcbiAgICAgIC8vIEZpbHRlciB3aXRoIGN1cnJlbnQgaW5wdXQgdmFsdWVcbiAgICAgIHRoaXMuX3BlcmZvcm1TZWFyY2godGhpcy5faW5wdXQudmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEVtaXQgb3BlbmVkIGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPQXV0b2NvbXBsZXRlLkVWRU5UUy5PUEVORUQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgdGhlIGRyb3Bkb3duXG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgaWYgKCF0aGlzLl9pc09wZW4pIHJldHVybiB0aGlzO1xuXG4gICAgLy8gRW1pdCBjYW5jZWxhYmxlIGV2ZW50XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmVtaXQoU09BdXRvY29tcGxldGUuRVZFTlRTLkNMT1NFLCBudWxsLCB0cnVlLCB0cnVlKTtcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuIHRoaXM7XG5cbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc28tYXV0b2NvbXBsZXRlLW9wZW4nKTtcbiAgICB0aGlzLl9pbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICB0aGlzLl9mb2N1c2VkSW5kZXggPSAtMTtcblxuICAgIC8vIEVtaXQgY2xvc2VkIGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPQXV0b2NvbXBsZXRlLkVWRU5UUy5DTE9TRUQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSBkcm9wZG93blxuICAgKiBAcmV0dXJucyB7U09BdXRvY29tcGxldGV9IHRoaXNcbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNPcGVuID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgZHJvcGRvd24gaXMgb3BlblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzT3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5faXNPcGVuO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVkFMVUUgTUFOQUdFTUVOVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZXQgc2luZ2xlIHNlbGVjdGVkIHZhbHVlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICovXG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZFZhbHVlc1swXSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhcnJheSBvZiBzZWxlY3RlZCB2YWx1ZXNcbiAgICogQHJldHVybnMge0FycmF5PHN0cmluZz59XG4gICAqL1xuICBnZXRWYWx1ZXMoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLl9zZWxlY3RlZFZhbHVlc107XG4gIH1cblxuICAvKipcbiAgICogR2V0IHNpbmdsZSBzZWxlY3RlZCB0ZXh0XG4gICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICovXG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkVGV4dHNbMF0gfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYXJyYXkgb2Ygc2VsZWN0ZWQgdGV4dHNcbiAgICogQHJldHVybnMge0FycmF5PHN0cmluZz59XG4gICAqL1xuICBnZXRUZXh0cygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuX3NlbGVjdGVkVGV4dHNdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBzaW5nbGUgdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsdWUgdG8gc2V0XG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBvcHRpb24gPSB0aGlzLl9hbGxPcHRpb25zLmZpbmQob3B0ID0+IG9wdC52YWx1ZSA9PT0gdmFsdWUpO1xuICAgIGlmIChvcHRpb24pIHtcbiAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbihvcHRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbXVsdGlwbGUgdmFsdWVzXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdmFsdWVzIC0gVmFsdWVzIHRvIHNldFxuICAgKiBAcmV0dXJucyB7U09BdXRvY29tcGxldGV9IHRoaXNcbiAgICovXG4gIHNldFZhbHVlcyh2YWx1ZXMpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5tdWx0aXBsZSkge1xuICAgICAgY29uc29sZS53YXJuKCdzZXRWYWx1ZXMoKSByZXF1aXJlcyBtdWx0aXBsZSBtb2RlJyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdmFsdWVzLmZvckVhY2godmFsdWUgPT4gdGhpcy5hZGRWYWx1ZSh2YWx1ZSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHZhbHVlIChtdWx0aXBsZSBtb2RlKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWx1ZSB0byBhZGRcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBhZGRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9uID0gdGhpcy5fYWxsT3B0aW9ucy5maW5kKG9wdCA9PiBvcHQudmFsdWUgPT09IHZhbHVlKTtcbiAgICBpZiAob3B0aW9uKSB7XG4gICAgICB0aGlzLl9zZWxlY3RPcHRpb24ob3B0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5mcmVlU29sbykge1xuICAgICAgdGhpcy5fY3JlYXRlVG9rZW4odmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWx1ZSB0byByZW1vdmVcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICByZW1vdmVWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVUb2tlbihpbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBzZWxlY3Rpb25zXG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgY29uc3QgaGFkVmFsdWVzID0gdGhpcy5fc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID4gMDtcblxuICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5fc2VsZWN0ZWRUZXh0cyA9IFtdO1xuICAgIHRoaXMuX3Rva2VucyA9IFtdO1xuICAgIHRoaXMuX2lucHV0LnZhbHVlID0gJyc7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICB0aGlzLl9yZW5kZXJUb2tlbnMoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVBsYWNlaG9sZGVyKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlQ2xlYXJCdXR0b24oKTtcblxuICAgIC8vIFJlZnJlc2ggZHJvcGRvd24gaWYgb3BlbiB0byBzaG93IGFsbCBpdGVtcyBhcyB1bnNlbGVjdGVkXG4gICAgaWYgKHRoaXMuX2lzT3Blbikge1xuICAgICAgdGhpcy5fcGVyZm9ybVNlYXJjaCgnJyk7IC8vIFJlLWZpbHRlciB0byBzaG93IGFsbCBvcHRpb25zXG4gICAgfVxuXG4gICAgaWYgKGhhZFZhbHVlcykge1xuICAgICAgdGhpcy5lbWl0KFNPQXV0b2NvbXBsZXRlLkVWRU5UUy5DTEVBUik7XG4gICAgICB0aGlzLl9lbWl0Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBUT0tFTiBNQU5BR0VNRU5UIChNdWx0aXBsZSBNb2RlKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZXQgYXJyYXkgb2YgdG9rZW4gb2JqZWN0c1xuICAgKiBAcmV0dXJucyB7QXJyYXk8e3ZhbHVlOiBzdHJpbmcsIHRleHQ6IHN0cmluZ30+fVxuICAgKi9cbiAgZ2V0VG9rZW5zKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fdG9rZW5zXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB0b2tlblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUb2tlbiB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3RleHRdIC0gVG9rZW4gdGV4dCAoZGVmYXVsdHMgdG8gdmFsdWUpXG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgYWRkVG9rZW4odmFsdWUsIHRleHQgPSBudWxsKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignYWRkVG9rZW4oKSByZXF1aXJlcyBtdWx0aXBsZSBtb2RlJyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLl9jcmVhdGVUb2tlbih2YWx1ZSwgdGV4dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRva2VuIGJ5IGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRva2VuIGluZGV4XG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgcmVtb3ZlVG9rZW4oaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuX3Rva2Vucy5sZW5ndGgpIHJldHVybiB0aGlzO1xuXG4gICAgY29uc3QgdG9rZW4gPSB0aGlzLl90b2tlbnNbaW5kZXhdO1xuICAgIHRoaXMuX3Rva2Vucy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgY29uc3QgdmFsdWVJbmRleCA9IHRoaXMuX3NlbGVjdGVkVmFsdWVzLmluZGV4T2YodG9rZW4udmFsdWUpO1xuICAgIGlmICh2YWx1ZUluZGV4ID49IDApIHtcbiAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzLnNwbGljZSh2YWx1ZUluZGV4LCAxKTtcbiAgICAgIHRoaXMuX3NlbGVjdGVkVGV4dHMuc3BsaWNlKHZhbHVlSW5kZXgsIDEpO1xuICAgIH1cblxuICAgIC8vIFJlbmRlciB0b2tlbnNcbiAgICB0aGlzLl9yZW5kZXJUb2tlbnMoKTtcbiAgICB0aGlzLl91cGRhdGVQbGFjZWhvbGRlcigpO1xuICAgIHRoaXMuX3VwZGF0ZUNsZWFyQnV0dG9uKCk7XG5cbiAgICAvLyBSZWZyZXNoIGRyb3Bkb3duIGlmIG9wZW4gdG8gc2hvdyB0aGUgcmVtb3ZlZCBpdGVtIGFzIGF2YWlsYWJsZSBhZ2FpblxuICAgIGlmICh0aGlzLl9pc09wZW4pIHtcbiAgICAgIHRoaXMuX3JlbmRlck9wdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvLyBFbWl0IGV2ZW50c1xuICAgIHRoaXMuZW1pdChTT0F1dG9jb21wbGV0ZS5FVkVOVFMuVE9LRU5fUkVNT1ZFLCB7IHRva2VuLCB0b2tlbnM6IHRoaXMuX3Rva2VucywgaW5kZXggfSk7XG4gICAgdGhpcy5fZW1pdENoYW5nZSgpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRva2VuIGJ5IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRva2VuIHZhbHVlXG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgcmVtb3ZlVG9rZW5CeVZhbHVlKHZhbHVlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl90b2tlbnMuZmluZEluZGV4KHQgPT4gdC52YWx1ZSA9PT0gdmFsdWUpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLnJlbW92ZVRva2VuKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHRva2Vuc1xuICAgKiBAcmV0dXJucyB7U09BdXRvY29tcGxldGV9IHRoaXNcbiAgICovXG4gIGNsZWFyVG9rZW5zKCkge1xuICAgIHJldHVybiB0aGlzLmNsZWFyKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBJTlBVVCBDT05UUk9MXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGlucHV0IHRleHRcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldElucHV0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0LnZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBpbnB1dCB0ZXh0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGV4dCB0byBzZXRcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBzZXRJbnB1dFZhbHVlKHRleHQpIHtcbiAgICB0aGlzLl9pbnB1dC52YWx1ZSA9IHRleHQ7XG4gICAgdGhpcy5fdXBkYXRlQ2xlYXJCdXR0b24oKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBpbnB1dCB0ZXh0XG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgY2xlYXJJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRJbnB1dFZhbHVlKCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb2N1cyB0aGUgaW5wdXRcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBmb2N1cygpIHtcbiAgICB0aGlzLl9pbnB1dC5mb2N1cygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEJsdXIgdGhlIGlucHV0XG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgYmx1cigpIHtcbiAgICB0aGlzLl9pbnB1dC5ibHVyKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBPUFRJT05TIE1BTkFHRU1FTlRcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU2V0IGFsbCBvcHRpb25zXG4gICAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gb3B0aW9ucyAtIE9wdGlvbnMgYXJyYXlcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9hbGxPcHRpb25zID0gb3B0aW9ucy5tYXAoKG9wdCwgaWR4KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG9wdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wdCwgdGV4dDogb3B0IH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyAuLi5vcHQsIF9pbmRleDogaWR4IH07XG4gICAgfSk7XG5cbiAgICAvLyBGaWx0ZXIgb3B0aW9ucyB3aXRoIGN1cnJlbnQgc2VhcmNoXG4gICAgdGhpcy5fcGVyZm9ybVNlYXJjaCh0aGlzLl9pbnB1dC52YWx1ZSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fVxuICAgKi9cbiAgZ2V0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuX2FsbE9wdGlvbnNdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBzaW5nbGUgb3B0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gb3B0aW9uIC0gT3B0aW9uIHRvIGFkZFxuICAgKiBAcmV0dXJucyB7U09BdXRvY29tcGxldGV9IHRoaXNcbiAgICovXG4gIGFkZE9wdGlvbihvcHRpb24pIHtcbiAgICBjb25zdCBvcHQgPSB0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJyA/IHsgdmFsdWU6IG9wdGlvbiwgdGV4dDogb3B0aW9uIH0gOiBvcHRpb247XG4gICAgb3B0Ll9pbmRleCA9IHRoaXMuX2FsbE9wdGlvbnMubGVuZ3RoO1xuICAgIHRoaXMuX2FsbE9wdGlvbnMucHVzaChvcHQpO1xuICAgIHRoaXMuX3BlcmZvcm1TZWFyY2godGhpcy5faW5wdXQudmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBtdWx0aXBsZSBvcHRpb25zXG4gICAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gYWRkXG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgYWRkT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5mb3JFYWNoKG9wdCA9PiB0aGlzLmFkZE9wdGlvbihvcHQpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgb3B0aW9uIGJ5IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIE9wdGlvbiB2YWx1ZVxuICAgKiBAcmV0dXJucyB7U09BdXRvY29tcGxldGV9IHRoaXNcbiAgICovXG4gIHJlbW92ZU9wdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX2FsbE9wdGlvbnMgPSB0aGlzLl9hbGxPcHRpb25zLmZpbHRlcihvcHQgPT4gb3B0LnZhbHVlICE9PSB2YWx1ZSk7XG4gICAgdGhpcy5fcGVyZm9ybVNlYXJjaCh0aGlzLl9pbnB1dC52YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIG9wdGlvbnNcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBjbGVhck9wdGlvbnMoKSB7XG4gICAgdGhpcy5fYWxsT3B0aW9ucyA9IFtdO1xuICAgIHRoaXMuX2ZpbHRlcmVkT3B0aW9ucyA9IFtdO1xuICAgIHRoaXMuX3JlbmRlck9wdGlvbnMoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXIgb3B0aW9ucyBtYW51YWxseVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkgLSBTZWFyY2ggcXVlcnlcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBmaWx0ZXJPcHRpb25zKHF1ZXJ5KSB7XG4gICAgdGhpcy5fcGVyZm9ybVNlYXJjaChxdWVyeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBvcHRpb25zIGZyb20gcmVtb3RlIFVSTFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkgLSBTZWFyY2ggcXVlcnlcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyBsb2FkT3B0aW9ucyhxdWVyeSkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmFzeW5jIHx8ICF0aGlzLm9wdGlvbnMuYXN5bmNVcmwpIHtcbiAgICAgIGNvbnNvbGUud2FybignbG9hZE9wdGlvbnMoKSByZXF1aXJlcyBhc3luYyBtb2RlIGFuZCBhc3luY1VybCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbmNlbCBwcmV2aW91cyByZXF1ZXN0XG4gICAgaWYgKHRoaXMuX2Fib3J0Q29udHJvbGxlcikge1xuICAgICAgdGhpcy5fYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5fYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHRoaXMuZW1pdChTT0F1dG9jb21wbGV0ZS5FVkVOVFMuTE9BRF9TVEFSVCwgeyBxdWVyeSB9KTtcblxuICAgICAgLy8gQnVpbGQgVVJMIHdpdGggcXVlcnkgcGFyYW1ldGVyXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMub3B0aW9ucy5hc3luY1VybCwgd2luZG93LmxvY2F0aW9uLm9yaWdpbik7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCh0aGlzLm9wdGlvbnMuYXN5bmNQYXJhbSwgcXVlcnkpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6IHRoaXMub3B0aW9ucy5hc3luY01ldGhvZCxcbiAgICAgICAgc2lnbmFsOiB0aGlzLl9hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3N1bWUgZGF0YSBpcyBhcnJheSBvZiBvcHRpb25zIG9yIHsgcmVzdWx0czogWy4uLl0gfVxuICAgICAgY29uc3Qgb3B0aW9ucyA9IEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogKGRhdGEucmVzdWx0cyB8fCBkYXRhLmRhdGEgfHwgW10pO1xuXG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgIHRoaXMuZW1pdChTT0F1dG9jb21wbGV0ZS5FVkVOVFMuTE9BRF9FTkQsIHsgZGF0YTogb3B0aW9ucywgcXVlcnksIGNvdW50OiBvcHRpb25zLmxlbmd0aCB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLm5hbWUgIT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTT0F1dG9jb21wbGV0ZTogTG9hZCBlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdGhpcy5lbWl0KFNPQXV0b2NvbXBsZXRlLkVWRU5UUy5MT0FEX0VSUk9SLCB7IGVycm9yLCBxdWVyeSB9KTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHRoaXMuX2Fib3J0Q29udHJvbGxlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVEUgQ09OVFJPTFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBFbmFibGUgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIHtTT0F1dG9jb21wbGV0ZX0gdGhpc1xuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMuX2Rpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWF1dG9jb21wbGV0ZS1kaXNhYmxlZCcpO1xuICAgIHRoaXMuX2lucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSBjb21wb25lbnRcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBkaXNhYmxlKCkge1xuICAgIHRoaXMuX2Rpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tYXV0b2NvbXBsZXRlLWRpc2FibGVkJyk7XG4gICAgdGhpcy5faW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBkaXNhYmxlZFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsb2FkaW5nIHN0YXRlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9hZGluZyAtIExvYWRpbmcgc3RhdGVcbiAgICogQHJldHVybnMge1NPQXV0b2NvbXBsZXRlfSB0aGlzXG4gICAqL1xuICBzZXRMb2FkaW5nKGxvYWRpbmcpIHtcbiAgICB0aGlzLl9pc0xvYWRpbmcgPSBsb2FkaW5nO1xuICAgIHRoaXMuX2xvYWRpbmdFbC5zdHlsZS5kaXNwbGF5ID0gbG9hZGluZyA/ICdmbGV4JyA6ICdub25lJztcblxuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tYXV0b2NvbXBsZXRlLWxvYWRpbmcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLWF1dG9jb21wbGV0ZS1sb2FkaW5nJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgbG9hZGluZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzTG9hZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faXNMb2FkaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvcHRpb24gZGlzYWJsZWQgc3RhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gT3B0aW9uIHZhbHVlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzYWJsZWQgLSBEaXNhYmxlZCBzdGF0ZVxuICAgKiBAcmV0dXJucyB7U09BdXRvY29tcGxldGV9IHRoaXNcbiAgICovXG4gIHNldE9wdGlvbkRpc2FibGVkKHZhbHVlLCBkaXNhYmxlZCkge1xuICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMuX2FsbE9wdGlvbnMuZmluZChvcHQgPT4gb3B0LnZhbHVlID09PSB2YWx1ZSk7XG4gICAgaWYgKG9wdGlvbikge1xuICAgICAgb3B0aW9uLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICB0aGlzLl9wZXJmb3JtU2VhcmNoKHRoaXMuX2lucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgb3B0aW9uIGlzIGRpc2FibGVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIE9wdGlvbiB2YWx1ZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzT3B0aW9uRGlzYWJsZWQodmFsdWUpIHtcbiAgICBjb25zdCBvcHRpb24gPSB0aGlzLl9hbGxPcHRpb25zLmZpbmQob3B0ID0+IG9wdC52YWx1ZSA9PT0gdmFsdWUpO1xuICAgIHJldHVybiBvcHRpb24gPyAob3B0aW9uLmRpc2FibGVkIHx8IGZhbHNlKSA6IGZhbHNlO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFJJVkFURSBNRVRIT0RTIC0gU2VhcmNoICYgRmlsdGVyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIERlYm91bmNlIHNlYXJjaFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlYm91bmNlU2VhcmNoKHF1ZXJ5KSB7XG4gICAgaWYgKHRoaXMuX2RlYm91bmNlVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kZWJvdW5jZVRpbWVyKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kZWJvdW5jZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLl9wZXJmb3JtU2VhcmNoKHF1ZXJ5KTtcbiAgICB9LCB0aGlzLm9wdGlvbnMuZGVib3VuY2VUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtIHNlYXJjaC9maWx0ZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wZXJmb3JtU2VhcmNoKHF1ZXJ5KSB7XG4gICAgY29uc3QgdHJpbW1lZFF1ZXJ5ID0gcXVlcnkudHJpbSgpO1xuXG4gICAgLy8gQ2hlY2sgbWluaW11bSBzZWFyY2ggbGVuZ3RoXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hc3luYyAmJiB0cmltbWVkUXVlcnkubGVuZ3RoIDwgdGhpcy5vcHRpb25zLm1pblNlYXJjaExlbmd0aCkge1xuICAgICAgdGhpcy5fZmlsdGVyZWRPcHRpb25zID0gW107XG4gICAgICB0aGlzLl9yZW5kZXJPcHRpb25zKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQXN5bmMgbW9kZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXN5bmMpIHtcbiAgICAgIHRoaXMubG9hZE9wdGlvbnModHJpbW1lZFF1ZXJ5KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBMb2NhbCBmaWx0ZXJpbmdcbiAgICBpZiAoIXRyaW1tZWRRdWVyeSkge1xuICAgICAgdGhpcy5fZmlsdGVyZWRPcHRpb25zID0gWy4uLnRoaXMuX2FsbE9wdGlvbnNdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9maWx0ZXJlZE9wdGlvbnMgPSB0aGlzLl9hbGxPcHRpb25zLmZpbHRlcihvcHRpb24gPT4ge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpbHRlckZ1bmN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5maWx0ZXJGdW5jdGlvbihvcHRpb24sIHRyaW1tZWRRdWVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWZhdWx0IGZpbHRlclxuICAgICAgICBjb25zdCB0ZXh0ID0gb3B0aW9uLnRleHQgfHwgb3B0aW9uLnZhbHVlO1xuICAgICAgICBjb25zdCBzZWFyY2hUZXh0ID0gdGhpcy5vcHRpb25zLmNhc2VTZW5zaXRpdmUgPyB0ZXh0IDogdGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHRoaXMub3B0aW9ucy5jYXNlU2Vuc2l0aXZlID8gdHJpbW1lZFF1ZXJ5IDogdHJpbW1lZFF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgcmV0dXJuIHNlYXJjaFRleHQuaW5jbHVkZXMoc2VhcmNoUXVlcnkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiBkcm9wZG93biBpZiBoYXMgcmVzdWx0c1xuICAgIGlmICh0aGlzLl9maWx0ZXJlZE9wdGlvbnMubGVuZ3RoID4gMCAmJiB0cmltbWVkUXVlcnkpIHtcbiAgICAgIGlmICghdGhpcy5faXNPcGVuKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVtaXQgc2VhcmNoIGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPQXV0b2NvbXBsZXRlLkVWRU5UUy5TRUFSQ0gsIHsgcXVlcnk6IHRyaW1tZWRRdWVyeSwgY291bnQ6IHRoaXMuX2ZpbHRlcmVkT3B0aW9ucy5sZW5ndGggfSk7XG5cbiAgICAvLyBSZW5kZXIgb3B0aW9uc1xuICAgIHRoaXMuX3JlbmRlck9wdGlvbnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgb3B0aW9ucyBpbiBkcm9wZG93blxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlck9wdGlvbnMoKSB7XG4gICAgLy8gQ2xlYXIgZXhpc3Rpbmcgb3B0aW9uc1xuICAgIHRoaXMuX29wdGlvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAvLyBObyBvcHRpb25zXG4gICAgaWYgKHRoaXMuX2ZpbHRlcmVkT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX25vUmVzdWx0c0VsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX25vUmVzdWx0c0VsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAvLyBHcm91cCBvcHRpb25zIGlmIG5lZWRlZFxuICAgIGlmICh0aGlzLm9wdGlvbnMuZ3JvdXBlZCAmJiB0aGlzLm9wdGlvbnMuZ3JvdXBCeSkge1xuICAgICAgdGhpcy5fcmVuZGVyR3JvdXBlZE9wdGlvbnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVuZGVyRmxhdE9wdGlvbnMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGZsYXQgKHVuZ3JvdXBlZCkgb3B0aW9uc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlckZsYXRPcHRpb25zKCkge1xuICAgIHRoaXMuX2ZpbHRlcmVkT3B0aW9ucy5mb3JFYWNoKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25FbCA9IHRoaXMuX2NyZWF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uLCBpbmRleCk7XG4gICAgICB0aGlzLl9vcHRpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKG9wdGlvbkVsKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgZ3JvdXBlZCBvcHRpb25zXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVuZGVyR3JvdXBlZE9wdGlvbnMoKSB7XG4gICAgLy8gR3JvdXAgb3B0aW9uc1xuICAgIGNvbnN0IGdyb3VwcyA9IHt9O1xuICAgIHRoaXMuX2ZpbHRlcmVkT3B0aW9ucy5mb3JFYWNoKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBncm91cE5hbWUgPSB0aGlzLm9wdGlvbnMuZ3JvdXBCeShvcHRpb24pIHx8ICdPdGhlcic7XG4gICAgICBpZiAoIWdyb3Vwc1tncm91cE5hbWVdKSB7XG4gICAgICAgIGdyb3Vwc1tncm91cE5hbWVdID0gW107XG4gICAgICB9XG4gICAgICBncm91cHNbZ3JvdXBOYW1lXS5wdXNoKHsgb3B0aW9uLCBpbmRleCB9KTtcbiAgICB9KTtcblxuICAgIC8vIFJlbmRlciBlYWNoIGdyb3VwXG4gICAgT2JqZWN0LmVudHJpZXMoZ3JvdXBzKS5mb3JFYWNoKChbZ3JvdXBOYW1lLCBpdGVtc10pID0+IHtcbiAgICAgIC8vIEdyb3VwIGhlYWRlclxuICAgICAgY29uc3QgZ3JvdXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZ3JvdXBFbC5jbGFzc05hbWUgPSAnc28tYXV0b2NvbXBsZXRlLWdyb3VwLWhlYWRlcic7XG4gICAgICBncm91cEVsLnRleHRDb250ZW50ID0gZ3JvdXBOYW1lO1xuICAgICAgdGhpcy5fb3B0aW9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChncm91cEVsKTtcblxuICAgICAgLy8gR3JvdXAgb3B0aW9uc1xuICAgICAgaXRlbXMuZm9yRWFjaCgoeyBvcHRpb24sIGluZGV4IH0pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uRWwgPSB0aGlzLl9jcmVhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgaW5kZXgpO1xuICAgICAgICB0aGlzLl9vcHRpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKG9wdGlvbkVsKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBvcHRpb24gZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uLCBpbmRleCkge1xuICAgIGNvbnN0IG9wdGlvbkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgb3B0aW9uRWwuY2xhc3NOYW1lID0gJ3NvLWF1dG9jb21wbGV0ZS1vcHRpb24nO1xuICAgIG9wdGlvbkVsLmRhdGFzZXQuaW5kZXggPSBpbmRleDtcbiAgICBvcHRpb25FbC5kYXRhc2V0LnZhbHVlID0gb3B0aW9uLnZhbHVlO1xuICAgIG9wdGlvbkVsLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcblxuICAgIC8vIERpc2FibGVkIHN0YXRlXG4gICAgaWYgKG9wdGlvbi5kaXNhYmxlZCkge1xuICAgICAgb3B0aW9uRWwuY2xhc3NMaXN0LmFkZCgnc28tYXV0b2NvbXBsZXRlLW9wdGlvbi1kaXNhYmxlZCcpO1xuICAgICAgb3B0aW9uRWwuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9XG5cbiAgICAvLyBTZWxlY3RlZCBzdGF0ZVxuICAgIGlmICh0aGlzLl9zZWxlY3RlZFZhbHVlcy5pbmNsdWRlcyhvcHRpb24udmFsdWUpKSB7XG4gICAgICBvcHRpb25FbC5jbGFzc0xpc3QuYWRkKCdzby1zZWxlY3RlZCcpO1xuICAgICAgb3B0aW9uRWwuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9uRWwuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuXG4gICAgLy8gQ3VzdG9tIHRlbXBsYXRlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5vcHRpb25UZW1wbGF0ZSkge1xuICAgICAgb3B0aW9uRWwuaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLm9wdGlvblRlbXBsYXRlKG9wdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZmF1bHQgdGVtcGxhdGVcbiAgICAgIGNvbnN0IHRleHQgPSBvcHRpb24udGV4dCB8fCBvcHRpb24udmFsdWU7XG4gICAgICBjb25zdCBoaWdobGlnaHRlZFRleHQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0TWF0Y2hlc1xuICAgICAgICA/IHRoaXMuX2hpZ2hsaWdodE1hdGNoKHRleHQsIHRoaXMuX2lucHV0LnZhbHVlKVxuICAgICAgICA6IHRleHQ7XG5cbiAgICAgIG9wdGlvbkVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzby1hdXRvY29tcGxldGUtb3B0aW9uLXRleHRcIj4ke2hpZ2hsaWdodGVkVGV4dH08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwic28tYXV0b2NvbXBsZXRlLW9wdGlvbi1jaGVja1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jaGVjazwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgYDtcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9uRWw7XG4gIH1cblxuICAvKipcbiAgICogSGlnaGxpZ2h0IG1hdGNoaW5nIHRleHRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oaWdobGlnaHRNYXRjaCh0ZXh0LCBxdWVyeSkge1xuICAgIGlmICghcXVlcnkpIHJldHVybiB0ZXh0O1xuXG4gICAgY29uc3Qgc2VhcmNoVGV4dCA9IHRoaXMub3B0aW9ucy5jYXNlU2Vuc2l0aXZlID8gdGV4dCA6IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHRoaXMub3B0aW9ucy5jYXNlU2Vuc2l0aXZlID8gcXVlcnkgOiBxdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGluZGV4ID0gc2VhcmNoVGV4dC5pbmRleE9mKHNlYXJjaFF1ZXJ5KTtcblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiB0ZXh0O1xuXG4gICAgY29uc3QgYmVmb3JlID0gdGV4dC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgIGNvbnN0IG1hdGNoID0gdGV4dC5zdWJzdHJpbmcoaW5kZXgsIGluZGV4ICsgcXVlcnkubGVuZ3RoKTtcbiAgICBjb25zdCBhZnRlciA9IHRleHQuc3Vic3RyaW5nKGluZGV4ICsgcXVlcnkubGVuZ3RoKTtcblxuICAgIHJldHVybiBgJHtiZWZvcmV9PG1hcms+JHttYXRjaH08L21hcms+JHthZnRlcn1gO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFJJVkFURSBNRVRIT0RTIC0gU2VsZWN0aW9uXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhbiBvcHRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZWxlY3RPcHRpb24ob3B0aW9uLCBpbmRleCA9IC0xKSB7XG4gICAgaWYgKG9wdGlvbi5kaXNhYmxlZCkgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBzZWxlY3RlZCAoZm9yIGRlc2VsZWN0aW9uIGluIG11bHRpcGxlIG1vZGUpXG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHRoaXMuX3NlbGVjdGVkVmFsdWVzLmluY2x1ZGVzKG9wdGlvbi52YWx1ZSk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAvLyBEZXNlbGVjdFxuICAgICAgICB0aGlzLnJlbW92ZVRva2VuQnlWYWx1ZShvcHRpb24udmFsdWUpO1xuICAgICAgICB0aGlzLmVtaXQoU09BdXRvY29tcGxldGUuRVZFTlRTLkRFU0VMRUNULCB7XG4gICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICB0ZXh0OiBvcHRpb24udGV4dCxcbiAgICAgICAgICBpdGVtOiBvcHRpb24sXG4gICAgICAgICAgaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBtYXggc2VsZWN0aW9uc1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heFNlbGVjdGlvbnMgJiYgdGhpcy5fc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID49IHRoaXMub3B0aW9ucy5tYXhTZWxlY3Rpb25zKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VsZWN0IChhZGQgdG9rZW4pXG4gICAgICAgIHRoaXMuX2NyZWF0ZVRva2VuKG9wdGlvbi52YWx1ZSwgb3B0aW9uLnRleHQpO1xuICAgICAgICB0aGlzLmVtaXQoU09BdXRvY29tcGxldGUuRVZFTlRTLlNFTEVDVCwge1xuICAgICAgICAgIHZhbHVlOiBvcHRpb24udmFsdWUsXG4gICAgICAgICAgdGV4dDogb3B0aW9uLnRleHQsXG4gICAgICAgICAgaXRlbTogb3B0aW9uLFxuICAgICAgICAgIGluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBpbnB1dCBhZnRlciBzZWxlY3Rpb25cbiAgICAgIHRoaXMuX2lucHV0LnZhbHVlID0gJyc7XG4gICAgICB0aGlzLl9pbnB1dC5mb2N1cygpO1xuXG4gICAgICAvLyBSZS1yZW5kZXIgdG8gdXBkYXRlIHNlbGVjdGVkIHN0YXRlXG4gICAgICB0aGlzLl9yZW5kZXJPcHRpb25zKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNpbmdsZSBzZWxlY3Rpb25cbiAgICAgIHRoaXMuX3NlbGVjdGVkVmFsdWVzID0gW29wdGlvbi52YWx1ZV07XG4gICAgICB0aGlzLl9zZWxlY3RlZFRleHRzID0gW29wdGlvbi50ZXh0IHx8IG9wdGlvbi52YWx1ZV07XG4gICAgICB0aGlzLl9pbnB1dC52YWx1ZSA9IG9wdGlvbi50ZXh0IHx8IG9wdGlvbi52YWx1ZTtcblxuICAgICAgdGhpcy5lbWl0KFNPQXV0b2NvbXBsZXRlLkVWRU5UUy5TRUxFQ1QsIHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgdGV4dDogb3B0aW9uLnRleHQsXG4gICAgICAgIGl0ZW06IG9wdGlvbixcbiAgICAgICAgaW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlT25TZWxlY3QpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZUNsZWFyQnV0dG9uKCk7XG4gICAgdGhpcy5fZW1pdENoYW5nZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBmb2N1c2VkIG9wdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NlbGVjdEZvY3VzZWRPcHRpb24oKSB7XG4gICAgaWYgKHRoaXMuX2ZvY3VzZWRJbmRleCA+PSAwICYmIHRoaXMuX2ZvY3VzZWRJbmRleCA8IHRoaXMuX2ZpbHRlcmVkT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMuX2ZpbHRlcmVkT3B0aW9uc1t0aGlzLl9mb2N1c2VkSW5kZXhdO1xuICAgICAgdGhpcy5fc2VsZWN0T3B0aW9uKG9wdGlvbiwgdGhpcy5fZm9jdXNlZEluZGV4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgdG9rZW4gKGZyZWUgc29sbyBvciBmcm9tIG9wdGlvbilcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVUb2tlbih2YWx1ZSwgdGV4dCA9IG51bGwpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5tdWx0aXBsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgdG9rZW5UZXh0ID0gdGV4dCB8fCB2YWx1ZTtcbiAgICBjb25zdCB0b2tlblZhbHVlID0gdmFsdWU7XG5cbiAgICAvLyBWYWxpZGF0ZSB0b2tlblxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9rZW5WYWxpZGF0aW9uICYmICF0aGlzLm9wdGlvbnMudG9rZW5WYWxpZGF0aW9uKHRva2VuVmFsdWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGR1cGxpY2F0ZXNcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0R1cGxpY2F0ZXMgJiYgdGhpcy5fc2VsZWN0ZWRWYWx1ZXMuaW5jbHVkZXModG9rZW5WYWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBtYXggc2VsZWN0aW9uc1xuICAgIGlmICh0aGlzLm9wdGlvbnMubWF4U2VsZWN0aW9ucyAmJiB0aGlzLl90b2tlbnMubGVuZ3RoID49IHRoaXMub3B0aW9ucy5tYXhTZWxlY3Rpb25zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkIHRva2VuXG4gICAgY29uc3QgdG9rZW4gPSB7IHZhbHVlOiB0b2tlblZhbHVlLCB0ZXh0OiB0b2tlblRleHQgfTtcbiAgICB0aGlzLl90b2tlbnMucHVzaCh0b2tlbik7XG4gICAgdGhpcy5fc2VsZWN0ZWRWYWx1ZXMucHVzaCh0b2tlblZhbHVlKTtcbiAgICB0aGlzLl9zZWxlY3RlZFRleHRzLnB1c2godG9rZW5UZXh0KTtcblxuICAgIC8vIFJlbmRlciB0b2tlbnNcbiAgICB0aGlzLl9yZW5kZXJUb2tlbnMoKTtcbiAgICB0aGlzLl91cGRhdGVQbGFjZWhvbGRlcigpO1xuICAgIHRoaXMuX3VwZGF0ZUNsZWFyQnV0dG9uKCk7XG5cbiAgICAvLyBFbWl0IGV2ZW50c1xuICAgIHRoaXMuZW1pdChTT0F1dG9jb21wbGV0ZS5FVkVOVFMuVE9LRU5fQURELCB7IHRva2VuLCB0b2tlbnM6IHRoaXMuX3Rva2VucyB9KTtcblxuICAgIC8vIEVtaXQgY3JlYXRlIGV2ZW50IGlmIGZyZWUgc29sb1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZnJlZVNvbG8gJiYgIXRoaXMuX2FsbE9wdGlvbnMuZmluZChvcHQgPT4gb3B0LnZhbHVlID09PSB0b2tlblZhbHVlKSkge1xuICAgICAgdGhpcy5lbWl0KFNPQXV0b2NvbXBsZXRlLkVWRU5UUy5DUkVBVEUsIHsgdmFsdWU6IHRva2VuVmFsdWUsIHRleHQ6IHRva2VuVGV4dCB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRva2Vuc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlclRva2VucygpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5tdWx0aXBsZSB8fCAhdGhpcy5fdG9rZW5zQ29udGFpbmVyKSByZXR1cm47XG5cbiAgICAvLyBSZW1vdmUgZXhpc3RpbmcgdG9rZW5zIGFuZCB0ZXh0IGRpc3BsYXkgKGtlZXAgaW5wdXQpXG4gICAgY29uc3QgdG9rZW5FbHMgPSB0aGlzLl90b2tlbnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnNvLWF1dG9jb21wbGV0ZS10b2tlbiwgLnNvLWF1dG9jb21wbGV0ZS1zZWxlY3RlZC10ZXh0Jyk7XG4gICAgdG9rZW5FbHMuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICAvLyBEaXNwbGF5IG1vZGU6IGNoaXBzIG9yIGNoaXBzLW92ZXJmbG93XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNwbGF5TW9kZSA9PT0gJ2NoaXBzJyB8fCB0aGlzLm9wdGlvbnMuZGlzcGxheU1vZGUgPT09ICdjaGlwcy1vdmVyZmxvdycpIHtcbiAgICAgIGNvbnN0IHRva2Vuc1RvU2hvdyA9IHRoaXMub3B0aW9ucy5kaXNwbGF5TW9kZSA9PT0gJ2NoaXBzLW92ZXJmbG93J1xuICAgICAgICA/IHRoaXMuX3Rva2Vucy5zbGljZSgwLCB0aGlzLm9wdGlvbnMubWF4VmlzaWJsZVRva2VucylcbiAgICAgICAgOiB0aGlzLl90b2tlbnM7XG5cbiAgICAgIHRva2Vuc1RvU2hvdy5mb3JFYWNoKCh0b2tlbiwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW5FbCA9IHRoaXMuX2NyZWF0ZVRva2VuRWxlbWVudCh0b2tlbiwgaW5kZXgpO1xuICAgICAgICB0aGlzLl90b2tlbnNDb250YWluZXIuaW5zZXJ0QmVmb3JlKHRva2VuRWwsIHRoaXMuX2lucHV0KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaG93IG92ZXJmbG93IGluZGljYXRvclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXNwbGF5TW9kZSA9PT0gJ2NoaXBzLW92ZXJmbG93JyAmJiB0aGlzLl90b2tlbnMubGVuZ3RoID4gdGhpcy5vcHRpb25zLm1heFZpc2libGVUb2tlbnMpIHtcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3dDb3VudCA9IHRoaXMuX3Rva2Vucy5sZW5ndGggLSB0aGlzLm9wdGlvbnMubWF4VmlzaWJsZVRva2VucztcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3dFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgb3ZlcmZsb3dFbC5jbGFzc05hbWUgPSAnc28tYXV0b2NvbXBsZXRlLXRva2VuIHNvLWF1dG9jb21wbGV0ZS10b2tlbi1vdmVyZmxvdyc7XG4gICAgICAgIG92ZXJmbG93RWwudGV4dENvbnRlbnQgPSB0aGlzLm9wdGlvbnMub3ZlcmZsb3dUZXh0LnJlcGxhY2UoJ3tjb3VudH0nLCBvdmVyZmxvd0NvdW50KTtcbiAgICAgICAgdGhpcy5fdG9rZW5zQ29udGFpbmVyLmluc2VydEJlZm9yZShvdmVyZmxvd0VsLCB0aGlzLl9pbnB1dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZGlzcGxheU1vZGUgPT09ICd0ZXh0Jykge1xuICAgICAgLy8gVGV4dCBkaXNwbGF5IG1vZGVcbiAgICAgIGNvbnN0IHRleHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHRleHRFbC5jbGFzc05hbWUgPSAnc28tYXV0b2NvbXBsZXRlLXNlbGVjdGVkLXRleHQnO1xuICAgICAgdGV4dEVsLnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zLm11bHRpcGxlU2VsZWN0ZWRUZXh0LnJlcGxhY2UoJ3tjb3VudH0nLCB0aGlzLl90b2tlbnMubGVuZ3RoKTtcbiAgICAgIHRoaXMuX3Rva2Vuc0NvbnRhaW5lci5pbnNlcnRCZWZvcmUodGV4dEVsLCB0aGlzLl9pbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBjb2xvciB2YXJpYW50IGZyb20gZWxlbWVudCBjbGFzc2VzXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSB2YXJpYW50IG5hbWUgKHByaW1hcnksIHN1Y2Nlc3MsIGRhbmdlciwgZXRjLilcbiAgICovXG4gIF9nZXRDb2xvclZhcmlhbnQoKSB7XG4gICAgY29uc3QgdmFyaWFudHMgPSBbJ3ByaW1hcnknLCAnc2Vjb25kYXJ5JywgJ3N1Y2Nlc3MnLCAnZGFuZ2VyJywgJ3dhcm5pbmcnLCAnaW5mbycsICdkYXJrJywgJ2xpZ2h0J107XG4gICAgZm9yIChjb25zdCB2YXJpYW50IG9mIHZhcmlhbnRzKSB7XG4gICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhgc28tYXV0b2NvbXBsZXRlLSR7dmFyaWFudH1gKSkge1xuICAgICAgICByZXR1cm4gdmFyaWFudDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICdwcmltYXJ5JzsgLy8gRGVmYXVsdFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0b2tlbiBlbGVtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlVG9rZW5FbGVtZW50KHRva2VuLCBpbmRleCkge1xuICAgIGNvbnN0IHRva2VuRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgY29uc3QgdmFyaWFudCA9IHRoaXMuX2dldENvbG9yVmFyaWFudCgpO1xuICAgIHRva2VuRWwuY2xhc3NOYW1lID0gYHNvLWF1dG9jb21wbGV0ZS10b2tlbiBzby1jaGlwIHNvLWNoaXAtc20gc28tY2hpcC1zb2Z0LSR7dmFyaWFudH1gO1xuICAgIHRva2VuRWwuZGF0YXNldC5pbmRleCA9IGluZGV4O1xuICAgIHRva2VuRWwuZGF0YXNldC52YWx1ZSA9IHRva2VuLnZhbHVlO1xuXG4gICAgLy8gU2l6ZSB2YXJpYW50IChvdmVycmlkZSBkZWZhdWx0IHNtIGlmIHNwZWNpZmllZClcbiAgICBpZiAodGhpcy5vcHRpb25zLnRva2VuU2l6ZSkge1xuICAgICAgdG9rZW5FbC5jbGFzc0xpc3QucmVtb3ZlKCdzby1jaGlwLXNtJyk7XG4gICAgICB0b2tlbkVsLmNsYXNzTGlzdC5hZGQoYHNvLWNoaXAtJHt0aGlzLm9wdGlvbnMudG9rZW5TaXplfWApO1xuICAgIH1cblxuICAgIC8vIEN1c3RvbSB0ZW1wbGF0ZVxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9rZW5UZW1wbGF0ZSkge1xuICAgICAgdG9rZW5FbC5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMudG9rZW5UZW1wbGF0ZSh0b2tlbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZmF1bHQgdGVtcGxhdGVcbiAgICAgIHRva2VuRWwuaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3BhbiBjbGFzcz1cInNvLWF1dG9jb21wbGV0ZS10b2tlbi10ZXh0XCI+JHt0b2tlbi50ZXh0fTwvc3Bhbj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzby1hdXRvY29tcGxldGUtdG9rZW4tcmVtb3ZlIHNvLWNoaXAtY2xvc2VcIiBkYXRhLWluZGV4PVwiJHtpbmRleH1cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgYDtcblxuICAgICAgLy8gQmluZCByZW1vdmUgYnV0dG9uXG4gICAgICBjb25zdCByZW1vdmVCdG4gPSB0b2tlbkVsLnF1ZXJ5U2VsZWN0b3IoJy5zby1hdXRvY29tcGxldGUtdG9rZW4tcmVtb3ZlJyk7XG4gICAgICB0aGlzLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlVG9rZW4oaW5kZXgpO1xuICAgICAgfSwgcmVtb3ZlQnRuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9rZW5FbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgcGxhY2Vob2xkZXIgYmFzZWQgb24gdG9rZW5zXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlUGxhY2Vob2xkZXIoKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubXVsdGlwbGUpIHJldHVybjtcblxuICAgIGlmICh0aGlzLl90b2tlbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5faW5wdXQucGxhY2Vob2xkZXIgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBjbGVhciBidXR0b24gdmlzaWJpbGl0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUNsZWFyQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmNsZWFyYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYXJCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoYXNWYWx1ZSA9IHRoaXMub3B0aW9ucy5tdWx0aXBsZVxuICAgICAgPyB0aGlzLl90b2tlbnMubGVuZ3RoID4gMFxuICAgICAgOiB0aGlzLl9pbnB1dC52YWx1ZS5sZW5ndGggPiAwIHx8IHRoaXMuX3NlbGVjdGVkVmFsdWVzLmxlbmd0aCA+IDA7XG5cbiAgICB0aGlzLl9jbGVhckJ0bi5zdHlsZS5kaXNwbGF5ID0gaGFzVmFsdWUgPyAnZmxleCcgOiAnbm9uZSc7XG4gIH1cblxuICAvKipcbiAgICogRW1pdCBjaGFuZ2UgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9lbWl0Q2hhbmdlKCkge1xuICAgIHRoaXMuZW1pdChTT0F1dG9jb21wbGV0ZS5FVkVOVFMuQ0hBTkdFLCB7XG4gICAgICB2YWx1ZTogdGhpcy5nZXRWYWx1ZSgpLFxuICAgICAgdmFsdWVzOiB0aGlzLmdldFZhbHVlcygpLFxuICAgICAgdGV4dDogdGhpcy5nZXRUZXh0KCksXG4gICAgICB0ZXh0czogdGhpcy5nZXRUZXh0cygpLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFJJVkFURSBNRVRIT0RTIC0gS2V5Ym9hcmQgTmF2aWdhdGlvblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBGb2N1cyBuZXh0IG9wdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZvY3VzTmV4dE9wdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZmlsdGVyZWRPcHRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fZm9jdXNlZEluZGV4Kys7XG4gICAgaWYgKHRoaXMuX2ZvY3VzZWRJbmRleCA+PSB0aGlzLl9maWx0ZXJlZE9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9mb2N1c2VkSW5kZXggPSAwO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZUZvY3VzZWRPcHRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb2N1cyBwcmV2aW91cyBvcHRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9mb2N1c1ByZXZpb3VzT3B0aW9uKCkge1xuICAgIGlmICh0aGlzLl9maWx0ZXJlZE9wdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICB0aGlzLl9mb2N1c2VkSW5kZXgtLTtcbiAgICBpZiAodGhpcy5fZm9jdXNlZEluZGV4IDwgMCkge1xuICAgICAgdGhpcy5fZm9jdXNlZEluZGV4ID0gdGhpcy5fZmlsdGVyZWRPcHRpb25zLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlRm9jdXNlZE9wdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIG9wdGlvbiBhdCBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZvY3VzT3B0aW9uQXQoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuX2ZpbHRlcmVkT3B0aW9ucy5sZW5ndGgpIHJldHVybjtcblxuICAgIHRoaXMuX2ZvY3VzZWRJbmRleCA9IGluZGV4O1xuICAgIHRoaXMuX3VwZGF0ZUZvY3VzZWRPcHRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZm9jdXNlZCBvcHRpb24gdmlzdWFsIHN0YXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlRm9jdXNlZE9wdGlvbigpIHtcbiAgICAvLyBSZW1vdmUgcHJldmlvdXMgZm9jdXNcbiAgICBjb25zdCBwcmV2Rm9jdXNlZCA9IHRoaXMuX29wdGlvbnNDb250YWluZXIucXVlcnlTZWxlY3RvcignLnNvLWF1dG9jb21wbGV0ZS1vcHRpb24tZm9jdXNlZCcpO1xuICAgIGlmIChwcmV2Rm9jdXNlZCkge1xuICAgICAgcHJldkZvY3VzZWQuY2xhc3NMaXN0LnJlbW92ZSgnc28tYXV0b2NvbXBsZXRlLW9wdGlvbi1mb2N1c2VkJyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG5ldyBmb2N1c1xuICAgIGlmICh0aGlzLl9mb2N1c2VkSW5kZXggPj0gMCkge1xuICAgICAgY29uc3Qgb3B0aW9uRWwgPSB0aGlzLl9vcHRpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWluZGV4PVwiJHt0aGlzLl9mb2N1c2VkSW5kZXh9XCJdYCk7XG4gICAgICBpZiAob3B0aW9uRWwpIHtcbiAgICAgICAgb3B0aW9uRWwuY2xhc3NMaXN0LmFkZCgnc28tYXV0b2NvbXBsZXRlLW9wdGlvbi1mb2N1c2VkJyk7XG4gICAgICAgIG9wdGlvbkVsLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6ICduZWFyZXN0JywgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIERFU1RST1lcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogRGVzdHJveSB0aGUgY29tcG9uZW50XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIC8vIENsb3NlIGRyb3Bkb3duXG4gICAgdGhpcy5jbG9zZSgpO1xuXG4gICAgLy8gQ2xlYXIgdGltZXJzXG4gICAgaWYgKHRoaXMuX2RlYm91bmNlVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kZWJvdW5jZVRpbWVyKTtcbiAgICB9XG5cbiAgICAvLyBBYm9ydCBhbnkgcGVuZGluZyByZXF1ZXN0c1xuICAgIGlmICh0aGlzLl9hYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgIHRoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIH1cblxuICAgIC8vIENhbGwgcGFyZW50IGRlc3Ryb3lcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNUQVRJQyBNRVRIT0RTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEluaXRpYWxpemUgYWxsIGF1dG9jb21wbGV0ZSBjb21wb25lbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBDU1Mgc2VsZWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9uc1xuICogQHJldHVybnMge0FycmF5PFNPQXV0b2NvbXBsZXRlPn0gSW5zdGFuY2VzXG4gKi9cblNPQXV0b2NvbXBsZXRlLmluaXRBbGwgPSBmdW5jdGlvbiAoc2VsZWN0b3IgPSAnW2RhdGEtc28tYXV0b2NvbXBsZXRlXScsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50cykubWFwKGVsID0+IFNPQXV0b2NvbXBsZXRlLmdldEluc3RhbmNlKGVsLCBvcHRpb25zKSk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUkVHSVNUUkFUSU9OXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBSZWdpc3RlciBjb21wb25lbnQgd2l0aCBTaXhPcmJpdFxuU09BdXRvY29tcGxldGUucmVnaXN0ZXIoKTtcblxuLy8gRXhwb3J0XG5leHBvcnQgZGVmYXVsdCBTT0F1dG9jb21wbGV0ZTtcbmV4cG9ydCB7IFNPQXV0b2NvbXBsZXRlIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gVEFCTEUgQ09NUE9ORU5UXG4vLyBJbnRlcmFjdGl2ZSBkYXRhIHRhYmxlcyB3aXRoIHNvcnRpbmcsIHNlbGVjdGlvbiwgZXhwYW5zaW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vY29yZS9zby1jb25maWcuanMnO1xuaW1wb3J0IFNPQ29tcG9uZW50IGZyb20gJy4uL2NvcmUvc28tY29tcG9uZW50LmpzJztcblxuLyoqXG4gKiBTT1RhYmxlIC0gSW50ZXJhY3RpdmUgZGF0YSB0YWJsZSBjb21wb25lbnRcbiAqIFN1cHBvcnRzIHNvcnRpbmcsIHJvdyBzZWxlY3Rpb24sIHJvdyBleHBhbnNpb24sIGFuZCBtb3JlXG4gKi9cbmNsYXNzIFNPVGFibGUgZXh0ZW5kcyBTT0NvbXBvbmVudCB7XG4gIHN0YXRpYyBOQU1FID0gJ3RhYmxlJztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgc29ydGFibGU6IGZhbHNlLCAgICAgICAgICAgLy8gRW5hYmxlIGNvbHVtbiBzb3J0aW5nXG4gICAgc2VsZWN0YWJsZTogZmFsc2UsICAgICAgICAgLy8gRW5hYmxlIHJvdyBzZWxlY3Rpb25cbiAgICBleHBhbmRhYmxlOiBmYWxzZSwgICAgICAgICAvLyBFbmFibGUgcm93IGV4cGFuc2lvblxuICAgIG11bHRpU2VsZWN0OiB0cnVlLCAgICAgICAgIC8vIEFsbG93IG11bHRpcGxlIHJvdyBzZWxlY3Rpb25cbiAgICBzZWxlY3RPbkNsaWNrOiB0cnVlLCAgICAgICAvLyBTZWxlY3Qgcm93IHdoZW4gY2xpY2tpbmcgYW55d2hlcmUgb24gaXRcbiAgICBzb3J0Q29sdW1uOiBudWxsLCAgICAgICAgICAvLyBJbml0aWFsIHNvcnQgY29sdW1uIChpbmRleCBvciBkYXRhLXNvcnQgdmFsdWUpXG4gICAgc29ydERpcmVjdGlvbjogJ2FzYycsICAgICAgLy8gSW5pdGlhbCBzb3J0IGRpcmVjdGlvbiAoJ2FzYycgb3IgJ2Rlc2MnKVxuICAgIHNvcnRJY29uczoge1xuICAgICAgYXNjOiAnYXJyb3dfdXB3YXJkJyxcbiAgICAgIGRlc2M6ICdhcnJvd19kb3dud2FyZCcsXG4gICAgICBub25lOiAndW5mb2xkX21vcmUnLFxuICAgIH0sXG4gICAgZXhwYW5kSWNvbjogJ2V4cGFuZF9tb3JlJyxcbiAgICBvblNvcnQ6IG51bGwsICAgICAgICAgICAgICAvLyBDYWxsYmFjayB3aGVuIHNvcnRpbmcgY2hhbmdlc1xuICAgIG9uU2VsZWN0OiBudWxsLCAgICAgICAgICAgIC8vIENhbGxiYWNrIHdoZW4gc2VsZWN0aW9uIGNoYW5nZXNcbiAgICBvbkV4cGFuZDogbnVsbCwgICAgICAgICAgICAvLyBDYWxsYmFjayB3aGVuIHJvdyBleHBhbmRzL2NvbGxhcHNlc1xuICB9O1xuXG4gIHN0YXRpYyBFVkVOVFMgPSB7XG4gICAgU09SVDogJ3RhYmxlOnNvcnQnLFxuICAgIFNFTEVDVDogJ3RhYmxlOnNlbGVjdCcsXG4gICAgU0VMRUNUX0FMTDogJ3RhYmxlOnNlbGVjdGFsbCcsXG4gICAgREVTRUxFQ1RfQUxMOiAndGFibGU6ZGVzZWxlY3RhbGwnLFxuICAgIEVYUEFORDogJ3RhYmxlOmV4cGFuZCcsXG4gICAgQ09MTEFQU0U6ICd0YWJsZTpjb2xsYXBzZScsXG4gIH07XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSU5JVElBTElaQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgdGFibGUgY29tcG9uZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9jYWNoZUVsZW1lbnRzKCk7XG4gICAgdGhpcy5faW5pdFN0YXRlKCk7XG4gICAgdGhpcy5fc2V0dXBGZWF0dXJlcygpO1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBET00gZWxlbWVudHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYWNoZUVsZW1lbnRzKCkge1xuICAgIHRoaXMuX3RoZWFkID0gdGhpcy4kKCd0aGVhZCcpO1xuICAgIHRoaXMuX3Rib2R5ID0gdGhpcy4kKCd0Ym9keScpO1xuICAgIHRoaXMuX2hlYWRlcnMgPSB0aGlzLl90aGVhZCA/IEFycmF5LmZyb20odGhpcy5fdGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKSkgOiBbXTtcbiAgICB0aGlzLl9yb3dzID0gdGhpcy5fdGJvZHkgPyBBcnJheS5mcm9tKHRoaXMuX3Rib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyOm5vdCguc28tdGFibGUtZXhwYW5kLXJvdyknKSkgOiBbXTtcbiAgICB0aGlzLl9oZWFkZXJDaGVja2JveCA9IHRoaXMuJCgnLnNvLXRhYmxlLWNoZWNrLWFsbCBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHN0YXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdFN0YXRlKCkge1xuICAgIHRoaXMuX3NvcnRDb2x1bW4gPSBudWxsO1xuICAgIHRoaXMuX3NvcnREaXJlY3Rpb24gPSAnYXNjJztcbiAgICB0aGlzLl9zZWxlY3RlZFJvd3MgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5fZXhwYW5kZWRSb3dzID0gbmV3IFNldCgpO1xuICAgIHRoaXMuX29yaWdpbmFsRGF0YSA9IFtdO1xuXG4gICAgLy8gU3RvcmUgb3JpZ2luYWwgcm93IGRhdGEgZm9yIHNvcnRpbmdcbiAgICB0aGlzLl9yb3dzLmZvckVhY2goKHJvdywgaW5kZXgpID0+IHtcbiAgICAgIHJvdy5kYXRhc2V0LnJvd0luZGV4ID0gaW5kZXg7XG4gICAgICB0aGlzLl9vcmlnaW5hbERhdGEucHVzaCh7XG4gICAgICAgIGVsZW1lbnQ6IHJvdyxcbiAgICAgICAgY2VsbHM6IEFycmF5LmZyb20ocm93LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkJykpLm1hcCh0ZCA9PiB0ZC50ZXh0Q29udGVudC50cmltKCkpLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIGZlYXR1cmVzIGJhc2VkIG9uIG9wdGlvbnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXR1cEZlYXR1cmVzKCkge1xuICAgIC8vIEFkZCBmZWF0dXJlIGNsYXNzZXNcbiAgICBpZiAodGhpcy5vcHRpb25zLnNvcnRhYmxlKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCdzby10YWJsZS1zb3J0YWJsZScpO1xuICAgICAgdGhpcy5fc2V0dXBTb3J0YWJsZUhlYWRlcnMoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNlbGVjdGFibGUpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3NvLXRhYmxlLXNlbGVjdGFibGUnKTtcbiAgICAgIHRoaXMuX3NldHVwU2VsZWN0YWJsZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZXhwYW5kYWJsZSkge1xuICAgICAgdGhpcy5hZGRDbGFzcygnc28tdGFibGUtZXhwYW5kYWJsZScpO1xuICAgICAgdGhpcy5fc2V0dXBFeHBhbmRhYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgaW5pdGlhbCBzb3J0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zb3J0Q29sdW1uICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9hcHBseVNvcnRpbmcodGhpcy5vcHRpb25zLnNvcnRDb2x1bW4sIHRoaXMub3B0aW9ucy5zb3J0RGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIHNvcnRhYmxlIGhlYWRlcnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXR1cFNvcnRhYmxlSGVhZGVycygpIHtcbiAgICB0aGlzLl9oZWFkZXJzLmZvckVhY2goKGhlYWRlciwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHNvcnRLZXkgPSBoZWFkZXIuZGF0YXNldC5zb3J0O1xuICAgICAgaWYgKHNvcnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBPbmx5IGFkZCBzb3J0IHN0cnVjdHVyZSBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgIGlmICghaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zby10YWJsZS1zb3J0JykpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gaGVhZGVyLmlubmVySFRNTDtcbiAgICAgICAgICBoZWFkZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzby10YWJsZS1zb3J0XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic28tdGFibGUtc29ydC10ZXh0XCI+JHtjb250ZW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzby10YWJsZS1zb3J0LWljb25cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHt0aGlzLm9wdGlvbnMuc29ydEljb25zLm5vbmV9PC9zcGFuPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBBUklBIGF0dHJpYnV0ZVxuICAgICAgICBoZWFkZXIuc2V0QXR0cmlidXRlKCdhcmlhLXNvcnQnLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCBzZWxlY3RhYmxlIHJvd3NcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXR1cFNlbGVjdGFibGUoKSB7XG4gICAgLy8gQWRkIGNoZWNrYm94ZXMgdG8gcm93cyBpZiB0aGV5IGRvbid0IGV4aXN0XG4gICAgdGhpcy5fcm93cy5mb3JFYWNoKChyb3csIGluZGV4KSA9PiB7XG4gICAgICBpZiAoIXJvdy5xdWVyeVNlbGVjdG9yKCcuc28tdGFibGUtY2hlY2snKSkge1xuICAgICAgICBjb25zdCBmaXJzdENlbGwgPSByb3cucXVlcnlTZWxlY3RvcigndGQnKTtcbiAgICAgICAgaWYgKGZpcnN0Q2VsbCAmJiBmaXJzdENlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby10YWJsZS1jaGVjaycpKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBBbHJlYWR5IGhhcyBjaGVja2JveCBjZWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgZXhwYW5kYWJsZSByb3dzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0dXBFeHBhbmRhYmxlKCkge1xuICAgIHRoaXMuX3Jvd3MuZm9yRWFjaCgocm93LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgZXhwYW5kQnRuID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5zby10YWJsZS1leHBhbmQtYnRuJyk7XG4gICAgICBpZiAoZXhwYW5kQnRuICYmICFleHBhbmRCdG4uZGF0YXNldC5pbml0aWFsaXplZCkge1xuICAgICAgICBleHBhbmRCdG4uZGF0YXNldC5pbml0aWFsaXplZCA9ICd0cnVlJztcbiAgICAgICAgY29uc3QgaWNvbiA9IGV4cGFuZEJ0bi5xdWVyeVNlbGVjdG9yKCcubWF0ZXJpYWwtaWNvbnMnKTtcbiAgICAgICAgaWYgKGljb24pIHtcbiAgICAgICAgICBpY29uLnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zLmV4cGFuZEljb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gU29ydGFibGUgaGVhZGVyc1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc29ydGFibGUpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUoJ2NsaWNrJywgJ3RoW2RhdGEtc29ydF0nLCB0aGlzLl9oYW5kbGVIZWFkZXJDbGljayk7XG4gICAgfVxuXG4gICAgLy8gUm93IHNlbGVjdGlvblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2VsZWN0YWJsZSkge1xuICAgICAgLy8gQ2hlY2tib3ggY2xpY2tzXG4gICAgICB0aGlzLmRlbGVnYXRlKCdjaGFuZ2UnLCAnLnNvLXRhYmxlLWNoZWNrIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScsIHRoaXMuX2hhbmRsZUNoZWNrYm94Q2hhbmdlKTtcblxuICAgICAgLy8gSGVhZGVyIGNoZWNrYm94IChzZWxlY3QgYWxsKVxuICAgICAgaWYgKHRoaXMuX2hlYWRlckNoZWNrYm94KSB7XG4gICAgICAgIHRoaXMub24oJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVNlbGVjdEFsbENoYW5nZSwgdGhpcy5faGVhZGVyQ2hlY2tib3gpO1xuICAgICAgfVxuXG4gICAgICAvLyBSb3cgY2xpY2sgc2VsZWN0aW9uXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNlbGVjdE9uQ2xpY2spIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSgnY2xpY2snLCAndGJvZHkgdHI6bm90KC5zby10YWJsZS1leHBhbmQtcm93KScsIHRoaXMuX2hhbmRsZVJvd0NsaWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSb3cgZXhwYW5zaW9uXG4gICAgaWYgKHRoaXMub3B0aW9ucy5leHBhbmRhYmxlKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlKCdjbGljaycsICcuc28tdGFibGUtZXhwYW5kLWJ0bicsIHRoaXMuX2hhbmRsZUV4cGFuZENsaWNrKTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBFVkVOVCBIQU5ETEVSU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgaGVhZGVyIGNsaWNrIGZvciBzb3J0aW5nXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBDbGljayBldmVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGhlYWRlciAtIEhlYWRlciBlbGVtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSGVhZGVyQ2xpY2soZSwgaGVhZGVyKSB7XG4gICAgY29uc3Qgc29ydEtleSA9IGhlYWRlci5kYXRhc2V0LnNvcnQ7XG4gICAgY29uc3QgY29sdW1uSW5kZXggPSB0aGlzLl9oZWFkZXJzLmluZGV4T2YoaGVhZGVyKTtcblxuICAgIGlmIChzb3J0S2V5ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIC8vIERldGVybWluZSBuZXcgc29ydCBkaXJlY3Rpb25cbiAgICBsZXQgZGlyZWN0aW9uID0gJ2FzYyc7XG4gICAgaWYgKHRoaXMuX3NvcnRDb2x1bW4gPT09IGNvbHVtbkluZGV4KSB7XG4gICAgICBkaXJlY3Rpb24gPSB0aGlzLl9zb3J0RGlyZWN0aW9uID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnO1xuICAgIH1cblxuICAgIHRoaXMuX2FwcGx5U29ydGluZyhjb2x1bW5JbmRleCwgZGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2hlY2tib3ggY2hhbmdlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBDaGFuZ2UgZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBjaGVja2JveCAtIENoZWNrYm94IGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVDaGVja2JveENoYW5nZShlLCBjaGVja2JveCkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3Qgcm93ID0gY2hlY2tib3guY2xvc2VzdCgndHInKTtcbiAgICBpZiAoIXJvdyB8fCByb3cuY2xvc2VzdCgndGhlYWQnKSkgcmV0dXJuO1xuXG4gICAgY29uc3Qgcm93SW5kZXggPSBwYXJzZUludChyb3cuZGF0YXNldC5yb3dJbmRleCwgMTApO1xuXG4gICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgIHRoaXMuc2VsZWN0Um93KHJvd0luZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZXNlbGVjdFJvdyhyb3dJbmRleCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBzZWxlY3QgYWxsIGNoZWNrYm94XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBDaGFuZ2UgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVTZWxlY3RBbGxDaGFuZ2UoZSkge1xuICAgIGlmIChlLnRhcmdldC5jaGVja2VkKSB7XG4gICAgICB0aGlzLnNlbGVjdEFsbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlc2VsZWN0QWxsKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByb3cgY2xpY2sgZm9yIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSByb3cgLSBSb3cgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVJvd0NsaWNrKGUsIHJvdykge1xuICAgIC8vIERvbid0IHNlbGVjdCBpZiBjbGlja2luZyBvbiBhIGNoZWNrYm94LCBidXR0b24sIGxpbmssIG9yIGNoZWNrYm94IGNlbGxcbiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnaW5wdXQsIGJ1dHRvbiwgYSwgLnNvLXRhYmxlLWV4cGFuZC1idG4sIC5zby10YWJsZS1jaGVjaywgLnNvLWNoZWNrYm94JykpIHJldHVybjtcblxuICAgIGNvbnN0IHJvd0luZGV4ID0gcGFyc2VJbnQocm93LmRhdGFzZXQucm93SW5kZXgsIDEwKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlTZWxlY3QpIHtcbiAgICAgIHRoaXMudG9nZ2xlUm93KHJvd0luZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2luZ2xlIHNlbGVjdCAtIGRlc2VsZWN0IG90aGVycyBmaXJzdFxuICAgICAgdGhpcy5kZXNlbGVjdEFsbCgpO1xuICAgICAgdGhpcy5zZWxlY3RSb3cocm93SW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgZXhwYW5kIGJ1dHRvbiBjbGlja1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBidG4gLSBFeHBhbmQgYnV0dG9uIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVFeHBhbmRDbGljayhlLCBidG4pIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IHJvdyA9IGJ0bi5jbG9zZXN0KCd0cicpO1xuICAgIGlmICghcm93KSByZXR1cm47XG5cbiAgICBjb25zdCByb3dJbmRleCA9IHBhcnNlSW50KHJvdy5kYXRhc2V0LnJvd0luZGV4LCAxMCk7XG4gICAgdGhpcy50b2dnbGVFeHBhbmQocm93SW5kZXgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU09SVElORyBNRVRIT0RTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEFwcGx5IHNvcnRpbmcgdG8gdGhlIHRhYmxlXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gY29sdW1uIC0gQ29sdW1uIGluZGV4IG9yIGRhdGEtc29ydCB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uIC0gU29ydCBkaXJlY3Rpb24gKCdhc2MnIG9yICdkZXNjJylcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hcHBseVNvcnRpbmcoY29sdW1uLCBkaXJlY3Rpb24pIHtcbiAgICAvLyBGaW5kIGNvbHVtbiBpbmRleCBpZiBzdHJpbmcgcHJvdmlkZWRcbiAgICBsZXQgY29sdW1uSW5kZXggPSBjb2x1bW47XG4gICAgaWYgKHR5cGVvZiBjb2x1bW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb2x1bW5JbmRleCA9IHRoaXMuX2hlYWRlcnMuZmluZEluZGV4KGggPT4gaC5kYXRhc2V0LnNvcnQgPT09IGNvbHVtbik7XG4gICAgfVxuXG4gICAgaWYgKGNvbHVtbkluZGV4IDwgMCB8fCBjb2x1bW5JbmRleCA+PSB0aGlzLl9oZWFkZXJzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgLy8gVXBkYXRlIHN0YXRlXG4gICAgY29uc3QgcHJldkNvbHVtbiA9IHRoaXMuX3NvcnRDb2x1bW47XG4gICAgdGhpcy5fc29ydENvbHVtbiA9IGNvbHVtbkluZGV4O1xuICAgIHRoaXMuX3NvcnREaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cbiAgICAvLyBVcGRhdGUgaGVhZGVyIGljb25zXG4gICAgdGhpcy5faGVhZGVycy5mb3JFYWNoKChoZWFkZXIsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzb3J0S2V5ID0gaGVhZGVyLmRhdGFzZXQuc29ydDtcbiAgICAgIGlmIChzb3J0S2V5ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgY29uc3QgaWNvbiA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKCcuc28tdGFibGUtc29ydC1pY29uIC5tYXRlcmlhbC1pY29ucycpO1xuICAgICAgaWYgKCFpY29uKSByZXR1cm47XG5cbiAgICAgIGlmIChpbmRleCA9PT0gY29sdW1uSW5kZXgpIHtcbiAgICAgICAgaGVhZGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1zb3J0JywgZGlyZWN0aW9uID09PSAnYXNjJyA/ICdhc2NlbmRpbmcnIDogJ2Rlc2NlbmRpbmcnKTtcbiAgICAgICAgaWNvbi50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9ucy5zb3J0SWNvbnNbZGlyZWN0aW9uXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlYWRlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtc29ydCcsICdub25lJyk7XG4gICAgICAgIGljb24udGV4dENvbnRlbnQgPSB0aGlzLm9wdGlvbnMuc29ydEljb25zLm5vbmU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTb3J0IHRoZSBkYXRhXG4gICAgY29uc3Qgc29ydGVkRGF0YSA9IFsuLi50aGlzLl9vcmlnaW5hbERhdGFdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGFWYWwgPSBhLmNlbGxzW2NvbHVtbkluZGV4XSB8fCAnJztcbiAgICAgIGNvbnN0IGJWYWwgPSBiLmNlbGxzW2NvbHVtbkluZGV4XSB8fCAnJztcblxuICAgICAgLy8gVHJ5IG51bWVyaWMgY29tcGFyaXNvblxuICAgICAgY29uc3QgYU51bSA9IHBhcnNlRmxvYXQoYVZhbC5yZXBsYWNlKC9bXjAtOS4tXS9nLCAnJykpO1xuICAgICAgY29uc3QgYk51bSA9IHBhcnNlRmxvYXQoYlZhbC5yZXBsYWNlKC9bXjAtOS4tXS9nLCAnJykpO1xuXG4gICAgICBpZiAoIWlzTmFOKGFOdW0pICYmICFpc05hTihiTnVtKSkge1xuICAgICAgICByZXR1cm4gZGlyZWN0aW9uID09PSAnYXNjJyA/IGFOdW0gLSBiTnVtIDogYk51bSAtIGFOdW07XG4gICAgICB9XG5cbiAgICAgIC8vIFN0cmluZyBjb21wYXJpc29uXG4gICAgICBjb25zdCBjb21wYXJpc29uID0gYVZhbC5sb2NhbGVDb21wYXJlKGJWYWwsIHVuZGVmaW5lZCwgeyBudW1lcmljOiB0cnVlLCBzZW5zaXRpdml0eTogJ2Jhc2UnIH0pO1xuICAgICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ2FzYycgPyBjb21wYXJpc29uIDogLWNvbXBhcmlzb247XG4gICAgfSk7XG5cbiAgICAvLyBSZW9yZGVyIERPTVxuICAgIHNvcnRlZERhdGEuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuX3Rib2R5LmFwcGVuZENoaWxkKGl0ZW0uZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICAvLyBFbWl0IGV2ZW50XG4gICAgdGhpcy5lbWl0KFNPVGFibGUuRVZFTlRTLlNPUlQsIHtcbiAgICAgIGNvbHVtbjogY29sdW1uSW5kZXgsXG4gICAgICBjb2x1bW5LZXk6IHRoaXMuX2hlYWRlcnNbY29sdW1uSW5kZXhdPy5kYXRhc2V0LnNvcnQsXG4gICAgICBkaXJlY3Rpb24sXG4gICAgfSk7XG5cbiAgICAvLyBDYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU29ydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uU29ydCh7XG4gICAgICAgIGNvbHVtbjogY29sdW1uSW5kZXgsXG4gICAgICAgIGNvbHVtbktleTogdGhpcy5faGVhZGVyc1tjb2x1bW5JbmRleF0/LmRhdGFzZXQuc29ydCxcbiAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNvcnQgYnkgY29sdW1uXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gY29sdW1uIC0gQ29sdW1uIGluZGV4IG9yIGRhdGEtc29ydCB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RpcmVjdGlvbj0nYXNjJ10gLSBTb3J0IGRpcmVjdGlvblxuICAgKi9cbiAgc29ydChjb2x1bW4sIGRpcmVjdGlvbiA9ICdhc2MnKSB7XG4gICAgdGhpcy5fYXBwbHlTb3J0aW5nKGNvbHVtbiwgZGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBzb3J0aW5nIGFuZCByZXN0b3JlIG9yaWdpbmFsIG9yZGVyXG4gICAqL1xuICBjbGVhclNvcnQoKSB7XG4gICAgdGhpcy5fc29ydENvbHVtbiA9IG51bGw7XG4gICAgdGhpcy5fc29ydERpcmVjdGlvbiA9ICdhc2MnO1xuXG4gICAgLy8gUmVzZXQgaGVhZGVyIGljb25zXG4gICAgdGhpcy5faGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgICBjb25zdCBzb3J0S2V5ID0gaGVhZGVyLmRhdGFzZXQuc29ydDtcbiAgICAgIGlmIChzb3J0S2V5ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgaGVhZGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1zb3J0JywgJ25vbmUnKTtcbiAgICAgIGNvbnN0IGljb24gPSBoZWFkZXIucXVlcnlTZWxlY3RvcignLnNvLXRhYmxlLXNvcnQtaWNvbiAubWF0ZXJpYWwtaWNvbnMnKTtcbiAgICAgIGlmIChpY29uKSB7XG4gICAgICAgIGljb24udGV4dENvbnRlbnQgPSB0aGlzLm9wdGlvbnMuc29ydEljb25zLm5vbmU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIG9yZGVyXG4gICAgdGhpcy5fb3JpZ2luYWxEYXRhLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLl90Ym9keS5hcHBlbmRDaGlsZChpdGVtLmVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU0VMRUNUSU9OIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU2VsZWN0IGEgcm93IGJ5IGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFJvdyBpbmRleFxuICAgKi9cbiAgc2VsZWN0Um93KGluZGV4KSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5fcm93c1tpbmRleF07XG4gICAgaWYgKCFyb3cpIHJldHVybjtcblxuICAgIHRoaXMuX3NlbGVjdGVkUm93cy5hZGQoaW5kZXgpO1xuICAgIHJvdy5jbGFzc0xpc3QuYWRkKCdzby1zZWxlY3RlZCcpO1xuXG4gICAgLy8gVXBkYXRlIGNoZWNrYm94XG4gICAgY29uc3QgY2hlY2tib3ggPSByb3cucXVlcnlTZWxlY3RvcignLnNvLXRhYmxlLWNoZWNrIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgIGlmIChjaGVja2JveCkge1xuICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyQ2hlY2tib3goKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09UYWJsZS5FVkVOVFMuU0VMRUNULCB7XG4gICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICByb3csXG4gICAgICBzZWxlY3RlZDogdHJ1ZSxcbiAgICAgIHNlbGVjdGVkUm93czogdGhpcy5nZXRTZWxlY3RlZFJvd3MoKSxcbiAgICB9KTtcblxuICAgIC8vIENhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdCh7XG4gICAgICAgIHJvd0luZGV4OiBpbmRleCxcbiAgICAgICAgcm93LFxuICAgICAgICBzZWxlY3RlZDogdHJ1ZSxcbiAgICAgICAgc2VsZWN0ZWRSb3dzOiB0aGlzLmdldFNlbGVjdGVkUm93cygpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc2VsZWN0IGEgcm93IGJ5IGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFJvdyBpbmRleFxuICAgKi9cbiAgZGVzZWxlY3RSb3coaW5kZXgpIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLl9yb3dzW2luZGV4XTtcbiAgICBpZiAoIXJvdykgcmV0dXJuO1xuXG4gICAgdGhpcy5fc2VsZWN0ZWRSb3dzLmRlbGV0ZShpbmRleCk7XG4gICAgcm93LmNsYXNzTGlzdC5yZW1vdmUoJ3NvLXNlbGVjdGVkJyk7XG5cbiAgICAvLyBVcGRhdGUgY2hlY2tib3hcbiAgICBjb25zdCBjaGVja2JveCA9IHJvdy5xdWVyeVNlbGVjdG9yKCcuc28tdGFibGUtY2hlY2sgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgaWYgKGNoZWNrYm94KSB7XG4gICAgICBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyQ2hlY2tib3goKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09UYWJsZS5FVkVOVFMuU0VMRUNULCB7XG4gICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICByb3csXG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICBzZWxlY3RlZFJvd3M6IHRoaXMuZ2V0U2VsZWN0ZWRSb3dzKCksXG4gICAgfSk7XG5cbiAgICAvLyBDYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25TZWxlY3Qoe1xuICAgICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICAgIHJvdyxcbiAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBzZWxlY3RlZFJvd3M6IHRoaXMuZ2V0U2VsZWN0ZWRSb3dzKCksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHJvdyBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gUm93IGluZGV4XG4gICAqL1xuICB0b2dnbGVSb3coaW5kZXgpIHtcbiAgICBpZiAodGhpcy5fc2VsZWN0ZWRSb3dzLmhhcyhpbmRleCkpIHtcbiAgICAgIHRoaXMuZGVzZWxlY3RSb3coaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdFJvdyhpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhbGwgcm93c1xuICAgKi9cbiAgc2VsZWN0QWxsKCkge1xuICAgIHRoaXMuX3Jvd3MuZm9yRWFjaCgocm93LCBpbmRleCkgPT4ge1xuICAgICAgdGhpcy5fc2VsZWN0ZWRSb3dzLmFkZChpbmRleCk7XG4gICAgICByb3cuY2xhc3NMaXN0LmFkZCgnc28tc2VsZWN0ZWQnKTtcblxuICAgICAgY29uc3QgY2hlY2tib3ggPSByb3cucXVlcnlTZWxlY3RvcignLnNvLXRhYmxlLWNoZWNrIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgICAgaWYgKGNoZWNrYm94KSB7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyQ2hlY2tib3goKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09UYWJsZS5FVkVOVFMuU0VMRUNUX0FMTCwge1xuICAgICAgc2VsZWN0ZWRSb3dzOiB0aGlzLmdldFNlbGVjdGVkUm93cygpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc2VsZWN0IGFsbCByb3dzXG4gICAqL1xuICBkZXNlbGVjdEFsbCgpIHtcbiAgICB0aGlzLl9yb3dzLmZvckVhY2goKHJvdywgaW5kZXgpID0+IHtcbiAgICAgIHJvdy5jbGFzc0xpc3QucmVtb3ZlKCdzby1zZWxlY3RlZCcpO1xuXG4gICAgICBjb25zdCBjaGVja2JveCA9IHJvdy5xdWVyeVNlbGVjdG9yKCcuc28tdGFibGUtY2hlY2sgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgICBpZiAoY2hlY2tib3gpIHtcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fc2VsZWN0ZWRSb3dzLmNsZWFyKCk7XG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyQ2hlY2tib3goKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09UYWJsZS5FVkVOVFMuREVTRUxFQ1RfQUxMLCB7XG4gICAgICBzZWxlY3RlZFJvd3M6IFtdLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzZWxlY3RlZCByb3dzXG4gICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2Ygc2VsZWN0ZWQgcm93IGRhdGFcbiAgICovXG4gIGdldFNlbGVjdGVkUm93cygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9zZWxlY3RlZFJvd3MpLm1hcChpbmRleCA9PiAoe1xuICAgICAgaW5kZXgsXG4gICAgICBlbGVtZW50OiB0aGlzLl9yb3dzW2luZGV4XSxcbiAgICAgIGRhdGE6IHRoaXMuX2dldFJvd0RhdGEodGhpcy5fcm93c1tpbmRleF0pLFxuICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcm93IGRhdGEgZnJvbSBjZWxsc1xuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHJvdyAtIFJvdyBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJvdyBkYXRhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Um93RGF0YShyb3cpIHtcbiAgICBjb25zdCBkYXRhID0ge307XG4gICAgY29uc3QgY2VsbHMgPSByb3cucXVlcnlTZWxlY3RvckFsbCgndGQnKTtcblxuICAgIHRoaXMuX2hlYWRlcnMuZm9yRWFjaCgoaGVhZGVyLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gaGVhZGVyLmRhdGFzZXQuc29ydCB8fCBoZWFkZXIuZGF0YXNldC5rZXkgfHwgYGNvbCR7aW5kZXh9YDtcbiAgICAgIGNvbnN0IGNlbGwgPSBjZWxsc1tpbmRleF07XG4gICAgICBpZiAoY2VsbCkge1xuICAgICAgICBkYXRhW2tleV0gPSBjZWxsLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBoZWFkZXIgY2hlY2tib3ggc3RhdGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVIZWFkZXJDaGVja2JveCgpIHtcbiAgICBpZiAoIXRoaXMuX2hlYWRlckNoZWNrYm94KSByZXR1cm47XG5cbiAgICBjb25zdCB0b3RhbCA9IHRoaXMuX3Jvd3MubGVuZ3RoO1xuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5fc2VsZWN0ZWRSb3dzLnNpemU7XG5cbiAgICBpZiAoc2VsZWN0ZWQgPT09IDApIHtcbiAgICAgIHRoaXMuX2hlYWRlckNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2hlYWRlckNoZWNrYm94LmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdGVkID09PSB0b3RhbCkge1xuICAgICAgdGhpcy5faGVhZGVyQ2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICB0aGlzLl9oZWFkZXJDaGVja2JveC5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hlYWRlckNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2hlYWRlckNoZWNrYm94LmluZGV0ZXJtaW5hdGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEVYUEFOU0lPTiBNRVRIT0RTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEV4cGFuZCBhIHJvd1xuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBSb3cgaW5kZXhcbiAgICovXG4gIGV4cGFuZFJvdyhpbmRleCkge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMuX3Jvd3NbaW5kZXhdO1xuICAgIGlmICghcm93KSByZXR1cm47XG5cbiAgICBjb25zdCBleHBhbmRCdG4gPSByb3cucXVlcnlTZWxlY3RvcignLnNvLXRhYmxlLWV4cGFuZC1idG4nKTtcbiAgICBjb25zdCBleHBhbmRSb3cgPSByb3cubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgaWYgKCFleHBhbmRSb3cgfHwgIWV4cGFuZFJvdy5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLXRhYmxlLWV4cGFuZC1yb3cnKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5fZXhwYW5kZWRSb3dzLmFkZChpbmRleCk7XG5cbiAgICBpZiAoZXhwYW5kQnRuKSB7XG4gICAgICBleHBhbmRCdG4uY2xhc3NMaXN0LmFkZCgnc28tZXhwYW5kZWQnKTtcbiAgICB9XG5cbiAgICBleHBhbmRSb3cucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09UYWJsZS5FVkVOVFMuRVhQQU5ELCB7XG4gICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICByb3csXG4gICAgICBleHBhbmRSb3csXG4gICAgfSk7XG5cbiAgICAvLyBDYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uRXhwYW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25FeHBhbmQoe1xuICAgICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICAgIHJvdyxcbiAgICAgICAgZXhwYW5kUm93LFxuICAgICAgICBleHBhbmRlZDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsYXBzZSBhIHJvd1xuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBSb3cgaW5kZXhcbiAgICovXG4gIGNvbGxhcHNlUm93KGluZGV4KSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5fcm93c1tpbmRleF07XG4gICAgaWYgKCFyb3cpIHJldHVybjtcblxuICAgIGNvbnN0IGV4cGFuZEJ0biA9IHJvdy5xdWVyeVNlbGVjdG9yKCcuc28tdGFibGUtZXhwYW5kLWJ0bicpO1xuICAgIGNvbnN0IGV4cGFuZFJvdyA9IHJvdy5uZXh0RWxlbWVudFNpYmxpbmc7XG5cbiAgICBpZiAoIWV4cGFuZFJvdyB8fCAhZXhwYW5kUm93LmNsYXNzTGlzdC5jb250YWlucygnc28tdGFibGUtZXhwYW5kLXJvdycpKSByZXR1cm47XG5cbiAgICB0aGlzLl9leHBhbmRlZFJvd3MuZGVsZXRlKGluZGV4KTtcblxuICAgIGlmIChleHBhbmRCdG4pIHtcbiAgICAgIGV4cGFuZEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzby1leHBhbmRlZCcpO1xuICAgIH1cblxuICAgIGV4cGFuZFJvdy5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcblxuICAgIC8vIEVtaXQgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09UYWJsZS5FVkVOVFMuQ09MTEFQU0UsIHtcbiAgICAgIHJvd0luZGV4OiBpbmRleCxcbiAgICAgIHJvdyxcbiAgICAgIGV4cGFuZFJvdyxcbiAgICB9KTtcblxuICAgIC8vIENhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25FeHBhbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbkV4cGFuZCh7XG4gICAgICAgIHJvd0luZGV4OiBpbmRleCxcbiAgICAgICAgcm93LFxuICAgICAgICBleHBhbmRSb3csXG4gICAgICAgIGV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgcm93IGV4cGFuc2lvblxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBSb3cgaW5kZXhcbiAgICovXG4gIHRvZ2dsZUV4cGFuZChpbmRleCkge1xuICAgIGlmICh0aGlzLl9leHBhbmRlZFJvd3MuaGFzKGluZGV4KSkge1xuICAgICAgdGhpcy5jb2xsYXBzZVJvdyhpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXhwYW5kUm93KGluZGV4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhwYW5kIGFsbCByb3dzXG4gICAqL1xuICBleHBhbmRBbGwoKSB7XG4gICAgdGhpcy5fcm93cy5mb3JFYWNoKChyb3csIGluZGV4KSA9PiB7XG4gICAgICB0aGlzLmV4cGFuZFJvdyhpbmRleCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29sbGFwc2UgYWxsIHJvd3NcbiAgICovXG4gIGNvbGxhcHNlQWxsKCkge1xuICAgIHRoaXMuX3Jvd3MuZm9yRWFjaCgocm93LCBpbmRleCkgPT4ge1xuICAgICAgdGhpcy5jb2xsYXBzZVJvdyhpbmRleCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBVVElMSVRZIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogUmVmcmVzaCB0YWJsZSAocmUtY2FjaGUgZWxlbWVudHMgYW5kIHN0YXRlKVxuICAgKi9cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLl9jYWNoZUVsZW1lbnRzKCk7XG4gICAgdGhpcy5faW5pdFN0YXRlKCk7XG5cbiAgICAvLyBSZS1hcHBseSBjdXJyZW50IHNvcnRcbiAgICBpZiAodGhpcy5fc29ydENvbHVtbiAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5fYXBwbHlTb3J0aW5nKHRoaXMuX3NvcnRDb2x1bW4sIHRoaXMuX3NvcnREaXJlY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGFibGUgZGF0YSBhcyBhcnJheVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IG9mIHJvdyBkYXRhIG9iamVjdHNcbiAgICovXG4gIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jvd3MubWFwKHJvdyA9PiB0aGlzLl9nZXRSb3dEYXRhKHJvdykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHNvcnQgc3RhdGVcbiAgICogQHJldHVybnMge09iamVjdH0gU29ydCBzdGF0ZVxuICAgKi9cbiAgZ2V0U29ydFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb2x1bW46IHRoaXMuX3NvcnRDb2x1bW4sXG4gICAgICBjb2x1bW5LZXk6IHRoaXMuX3NvcnRDb2x1bW4gIT09IG51bGwgPyB0aGlzLl9oZWFkZXJzW3RoaXMuX3NvcnRDb2x1bW5dPy5kYXRhc2V0LnNvcnQgOiBudWxsLFxuICAgICAgZGlyZWN0aW9uOiB0aGlzLl9zb3J0RGlyZWN0aW9uLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHNlbGVjdGlvbiBjb3VudFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBOdW1iZXIgb2Ygc2VsZWN0ZWQgcm93c1xuICAgKi9cbiAgZ2V0U2VsZWN0aW9uQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkUm93cy5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcm93IGlzIHNlbGVjdGVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFJvdyBpbmRleFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcm93IGlzIHNlbGVjdGVkXG4gICAqL1xuICBpc1NlbGVjdGVkKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkUm93cy5oYXMoaW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcm93IGlzIGV4cGFuZGVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFJvdyBpbmRleFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcm93IGlzIGV4cGFuZGVkXG4gICAqL1xuICBpc0V4cGFuZGVkKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX2V4cGFuZGVkUm93cy5oYXMoaW5kZXgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR2V0IG9yIGNyZWF0ZSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBlbGVtZW50IC0gRWxlbWVudCBvciBzZWxlY3RvclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uc1xuICAgKiBAcmV0dXJucyB7U09UYWJsZX0gSW5zdGFuY2VcbiAgICovXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbGVtZW50LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBlbCA9IHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJ1xuICAgICAgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpXG4gICAgICA6IGVsZW1lbnQ7XG5cbiAgICByZXR1cm4gU2l4T3JiaXQuZ2V0SW5zdGFuY2UoZWwsIHRoaXMuTkFNRSwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhbGwgdGFibGVzIG9uIHBhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZWxlY3Rvcl0gLSBDdXN0b20gc2VsZWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIERlZmF1bHQgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7QXJyYXk8U09UYWJsZT59IEFycmF5IG9mIGluc3RhbmNlc1xuICAgKi9cbiAgc3RhdGljIGluaXRBbGwoc2VsZWN0b3IsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHNlbCA9IHNlbGVjdG9yIHx8IFNpeE9yYml0LmRhdGFTZWwodGhpcy5OQU1FKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsKTtcblxuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnRzKS5tYXAoZWwgPT4gdGhpcy5nZXRJbnN0YW5jZShlbCwgb3B0aW9ucykpO1xuICB9XG59XG5cbi8vIFJlZ2lzdGVyIGNvbXBvbmVudFxuU09UYWJsZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuICBTaXhPcmJpdC5yZWdpc3RlckNvbXBvbmVudCh0aGlzLk5BTUUsIHRoaXMpO1xufTtcblxuLy8gQXV0by1yZWdpc3RlclxuU09UYWJsZS5yZWdpc3RlcigpO1xuXG4vLyBFeHBvcnRcbndpbmRvdy5TT1RhYmxlID0gU09UYWJsZTtcbmV4cG9ydCBkZWZhdWx0IFNPVGFibGU7XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gUEFHSU5BVElPTiBDT01QT05FTlRcbi8vIFBhZ2UgbmF2aWdhdGlvbiB3aXRoIE1hdGVyaWFsIERlc2lnbiBmZWF0dXJlc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uL2NvcmUvc28tY29uZmlnLmpzJztcbmltcG9ydCBTT0NvbXBvbmVudCBmcm9tICcuLi9jb3JlL3NvLWNvbXBvbmVudC5qcyc7XG5cbi8qKlxuICogU09QYWdpbmF0aW9uIC0gUGFnaW5hdGlvbiBuYXZpZ2F0aW9uIGNvbXBvbmVudFxuICogU3VwcG9ydHMgcGFnZSBudW1iZXJzLCBwZXItcGFnZSBzZWxlY3RvciwgYW5kIGp1bXAgdG8gcGFnZVxuICovXG5jbGFzcyBTT1BhZ2luYXRpb24gZXh0ZW5kcyBTT0NvbXBvbmVudCB7XG4gIHN0YXRpYyBOQU1FID0gJ3BhZ2luYXRpb24nO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICBjdXJyZW50UGFnZTogMSxcbiAgICB0b3RhbEl0ZW1zOiAwLFxuICAgIGl0ZW1zUGVyUGFnZTogMTAsXG4gICAgaXRlbXNQZXJQYWdlT3B0aW9uczogWzEwLCAyNSwgNTAsIDEwMF0sXG4gICAgbWF4VmlzaWJsZVBhZ2VzOiA1LCAgICAgICAgICAvLyBNYXggcGFnZSBudW1iZXJzIHRvIHNob3dcbiAgICBzaG93Rmlyc3RMYXN0OiB0cnVlLCAgICAgICAgIC8vIFNob3cgZmlyc3QvbGFzdCBidXR0b25zXG4gICAgc2hvd1ByZXZOZXh0OiB0cnVlLCAgICAgICAgICAvLyBTaG93IHByZXYvbmV4dCBidXR0b25zXG4gICAgc2hvd1BhZ2VOdW1iZXJzOiB0cnVlLCAgICAgICAvLyBTaG93IHBhZ2UgbnVtYmVyIGJ1dHRvbnNcbiAgICBzaG93UGFnZUluZm86IGZhbHNlLCAgICAgICAgIC8vIFNob3cgXCJTaG93aW5nIFgtWSBvZiBaXCJcbiAgICBzaG93UGVyUGFnZVNlbGVjdDogZmFsc2UsICAgIC8vIFNob3cgaXRlbXMgcGVyIHBhZ2Ugc2VsZWN0b3JcbiAgICBzaG93SnVtcFRvUGFnZTogZmFsc2UsICAgICAgIC8vIFNob3cgXCJHbyB0byBwYWdlXCIgaW5wdXRcbiAgICBwYWdlSW5mb1RlbXBsYXRlOiAnU2hvd2luZyB7c3RhcnR9LXtlbmR9IG9mIHt0b3RhbH0nLFxuICAgIHBlclBhZ2VMYWJlbDogJ1Jvd3MgcGVyIHBhZ2U6JyxcbiAgICBqdW1wTGFiZWw6ICdHbyB0byBwYWdlOicsXG4gICAganVtcEJ1dHRvblRleHQ6ICdHbycsXG4gICAgZmlyc3RJY29uOiAnZmlyc3RfcGFnZScsXG4gICAgcHJldkljb246ICdjaGV2cm9uX2xlZnQnLFxuICAgIG5leHRJY29uOiAnY2hldnJvbl9yaWdodCcsXG4gICAgbGFzdEljb246ICdsYXN0X3BhZ2UnLFxuICAgIGFyaWFMYWJlbDogJ1BhZ2luYXRpb24gbmF2aWdhdGlvbicsXG4gICAgb25DaGFuZ2U6IG51bGwsICAgICAgICAgICAgICAvLyBDYWxsYmFjayB3aGVuIHBhZ2UgY2hhbmdlc1xuICAgIG9uUGVyUGFnZUNoYW5nZTogbnVsbCwgICAgICAgLy8gQ2FsbGJhY2sgd2hlbiBpdGVtcyBwZXIgcGFnZSBjaGFuZ2VzXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBQQUdFX0NIQU5HRTogJ3BhZ2luYXRpb246Y2hhbmdlJyxcbiAgICBQRVJfUEFHRV9DSEFOR0U6ICdwYWdpbmF0aW9uOnBlcnBhZ2VjaGFuZ2UnLFxuICB9O1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIElOSVRJQUxJWkFUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIHBhZ2luYXRpb24gY29tcG9uZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9jYWNoZUVsZW1lbnRzKCk7XG4gICAgdGhpcy5fcGFyc2VFeGlzdGluZ1N0cnVjdHVyZSgpO1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgICB0aGlzLl9yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBET00gZWxlbWVudHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYWNoZUVsZW1lbnRzKCkge1xuICAgIHRoaXMuX25hdiA9IHRoaXMuJCgnLnNvLXBhZ2luYXRpb24tbmF2Jyk7XG4gICAgdGhpcy5fcGFnZUluZm8gPSB0aGlzLiQoJy5zby1wYWdpbmF0aW9uLWluZm8nKTtcbiAgICB0aGlzLl9wZXJQYWdlU2VsZWN0ID0gdGhpcy4kKCcuc28tcGFnaW5hdGlvbi1zZWxlY3QnKTtcbiAgICB0aGlzLl9qdW1wSW5wdXQgPSB0aGlzLiQoJy5zby1wYWdpbmF0aW9uLWp1bXAtaW5wdXQnKTtcbiAgICB0aGlzLl9qdW1wQnRuID0gdGhpcy4kKCcuc28tcGFnaW5hdGlvbi1qdW1wLWJ0bicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIGV4aXN0aW5nIHN0cnVjdHVyZSB0byBnZXQgY3VycmVudCBzdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BhcnNlRXhpc3RpbmdTdHJ1Y3R1cmUoKSB7XG4gICAgLy8gVHJ5IHRvIGdldCBjdXJyZW50IHBhZ2UgZnJvbSBhY3RpdmUgaXRlbVxuICAgIGNvbnN0IGFjdGl2ZUl0ZW0gPSB0aGlzLiQoJy5zby1wYWdlLWl0ZW0uc28tYWN0aXZlIC5zby1wYWdlLWxpbmsnKTtcbiAgICBpZiAoYWN0aXZlSXRlbSkge1xuICAgICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KGFjdGl2ZUl0ZW0udGV4dENvbnRlbnQsIDEwKTtcbiAgICAgIGlmICghaXNOYU4ocGFnZSkpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlID0gcGFnZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gZ2V0IHRvdGFsIGZyb20gZGF0YSBhdHRyaWJ1dGVcbiAgICBpZiAodGhpcy5lbGVtZW50LmRhdGFzZXQudG90YWxJdGVtcykge1xuICAgICAgdGhpcy5vcHRpb25zLnRvdGFsSXRlbXMgPSBwYXJzZUludCh0aGlzLmVsZW1lbnQuZGF0YXNldC50b3RhbEl0ZW1zLCAxMCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZWxlbWVudC5kYXRhc2V0Lml0ZW1zUGVyUGFnZSkge1xuICAgICAgdGhpcy5vcHRpb25zLml0ZW1zUGVyUGFnZSA9IHBhcnNlSW50KHRoaXMuZWxlbWVudC5kYXRhc2V0Lml0ZW1zUGVyUGFnZSwgMTApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gUGFnZSBsaW5rIGNsaWNrc1xuICAgIHRoaXMuZGVsZWdhdGUoJ2NsaWNrJywgJy5zby1wYWdlLWxpbmsnLCB0aGlzLl9oYW5kbGVQYWdlQ2xpY2spO1xuXG4gICAgLy8gUGVyIHBhZ2Ugc2VsZWN0IGNoYW5nZVxuICAgIGlmICh0aGlzLl9wZXJQYWdlU2VsZWN0KSB7XG4gICAgICB0aGlzLm9uKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVQZXJQYWdlQ2hhbmdlLCB0aGlzLl9wZXJQYWdlU2VsZWN0KTtcbiAgICB9XG5cbiAgICAvLyBKdW1wIHRvIHBhZ2VcbiAgICBpZiAodGhpcy5fanVtcElucHV0KSB7XG4gICAgICB0aGlzLm9uKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSnVtcEtleWRvd24sIHRoaXMuX2p1bXBJbnB1dCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2p1bXBCdG4pIHtcbiAgICAgIHRoaXMub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlSnVtcENsaWNrLCB0aGlzLl9qdW1wQnRuKTtcbiAgICB9XG5cbiAgICAvLyBLZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAgdGhpcy5vbigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVZFTlQgSEFORExFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogSGFuZGxlIHBhZ2UgbGluayBjbGlja1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBsaW5rIC0gUGFnZSBsaW5rIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVQYWdlQ2xpY2soZSwgbGluaykge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGl0ZW0gPSBsaW5rLmNsb3Nlc3QoJy5zby1wYWdlLWl0ZW0nKTtcbiAgICBpZiAoaXRlbSAmJiBpdGVtLmNsYXNzTGlzdC5jb250YWlucygnc28tZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgYWN0aW9uID0gbGluay5kYXRhc2V0LnBhZ2U7XG5cbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAnZmlyc3QnOlxuICAgICAgICB0aGlzLmZpcnN0UGFnZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ByZXYnOlxuICAgICAgICB0aGlzLnByZXZQYWdlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbmV4dCc6XG4gICAgICAgIHRoaXMubmV4dFBhZ2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsYXN0JzpcbiAgICAgICAgdGhpcy5sYXN0UGFnZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChhY3Rpb24sIDEwKTtcbiAgICAgICAgaWYgKCFpc05hTihwYWdlKSkge1xuICAgICAgICAgIHRoaXMuZ29Ub1BhZ2UocGFnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBlciBwYWdlIHNlbGVjdCBjaGFuZ2VcbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIENoYW5nZSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVBlclBhZ2VDaGFuZ2UoZSkge1xuICAgIGNvbnN0IHBlclBhZ2UgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSwgMTApO1xuICAgIGlmICghaXNOYU4ocGVyUGFnZSkpIHtcbiAgICAgIHRoaXMuc2V0SXRlbXNQZXJQYWdlKHBlclBhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUganVtcCBpbnB1dCBrZXlkb3duXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBLZXlkb3duIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSnVtcEtleWRvd24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fZXhlY3V0ZUp1bXAoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGp1bXAgYnV0dG9uIGNsaWNrXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBDbGljayBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUp1bXBDbGljayhlKSB7XG4gICAgdGhpcy5fZXhlY3V0ZUp1bXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGp1bXAgdG8gcGFnZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2V4ZWN1dGVKdW1wKCkge1xuICAgIGlmICghdGhpcy5fanVtcElucHV0KSByZXR1cm47XG5cbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQodGhpcy5fanVtcElucHV0LnZhbHVlLCAxMCk7XG4gICAgaWYgKCFpc05hTihwYWdlKSAmJiBwYWdlID49IDEgJiYgcGFnZSA8PSB0aGlzLmdldFRvdGFsUGFnZXMoKSkge1xuICAgICAgdGhpcy5nb1RvUGFnZShwYWdlKTtcbiAgICAgIHRoaXMuX2p1bXBJbnB1dC52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gS2V5ZG93biBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUtleWRvd24oZSkge1xuICAgIC8vIE9ubHkgaGFuZGxlIGlmIGZvY3VzIGlzIHdpdGhpbiBwYWdpbmF0aW9uIG5hdlxuICAgIGlmICghdGhpcy5fbmF2IHx8ICF0aGlzLl9uYXYuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHJldHVybjtcblxuICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNQcmV2UGFnZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzTmV4dFBhZ2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9mb2N1c0ZpcnN0UGFnZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNMYXN0UGFnZSgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9jdXMgcHJldmlvdXMgcGFnZSBidXR0b25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9mb2N1c1ByZXZQYWdlKCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fbmF2LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1wYWdlLWl0ZW06bm90KC5zby1kaXNhYmxlZCkgLnNvLXBhZ2UtbGluaycpO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBBcnJheS5mcm9tKGl0ZW1zKS5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIGlmIChjdXJyZW50ID4gMCkge1xuICAgICAgaXRlbXNbY3VycmVudCAtIDFdLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIG5leHQgcGFnZSBidXR0b25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9mb2N1c05leHRQYWdlKCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fbmF2LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1wYWdlLWl0ZW06bm90KC5zby1kaXNhYmxlZCkgLnNvLXBhZ2UtbGluaycpO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBBcnJheS5mcm9tKGl0ZW1zKS5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIGlmIChjdXJyZW50IDwgaXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgaXRlbXNbY3VycmVudCArIDFdLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIGZpcnN0IHBhZ2UgYnV0dG9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZm9jdXNGaXJzdFBhZ2UoKSB7XG4gICAgY29uc3QgZmlyc3QgPSB0aGlzLl9uYXYucXVlcnlTZWxlY3RvcignLnNvLXBhZ2UtaXRlbTpub3QoLnNvLWRpc2FibGVkKSAuc28tcGFnZS1saW5rJyk7XG4gICAgaWYgKGZpcnN0KSBmaXJzdC5mb2N1cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIGxhc3QgcGFnZSBidXR0b25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9mb2N1c0xhc3RQYWdlKCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fbmF2LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1wYWdlLWl0ZW06bm90KC5zby1kaXNhYmxlZCkgLnNvLXBhZ2UtbGluaycpO1xuICAgIGlmIChpdGVtcy5sZW5ndGgpIGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdLmZvY3VzKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBOQVZJR0FUSU9OIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR28gdG8gYSBzcGVjaWZpYyBwYWdlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwYWdlIC0gUGFnZSBudW1iZXJcbiAgICovXG4gIGdvVG9QYWdlKHBhZ2UpIHtcbiAgICBjb25zdCB0b3RhbFBhZ2VzID0gdGhpcy5nZXRUb3RhbFBhZ2VzKCk7XG4gICAgY29uc3QgbmV3UGFnZSA9IE1hdGgubWF4KDEsIE1hdGgubWluKHBhZ2UsIHRvdGFsUGFnZXMpKTtcblxuICAgIGlmIChuZXdQYWdlID09PSB0aGlzLm9wdGlvbnMuY3VycmVudFBhZ2UpIHJldHVybjtcblxuICAgIGNvbnN0IHByZXZQYWdlID0gdGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlO1xuICAgIHRoaXMub3B0aW9ucy5jdXJyZW50UGFnZSA9IG5ld1BhZ2U7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB0aGlzLl9lbWl0Q2hhbmdlKHByZXZQYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHbyB0byBuZXh0IHBhZ2VcbiAgICovXG4gIG5leHRQYWdlKCkge1xuICAgIHRoaXMuZ29Ub1BhZ2UodGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlICsgMSk7XG4gIH1cblxuICAvKipcbiAgICogR28gdG8gcHJldmlvdXMgcGFnZVxuICAgKi9cbiAgcHJldlBhZ2UoKSB7XG4gICAgdGhpcy5nb1RvUGFnZSh0aGlzLm9wdGlvbnMuY3VycmVudFBhZ2UgLSAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHbyB0byBmaXJzdCBwYWdlXG4gICAqL1xuICBmaXJzdFBhZ2UoKSB7XG4gICAgdGhpcy5nb1RvUGFnZSgxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHbyB0byBsYXN0IHBhZ2VcbiAgICovXG4gIGxhc3RQYWdlKCkge1xuICAgIHRoaXMuZ29Ub1BhZ2UodGhpcy5nZXRUb3RhbFBhZ2VzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXQgcGFnZSBjaGFuZ2UgZXZlbnRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHByZXZQYWdlIC0gUHJldmlvdXMgcGFnZSBudW1iZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9lbWl0Q2hhbmdlKHByZXZQYWdlKSB7XG4gICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgcGFnZTogdGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlLFxuICAgICAgcHJldmlvdXNQYWdlOiBwcmV2UGFnZSxcbiAgICAgIHRvdGFsUGFnZXM6IHRoaXMuZ2V0VG90YWxQYWdlcygpLFxuICAgICAgaXRlbXNQZXJQYWdlOiB0aGlzLm9wdGlvbnMuaXRlbXNQZXJQYWdlLFxuICAgICAgLi4udGhpcy5nZXRQYWdlUmFuZ2UoKSxcbiAgICB9O1xuXG4gICAgdGhpcy5lbWl0KFNPUGFnaW5hdGlvbi5FVkVOVFMuUEFHRV9DSEFOR0UsIGRldGFpbCk7XG5cbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2hhbmdlKGRldGFpbCk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSVRFTVMgUEVSIFBBR0VcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU2V0IGl0ZW1zIHBlciBwYWdlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCAtIEl0ZW1zIHBlciBwYWdlXG4gICAqL1xuICBzZXRJdGVtc1BlclBhZ2UoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT09IHRoaXMub3B0aW9ucy5pdGVtc1BlclBhZ2UpIHJldHVybjtcblxuICAgIGNvbnN0IHByZXZQZXJQYWdlID0gdGhpcy5vcHRpb25zLml0ZW1zUGVyUGFnZTtcbiAgICB0aGlzLm9wdGlvbnMuaXRlbXNQZXJQYWdlID0gY291bnQ7XG5cbiAgICAvLyBBZGp1c3QgY3VycmVudCBwYWdlIGlmIG5lY2Vzc2FyeVxuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSB0aGlzLmdldFRvdGFsUGFnZXMoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgdGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlID0gTWF0aC5tYXgoMSwgdG90YWxQYWdlcyk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHNlbGVjdCBpZiBleGlzdHNcbiAgICBpZiAodGhpcy5fcGVyUGFnZVNlbGVjdCkge1xuICAgICAgdGhpcy5fcGVyUGFnZVNlbGVjdC52YWx1ZSA9IGNvdW50O1xuICAgIH1cblxuICAgIHRoaXMuX3JlbmRlcigpO1xuXG4gICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgaXRlbXNQZXJQYWdlOiBjb3VudCxcbiAgICAgIHByZXZpb3VzSXRlbXNQZXJQYWdlOiBwcmV2UGVyUGFnZSxcbiAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLm9wdGlvbnMuY3VycmVudFBhZ2UsXG4gICAgICB0b3RhbFBhZ2VzOiB0aGlzLmdldFRvdGFsUGFnZXMoKSxcbiAgICB9O1xuXG4gICAgdGhpcy5lbWl0KFNPUGFnaW5hdGlvbi5FVkVOVFMuUEVSX1BBR0VfQ0hBTkdFLCBkZXRhaWwpO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25QZXJQYWdlQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25QZXJQYWdlQ2hhbmdlKGRldGFpbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0b3RhbCBpdGVtc1xuICAgKiBAcGFyYW0ge251bWJlcn0gdG90YWwgLSBUb3RhbCBpdGVtc1xuICAgKi9cbiAgc2V0VG90YWxJdGVtcyh0b3RhbCkge1xuICAgIHRoaXMub3B0aW9ucy50b3RhbEl0ZW1zID0gdG90YWw7XG5cbiAgICAvLyBBZGp1c3QgY3VycmVudCBwYWdlIGlmIG5lY2Vzc2FyeVxuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSB0aGlzLmdldFRvdGFsUGFnZXMoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgdGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlID0gTWF0aC5tYXgoMSwgdG90YWxQYWdlcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVuZGVyKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBHRVRURVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHBhZ2UgbnVtYmVyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IEN1cnJlbnQgcGFnZVxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jdXJyZW50UGFnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdG90YWwgbnVtYmVyIG9mIHBhZ2VzXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRvdGFsIHBhZ2VzXG4gICAqL1xuICBnZXRUb3RhbFBhZ2VzKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudG90YWxJdGVtcyA9PT0gMCkgcmV0dXJuIDE7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLm9wdGlvbnMudG90YWxJdGVtcyAvIHRoaXMub3B0aW9ucy5pdGVtc1BlclBhZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwYWdlIHJhbmdlIChzdGFydCBhbmQgZW5kIGl0ZW0gbnVtYmVycylcbiAgICogQHJldHVybnMge09iamVjdH0ge3N0YXJ0LCBlbmQsIHRvdGFsfVxuICAgKi9cbiAgZ2V0UGFnZVJhbmdlKCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gKHRoaXMub3B0aW9ucy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5vcHRpb25zLml0ZW1zUGVyUGFnZSArIDE7XG4gICAgY29uc3QgZW5kID0gTWF0aC5taW4oXG4gICAgICB0aGlzLm9wdGlvbnMuY3VycmVudFBhZ2UgKiB0aGlzLm9wdGlvbnMuaXRlbXNQZXJQYWdlLFxuICAgICAgdGhpcy5vcHRpb25zLnRvdGFsSXRlbXNcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiB0aGlzLm9wdGlvbnMudG90YWxJdGVtcyA+IDAgPyBzdGFydCA6IDAsXG4gICAgICBlbmQsXG4gICAgICB0b3RhbDogdGhpcy5vcHRpb25zLnRvdGFsSXRlbXMsXG4gICAgfTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFJFTkRFUklOR1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgcGFnaW5hdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlcigpIHtcbiAgICB0aGlzLl9yZW5kZXJOYXYoKTtcbiAgICB0aGlzLl9yZW5kZXJQYWdlSW5mbygpO1xuICAgIHRoaXMuX3VwZGF0ZVBlclBhZ2VTZWxlY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgbmF2aWdhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlck5hdigpIHtcbiAgICBpZiAoIXRoaXMuX25hdikgcmV0dXJuO1xuXG4gICAgY29uc3QgdG90YWxQYWdlcyA9IHRoaXMuZ2V0VG90YWxQYWdlcygpO1xuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlO1xuICAgIGNvbnN0IGh0bWwgPSBbXTtcblxuICAgIC8vIEZpcnN0IGJ1dHRvblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0ZpcnN0TGFzdCkge1xuICAgICAgaHRtbC5wdXNoKHRoaXMuX3JlbmRlclBhZ2VJdGVtKCdmaXJzdCcsIHRoaXMub3B0aW9ucy5maXJzdEljb24sIGN1cnJlbnRQYWdlID09PSAxKSk7XG4gICAgfVxuXG4gICAgLy8gUHJldmlvdXMgYnV0dG9uXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93UHJldk5leHQpIHtcbiAgICAgIGh0bWwucHVzaCh0aGlzLl9yZW5kZXJQYWdlSXRlbSgncHJldicsIHRoaXMub3B0aW9ucy5wcmV2SWNvbiwgY3VycmVudFBhZ2UgPT09IDEpKTtcbiAgICB9XG5cbiAgICAvLyBQYWdlIG51bWJlcnNcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dQYWdlTnVtYmVycykge1xuICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLl9nZXRWaXNpYmxlUGFnZXMoKTtcbiAgICAgIGxldCBwcmV2UGFnZSA9IDA7XG5cbiAgICAgIHBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgIC8vIEFkZCBlbGxpcHNpcyBpZiB0aGVyZSdzIGEgZ2FwXG4gICAgICAgIGlmIChwYWdlIC0gcHJldlBhZ2UgPiAxKSB7XG4gICAgICAgICAgaHRtbC5wdXNoKCc8bGkgY2xhc3M9XCJzby1wYWdlLWVsbGlwc2lzXCI+Li4uPC9saT4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwucHVzaCh0aGlzLl9yZW5kZXJQYWdlSXRlbShwYWdlLCBwYWdlLnRvU3RyaW5nKCksIGZhbHNlLCBwYWdlID09PSBjdXJyZW50UGFnZSkpO1xuICAgICAgICBwcmV2UGFnZSA9IHBhZ2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBOZXh0IGJ1dHRvblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1ByZXZOZXh0KSB7XG4gICAgICBodG1sLnB1c2godGhpcy5fcmVuZGVyUGFnZUl0ZW0oJ25leHQnLCB0aGlzLm9wdGlvbnMubmV4dEljb24sIGN1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzKSk7XG4gICAgfVxuXG4gICAgLy8gTGFzdCBidXR0b25cbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dGaXJzdExhc3QpIHtcbiAgICAgIGh0bWwucHVzaCh0aGlzLl9yZW5kZXJQYWdlSXRlbSgnbGFzdCcsIHRoaXMub3B0aW9ucy5sYXN0SWNvbiwgY3VycmVudFBhZ2UgPT09IHRvdGFsUGFnZXMpKTtcbiAgICB9XG5cbiAgICB0aGlzLl9uYXYuaW5uZXJIVE1MID0gaHRtbC5qb2luKCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBwYWdlIGl0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBwYWdlIC0gUGFnZSBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gQnV0dG9uIGNvbnRlbnRcbiAgICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlZCAtIFdoZXRoZXIgZGlzYWJsZWRcbiAgICogQHBhcmFtIHtib29sZWFufSBhY3RpdmUgLSBXaGV0aGVyIGFjdGl2ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBIVE1MIHN0cmluZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlclBhZ2VJdGVtKHBhZ2UsIGNvbnRlbnQsIGRpc2FibGVkID0gZmFsc2UsIGFjdGl2ZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgZGlzYWJsZWRDbGFzcyA9IGRpc2FibGVkID8gJyBzby1kaXNhYmxlZCcgOiAnJztcbiAgICBjb25zdCBhY3RpdmVDbGFzcyA9IGFjdGl2ZSA/ICcgc28tYWN0aXZlJyA6ICcnO1xuICAgIGNvbnN0IGlzSWNvbiA9IFsnZmlyc3QnLCAncHJldicsICduZXh0JywgJ2xhc3QnXS5pbmNsdWRlcyhwYWdlKTtcbiAgICBjb25zdCBhcmlhQ3VycmVudCA9IGFjdGl2ZSA/ICcgYXJpYS1jdXJyZW50PVwicGFnZVwiJyA6ICcnO1xuICAgIGNvbnN0IGFyaWFEaXNhYmxlZCA9IGRpc2FibGVkID8gJyBhcmlhLWRpc2FibGVkPVwidHJ1ZVwiJyA6ICcnO1xuICAgIGNvbnN0IHRhYmluZGV4ID0gZGlzYWJsZWQgPyAnIHRhYmluZGV4PVwiLTFcIicgOiAnJztcblxuICAgIGNvbnN0IGNvbnRlbnRIdG1sID0gaXNJY29uXG4gICAgICA/IGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtjb250ZW50fTwvc3Bhbj5gXG4gICAgICA6IGNvbnRlbnQ7XG5cbiAgICByZXR1cm4gYFxuICAgICAgPGxpIGNsYXNzPVwic28tcGFnZS1pdGVtJHtkaXNhYmxlZENsYXNzfSR7YWN0aXZlQ2xhc3N9XCI+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJzby1wYWdlLWxpbmtcIiBkYXRhLXBhZ2U9XCIke3BhZ2V9XCIke2FyaWFDdXJyZW50fSR7YXJpYURpc2FibGVkfSR7dGFiaW5kZXh9PlxuICAgICAgICAgICR7Y29udGVudEh0bWx9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYXJyYXkgb2YgdmlzaWJsZSBwYWdlIG51bWJlcnNcbiAgICogQHJldHVybnMge0FycmF5PG51bWJlcj59IFBhZ2UgbnVtYmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFZpc2libGVQYWdlcygpIHtcbiAgICBjb25zdCB0b3RhbFBhZ2VzID0gdGhpcy5nZXRUb3RhbFBhZ2VzKCk7XG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSB0aGlzLm9wdGlvbnMuY3VycmVudFBhZ2U7XG4gICAgY29uc3QgbWF4VmlzaWJsZSA9IHRoaXMub3B0aW9ucy5tYXhWaXNpYmxlUGFnZXM7XG5cbiAgICBpZiAodG90YWxQYWdlcyA8PSBtYXhWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogdG90YWxQYWdlcyB9LCAoXywgaSkgPT4gaSArIDEpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VzID0gW107XG4gICAgY29uc3QgaGFsZlZpc2libGUgPSBNYXRoLmZsb29yKG1heFZpc2libGUgLyAyKTtcblxuICAgIC8vIEFsd2F5cyBzaG93IGZpcnN0IHBhZ2VcbiAgICBwYWdlcy5wdXNoKDEpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHJhbmdlIGFyb3VuZCBjdXJyZW50IHBhZ2VcbiAgICBsZXQgc3RhcnQgPSBNYXRoLm1heCgyLCBjdXJyZW50UGFnZSAtIGhhbGZWaXNpYmxlKTtcbiAgICBsZXQgZW5kID0gTWF0aC5taW4odG90YWxQYWdlcyAtIDEsIGN1cnJlbnRQYWdlICsgaGFsZlZpc2libGUpO1xuXG4gICAgLy8gQWRqdXN0IGlmIG5lYXIgdGhlIHN0YXJ0XG4gICAgaWYgKGN1cnJlbnRQYWdlIDw9IGhhbGZWaXNpYmxlICsgMSkge1xuICAgICAgZW5kID0gTWF0aC5taW4odG90YWxQYWdlcyAtIDEsIG1heFZpc2libGUgLSAxKTtcbiAgICB9XG5cbiAgICAvLyBBZGp1c3QgaWYgbmVhciB0aGUgZW5kXG4gICAgaWYgKGN1cnJlbnRQYWdlID49IHRvdGFsUGFnZXMgLSBoYWxmVmlzaWJsZSkge1xuICAgICAgc3RhcnQgPSBNYXRoLm1heCgyLCB0b3RhbFBhZ2VzIC0gbWF4VmlzaWJsZSArIDIpO1xuICAgIH1cblxuICAgIC8vIEFkZCByYW5nZVxuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgICAgcGFnZXMucHVzaChpKTtcbiAgICB9XG5cbiAgICAvLyBBbHdheXMgc2hvdyBsYXN0IHBhZ2VcbiAgICBpZiAodG90YWxQYWdlcyA+IDEpIHtcbiAgICAgIHBhZ2VzLnB1c2godG90YWxQYWdlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBwYWdlIGluZm9cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW5kZXJQYWdlSW5mbygpIHtcbiAgICBpZiAoIXRoaXMuX3BhZ2VJbmZvKSByZXR1cm47XG5cbiAgICBjb25zdCB7IHN0YXJ0LCBlbmQsIHRvdGFsIH0gPSB0aGlzLmdldFBhZ2VSYW5nZSgpO1xuICAgIGNvbnN0IHRleHQgPSB0aGlzLm9wdGlvbnMucGFnZUluZm9UZW1wbGF0ZVxuICAgICAgLnJlcGxhY2UoJ3tzdGFydH0nLCBzdGFydClcbiAgICAgIC5yZXBsYWNlKCd7ZW5kfScsIGVuZClcbiAgICAgIC5yZXBsYWNlKCd7dG90YWx9JywgdG90YWwpO1xuXG4gICAgdGhpcy5fcGFnZUluZm8uaW5uZXJIVE1MID0gdGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgcGVyIHBhZ2Ugc2VsZWN0IHZhbHVlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlUGVyUGFnZVNlbGVjdCgpIHtcbiAgICBpZiAoIXRoaXMuX3BlclBhZ2VTZWxlY3QpIHJldHVybjtcbiAgICB0aGlzLl9wZXJQYWdlU2VsZWN0LnZhbHVlID0gdGhpcy5vcHRpb25zLml0ZW1zUGVyUGFnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHBhZ2luYXRpb25cbiAgICovXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5fcmVuZGVyKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTVEFUSUMgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZXQgb3IgY3JlYXRlIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IGVsZW1lbnQgLSBFbGVtZW50IG9yIHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zXG4gICAqIEByZXR1cm5zIHtTT1BhZ2luYXRpb259IEluc3RhbmNlXG4gICAqL1xuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZWwgPSB0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZydcbiAgICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KVxuICAgICAgOiBlbGVtZW50O1xuXG4gICAgcmV0dXJuIFNpeE9yYml0LmdldEluc3RhbmNlKGVsLCB0aGlzLk5BTUUsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYWxsIHBhZ2luYXRpb24gY29tcG9uZW50cyBvbiBwYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VsZWN0b3JdIC0gQ3VzdG9tIHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBEZWZhdWx0IG9wdGlvbnNcbiAgICogQHJldHVybnMge0FycmF5PFNPUGFnaW5hdGlvbj59IEFycmF5IG9mIGluc3RhbmNlc1xuICAgKi9cbiAgc3RhdGljIGluaXRBbGwoc2VsZWN0b3IsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHNlbCA9IHNlbGVjdG9yIHx8IFNpeE9yYml0LmRhdGFTZWwodGhpcy5OQU1FKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsKTtcblxuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnRzKS5tYXAoZWwgPT4gdGhpcy5nZXRJbnN0YW5jZShlbCwgb3B0aW9ucykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBwYWdpbmF0aW9uIHByb2dyYW1tYXRpY2FsbHlcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zXG4gICAqIEByZXR1cm5zIHtTT1BhZ2luYXRpb259IEluc3RhbmNlXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ25hdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnc28tcGFnaW5hdGlvbic7XG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIG9wdGlvbnMuYXJpYUxhYmVsIHx8IFNPUGFnaW5hdGlvbi5ERUZBVUxUUy5hcmlhTGFiZWwpO1xuXG4gICAgLy8gQnVpbGQgc3RydWN0dXJlIGJhc2VkIG9uIG9wdGlvbnNcbiAgICBsZXQgaHRtbCA9ICcnO1xuXG4gICAgLy8gUGFnZSBpbmZvXG4gICAgaWYgKG9wdGlvbnMuc2hvd1BhZ2VJbmZvKSB7XG4gICAgICBodG1sICs9ICc8c3BhbiBjbGFzcz1cInNvLXBhZ2luYXRpb24taW5mb1wiPjwvc3Bhbj4nO1xuICAgIH1cblxuICAgIC8vIFBlciBwYWdlIHNlbGVjdG9yXG4gICAgaWYgKG9wdGlvbnMuc2hvd1BlclBhZ2VTZWxlY3QpIHtcbiAgICAgIGNvbnN0IHBlclBhZ2VPcHRpb25zID0gKG9wdGlvbnMuaXRlbXNQZXJQYWdlT3B0aW9ucyB8fCBTT1BhZ2luYXRpb24uREVGQVVMVFMuaXRlbXNQZXJQYWdlT3B0aW9ucylcbiAgICAgICAgLm1hcChuID0+IGA8b3B0aW9uIHZhbHVlPVwiJHtufVwiPiR7bn08L29wdGlvbj5gKVxuICAgICAgICAuam9pbignJyk7XG5cbiAgICAgIGh0bWwgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic28tcGFnaW5hdGlvbi1wZXItcGFnZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic28tcGFnaW5hdGlvbi1sYWJlbFwiPiR7b3B0aW9ucy5wZXJQYWdlTGFiZWwgfHwgU09QYWdpbmF0aW9uLkRFRkFVTFRTLnBlclBhZ2VMYWJlbH08L3NwYW4+XG4gICAgICAgICAgPHNlbGVjdCBjbGFzcz1cInNvLXBhZ2luYXRpb24tc2VsZWN0XCI+JHtwZXJQYWdlT3B0aW9uc308L3NlbGVjdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIE5hdmlnYXRpb25cbiAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJzby1wYWdpbmF0aW9uLW5hdlwiPjwvdWw+JztcblxuICAgIC8vIEp1bXAgdG8gcGFnZVxuICAgIGlmIChvcHRpb25zLnNob3dKdW1wVG9QYWdlKSB7XG4gICAgICBodG1sICs9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNvLXBhZ2luYXRpb24tanVtcFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic28tcGFnaW5hdGlvbi1qdW1wLWxhYmVsXCI+JHtvcHRpb25zLmp1bXBMYWJlbCB8fCBTT1BhZ2luYXRpb24uREVGQVVMVFMuanVtcExhYmVsfTwvc3Bhbj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwic28tcGFnaW5hdGlvbi1qdW1wLWlucHV0XCIgbWluPVwiMVwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic28tcGFnaW5hdGlvbi1qdW1wLWJ0blwiPiR7b3B0aW9ucy5qdW1wQnV0dG9uVGV4dCB8fCBTT1BhZ2luYXRpb24uREVGQVVMVFMuanVtcEJ1dHRvblRleHR9PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG5cbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIC8vIENyZWF0ZSBpbnN0YW5jZVxuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFNPUGFnaW5hdGlvbihjb250YWluZXIsIG9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG59XG5cbi8vIFJlZ2lzdGVyIGNvbXBvbmVudFxuU09QYWdpbmF0aW9uLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XG4gIFNpeE9yYml0LnJlZ2lzdGVyQ29tcG9uZW50KHRoaXMuTkFNRSwgdGhpcyk7XG59O1xuXG4vLyBBdXRvLXJlZ2lzdGVyXG5TT1BhZ2luYXRpb24ucmVnaXN0ZXIoKTtcblxuLy8gRXhwb3J0XG53aW5kb3cuU09QYWdpbmF0aW9uID0gU09QYWdpbmF0aW9uO1xuZXhwb3J0IGRlZmF1bHQgU09QYWdpbmF0aW9uO1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIENPUFkgQ09NUE9ORU5UXG4vLyBDbGljay10by1jb3B5IHV0aWxpdHkgZm9yIGFueSBlbGVtZW50XG4vLyBVc2VzIGV4aXN0aW5nIGJ1dHRvbiBjbGFzc2VzIGFuZCBTT1Rvb2x0aXBcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuaW1wb3J0IFNPVG9vbHRpcCBmcm9tICcuL3NvLXRvb2x0aXAuanMnO1xuXG4vKipcbiAqIFNPQ29weSAtIFVuaXZlcnNhbCBjb3B5LXRvLWNsaXBib2FyZCB1dGlsaXR5XG4gKiBDYW4gYmUgYXBwbGllZCB0byBhbnkgZWxlbWVudCB2aWEgZGF0YSBhdHRyaWJ1dGVzXG4gKiBVc2VzIGV4aXN0aW5nIHNvLWJ0biBjbGFzc2VzIGZvciBzdHlsaW5nXG4gKiBVc2VzIFNPVG9vbHRpcCBmb3IgZmVlZGJhY2tcbiAqL1xuY2xhc3MgU09Db3B5IGV4dGVuZHMgU09Db21wb25lbnQge1xuICBzdGF0aWMgTkFNRSA9ICdjb3B5JztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgLy8gV2hhdCB0byBjb3B5IC0gY2FuIGJlOiBzZWxlY3RvciwgJ3NlbGYnLCAndmFsdWUnLCBvciBkaXJlY3QgdGV4dFxuICAgIHRhcmdldDogbnVsbCxcbiAgICAvLyBEaXJlY3QgdGV4dCB0byBjb3B5IChvdmVycmlkZXMgdGFyZ2V0KVxuICAgIHRleHQ6IG51bGwsXG4gICAgLy8gRmVlZGJhY2sgZHVyYXRpb24gaW4gbXNcbiAgICBmZWVkYmFja0R1cmF0aW9uOiAyMDAwLFxuICAgIC8vIFN1Y2Nlc3MgaWNvbiAoTWF0ZXJpYWwgSWNvbnMgbmFtZSlcbiAgICBzdWNjZXNzSWNvbjogJ2NoZWNrJyxcbiAgICAvLyBEZWZhdWx0IGljb24gKE1hdGVyaWFsIEljb25zIG5hbWUpXG4gICAgZGVmYXVsdEljb246ICdjb250ZW50X2NvcHknLFxuICAgIC8vIFNob3cgdG9vbHRpcCBmZWVkYmFja1xuICAgIHNob3dUb29sdGlwOiB0cnVlLFxuICAgIC8vIFN1Y2Nlc3MgdG9vbHRpcCB0ZXh0XG4gICAgc3VjY2Vzc1RleHQ6ICdDb3BpZWQhJyxcbiAgICAvLyBFcnJvciB0b29sdGlwIHRleHRcbiAgICBlcnJvclRleHQ6ICdGYWlsZWQgdG8gY29weScsXG4gICAgLy8gQ2FsbGJhY2sgb24gc3VjY2Vzc1xuICAgIG9uU3VjY2VzczogbnVsbCxcbiAgICAvLyBDYWxsYmFjayBvbiBlcnJvclxuICAgIG9uRXJyb3I6IG51bGwsXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBDT1BZOiAnY29weTpjb3B5JyxcbiAgICBTVUNDRVNTOiAnY29weTpzdWNjZXNzJyxcbiAgICBFUlJPUjogJ2NvcHk6ZXJyb3InLFxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBjb3B5IGNvbXBvbmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5fb3JpZ2luYWxDb250ZW50ID0gbnVsbDtcbiAgICB0aGlzLl9pY29uID0gdGhpcy4kKCcubWF0ZXJpYWwtaWNvbnMnKTtcbiAgICB0aGlzLl9pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgIC8vIEJpbmQgY2xpY2sgZXZlbnRcbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICogQmluZCBldmVudCBsaXN0ZW5lcnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY29weSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCB0byBjb3B5XG4gICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRUZXh0VG9Db3B5KCkge1xuICAgIC8vIFByaW9yaXR5IDE6IERpcmVjdCB0ZXh0IG9wdGlvblxuICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy50ZXh0O1xuICAgIH1cblxuICAgIC8vIFByaW9yaXR5IDI6IGRhdGEtc28tY29weS10ZXh0IGF0dHJpYnV0ZVxuICAgIGNvbnN0IGRhdGFUZXh0ID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zby1jb3B5LXRleHQnKTtcbiAgICBpZiAoZGF0YVRleHQpIHtcbiAgICAgIHJldHVybiBkYXRhVGV4dDtcbiAgICB9XG5cbiAgICAvLyBQcmlvcml0eSAzOiBUYXJnZXQgZWxlbWVudFxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMub3B0aW9ucy50YXJnZXQgfHwgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zby1jb3B5LXRhcmdldCcpO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldCA9PT0gJ3NlbGYnKSB7XG4gICAgICAgIC8vIENvcHkgZWxlbWVudCdzIG93biB0ZXh0IGNvbnRlbnRcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQgPT09ICdwYXJlbnQnKSB7XG4gICAgICAgIC8vIENvcHkgcGFyZW50J3MgdGV4dCAoZXhjbHVkaW5nIHRoZSBidXR0b24gaXRzZWxmKVxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgIGNvbnN0IGNsb25lID0gcGFyZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zby1jb3B5XSwgLnNvLWJ0bicpO1xuICAgICAgICAgIGlmIChidXR0b24pIGJ1dHRvbi5yZW1vdmUoKTtcbiAgICAgICAgICByZXR1cm4gY2xvbmUudGV4dENvbnRlbnQudHJpbSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQgPT09ICdwcmV2aW91cycgfHwgdGFyZ2V0ID09PSAncHJldicpIHtcbiAgICAgICAgLy8gQ29weSBwcmV2aW91cyBzaWJsaW5nJ3MgY29udGVudFxuICAgICAgICBjb25zdCBwcmV2ID0gdGhpcy5lbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgIHJldHVybiBwcmV2ID8gKHByZXYudmFsdWUgfHwgcHJldi50ZXh0Q29udGVudC50cmltKCkpIDogbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gU2VsZWN0b3IgdGFyZ2V0XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgICAgIGlmICh0YXJnZXRFbCkge1xuICAgICAgICAvLyBIYW5kbGUgaW5wdXQvdGV4dGFyZWFcbiAgICAgICAgaWYgKHRhcmdldEVsLnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgdGFyZ2V0RWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHJldHVybiB0YXJnZXRFbC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgc2VsZWN0XG4gICAgICAgIGlmICh0YXJnZXRFbC50YWdOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgICAgIHJldHVybiB0YXJnZXRFbC5vcHRpb25zW3RhcmdldEVsLnNlbGVjdGVkSW5kZXhdPy50ZXh0IHx8IHRhcmdldEVsLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBjb250ZW50ZWRpdGFibGVcbiAgICAgICAgaWYgKHRhcmdldEVsLmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldEVsLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZhdWx0OiB0ZXh0IGNvbnRlbnRcbiAgICAgICAgcmV0dXJuIHRhcmdldEVsLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjazogVHJ5IHRvIGZpbmQgYWRqYWNlbnQgY29weWFibGUgY29udGVudFxuICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLmVsZW1lbnQuY2xvc2VzdCgnLnNvLWNvcHktd3JhcHBlciwgLnNvLWlucHV0LWdyb3VwLCAuc28tY29kZS1ibG9jaycpO1xuICAgIGlmICh3cmFwcGVyKSB7XG4gICAgICBjb25zdCBpbnB1dCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignaW5wdXQsIHRleHRhcmVhJyk7XG4gICAgICBpZiAoaW5wdXQpIHJldHVybiBpbnB1dC52YWx1ZTtcblxuICAgICAgY29uc3QgY29kZSA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignY29kZSwgcHJlLCAuc28tY29weS1jb250ZW50Jyk7XG4gICAgICBpZiAoY29kZSkgcmV0dXJuIGNvZGUudGV4dENvbnRlbnQudHJpbSgpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgdGV4dCB0byBjbGlwYm9hcmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0ZXh0XSAtIE9wdGlvbmFsIHRleHQgdG8gY29weSAob3ZlcnJpZGVzIGNvbmZpZ3VyZWQgdGFyZ2V0KVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIGFzeW5jIGNvcHkodGV4dCA9IG51bGwpIHtcbiAgICBpZiAodGhpcy5faXNQcm9jZXNzaW5nKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCB0ZXh0VG9Db3B5ID0gdGV4dCB8fCB0aGlzLl9nZXRUZXh0VG9Db3B5KCk7XG5cbiAgICBpZiAoIXRleHRUb0NvcHkpIHtcbiAgICAgIGNvbnNvbGUud2FybignU09Db3B5OiBObyB0ZXh0IHRvIGNvcHknKTtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuX2lzUHJvY2Vzc2luZyA9IHRydWU7XG4gICAgdGhpcy5lbWl0KFNPQ29weS5FVkVOVFMuQ09QWSwgeyB0ZXh0OiB0ZXh0VG9Db3B5IH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHRUb0NvcHkpO1xuICAgICAgdGhpcy5fc2hvd1N1Y2Nlc3MoKTtcbiAgICAgIHRoaXMuZW1pdChTT0NvcHkuRVZFTlRTLlNVQ0NFU1MsIHsgdGV4dDogdGV4dFRvQ29weSB9KTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TdWNjZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vblN1Y2Nlc3ModGV4dFRvQ29weSwgdGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gRmFsbGJhY2sgZm9yIG9sZGVyIGJyb3dzZXJzIG9yIHJlc3RyaWN0ZWQgY29udGV4dHNcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSB0aGlzLl9mYWxsYmFja0NvcHkodGV4dFRvQ29weSk7XG5cbiAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIHRoaXMuX3Nob3dTdWNjZXNzKCk7XG4gICAgICAgIHRoaXMuZW1pdChTT0NvcHkuRVZFTlRTLlNVQ0NFU1MsIHsgdGV4dDogdGV4dFRvQ29weSB9KTtcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblN1Y2Nlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25TdWNjZXNzKHRleHRUb0NvcHksIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zaG93RXJyb3IoKTtcbiAgICAgICAgdGhpcy5lbWl0KFNPQ29weS5FVkVOVFMuRVJST1IsIHsgZXJyb3I6IGVyciB9KTtcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uRXJyb3IoZXJyLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmFsbGJhY2sgY29weSBtZXRob2QgZm9yIG9sZGVyIGJyb3dzZXJzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZhbGxiYWNrQ29weSh0ZXh0KSB7XG4gICAgY29uc3QgdGV4dGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIHRleHRhcmVhLnZhbHVlID0gdGV4dDtcbiAgICB0ZXh0YXJlYS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmZpeGVkO2xlZnQ6LTk5OTlweDt0b3A6LTk5OTlweDsnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dGFyZWEpO1xuICAgIHRleHRhcmVhLnNlbGVjdCgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7XG4gICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dGFyZWEpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHN1Y2Nlc3MgZmVlZGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zaG93U3VjY2VzcygpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tY29weS1zdWNjZXNzJyk7XG5cbiAgICAvLyBVcGRhdGUgaWNvbiBpZiBwcmVzZW50XG4gICAgaWYgKHRoaXMuX2ljb24pIHtcbiAgICAgIHRoaXMuX29yaWdpbmFsQ29udGVudCA9IHRoaXMuX2ljb24udGV4dENvbnRlbnQ7XG4gICAgICB0aGlzLl9pY29uLnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zLnN1Y2Nlc3NJY29uO1xuICAgIH1cblxuICAgIC8vIFNob3cgdG9vbHRpcCB1c2luZyBTT1Rvb2x0aXBcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUb29sdGlwKSB7XG4gICAgICBTT1Rvb2x0aXAuc2hvd1RlbXBvcmFyeSh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgY29udGVudDogdGhpcy5vcHRpb25zLnN1Y2Nlc3NUZXh0LFxuICAgICAgICBjb2xvcjogJ3N1Y2Nlc3MnLFxuICAgICAgICBhdXRvSGlkZTogdGhpcy5vcHRpb25zLmZlZWRiYWNrRHVyYXRpb24sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBhZnRlciBkdXJhdGlvblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5fcmVzZXRTdGF0ZSgpO1xuICAgIH0sIHRoaXMub3B0aW9ucy5mZWVkYmFja0R1cmF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGVycm9yIGZlZWRiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2hvd0Vycm9yKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzby1jb3B5LWVycm9yJyk7XG5cbiAgICAvLyBTaG93IHRvb2x0aXAgdXNpbmcgU09Ub29sdGlwXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VG9vbHRpcCkge1xuICAgICAgU09Ub29sdGlwLnNob3dUZW1wb3JhcnkodGhpcy5lbGVtZW50LCB7XG4gICAgICAgIGNvbnRlbnQ6IHRoaXMub3B0aW9ucy5lcnJvclRleHQsXG4gICAgICAgIGNvbG9yOiAnZGFuZ2VyJyxcbiAgICAgICAgYXV0b0hpZGU6IHRoaXMub3B0aW9ucy5mZWVkYmFja0R1cmF0aW9uLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgYWZ0ZXIgZHVyYXRpb25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuX3Jlc2V0U3RhdGUoKTtcbiAgICB9LCB0aGlzLm9wdGlvbnMuZmVlZGJhY2tEdXJhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdG8gb3JpZ2luYWwgc3RhdGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXNldFN0YXRlKCkge1xuICAgIHRoaXMuX2lzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzby1jb3B5LXN1Y2Nlc3MnLCAnc28tY29weS1lcnJvcicpO1xuXG4gICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBpY29uXG4gICAgaWYgKHRoaXMuX2ljb24gJiYgdGhpcy5fb3JpZ2luYWxDb250ZW50KSB7XG4gICAgICB0aGlzLl9pY29uLnRleHRDb250ZW50ID0gdGhpcy5fb3JpZ2luYWxDb250ZW50O1xuICAgICAgdGhpcy5fb3JpZ2luYWxDb250ZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTVEFUSUMgTUVUSE9EU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBDb3B5IHRleHQgZGlyZWN0bHkgKHdpdGhvdXQgYSBjb21wb25lbnQgaW5zdGFuY2UpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGV4dCB0byBjb3B5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25hbCBjYWxsYmFja3NcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY29weVRleHQodGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgaWYgKG9wdGlvbnMub25TdWNjZXNzKSBvcHRpb25zLm9uU3VjY2Vzcyh0ZXh0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gRmFsbGJhY2tcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgIHRleHRhcmVhLnZhbHVlID0gdGV4dDtcbiAgICAgIHRleHRhcmVhLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246Zml4ZWQ7bGVmdDotOTk5OXB4O3RvcDotOTk5OXB4Oyc7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRhcmVhKTtcbiAgICAgIHRleHRhcmVhLnNlbGVjdCgpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7XG4gICAgICAgIGlmIChzdWNjZXNzICYmIG9wdGlvbnMub25TdWNjZXNzKSBvcHRpb25zLm9uU3VjY2Vzcyh0ZXh0KTtcbiAgICAgICAgaWYgKCFzdWNjZXNzICYmIG9wdGlvbnMub25FcnJvcikgb3B0aW9ucy5vbkVycm9yKG5ldyBFcnJvcignQ29weSBmYWlsZWQnKSk7XG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRhcmVhKTtcbiAgICAgICAgaWYgKG9wdGlvbnMub25FcnJvcikgb3B0aW9ucy5vbkVycm9yKGUpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgZnJvbSBhbiBlbGVtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fSB0YXJnZXQgLSBTZWxlY3RvciBvciBlbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25hbCBjYWxsYmFja3NcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY29weUZyb20odGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBlbCA9IHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpIDogdGFyZ2V0O1xuICAgIGlmICghZWwpIHtcbiAgICAgIGlmIChvcHRpb25zLm9uRXJyb3IpIG9wdGlvbnMub25FcnJvcihuZXcgRXJyb3IoJ0VsZW1lbnQgbm90IGZvdW5kJykpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxldCB0ZXh0O1xuICAgIGlmIChlbC50YWdOYW1lID09PSAnSU5QVVQnIHx8IGVsLnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgIHRleHQgPSBlbC52YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGVsLnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICB0ZXh0ID0gZWwub3B0aW9uc1tlbC5zZWxlY3RlZEluZGV4XT8udGV4dCB8fCBlbC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dCA9IGVsLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gU09Db3B5LmNvcHlUZXh0KHRleHQsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNvcHkgYnV0dG9uIGR5bmFtaWNhbGx5XG4gICAqIFVzZXMgZXhpc3RpbmcgYnV0dG9uIGNsYXNzZXM6IHNvLWJ0biwgc28tYnRuLWljb24sIHNvLWJ0bi1naG9zdFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBzdGF0aWMgY3JlYXRlQnV0dG9uKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHRhcmdldCA9IG51bGwsXG4gICAgICB0ZXh0ID0gbnVsbCxcbiAgICAgIGljb24gPSAnY29udGVudF9jb3B5JyxcbiAgICAgIGxhYmVsID0gJycsXG4gICAgICBjbGFzc05hbWUgPSAnJyxcbiAgICAgIHNpemUgPSAnc20nLCAvLyB4cywgc20sIChkZWZhdWx0KSwgbGdcbiAgICAgIHZhcmlhbnQgPSAnZ2hvc3QnLCAvLyBnaG9zdCwgb3V0bGluZSwgcHJpbWFyeSwgZXRjLlxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcblxuICAgIC8vIEJ1aWxkIGNsYXNzIGxpc3QgdXNpbmcgZXhpc3RpbmcgYnV0dG9uIGNsYXNzZXNcbiAgICBjb25zdCBjbGFzc2VzID0gWydzby1idG4nXTtcbiAgICBpZiAoIWxhYmVsKSBjbGFzc2VzLnB1c2goJ3NvLWJ0bi1pY29uJyk7XG4gICAgaWYgKHZhcmlhbnQpIGNsYXNzZXMucHVzaChgc28tYnRuLSR7dmFyaWFudH1gKTtcbiAgICBpZiAoc2l6ZSkgY2xhc3Nlcy5wdXNoKGBzby1idG4tJHtzaXplfWApO1xuICAgIGlmIChjbGFzc05hbWUpIGNsYXNzZXMucHVzaChjbGFzc05hbWUpO1xuXG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zby1jb3B5LXRhcmdldCcsIHRhcmdldCk7XG4gICAgfVxuICAgIGlmICh0ZXh0KSB7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNvLWNvcHktdGV4dCcsIHRleHQpO1xuICAgIH1cbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNvLWNvcHknLCAnJyk7XG5cbiAgICBidXR0b24uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke2ljb259PC9zcGFuPiR7bGFiZWwgPyBgPHNwYW4+JHtsYWJlbH08L3NwYW4+YCA6ICcnfWA7XG5cbiAgICAvLyBBdXRvLWluaXRpYWxpemVcbiAgICBuZXcgU09Db3B5KGJ1dHRvbiwgb3B0aW9ucyk7XG5cbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYWxsIGNvcHkgYnV0dG9ucyBvbiB0aGUgcGFnZVxuICAgKi9cbiAgc3RhdGljIGluaXRBbGwoKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBlbGVtZW50cyB3aXRoIGRhdGEtc28tY29weSBhdHRyaWJ1dGVcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zby1jb3B5XScpLmZvckVhY2goZWwgPT4ge1xuICAgICAgaWYgKCFlbC5fc29Db3B5SW5zdGFuY2UpIHtcbiAgICAgICAgZWwuX3NvQ29weUluc3RhbmNlID0gbmV3IFNPQ29weShlbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gQXV0by1pbml0aWFsaXplIG9uIERPTSByZWFkeVxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gU09Db3B5LmluaXRBbGwoKSk7XG59IGVsc2Uge1xuICBTT0NvcHkuaW5pdEFsbCgpO1xufVxuXG4vLyBBbHNvIGluaXRpYWxpemUgb24gZHluYW1pYyBjb250ZW50IChtdXRhdGlvbiBvYnNlcnZlcilcbmNvbnN0IGNvcHlPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgbXV0YXRpb25zLmZvckVhY2gobXV0YXRpb24gPT4ge1xuICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICBpZiAobm9kZS5tYXRjaGVzKCdbZGF0YS1zby1jb3B5XScpKSB7XG4gICAgICAgICAgaWYgKCFub2RlLl9zb0NvcHlJbnN0YW5jZSkge1xuICAgICAgICAgICAgbm9kZS5fc29Db3B5SW5zdGFuY2UgPSBuZXcgU09Db3B5KG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNvLWNvcHldJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgaWYgKCFlbC5fc29Db3B5SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGVsLl9zb0NvcHlJbnN0YW5jZSA9IG5ldyBTT0NvcHkoZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbmNvcHlPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuXG4vLyBSZWdpc3RlciB3aXRoIFNpeE9yYml0XG5TaXhPcmJpdC5yZWdpc3RlckNvbXBvbmVudChTT0NvcHkpO1xuXG5leHBvcnQgZGVmYXVsdCBTT0NvcHk7XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIC0gR08gVE8gVE9QL0JPVFRPTSBDT01QT05FTlRcbi8vIFNjcm9sbCBuYXZpZ2F0aW9uIGJ1dHRvbiB3aXRoIHByb2dyZXNzIGluZGljYXRvclxuLy8gVXNlcyBleGlzdGluZyBidXR0b24gY2xhc3Nlc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uL2NvcmUvc28tY29uZmlnLmpzJztcbmltcG9ydCBTT0NvbXBvbmVudCBmcm9tICcuLi9jb3JlL3NvLWNvbXBvbmVudC5qcyc7XG5cbi8qKlxuICogU09Hb1RvVG9wIC0gU2Nyb2xsIG5hdmlnYXRpb24gYnV0dG9uXG4gKiBTdXBwb3J0cyBib3RoIGdvLXRvLXRvcCBhbmQgZ28tdG8tYm90dG9tIGRpcmVjdGlvbnNcbiAqIFNob3dzL2hpZGVzIGJhc2VkIG9uIHNjcm9sbCBwb3NpdGlvblxuICogT3B0aW9uYWwgcHJvZ3Jlc3MgaW5kaWNhdG9yIHJpbmdcbiAqL1xuY2xhc3MgU09Hb1RvVG9wIGV4dGVuZHMgU09Db21wb25lbnQge1xuICBzdGF0aWMgTkFNRSA9ICdnby10by10b3AnO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAvLyBEaXJlY3Rpb246ICd0b3AnIG9yICdib3R0b20nXG4gICAgZGlyZWN0aW9uOiAndG9wJyxcbiAgICAvLyBTaG93IGFmdGVyIHNjcm9sbGluZyB0aGlzIG1hbnkgcGl4ZWxzIChmb3IgdG9wIGRpcmVjdGlvbilcbiAgICAvLyBGb3IgYm90dG9tLCBzaG93cyB3aGVuIE5PVCBzY3JvbGxlZCBwYXN0IHRoaXMgdGhyZXNob2xkIGZyb20gYm90dG9tXG4gICAgc2hvd0FmdGVyOiAzMDAsXG4gICAgLy8gUG9zaXRpb24gb24gc2NyZWVuOiBib3R0b20tcmlnaHQsIGJvdHRvbS1sZWZ0LCBib3R0b20tY2VudGVyXG4gICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnLFxuICAgIC8vIE1hdGVyaWFsIGljb24gbmFtZSAoYXV0by1zZXQgYmFzZWQgb24gZGlyZWN0aW9uIGlmIG5vdCBwcm92aWRlZClcbiAgICBpY29uOiBudWxsLFxuICAgIC8vIEJ1dHRvbiBzaXplOiB4cywgc20sIG1kLCBsZ1xuICAgIHNpemU6ICdtZCcsXG4gICAgLy8gQnV0dG9uIHZhcmlhbnQ6IHByaW1hcnksIHNlY29uZGFyeSwgZ2hvc3QsIG91dGxpbmUsIGV0Yy5cbiAgICB2YXJpYW50OiAncHJpbWFyeScsXG4gICAgLy8gVXNlIHNtb290aCBzY3JvbGxcbiAgICBzbW9vdGg6IHRydWUsXG4gICAgLy8gU2hvdyBzY3JvbGwgcHJvZ3Jlc3MgaW5kaWNhdG9yIHJpbmdcbiAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLFxuICAgIC8vIENhbGxiYWNrIHdoZW4gc2Nyb2xsZWRcbiAgICBvblNjcm9sbDogbnVsbCxcbiAgICAvLyBMZWdhY3kgY2FsbGJhY2sgc3VwcG9ydFxuICAgIG9uU2Nyb2xsVG9Ub3A6IG51bGwsXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBTSE9XOiAnZ28tdG8tdG9wOnNob3cnLFxuICAgIEhJREU6ICdnby10by10b3A6aGlkZScsXG4gICAgU0NST0xMOiAnZ28tdG8tdG9wOnNjcm9sbCcsXG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGNvbXBvbmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5faXNWaXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5fc2Nyb2xsVGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5fcHJvZ3Jlc3NSaW5nID0gbnVsbDtcbiAgICB0aGlzLl9wcm9ncmVzc0NpcmNsZSA9IG51bGw7XG5cbiAgICAvLyBTZXQgZGVmYXVsdCBpY29uIGJhc2VkIG9uIGRpcmVjdGlvblxuICAgIGlmICghdGhpcy5vcHRpb25zLmljb24pIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pY29uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgPyAnYXJyb3dfZG93bndhcmQnIDogJ2Fycm93X3Vwd2FyZCc7XG4gICAgfVxuXG4gICAgLy8gQmluZCBzY3JvbGwgaGFuZGxlclxuICAgIHRoaXMuX2JvdW5kU2Nyb2xsSGFuZGxlciA9IHRoaXMuX2hhbmRsZVNjcm9sbC5iaW5kKHRoaXMpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9ib3VuZFNjcm9sbEhhbmRsZXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAgIC8vIEJpbmQgY2xpY2sgaGFuZGxlclxuICAgIHRoaXMub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2Nyb2xsVG8oKTtcbiAgICB9KTtcblxuICAgIC8vIEluaXRpYWwgdmlzaWJpbGl0eSBjaGVja1xuICAgIHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkoKTtcblxuICAgIC8vIENyZWF0ZSBwcm9ncmVzcyByaW5nIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dQcm9ncmVzcykge1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NvLWdvLXRvLXRvcC1wcm9ncmVzcycpO1xuICAgICAgdGhpcy5fY3JlYXRlUHJvZ3Jlc3NSaW5nKCk7XG4gICAgICB0aGlzLl91cGRhdGVQcm9ncmVzcygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgU1ZHIHByb2dyZXNzIHJpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVQcm9ncmVzc1JpbmcoKSB7XG4gICAgLy8gQnV0dG9uIHNpemVzIChtYXRjaGluZyBzby1idG4gc2l6ZXMpXG4gICAgY29uc3QgYnV0dG9uU2l6ZXMgPSB7XG4gICAgICB4czogMjgsXG4gICAgICBzbTogMzIsXG4gICAgICBtZDogNDAsXG4gICAgICBsZzogNDgsXG4gICAgfTtcblxuICAgIC8vIEdldCBidXR0b24gc2l6ZSBmcm9tIG9wdGlvbnMgb3IgZGV0ZWN0IGZyb20gY2xhc3NcbiAgICBsZXQgYnV0dG9uU2l6ZSA9IGJ1dHRvblNpemVzW3RoaXMub3B0aW9ucy5zaXplXSB8fCBidXR0b25TaXplcy5tZDtcblxuICAgIC8vIENoZWNrIGZvciBzaXplIGNsYXNzIGlmIG5vdCBzZXQgaW4gb3B0aW9uc1xuICAgIGlmICghdGhpcy5vcHRpb25zLnNpemUgfHwgdGhpcy5vcHRpb25zLnNpemUgPT09ICdtZCcpIHtcbiAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1idG4teHMnKSkgYnV0dG9uU2l6ZSA9IGJ1dHRvblNpemVzLnhzO1xuICAgICAgZWxzZSBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc28tYnRuLXNtJykpIGJ1dHRvblNpemUgPSBidXR0b25TaXplcy5zbTtcbiAgICAgIGVsc2UgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWJ0bi1sZycpKSBidXR0b25TaXplID0gYnV0dG9uU2l6ZXMubGc7XG4gICAgfVxuXG4gICAgY29uc3Qgc2l6ZSA9IGJ1dHRvblNpemUgKyA4OyAvLyBBZGQgcGFkZGluZyBmb3IgcmluZ1xuICAgIGNvbnN0IHJhZGl1cyA9IChzaXplIC8gMikgLSAzOyAvLyBBY2NvdW50IGZvciBzdHJva2Ugd2lkdGhcbiAgICBjb25zdCBjaXJjdW1mZXJlbmNlID0gMiAqIE1hdGguUEkgKiByYWRpdXM7XG5cbiAgICAvLyBDcmVhdGUgU1ZHXG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKCdjbGFzcycsICdzby1wcm9ncmVzcy1yaW5nJyk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIGAwIDAgJHtzaXplfSAke3NpemV9YCk7XG5cbiAgICAvLyBUcmFjayBjaXJjbGUgKGJhY2tncm91bmQpXG4gICAgY29uc3QgdHJhY2tDaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xuICAgIHRyYWNrQ2lyY2xlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc28tcHJvZ3Jlc3MtcmluZy10cmFjaycpO1xuICAgIHRyYWNrQ2lyY2xlLnNldEF0dHJpYnV0ZSgnY3gnLCBzaXplIC8gMik7XG4gICAgdHJhY2tDaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsIHNpemUgLyAyKTtcbiAgICB0cmFja0NpcmNsZS5zZXRBdHRyaWJ1dGUoJ3InLCByYWRpdXMpO1xuXG4gICAgLy8gUHJvZ3Jlc3MgY2lyY2xlXG4gICAgY29uc3QgcHJvZ3Jlc3NDaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xuICAgIHByb2dyZXNzQ2lyY2xlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc28tcHJvZ3Jlc3MtcmluZy1wcm9ncmVzcycpO1xuICAgIHByb2dyZXNzQ2lyY2xlLnNldEF0dHJpYnV0ZSgnY3gnLCBzaXplIC8gMik7XG4gICAgcHJvZ3Jlc3NDaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsIHNpemUgLyAyKTtcbiAgICBwcm9ncmVzc0NpcmNsZS5zZXRBdHRyaWJ1dGUoJ3InLCByYWRpdXMpO1xuICAgIHByb2dyZXNzQ2lyY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIGNpcmN1bWZlcmVuY2UpO1xuICAgIHByb2dyZXNzQ2lyY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCBjaXJjdW1mZXJlbmNlKTtcblxuICAgIHN2Zy5hcHBlbmRDaGlsZCh0cmFja0NpcmNsZSk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKHByb2dyZXNzQ2lyY2xlKTtcbiAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHN2ZywgdGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQpO1xuXG4gICAgdGhpcy5fcHJvZ3Jlc3NSaW5nID0gc3ZnO1xuICAgIHRoaXMuX3Byb2dyZXNzQ2lyY2xlID0gcHJvZ3Jlc3NDaXJjbGU7XG4gICAgdGhpcy5fY2lyY3VtZmVyZW5jZSA9IGNpcmN1bWZlcmVuY2U7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHNjcm9sbCBldmVudCAoZGVib3VuY2VkKVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbCgpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsVGltZW91dCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fc2Nyb2xsVGltZW91dCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsVGltZW91dCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLl91cGRhdGVWaXNpYmlsaXR5KCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1Byb2dyZXNzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGJ1dHRvbiB2aXNpYmlsaXR5IGJhc2VkIG9uIHNjcm9sbCBwb3NpdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVZpc2liaWxpdHkoKSB7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBjb25zdCBkb2NIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUJvdHRvbSA9IGRvY0hlaWdodCAtIHNjcm9sbFRvcDtcblxuICAgIGxldCBzaG91bGRTaG93O1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAvLyBTaG93IGdvLXRvLWJvdHRvbSB3aGVuIG5lYXIgdG9wIChub3Qgc2Nyb2xsZWQgbXVjaClcbiAgICAgIHNob3VsZFNob3cgPSBkaXN0YW5jZUZyb21Cb3R0b20gPiB0aGlzLm9wdGlvbnMuc2hvd0FmdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTaG93IGdvLXRvLXRvcCB3aGVuIHNjcm9sbGVkIGRvd25cbiAgICAgIHNob3VsZFNob3cgPSBzY3JvbGxUb3AgPiB0aGlzLm9wdGlvbnMuc2hvd0FmdGVyO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRTaG93ICYmICF0aGlzLl9pc1Zpc2libGUpIHtcbiAgICAgIHRoaXMuX3Nob3coKTtcbiAgICB9IGVsc2UgaWYgKCFzaG91bGRTaG93ICYmIHRoaXMuX2lzVmlzaWJsZSkge1xuICAgICAgdGhpcy5faGlkZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgc2Nyb2xsIHByb2dyZXNzIGluZGljYXRvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVByb2dyZXNzKCkge1xuICAgIGlmICghdGhpcy5fcHJvZ3Jlc3NDaXJjbGUgfHwgIXRoaXMuX2NpcmN1bWZlcmVuY2UpIHJldHVybjtcblxuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgY29uc3QgZG9jSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBjb25zdCBwcm9ncmVzcyA9IGRvY0hlaWdodCA+IDAgPyBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIChzY3JvbGxUb3AgLyBkb2NIZWlnaHQpICogMTAwKSkgOiAwO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHN0cm9rZS1kYXNob2Zmc2V0IChmdWxsIGNpcmNsZSA9IGNpcmN1bWZlcmVuY2UsIGVtcHR5ID0gMClcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl9jaXJjdW1mZXJlbmNlIC0gKHByb2dyZXNzIC8gMTAwKSAqIHRoaXMuX2NpcmN1bWZlcmVuY2U7XG4gICAgdGhpcy5fcHJvZ3Jlc3NDaXJjbGUuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaG9mZnNldCcsIG9mZnNldCk7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyB0aGUgYnV0dG9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2hvdygpIHtcbiAgICB0aGlzLl9pc1Zpc2libGUgPSB0cnVlO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzby1zaG93Jyk7XG4gICAgdGhpcy5lbWl0KFNPR29Ub1RvcC5FVkVOVFMuU0hPVyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSB0aGUgYnV0dG9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGlkZSgpIHtcbiAgICB0aGlzLl9pc1Zpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc28tc2hvdycpO1xuICAgIHRoaXMuZW1pdChTT0dvVG9Ub3AuRVZFTlRTLkhJREUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byB0YXJnZXQgcG9zaXRpb25cbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICBzY3JvbGxUbygpIHtcbiAgICBjb25zdCBiZWhhdmlvciA9IHRoaXMub3B0aW9ucy5zbW9vdGggPyAnc21vb3RoJyA6ICdpbnN0YW50JztcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnYm90dG9tJ1xuICAgICAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0XG4gICAgICA6IDA7XG5cbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgdG9wOiB0YXJnZXQsXG4gICAgICBiZWhhdmlvcixcbiAgICB9KTtcblxuICAgIHRoaXMuZW1pdChTT0dvVG9Ub3AuRVZFTlRTLlNDUk9MTCk7XG5cbiAgICAvLyBDYWxsIGNhbGxiYWNrc1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2Nyb2xsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25TY3JvbGwodGhpcyk7XG4gICAgfVxuICAgIC8vIExlZ2FjeSBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TY3JvbGxUb1RvcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uU2Nyb2xsVG9Ub3AodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIHRvcCBvZiBwYWdlIChsZWdhY3kgbWV0aG9kKVxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIHNjcm9sbFRvVG9wKCkge1xuICAgIGNvbnN0IG9yaWdpbmFsRGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID0gJ3RvcCc7XG4gICAgdGhpcy5zY3JvbGxUbygpO1xuICAgIHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPSBvcmlnaW5hbERpcmVjdGlvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYm90dG9tIG9mIHBhZ2VcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICBzY3JvbGxUb0JvdHRvbSgpIHtcbiAgICBjb25zdCBvcmlnaW5hbERpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9ICdib3R0b20nO1xuICAgIHRoaXMuc2Nyb2xsVG8oKTtcbiAgICB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID0gb3JpZ2luYWxEaXJlY3Rpb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogTWFudWFsbHkgc2hvdyB0aGUgYnV0dG9uXG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKi9cbiAgc2hvdygpIHtcbiAgICB0aGlzLl9zaG93KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogTWFudWFsbHkgaGlkZSB0aGUgYnV0dG9uXG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLl9oaWRlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYnV0dG9uIGlzIHZpc2libGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc1Zpc2libGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVmlzaWJsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBzY3JvbGwgcHJvZ3Jlc3MgKDAtMTAwKVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0UHJvZ3Jlc3MoKSB7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBjb25zdCBkb2NIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIHJldHVybiBkb2NIZWlnaHQgPiAwID8gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCAoc2Nyb2xsVG9wIC8gZG9jSGVpZ2h0KSAqIDEwMCkpIDogMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBjb21wb25lbnRcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2JvdW5kU2Nyb2xsSGFuZGxlcik7XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsVGltZW91dCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fc2Nyb2xsVGltZW91dCk7XG4gICAgfVxuXG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIE1FVEhPRFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBpbmplY3QgYSBzY3JvbGwgbmF2aWdhdGlvbiBidXR0b25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHJldHVybnMge1NPR29Ub1RvcH1cbiAgICovXG4gIHN0YXRpYyBjcmVhdGUob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgZGlyZWN0aW9uID0gJ3RvcCcsXG4gICAgICBwb3NpdGlvbiA9ICdib3R0b20tcmlnaHQnLFxuICAgICAgaWNvbiA9IG51bGwsXG4gICAgICBzaXplID0gJ21kJyxcbiAgICAgIHZhcmlhbnQgPSAncHJpbWFyeScsXG4gICAgICBzaG93UHJvZ3Jlc3MgPSBmYWxzZSxcbiAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmJvZHksXG4gICAgICAuLi5yZXN0T3B0aW9uc1xuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgLy8gRGV0ZXJtaW5lIGljb24gYmFzZWQgb24gZGlyZWN0aW9uXG4gICAgY29uc3QgZmluYWxJY29uID0gaWNvbiB8fCAoZGlyZWN0aW9uID09PSAnYm90dG9tJyA/ICdhcnJvd19kb3dud2FyZCcgOiAnYXJyb3dfdXB3YXJkJyk7XG5cbiAgICAvLyBDcmVhdGUgYnV0dG9uIGVsZW1lbnRcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBkaXJlY3Rpb24gPT09ICdib3R0b20nID8gJ1Njcm9sbCB0byBib3R0b20nIDogJ1Njcm9sbCB0byB0b3AnKTtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXNvLWdvLXRvLXRvcCcsICcnKTtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWRpcmVjdGlvbicsIGRpcmVjdGlvbik7XG5cbiAgICAvLyBCdWlsZCBjbGFzcyBsaXN0IHVzaW5nIGV4aXN0aW5nIGJ1dHRvbiBjbGFzc2VzXG4gICAgY29uc3QgY2xhc3NlcyA9IFtcbiAgICAgICdzby1idG4nLFxuICAgICAgJ3NvLWJ0bi1pY29uJyxcbiAgICAgICdzby1idG4tY2lyY2xlJyxcbiAgICAgIGBzby1idG4tJHt2YXJpYW50fWAsXG4gICAgICAnc28tZ28tdG8tdG9wJyxcbiAgICAgIGBzby1nby10by10b3AtJHtwb3NpdGlvbn1gLFxuICAgIF07XG5cbiAgICBpZiAoZGlyZWN0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgY2xhc3Nlcy5wdXNoKCdzby1nby10by1ib3R0b20nKTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZSAmJiBzaXplICE9PSAnbWQnKSB7XG4gICAgICBjbGFzc2VzLnB1c2goYHNvLWJ0bi0ke3NpemV9YCk7XG4gICAgfVxuXG4gICAgaWYgKHNob3dQcm9ncmVzcykge1xuICAgICAgY2xhc3Nlcy5wdXNoKCdzby1nby10by10b3AtcHJvZ3Jlc3MnKTtcbiAgICB9XG5cbiAgICBidXR0b24uY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJyk7XG4gICAgYnV0dG9uLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtmaW5hbEljb259PC9zcGFuPmA7XG5cbiAgICAvLyBBcHBlbmQgdG8gY29udGFpbmVyXG4gICAgY29uc3QgY29udGFpbmVyRWwgPSB0eXBlb2YgY29udGFpbmVyID09PSAnc3RyaW5nJ1xuICAgICAgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcilcbiAgICAgIDogY29udGFpbmVyO1xuXG4gICAgaWYgKGNvbnRhaW5lckVsKSB7XG4gICAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgYW5kIHJldHVybiBpbnN0YW5jZVxuICAgIHJldHVybiBuZXcgU09Hb1RvVG9wKGJ1dHRvbiwge1xuICAgICAgZGlyZWN0aW9uLFxuICAgICAgcG9zaXRpb24sXG4gICAgICBpY29uOiBmaW5hbEljb24sXG4gICAgICBzaXplLFxuICAgICAgdmFyaWFudCxcbiAgICAgIHNob3dQcm9ncmVzcyxcbiAgICAgIC4uLnJlc3RPcHRpb25zLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBib3RoIGdvLXRvLXRvcCBhbmQgZ28tdG8tYm90dG9tIGJ1dHRvbnNcbiAgICogVGhleSBzaG93L2hpZGUgYmFzZWQgb24gc2Nyb2xsIHBvc2l0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAqIEByZXR1cm5zIHt7IHRvcDogU09Hb1RvVG9wLCBib3R0b206IFNPR29Ub1RvcCB9fVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVBhaXIob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgcG9zaXRpb24gPSAnYm90dG9tLXJpZ2h0JyxcbiAgICAgIHNpemUgPSAnbWQnLFxuICAgICAgdmFyaWFudCA9ICdwcmltYXJ5JyxcbiAgICAgIHNob3dQcm9ncmVzcyA9IGZhbHNlLFxuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuYm9keSxcbiAgICAgIHRvcEljb24gPSAnYXJyb3dfdXB3YXJkJyxcbiAgICAgIGJvdHRvbUljb24gPSAnYXJyb3dfZG93bndhcmQnLFxuICAgICAgc2hvd0FmdGVyID0gMzAwLFxuICAgICAgLi4ucmVzdE9wdGlvbnNcbiAgICB9ID0gb3B0aW9ucztcblxuICAgIC8vIERldGVybWluZSBwb3NpdGlvbnMgZm9yIGJvdGggYnV0dG9uc1xuICAgIGxldCB0b3BQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIGxldCBib3R0b21Qb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG4gICAgLy8gSWYgc2FtZSBwb3NpdGlvbiwgb2Zmc2V0IHRoZSBib3R0b20gYnV0dG9uXG4gICAgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tLXJpZ2h0Jykge1xuICAgICAgLy8gU3RhY2sgdmVydGljYWxseSAtIGJvdHRvbSBidXR0b24gc2xpZ2h0bHkgaGlnaGVyXG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2JvdHRvbS1sZWZ0Jykge1xuICAgICAgLy8gU3RhY2sgdmVydGljYWxseVxuICAgIH1cblxuICAgIGNvbnN0IHRvcCA9IFNPR29Ub1RvcC5jcmVhdGUoe1xuICAgICAgZGlyZWN0aW9uOiAndG9wJyxcbiAgICAgIHBvc2l0aW9uOiB0b3BQb3NpdGlvbixcbiAgICAgIGljb246IHRvcEljb24sXG4gICAgICBzaXplLFxuICAgICAgdmFyaWFudCxcbiAgICAgIHNob3dQcm9ncmVzcyxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHNob3dBZnRlcixcbiAgICAgIC4uLnJlc3RPcHRpb25zLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYm90dG9tID0gU09Hb1RvVG9wLmNyZWF0ZSh7XG4gICAgICBkaXJlY3Rpb246ICdib3R0b20nLFxuICAgICAgcG9zaXRpb246IGJvdHRvbVBvc2l0aW9uLFxuICAgICAgaWNvbjogYm90dG9tSWNvbixcbiAgICAgIHNpemUsXG4gICAgICB2YXJpYW50LFxuICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSwgLy8gT25seSBzaG93IHByb2dyZXNzIG9uIHRvcCBidXR0b25cbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHNob3dBZnRlcixcbiAgICAgIC4uLnJlc3RPcHRpb25zLFxuICAgIH0pO1xuXG4gICAgLy8gQWRkIG9mZnNldCBjbGFzcyB0byBib3R0b20gYnV0dG9uIHdoZW4gcGFpcmVkXG4gICAgYm90dG9tLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc28tZ28tdG8tdG9wLXBhaXJlZCcpO1xuXG4gICAgcmV0dXJuIHsgdG9wLCBib3R0b20gfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGFsbCBzY3JvbGwgbmF2aWdhdGlvbiBidXR0b25zIG9uIHRoZSBwYWdlXG4gICAqL1xuICBzdGF0aWMgaW5pdEFsbCgpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zby1nby10by10b3BdJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICBpZiAoIWVsLl9zb0dvVG9Ub3BJbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlyZWN0aW9uJykgfHwgJ3RvcCc7XG4gICAgICAgIGVsLl9zb0dvVG9Ub3BJbnN0YW5jZSA9IG5ldyBTT0dvVG9Ub3AoZWwsIHsgZGlyZWN0aW9uIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8vIEF1dG8taW5pdGlhbGl6ZSBvbiBET00gcmVhZHlcbmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IFNPR29Ub1RvcC5pbml0QWxsKCkpO1xufSBlbHNlIHtcbiAgU09Hb1RvVG9wLmluaXRBbGwoKTtcbn1cblxuLy8gUmVnaXN0ZXIgd2l0aCBTaXhPcmJpdFxuU2l4T3JiaXQucmVnaXN0ZXJDb21wb25lbnQoU09Hb1RvVG9wKTtcblxuZXhwb3J0IGRlZmF1bHQgU09Hb1RvVG9wO1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIEZPUk0gRU5IQU5DRVJTXG4vLyBJbnB1dCBtYXNraW5nLCBwYXNzd29yZCBzdHJlbmd0aCwgY2hhciBjb3VudGVyLCBjbGVhciBidXR0b25cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSU5QVVQgTUFTSyBDT01QT05FTlRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU09JbnB1dE1hc2sgLSBJbnB1dCBtYXNraW5nIGZvciBmb3JtYXR0ZWQgZGF0YSBlbnRyeVxuICogU3VwcG9ydHM6IHBob25lLCBjYXJkLCBkYXRlLCB0aW1lLCBjdXJyZW5jeSwgY3VzdG9tIHBhdHRlcm5zXG4gKi9cbmNsYXNzIFNPSW5wdXRNYXNrIGV4dGVuZHMgU09Db21wb25lbnQge1xuICBzdGF0aWMgTkFNRSA9ICdpbnB1dC1tYXNrJztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgLy8gTWFzayB0eXBlOiBwaG9uZSwgY2FyZCwgZGF0ZSwgdGltZSwgY3VycmVuY3ksIHBlcmNlbnRhZ2UsIHNzbiwgemlwLCBjdXN0b21cbiAgICBtYXNrOiAncGhvbmUnLFxuICAgIC8vIEN1c3RvbSBwYXR0ZXJuIChmb3IgbWFzaz0nY3VzdG9tJylcbiAgICAvLyAjID0gZGlnaXQsIEEgPSBsZXR0ZXIsICogPSBhbHBoYW51bWVyaWNcbiAgICBwYXR0ZXJuOiBudWxsLFxuICAgIC8vIFBsYWNlaG9sZGVyIGNoYXJhY3RlclxuICAgIHBsYWNlaG9sZGVyOiAnXycsXG4gICAgLy8gU2hvdyBtYXNrIHdoaWxlIHR5cGluZ1xuICAgIHNob3dNYXNrOiB0cnVlLFxuICAgIC8vIEFsbG93IGluY29tcGxldGUgdmFsdWVzXG4gICAgYWxsb3dJbmNvbXBsZXRlOiB0cnVlLFxuICAgIC8vIFByZWZpeCB0ZXh0XG4gICAgcHJlZml4OiAnJyxcbiAgICAvLyBTdWZmaXggdGV4dFxuICAgIHN1ZmZpeDogJycsXG4gICAgLy8gVGhvdXNhbmRzIHNlcGFyYXRvciBmb3IgY3VycmVuY3lcbiAgICB0aG91c2FuZHNTZXBhcmF0b3I6ICcsJyxcbiAgICAvLyBEZWNpbWFsIHNlcGFyYXRvciBmb3IgY3VycmVuY3lcbiAgICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXG4gICAgLy8gRGVjaW1hbCBwbGFjZXMgZm9yIGN1cnJlbmN5XG4gICAgZGVjaW1hbFBsYWNlczogMixcbiAgICAvLyBDdXJyZW5jeSBzeW1ib2xcbiAgICBjdXJyZW5jeVN5bWJvbDogJyQnLFxuICAgIC8vIFBob25lIGZvcm1hdFxuICAgIHBob25lRm9ybWF0OiAnKCMjIykgIyMjLSMjIyMnLFxuICAgIC8vIERhdGUgZm9ybWF0XG4gICAgZGF0ZUZvcm1hdDogJ01NL0REL1lZWVknLFxuICAgIC8vIFRpbWUgZm9ybWF0XG4gICAgdGltZUZvcm1hdDogJ0hIOk1NJyxcbiAgfTtcblxuICBzdGF0aWMgRVZFTlRTID0ge1xuICAgIENIQU5HRTogJ2lucHV0LW1hc2s6Y2hhbmdlJyxcbiAgICBDT01QTEVURTogJ2lucHV0LW1hc2s6Y29tcGxldGUnLFxuICAgIElOQ09NUExFVEU6ICdpbnB1dC1tYXNrOmluY29tcGxldGUnLFxuICB9O1xuXG4gIC8vIFByZWRlZmluZWQgbWFza3NcbiAgc3RhdGljIE1BU0tTID0ge1xuICAgIHBob25lOiAnKCMjIykgIyMjLSMjIyMnLFxuICAgIHBob25lSW50bDogJysjICgjIyMpICMjIy0jIyMjJyxcbiAgICBjYXJkOiAnIyMjIyAjIyMjICMjIyMgIyMjIycsXG4gICAgY2FyZEFtZXg6ICcjIyMjICMjIyMjIyAjIyMjIycsXG4gICAgZGF0ZTogJyMjLyMjLyMjIyMnLFxuICAgIGRhdGVJc286ICcjIyMjLSMjLSMjJyxcbiAgICB0aW1lOiAnIyM6IyMnLFxuICAgIHRpbWUyNDogJyMjOiMjJyxcbiAgICB0aW1lMTI6ICcjIzojIyBBQScsXG4gICAgc3NuOiAnIyMjLSMjLSMjIyMnLFxuICAgIHppcDogJyMjIyMjJyxcbiAgICB6aXBFeHQ6ICcjIyMjIy0jIyMjJyxcbiAgICBlaW46ICcjIy0jIyMjIyMjJyxcbiAgfTtcblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9yYXdWYWx1ZSA9ICcnO1xuICAgIHRoaXMuX2N1cnNvclBvc2l0aW9uID0gMDtcblxuICAgIC8vIEFkZCBtYXNrIGNsYXNzXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdpbnB1dC1tYXNrJykpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBtYXNrIHBhdHRlcm5cbiAgICB0aGlzLl9wYXR0ZXJuID0gdGhpcy5fZ2V0UGF0dGVybigpO1xuXG4gICAgLy8gU2V0IHBsYWNlaG9sZGVyIGlmIHNob3dNYXNrIGlzIHRydWVcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dNYXNrICYmIHRoaXMuX3BhdHRlcm4pIHtcbiAgICAgIHRoaXMuZWxlbWVudC5wbGFjZWhvbGRlciA9IHRoaXMuX2Zvcm1hdE1hc2tQbGFjZWhvbGRlcigpO1xuICAgIH1cblxuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIC8vIEluaXRpYWxpemUgd2l0aCBleGlzdGluZyB2YWx1ZVxuICAgIGlmICh0aGlzLmVsZW1lbnQudmFsdWUpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0KCk7XG4gICAgfVxuICB9XG5cbiAgX2dldFBhdHRlcm4oKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXR0ZXJuKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnBhdHRlcm47XG4gICAgfVxuXG4gICAgY29uc3QgbWFzayA9IHRoaXMub3B0aW9ucy5tYXNrLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoU09JbnB1dE1hc2suTUFTS1NbbWFza10pIHtcbiAgICAgIHJldHVybiBTT0lucHV0TWFzay5NQVNLU1ttYXNrXTtcbiAgICB9XG5cbiAgICAvLyBTcGVjaWFsIGNhc2VzXG4gICAgc3dpdGNoIChtYXNrKSB7XG4gICAgICBjYXNlICdwaG9uZSc6XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMucGhvbmVGb3JtYXQ7XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGVGb3JtYXRUb1BhdHRlcm4odGhpcy5vcHRpb25zLmRhdGVGb3JtYXQpO1xuICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lRm9ybWF0VG9QYXR0ZXJuKHRoaXMub3B0aW9ucy50aW1lRm9ybWF0KTtcbiAgICAgIGNhc2UgJ2N1cnJlbmN5JzpcbiAgICAgIGNhc2UgJ3BlcmNlbnRhZ2UnOlxuICAgICAgICByZXR1cm4gbnVsbDsgLy8gSGFuZGxlZCBkaWZmZXJlbnRseVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wYXR0ZXJuO1xuICAgIH1cbiAgfVxuXG4gIF9kYXRlRm9ybWF0VG9QYXR0ZXJuKGZvcm1hdCkge1xuICAgIHJldHVybiBmb3JtYXRcbiAgICAgIC5yZXBsYWNlKC9ZWVlZL2csICcjIyMjJylcbiAgICAgIC5yZXBsYWNlKC9ZWS9nLCAnIyMnKVxuICAgICAgLnJlcGxhY2UoL01NL2csICcjIycpXG4gICAgICAucmVwbGFjZSgvREQvZywgJyMjJyk7XG4gIH1cblxuICBfdGltZUZvcm1hdFRvUGF0dGVybihmb3JtYXQpIHtcbiAgICByZXR1cm4gZm9ybWF0XG4gICAgICAucmVwbGFjZSgvSEgvZywgJyMjJylcbiAgICAgIC5yZXBsYWNlKC9NTS9nLCAnIyMnKVxuICAgICAgLnJlcGxhY2UoL1NTL2csICcjIycpXG4gICAgICAucmVwbGFjZSgvQUEvZywgJ0FBJyk7XG4gIH1cblxuICBfZm9ybWF0TWFza1BsYWNlaG9sZGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXR0ZXJuLnJlcGxhY2UoLyMvZywgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL0EvZywgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcKi9nLCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpO1xuICB9XG5cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgdGhpcy5vbignaW5wdXQnLCB0aGlzLl9oYW5kbGVJbnB1dCk7XG4gICAgdGhpcy5vbigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgIHRoaXMub24oJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXMpO1xuICAgIHRoaXMub24oJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyKTtcbiAgICB0aGlzLm9uKCdwYXN0ZScsIHRoaXMuX2hhbmRsZVBhc3RlKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dChlKSB7XG4gICAgY29uc3QgbWFzayA9IHRoaXMub3B0aW9ucy5tYXNrLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAobWFzayA9PT0gJ2N1cnJlbmN5Jykge1xuICAgICAgdGhpcy5fZm9ybWF0Q3VycmVuY3koKTtcbiAgICB9IGVsc2UgaWYgKG1hc2sgPT09ICdwZXJjZW50YWdlJykge1xuICAgICAgdGhpcy5fZm9ybWF0UGVyY2VudGFnZSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fcGF0dGVybikge1xuICAgICAgdGhpcy5fYXBwbHlNYXNrKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2hlY2tDb21wbGV0ZSgpO1xuICB9XG5cbiAgX2hhbmRsZUtleWRvd24oZSkge1xuICAgIC8vIEFsbG93OiBiYWNrc3BhY2UsIGRlbGV0ZSwgdGFiLCBlc2NhcGUsIGVudGVyXG4gICAgaWYgKFs4LCA5LCAyNywgMTMsIDQ2XS5pbmNsdWRlcyhlLmtleUNvZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWxsb3c6IEN0cmwrQSwgQ3RybCtDLCBDdHJsK1YsIEN0cmwrWFxuICAgIGlmICgoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgWzY1LCA2NywgODYsIDg4XS5pbmNsdWRlcyhlLmtleUNvZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWxsb3c6IGhvbWUsIGVuZCwgbGVmdCwgcmlnaHQsIGRvd24sIHVwXG4gICAgaWYgKGUua2V5Q29kZSA+PSAzNSAmJiBlLmtleUNvZGUgPD0gNDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtYXNrID0gdGhpcy5vcHRpb25zLm1hc2sudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIEZvciBudW1lcmljIG1hc2tzLCBvbmx5IGFsbG93IG51bWJlcnNcbiAgICBpZiAoWydwaG9uZScsICdjYXJkJywgJ2RhdGUnLCAndGltZScsICdzc24nLCAnemlwJywgJ2N1cnJlbmN5JywgJ3BlcmNlbnRhZ2UnXS5pbmNsdWRlcyhtYXNrKSkge1xuICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgKGUua2V5Q29kZSA8IDQ4IHx8IGUua2V5Q29kZSA+IDU3KSAmJiAoZS5rZXlDb2RlIDwgOTYgfHwgZS5rZXlDb2RlID4gMTA1KSkge1xuICAgICAgICAvLyBBbGxvdyBkZWNpbWFsIHBvaW50IGZvciBjdXJyZW5jeVxuICAgICAgICBpZiAobWFzayA9PT0gJ2N1cnJlbmN5JyAmJiAoZS5rZXkgPT09ICcuJyB8fCBlLmtleSA9PT0gdGhpcy5vcHRpb25zLmRlY2ltYWxTZXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRm9jdXMoZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd01hc2sgJiYgIXRoaXMuZWxlbWVudC52YWx1ZSAmJiB0aGlzLl9wYXR0ZXJuKSB7XG4gICAgICAvLyBPcHRpb25hbGx5IHNob3cgbWFzayBvbiBmb2N1c1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVCbHVyKGUpIHtcbiAgICB0aGlzLl9jaGVja0NvbXBsZXRlKCk7XG5cbiAgICAvLyBFbWl0IGFwcHJvcHJpYXRlIGV2ZW50XG4gICAgY29uc3QgaXNDb21wbGV0ZSA9IHRoaXMuX2lzQ29tcGxldGUoKTtcbiAgICB0aGlzLmVtaXQoaXNDb21wbGV0ZSA/IFNPSW5wdXRNYXNrLkVWRU5UUy5DT01QTEVURSA6IFNPSW5wdXRNYXNrLkVWRU5UUy5JTkNPTVBMRVRFLCB7XG4gICAgICB2YWx1ZTogdGhpcy5lbGVtZW50LnZhbHVlLFxuICAgICAgcmF3VmFsdWU6IHRoaXMuX3Jhd1ZhbHVlLFxuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZVBhc3RlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgcGFzdGVkVGV4dCA9IChlLmNsaXBib2FyZERhdGEgfHwgd2luZG93LmNsaXBib2FyZERhdGEpLmdldERhdGEoJ3RleHQnKTtcbiAgICBjb25zdCBjbGVhblRleHQgPSB0aGlzLl9leHRyYWN0RGlnaXRzKHBhc3RlZFRleHQpO1xuICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IGNsZWFuVGV4dDtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dCgpO1xuICB9XG5cbiAgX2FwcGx5TWFzaygpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxlbWVudC52YWx1ZTtcbiAgICBjb25zdCBjdXJzb3JQb3MgPSB0aGlzLmVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgY29uc3QgcmF3VmFsdWUgPSB0aGlzLl9leHRyYWN0UmF3VmFsdWUodmFsdWUpO1xuICAgIHRoaXMuX3Jhd1ZhbHVlID0gcmF3VmFsdWU7XG5cbiAgICBsZXQgZm9ybWF0dGVkID0gJyc7XG4gICAgbGV0IHJhd0luZGV4ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcGF0dGVybi5sZW5ndGggJiYgcmF3SW5kZXggPCByYXdWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbWFza0NoYXIgPSB0aGlzLl9wYXR0ZXJuW2ldO1xuXG4gICAgICBpZiAobWFza0NoYXIgPT09ICcjJykge1xuICAgICAgICAvLyBEaWdpdFxuICAgICAgICBpZiAoL1xcZC8udGVzdChyYXdWYWx1ZVtyYXdJbmRleF0pKSB7XG4gICAgICAgICAgZm9ybWF0dGVkICs9IHJhd1ZhbHVlW3Jhd0luZGV4XTtcbiAgICAgICAgICByYXdJbmRleCsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG1hc2tDaGFyID09PSAnQScpIHtcbiAgICAgICAgLy8gTGV0dGVyXG4gICAgICAgIGlmICgvW2EtekEtWl0vLnRlc3QocmF3VmFsdWVbcmF3SW5kZXhdKSkge1xuICAgICAgICAgIGZvcm1hdHRlZCArPSByYXdWYWx1ZVtyYXdJbmRleF0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICByYXdJbmRleCsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG1hc2tDaGFyID09PSAnKicpIHtcbiAgICAgICAgLy8gQWxwaGFudW1lcmljXG4gICAgICAgIGlmICgvW2EtekEtWjAtOV0vLnRlc3QocmF3VmFsdWVbcmF3SW5kZXhdKSkge1xuICAgICAgICAgIGZvcm1hdHRlZCArPSByYXdWYWx1ZVtyYXdJbmRleF07XG4gICAgICAgICAgcmF3SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTGl0ZXJhbCBjaGFyYWN0ZXJcbiAgICAgICAgZm9ybWF0dGVkICs9IG1hc2tDaGFyO1xuICAgICAgICBpZiAocmF3VmFsdWVbcmF3SW5kZXhdID09PSBtYXNrQ2hhcikge1xuICAgICAgICAgIHJhd0luZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQudmFsdWUgPSBmb3JtYXR0ZWQ7XG5cbiAgICAvLyBSZXN0b3JlIGN1cnNvciBwb3NpdGlvblxuICAgIGNvbnN0IG5ld0N1cnNvclBvcyA9IHRoaXMuX2NhbGN1bGF0ZUN1cnNvclBvc2l0aW9uKGN1cnNvclBvcywgdmFsdWUsIGZvcm1hdHRlZCk7XG4gICAgdGhpcy5lbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKG5ld0N1cnNvclBvcywgbmV3Q3Vyc29yUG9zKTtcbiAgfVxuXG4gIF9leHRyYWN0UmF3VmFsdWUodmFsdWUpIHtcbiAgICAvLyBFeHRyYWN0IG9ubHkgdGhlIGNoYXJhY3RlcnMgdGhhdCBtYXR0ZXIgYmFzZWQgb24gbWFzayB0eXBlXG4gICAgY29uc3QgbWFzayA9IHRoaXMub3B0aW9ucy5tYXNrLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoWydwaG9uZScsICdjYXJkJywgJ2RhdGUnLCAndGltZScsICdzc24nLCAnemlwJ10uaW5jbHVkZXMobWFzaykpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpO1xuICB9XG5cbiAgX2V4dHJhY3REaWdpdHModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgfVxuXG4gIF9jYWxjdWxhdGVDdXJzb3JQb3NpdGlvbihvbGRQb3MsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgIC8vIFNpbXBsZSBjYWxjdWxhdGlvbiAtIGNhbiBiZSBpbXByb3ZlZCBmb3IgYmV0dGVyIFVYXG4gICAgY29uc3QgZGlmZiA9IG5ld1ZhbHVlLmxlbmd0aCAtIG9sZFZhbHVlLmxlbmd0aDtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4obmV3VmFsdWUubGVuZ3RoLCBvbGRQb3MgKyBkaWZmKSk7XG4gIH1cblxuICBfZm9ybWF0Q3VycmVuY3koKSB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5lbGVtZW50LnZhbHVlO1xuXG4gICAgLy8gUmVtb3ZlIGFsbCBub24tbnVtZXJpYyBleGNlcHQgZGVjaW1hbFxuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvW15cXGQuXS9nLCAnJyk7XG5cbiAgICAvLyBIYW5kbGUgbXVsdGlwbGUgZGVjaW1hbHNcbiAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnNwbGl0KCcuJyk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgIHZhbHVlID0gcGFydHNbMF0gKyAnLicgKyBwYXJ0cy5zbGljZSgxKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBhbmQgZm9ybWF0XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjb25zdCBudW1QYXJ0cyA9IHZhbHVlLnNwbGl0KCcuJyk7XG4gICAgICBsZXQgaW50UGFydCA9IG51bVBhcnRzWzBdO1xuICAgICAgbGV0IGRlY1BhcnQgPSBudW1QYXJ0c1sxXSB8fCAnJztcblxuICAgICAgLy8gQWRkIHRob3VzYW5kcyBzZXBhcmF0b3JzXG4gICAgICBpbnRQYXJ0ID0gaW50UGFydC5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCB0aGlzLm9wdGlvbnMudGhvdXNhbmRzU2VwYXJhdG9yKTtcblxuICAgICAgLy8gTGltaXQgZGVjaW1hbCBwbGFjZXNcbiAgICAgIGlmIChkZWNQYXJ0Lmxlbmd0aCA+IHRoaXMub3B0aW9ucy5kZWNpbWFsUGxhY2VzKSB7XG4gICAgICAgIGRlY1BhcnQgPSBkZWNQYXJ0LnN1YnN0cmluZygwLCB0aGlzLm9wdGlvbnMuZGVjaW1hbFBsYWNlcyk7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gaW50UGFydCArIChudW1QYXJ0cy5sZW5ndGggPiAxID8gdGhpcy5vcHRpb25zLmRlY2ltYWxTZXBhcmF0b3IgKyBkZWNQYXJ0IDogJycpO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX3Jhd1ZhbHVlID0gdmFsdWUucmVwbGFjZSgvW15cXGQuXS9nLCAnJyk7XG4gIH1cblxuICBfZm9ybWF0UGVyY2VudGFnZSgpIHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLmVsZW1lbnQudmFsdWU7XG5cbiAgICAvLyBSZW1vdmUgYWxsIG5vbi1udW1lcmljIGV4Y2VwdCBkZWNpbWFsXG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bXlxcZC5dL2csICcnKTtcblxuICAgIC8vIExpbWl0IHRvIDEwMCBvciBjb25maWd1cmVkIG1heFxuICAgIGNvbnN0IG51bSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgIGlmICghaXNOYU4obnVtKSAmJiBudW0gPiAxMDApIHtcbiAgICAgIHZhbHVlID0gJzEwMCc7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5fcmF3VmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIF9pc0NvbXBsZXRlKCkge1xuICAgIGlmICghdGhpcy5fcGF0dGVybikgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCByZXF1aXJlZExlbmd0aCA9ICh0aGlzLl9wYXR0ZXJuLm1hdGNoKC9bI0EqXS9nKSB8fCBbXSkubGVuZ3RoO1xuICAgIHJldHVybiB0aGlzLl9yYXdWYWx1ZS5sZW5ndGggPj0gcmVxdWlyZWRMZW5ndGg7XG4gIH1cblxuICBfY2hlY2tDb21wbGV0ZSgpIHtcbiAgICBjb25zdCBpc0NvbXBsZXRlID0gdGhpcy5faXNDb21wbGV0ZSgpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFNpeE9yYml0LmNscygnbWFzay1jb21wbGV0ZScpLCBpc0NvbXBsZXRlKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShTaXhPcmJpdC5jbHMoJ21hc2staW5jb21wbGV0ZScpLCAhaXNDb21wbGV0ZSAmJiB0aGlzLl9yYXdWYWx1ZS5sZW5ndGggPiAwKTtcbiAgfVxuXG4gIC8vIFB1YmxpYyBtZXRob2RzXG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQudmFsdWU7XG4gIH1cblxuICBnZXRSYXdWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmF3VmFsdWU7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX2hhbmRsZUlucHV0KCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLmVsZW1lbnQudmFsdWUgPSAnJztcbiAgICB0aGlzLl9yYXdWYWx1ZSA9ICcnO1xuICAgIHRoaXMuX2NoZWNrQ29tcGxldGUoKTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0QWxsKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNvLWlucHV0LW1hc2tdJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICBpZiAoIWVsLl9zb0lucHV0TWFza0luc3RhbmNlKSB7XG4gICAgICAgIGVsLl9zb0lucHV0TWFza0luc3RhbmNlID0gbmV3IFNPSW5wdXRNYXNrKGVsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUEFTU1dPUkQgU1RSRU5HVEggQ09NUE9ORU5UXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNPUGFzc3dvcmRTdHJlbmd0aCAtIFBhc3N3b3JkIHN0cmVuZ3RoIG1ldGVyIHdpdGggcmVxdWlyZW1lbnRzXG4gKi9cbmNsYXNzIFNPUGFzc3dvcmRTdHJlbmd0aCBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAncGFzc3dvcmQtc3RyZW5ndGgnO1xuXG4gIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAvLyBNaW5pbXVtIHBhc3N3b3JkIGxlbmd0aFxuICAgIG1pbkxlbmd0aDogOCxcbiAgICAvLyBSZXF1aXJlIHVwcGVyY2FzZVxuICAgIHJlcXVpcmVVcHBlcmNhc2U6IHRydWUsXG4gICAgLy8gUmVxdWlyZSBsb3dlcmNhc2VcbiAgICByZXF1aXJlTG93ZXJjYXNlOiB0cnVlLFxuICAgIC8vIFJlcXVpcmUgbnVtYmVyc1xuICAgIHJlcXVpcmVOdW1iZXJzOiB0cnVlLFxuICAgIC8vIFJlcXVpcmUgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgcmVxdWlyZVNwZWNpYWw6IHRydWUsXG4gICAgLy8gU3BlY2lhbCBjaGFyYWN0ZXJzIHJlZ2V4XG4gICAgc3BlY2lhbENoYXJzOiAvWyFAIyQlXiYqKClfK1xcLT1cXFtcXF17fTsnOlwiXFxcXHwsLjw+XFwvP10vLFxuICAgIC8vIFNob3cgc3RyZW5ndGggYmFyXG4gICAgc2hvd0JhcjogdHJ1ZSxcbiAgICAvLyBTaG93IHJlcXVpcmVtZW50cyBsaXN0XG4gICAgc2hvd1JlcXVpcmVtZW50czogZmFsc2UsXG4gICAgLy8gU2hvdyBpbmxpbmUgaW5kaWNhdG9yXG4gICAgc2hvd0lubGluZTogZmFsc2UsXG4gICAgLy8gU3RyZW5ndGggbGFiZWxzXG4gICAgbGFiZWxzOiB7XG4gICAgICB3ZWFrOiAnV2VhaycsXG4gICAgICBmYWlyOiAnRmFpcicsXG4gICAgICBnb29kOiAnR29vZCcsXG4gICAgICBzdHJvbmc6ICdTdHJvbmcnLFxuICAgIH0sXG4gICAgLy8gUmVxdWlyZW1lbnRzIGxhYmVsc1xuICAgIHJlcXVpcmVtZW50TGFiZWxzOiB7XG4gICAgICBsZW5ndGg6ICdBdCBsZWFzdCB7bWlufSBjaGFyYWN0ZXJzJyxcbiAgICAgIHVwcGVyY2FzZTogJ09uZSB1cHBlcmNhc2UgbGV0dGVyJyxcbiAgICAgIGxvd2VyY2FzZTogJ09uZSBsb3dlcmNhc2UgbGV0dGVyJyxcbiAgICAgIG51bWJlcjogJ09uZSBudW1iZXInLFxuICAgICAgc3BlY2lhbDogJ09uZSBzcGVjaWFsIGNoYXJhY3RlcicsXG4gICAgfSxcbiAgICAvLyBTY29yZSB0aHJlc2hvbGRzXG4gICAgdGhyZXNob2xkczoge1xuICAgICAgd2VhazogMSxcbiAgICAgIGZhaXI6IDIsXG4gICAgICBnb29kOiAzLFxuICAgICAgc3Ryb25nOiA0LFxuICAgIH0sXG4gIH07XG5cbiAgc3RhdGljIEVWRU5UUyA9IHtcbiAgICBDSEFOR0U6ICdwYXNzd29yZC1zdHJlbmd0aDpjaGFuZ2UnLFxuICAgIFZBTElEOiAncGFzc3dvcmQtc3RyZW5ndGg6dmFsaWQnLFxuICAgIElOVkFMSUQ6ICdwYXNzd29yZC1zdHJlbmd0aDppbnZhbGlkJyxcbiAgfTtcblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9zY29yZSA9IDA7XG4gICAgdGhpcy5fc3RyZW5ndGggPSAnbm9uZSc7XG4gICAgdGhpcy5fcmVxdWlyZW1lbnRzID0ge307XG5cbiAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpO1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIC8vIENoZWNrIGluaXRpYWwgdmFsdWVcbiAgICBpZiAodGhpcy5lbGVtZW50LnZhbHVlKSB7XG4gICAgICB0aGlzLl9ldmFsdWF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGluIGFuIGlucHV0LXdyYXBwZXIgKHdpdGggdG9nZ2xlIGJ1dHRvbiwgZXRjLilcbiAgICBjb25zdCBleGlzdGluZ1dyYXBwZXIgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBpc0luSW5wdXRXcmFwcGVyID0gZXhpc3RpbmdXcmFwcGVyLmNsYXNzTGlzdC5jb250YWlucyhTaXhPcmJpdC5jbHMoJ2lucHV0LXdyYXBwZXInKSk7XG5cbiAgICBpZiAoaXNJbklucHV0V3JhcHBlcikge1xuICAgICAgLy8gVXNlIHRoZSBleGlzdGluZyBpbnB1dC13cmFwcGVyIGFuZCBqdXN0IGFkZCB0aGUgcGFzc3dvcmQtd3JhcHBlciBjbGFzc1xuICAgICAgZXhpc3RpbmdXcmFwcGVyLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdwYXNzd29yZC13cmFwcGVyJykpO1xuICAgICAgdGhpcy5fd3JhcHBlciA9IGV4aXN0aW5nV3JhcHBlcjtcbiAgICB9IGVsc2UgaWYgKCFleGlzdGluZ1dyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFNpeE9yYml0LmNscygncGFzc3dvcmQtd3JhcHBlcicpKSkge1xuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHdyYXBwZXIgb25seSBpZiBub3QgYWxyZWFkeSB3cmFwcGVkXG4gICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IFNpeE9yYml0LmNscygncGFzc3dvcmQtd3JhcHBlcicpO1xuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIHRoaXMuZWxlbWVudCk7XG4gICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICB0aGlzLl93cmFwcGVyID0gd3JhcHBlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fd3JhcHBlciA9IGV4aXN0aW5nV3JhcHBlcjtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgc3RyZW5ndGggbWV0ZXIgY29udGFpbmVyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93QmFyKSB7XG4gICAgICB0aGlzLl9zdHJlbmd0aENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5fc3RyZW5ndGhDb250YWluZXIuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdwYXNzd29yZC1zdHJlbmd0aCcpO1xuICAgICAgdGhpcy5fc3RyZW5ndGhDb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3Bhc3N3b3JkLXN0cmVuZ3RoLWJhcicpfVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFzc3dvcmQtc3RyZW5ndGgtc2VnbWVudCcpfVwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFzc3dvcmQtc3RyZW5ndGgtc2VnbWVudCcpfVwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFzc3dvcmQtc3RyZW5ndGgtc2VnbWVudCcpfVwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFzc3dvcmQtc3RyZW5ndGgtc2VnbWVudCcpfVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdwYXNzd29yZC1zdHJlbmd0aC10ZXh0Jyl9XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFzc3dvcmQtc3RyZW5ndGgtbGFiZWwnKX1cIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFzc3dvcmQtc3RyZW5ndGgtc2NvcmUnKX1cIj48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIHRoaXMuX3dyYXBwZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHRoaXMuX3N0cmVuZ3RoQ29udGFpbmVyKTtcbiAgICAgIHRoaXMuX3NlZ21lbnRzID0gdGhpcy5fc3RyZW5ndGhDb250YWluZXIucXVlcnlTZWxlY3RvckFsbChgLiR7U2l4T3JiaXQuY2xzKCdwYXNzd29yZC1zdHJlbmd0aC1zZWdtZW50Jyl9YCk7XG4gICAgICB0aGlzLl9sYWJlbCA9IHRoaXMuX3N0cmVuZ3RoQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke1NpeE9yYml0LmNscygncGFzc3dvcmQtc3RyZW5ndGgtbGFiZWwnKX1gKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgaW5saW5lIGluZGljYXRvclxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0lubGluZSkge1xuICAgICAgdGhpcy5faW5saW5lSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9pbmxpbmVJbmRpY2F0b3IuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdwYXNzd29yZC1zdHJlbmd0aC1pbmxpbmUnKTtcbiAgICAgIHRoaXMuX2lubGluZUluZGljYXRvci5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3N0cmVuZ3RoLWRvdCcpfVwiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnc3RyZW5ndGgtZG90Jyl9XCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdzdHJlbmd0aC1kb3QnKX1cIj48L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3N0cmVuZ3RoLWRvdCcpfVwiPjwvc3Bhbj5cbiAgICAgIGA7XG4gICAgICB0aGlzLl93cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuX2lubGluZUluZGljYXRvcik7XG4gICAgICB0aGlzLl9kb3RzID0gdGhpcy5faW5saW5lSW5kaWNhdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke1NpeE9yYml0LmNscygnc3RyZW5ndGgtZG90Jyl9YCk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHJlcXVpcmVtZW50cyBsaXN0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93UmVxdWlyZW1lbnRzKSB7XG4gICAgICB0aGlzLl9yZXFDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuX3JlcUNvbnRhaW5lci5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ3Bhc3N3b3JkLXJlcXVpcmVtZW50cycpO1xuXG4gICAgICBjb25zdCByZXF1aXJlbWVudHMgPSBbXTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubWluTGVuZ3RoID4gMCkge1xuICAgICAgICByZXF1aXJlbWVudHMucHVzaCh7IGtleTogJ2xlbmd0aCcsIGxhYmVsOiB0aGlzLm9wdGlvbnMucmVxdWlyZW1lbnRMYWJlbHMubGVuZ3RoLnJlcGxhY2UoJ3ttaW59JywgdGhpcy5vcHRpb25zLm1pbkxlbmd0aCkgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlcXVpcmVVcHBlcmNhc2UpIHtcbiAgICAgICAgcmVxdWlyZW1lbnRzLnB1c2goeyBrZXk6ICd1cHBlcmNhc2UnLCBsYWJlbDogdGhpcy5vcHRpb25zLnJlcXVpcmVtZW50TGFiZWxzLnVwcGVyY2FzZSB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVxdWlyZUxvd2VyY2FzZSkge1xuICAgICAgICByZXF1aXJlbWVudHMucHVzaCh7IGtleTogJ2xvd2VyY2FzZScsIGxhYmVsOiB0aGlzLm9wdGlvbnMucmVxdWlyZW1lbnRMYWJlbHMubG93ZXJjYXNlIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXF1aXJlTnVtYmVycykge1xuICAgICAgICByZXF1aXJlbWVudHMucHVzaCh7IGtleTogJ251bWJlcicsIGxhYmVsOiB0aGlzLm9wdGlvbnMucmVxdWlyZW1lbnRMYWJlbHMubnVtYmVyIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXF1aXJlU3BlY2lhbCkge1xuICAgICAgICByZXF1aXJlbWVudHMucHVzaCh7IGtleTogJ3NwZWNpYWwnLCBsYWJlbDogdGhpcy5vcHRpb25zLnJlcXVpcmVtZW50TGFiZWxzLnNwZWNpYWwgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlcUNvbnRhaW5lci5pbm5lckhUTUwgPSByZXF1aXJlbWVudHMubWFwKHJlcSA9PiBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFzc3dvcmQtcmVxdWlyZW1lbnQnKX1cIiBkYXRhLXJlcXVpcmVtZW50PVwiJHtyZXEua2V5fVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5yYWRpb19idXR0b25fdW5jaGVja2VkPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPiR7cmVxLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgKS5qb2luKCcnKTtcblxuICAgICAgaWYgKHRoaXMuX3N0cmVuZ3RoQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuX3N0cmVuZ3RoQ29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCB0aGlzLl9yZXFDb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd3JhcHBlci5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgdGhpcy5fcmVxQ29udGFpbmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLm9uKCdpbnB1dCcsIHRoaXMuX2V2YWx1YXRlKTtcbiAgICB0aGlzLm9uKCdmb2N1cycsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9zdHJlbmd0aENvbnRhaW5lcikgdGhpcy5fc3RyZW5ndGhDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgaWYgKHRoaXMuX3JlcUNvbnRhaW5lcikgdGhpcy5fcmVxQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9KTtcbiAgfVxuXG4gIF9ldmFsdWF0ZSgpIHtcbiAgICBjb25zdCBwYXNzd29yZCA9IHRoaXMuZWxlbWVudC52YWx1ZTtcbiAgICB0aGlzLl9zY29yZSA9IDA7XG4gICAgdGhpcy5fcmVxdWlyZW1lbnRzID0ge307XG5cbiAgICAvLyBDaGVjayBsZW5ndGhcbiAgICB0aGlzLl9yZXF1aXJlbWVudHMubGVuZ3RoID0gcGFzc3dvcmQubGVuZ3RoID49IHRoaXMub3B0aW9ucy5taW5MZW5ndGg7XG4gICAgaWYgKHRoaXMuX3JlcXVpcmVtZW50cy5sZW5ndGgpIHRoaXMuX3Njb3JlKys7XG5cbiAgICAvLyBDaGVjayB1cHBlcmNhc2VcbiAgICB0aGlzLl9yZXF1aXJlbWVudHMudXBwZXJjYXNlID0gL1tBLVpdLy50ZXN0KHBhc3N3b3JkKTtcbiAgICBpZiAodGhpcy5fcmVxdWlyZW1lbnRzLnVwcGVyY2FzZSAmJiB0aGlzLm9wdGlvbnMucmVxdWlyZVVwcGVyY2FzZSkgdGhpcy5fc2NvcmUrKztcblxuICAgIC8vIENoZWNrIGxvd2VyY2FzZVxuICAgIHRoaXMuX3JlcXVpcmVtZW50cy5sb3dlcmNhc2UgPSAvW2Etel0vLnRlc3QocGFzc3dvcmQpO1xuICAgIGlmICh0aGlzLl9yZXF1aXJlbWVudHMubG93ZXJjYXNlICYmIHRoaXMub3B0aW9ucy5yZXF1aXJlTG93ZXJjYXNlKSB0aGlzLl9zY29yZSsrO1xuXG4gICAgLy8gQ2hlY2sgbnVtYmVyc1xuICAgIHRoaXMuX3JlcXVpcmVtZW50cy5udW1iZXIgPSAvXFxkLy50ZXN0KHBhc3N3b3JkKTtcbiAgICBpZiAodGhpcy5fcmVxdWlyZW1lbnRzLm51bWJlciAmJiB0aGlzLm9wdGlvbnMucmVxdWlyZU51bWJlcnMpIHRoaXMuX3Njb3JlKys7XG5cbiAgICAvLyBDaGVjayBzcGVjaWFsIGNoYXJhY3RlcnNcbiAgICB0aGlzLl9yZXF1aXJlbWVudHMuc3BlY2lhbCA9IHRoaXMub3B0aW9ucy5zcGVjaWFsQ2hhcnMudGVzdChwYXNzd29yZCk7XG4gICAgaWYgKHRoaXMuX3JlcXVpcmVtZW50cy5zcGVjaWFsICYmIHRoaXMub3B0aW9ucy5yZXF1aXJlU3BlY2lhbCkgdGhpcy5fc2NvcmUrKztcblxuICAgIC8vIERldGVybWluZSBzdHJlbmd0aCBsZXZlbFxuICAgIGNvbnN0IHsgdGhyZXNob2xkcyB9ID0gdGhpcy5vcHRpb25zO1xuICAgIGlmICh0aGlzLl9zY29yZSA8PSB0aHJlc2hvbGRzLndlYWspIHtcbiAgICAgIHRoaXMuX3N0cmVuZ3RoID0gJ3dlYWsnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fc2NvcmUgPD0gdGhyZXNob2xkcy5mYWlyKSB7XG4gICAgICB0aGlzLl9zdHJlbmd0aCA9ICdmYWlyJztcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3Njb3JlIDw9IHRocmVzaG9sZHMuZ29vZCkge1xuICAgICAgdGhpcy5fc3RyZW5ndGggPSAnZ29vZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0cmVuZ3RoID0gJ3N0cm9uZyc7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGVtcHR5IHBhc3N3b3JkXG4gICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fc3RyZW5ndGggPSAnbm9uZSc7XG4gICAgICB0aGlzLl9zY29yZSA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlVUkoKTtcbiAgICB0aGlzLl9lbWl0RXZlbnRzKCk7XG4gIH1cblxuICBfdXBkYXRlVUkoKSB7XG4gICAgY29uc3Qgc3RyZW5ndGhDbGFzcyA9IGAke1NpeE9yYml0LmNscygnc3RyZW5ndGgnKX0tJHt0aGlzLl9zdHJlbmd0aH1gO1xuXG4gICAgLy8gVXBkYXRlIGJhciBzZWdtZW50c1xuICAgIGlmICh0aGlzLl9zZWdtZW50cykge1xuICAgICAgY29uc3QgYWN0aXZlQ291bnQgPSB0aGlzLl9zdHJlbmd0aCA9PT0gJ25vbmUnID8gMCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RyZW5ndGggPT09ICd3ZWFrJyA/IDEgOlxuICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0cmVuZ3RoID09PSAnZmFpcicgPyAyIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJlbmd0aCA9PT0gJ2dvb2QnID8gMyA6IDQ7XG5cbiAgICAgIHRoaXMuX3NlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQsIGkpID0+IHtcbiAgICAgICAgc2VnbWVudC5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICAgIFNpeE9yYml0LmNscygnYWN0aXZlJyksXG4gICAgICAgICAgYCR7U2l4T3JiaXQuY2xzKCdzdHJlbmd0aCcpfS13ZWFrYCxcbiAgICAgICAgICBgJHtTaXhPcmJpdC5jbHMoJ3N0cmVuZ3RoJyl9LWZhaXJgLFxuICAgICAgICAgIGAke1NpeE9yYml0LmNscygnc3RyZW5ndGgnKX0tZ29vZGAsXG4gICAgICAgICAgYCR7U2l4T3JiaXQuY2xzKCdzdHJlbmd0aCcpfS1zdHJvbmdgXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGkgPCBhY3RpdmVDb3VudCkge1xuICAgICAgICAgIHNlZ21lbnQuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpLCBzdHJlbmd0aENsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFVwZGF0ZSBsYWJlbFxuICAgICAgaWYgKHRoaXMuX2xhYmVsKSB7XG4gICAgICAgIHRoaXMuX2xhYmVsLnRleHRDb250ZW50ID0gdGhpcy5fc3RyZW5ndGggPT09ICdub25lJyA/ICcnIDogdGhpcy5vcHRpb25zLmxhYmVsc1t0aGlzLl9zdHJlbmd0aF07XG4gICAgICAgIHRoaXMuX2xhYmVsLmNsYXNzTmFtZSA9IGAke1NpeE9yYml0LmNscygncGFzc3dvcmQtc3RyZW5ndGgtbGFiZWwnKX0gJHtzdHJlbmd0aENsYXNzfWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGlubGluZSBkb3RzXG4gICAgaWYgKHRoaXMuX2RvdHMpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZUNvdW50ID0gdGhpcy5fc3RyZW5ndGggPT09ICdub25lJyA/IDAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0cmVuZ3RoID09PSAnd2VhaycgPyAxIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJlbmd0aCA9PT0gJ2ZhaXInID8gMiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RyZW5ndGggPT09ICdnb29kJyA/IDMgOiA0O1xuXG4gICAgICB0aGlzLl9kb3RzLmZvckVhY2goKGRvdCwgaSkgPT4ge1xuICAgICAgICBkb3QuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICBTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpLFxuICAgICAgICAgIGAke1NpeE9yYml0LmNscygnc3RyZW5ndGgnKX0td2Vha2AsXG4gICAgICAgICAgYCR7U2l4T3JiaXQuY2xzKCdzdHJlbmd0aCcpfS1mYWlyYCxcbiAgICAgICAgICBgJHtTaXhPcmJpdC5jbHMoJ3N0cmVuZ3RoJyl9LWdvb2RgLFxuICAgICAgICAgIGAke1NpeE9yYml0LmNscygnc3RyZW5ndGgnKX0tc3Ryb25nYFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChpIDwgYWN0aXZlQ291bnQpIHtcbiAgICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpLCBzdHJlbmd0aENsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHJlcXVpcmVtZW50c1xuICAgIGlmICh0aGlzLl9yZXFDb250YWluZXIpIHtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3JlcXVpcmVtZW50cykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuX3JlcUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbZGF0YS1yZXF1aXJlbWVudD1cIiR7a2V5fVwiXWApO1xuICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICBjb25zdCBpY29uID0gZWwucXVlcnlTZWxlY3RvcignLm1hdGVyaWFsLWljb25zJyk7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlcXVpcmVtZW50c1trZXldKSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygnbWV0JykpO1xuICAgICAgICAgICAgaWNvbi50ZXh0Q29udGVudCA9ICdjaGVja19jaXJjbGUnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygnbWV0JykpO1xuICAgICAgICAgICAgaWNvbi50ZXh0Q29udGVudCA9ICdyYWRpb19idXR0b25fdW5jaGVja2VkJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9lbWl0RXZlbnRzKCkge1xuICAgIHRoaXMuZW1pdChTT1Bhc3N3b3JkU3RyZW5ndGguRVZFTlRTLkNIQU5HRSwge1xuICAgICAgc2NvcmU6IHRoaXMuX3Njb3JlLFxuICAgICAgc3RyZW5ndGg6IHRoaXMuX3N0cmVuZ3RoLFxuICAgICAgcmVxdWlyZW1lbnRzOiB0aGlzLl9yZXF1aXJlbWVudHMsXG4gICAgfSk7XG5cbiAgICBjb25zdCBpc1ZhbGlkID0gdGhpcy5fY2hlY2tWYWxpZGl0eSgpO1xuICAgIHRoaXMuZW1pdChpc1ZhbGlkID8gU09QYXNzd29yZFN0cmVuZ3RoLkVWRU5UUy5WQUxJRCA6IFNPUGFzc3dvcmRTdHJlbmd0aC5FVkVOVFMuSU5WQUxJRCwge1xuICAgICAgc2NvcmU6IHRoaXMuX3Njb3JlLFxuICAgICAgc3RyZW5ndGg6IHRoaXMuX3N0cmVuZ3RoLFxuICAgICAgcmVxdWlyZW1lbnRzOiB0aGlzLl9yZXF1aXJlbWVudHMsXG4gICAgfSk7XG4gIH1cblxuICBfY2hlY2tWYWxpZGl0eSgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLm1pbkxlbmd0aCA+IDAgJiYgIXRoaXMuX3JlcXVpcmVtZW50cy5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlcXVpcmVVcHBlcmNhc2UgJiYgIXRoaXMuX3JlcXVpcmVtZW50cy51cHBlcmNhc2UpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlcXVpcmVMb3dlcmNhc2UgJiYgIXRoaXMuX3JlcXVpcmVtZW50cy5sb3dlcmNhc2UpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlcXVpcmVOdW1iZXJzICYmICF0aGlzLl9yZXF1aXJlbWVudHMubnVtYmVyKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXF1aXJlU3BlY2lhbCAmJiAhdGhpcy5fcmVxdWlyZW1lbnRzLnNwZWNpYWwpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFB1YmxpYyBtZXRob2RzXG4gIGdldFNjb3JlKCkge1xuICAgIHJldHVybiB0aGlzLl9zY29yZTtcbiAgfVxuXG4gIGdldFN0cmVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9zdHJlbmd0aDtcbiAgfVxuXG4gIGdldFJlcXVpcmVtZW50cygpIHtcbiAgICByZXR1cm4geyAuLi50aGlzLl9yZXF1aXJlbWVudHMgfTtcbiAgfVxuXG4gIGlzVmFsaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrVmFsaWRpdHkoKTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0QWxsKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNvLXBhc3N3b3JkLXN0cmVuZ3RoXScpLmZvckVhY2goZWwgPT4ge1xuICAgICAgaWYgKCFlbC5fc29QYXNzd29yZFN0cmVuZ3RoSW5zdGFuY2UpIHtcbiAgICAgICAgZWwuX3NvUGFzc3dvcmRTdHJlbmd0aEluc3RhbmNlID0gbmV3IFNPUGFzc3dvcmRTdHJlbmd0aChlbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENIQVJBQ1RFUiBDT1VOVEVSIENPTVBPTkVOVFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBTT0NoYXJDb3VudGVyIC0gQ2hhcmFjdGVyL3dvcmQgY291bnRlciBmb3IgaW5wdXRzIGFuZCB0ZXh0YXJlYXNcbiAqL1xuY2xhc3MgU09DaGFyQ291bnRlciBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgc3RhdGljIE5BTUUgPSAnY2hhci1jb3VudGVyJztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgLy8gTWF4IGNoYXJhY3RlcnMgKDAgPSBubyBsaW1pdCwganVzdCBjb3VudClcbiAgICBtYXhMZW5ndGg6IDAsXG4gICAgLy8gTWluIGNoYXJhY3RlcnNcbiAgICBtaW5MZW5ndGg6IDAsXG4gICAgLy8gQ291bnQgbW9kZTogJ2NoYXJhY3RlcnMnLCAnd29yZHMnLCAnbGluZXMnXG4gICAgbW9kZTogJ2NoYXJhY3RlcnMnLFxuICAgIC8vIFdhcm5pbmcgdGhyZXNob2xkIChwZXJjZW50YWdlIG9mIG1heClcbiAgICB3YXJuaW5nVGhyZXNob2xkOiA4MCxcbiAgICAvLyBTaG93IHByb2dyZXNzIGJhclxuICAgIHNob3dCYXI6IGZhbHNlLFxuICAgIC8vIFNob3cgaW5saW5lIChpbnNpZGUgaW5wdXQpXG4gICAgc2hvd0lubGluZTogZmFsc2UsXG4gICAgLy8gRm9ybWF0IHRlbXBsYXRlXG4gICAgdGVtcGxhdGU6ICd7Y3VycmVudH0gLyB7bWF4fScsXG4gICAgLy8gVGVtcGxhdGUgZm9yIG5vIG1heFxuICAgIHRlbXBsYXRlTm9NYXg6ICd7Y3VycmVudH0gY2hhcmFjdGVycycsXG4gICAgLy8gV29yZCB0ZW1wbGF0ZVxuICAgIHdvcmRUZW1wbGF0ZTogJ3tjdXJyZW50fSAvIHttYXh9IHdvcmRzJyxcbiAgICAvLyBXb3JkIHRlbXBsYXRlIG5vIG1heFxuICAgIHdvcmRUZW1wbGF0ZU5vTWF4OiAne2N1cnJlbnR9IHdvcmRzJyxcbiAgfTtcblxuICBzdGF0aWMgRVZFTlRTID0ge1xuICAgIENIQU5HRTogJ2NoYXItY291bnRlcjpjaGFuZ2UnLFxuICAgIFdBUk5JTkc6ICdjaGFyLWNvdW50ZXI6d2FybmluZycsXG4gICAgTElNSVQ6ICdjaGFyLWNvdW50ZXI6bGltaXQnLFxuICAgIFZBTElEOiAnY2hhci1jb3VudGVyOnZhbGlkJyxcbiAgfTtcblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9jb3VudCA9IDA7XG4gICAgdGhpcy5fcGVyY2VudGFnZSA9IDA7XG5cbiAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpO1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIC8vIEluaXRpYWwgY291bnRcbiAgICB0aGlzLl91cGRhdGVDb3VudCgpO1xuICB9XG5cbiAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgIC8vIFdyYXAgaWYgbmVlZGVkXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoU2l4T3JiaXQuY2xzKCdjaGFyLWNvdW50ZXItd3JhcHBlcicpKSkge1xuICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2NoYXItY291bnRlci13cmFwcGVyJyk7XG4gICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgdGhpcy5lbGVtZW50KTtcbiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLl93cmFwcGVyID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dCYXIpIHtcbiAgICAgIC8vIFByb2dyZXNzIGJhciB2YXJpYW50XG4gICAgICB0aGlzLl9jb3VudGVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9jb3VudGVyQ29udGFpbmVyLmNsYXNzTmFtZSA9IFNpeE9yYml0LmNscygnY2hhci1jb3VudGVyLWJhcicpO1xuICAgICAgdGhpcy5fY291bnRlckNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2hhci1jb3VudGVyLXByb2dyZXNzJyl9XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjaGFyLWNvdW50ZXItZmlsbCcpfVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjaGFyLWNvdW50ZXItdGV4dCcpfVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NoYXItY291bnRlci1oaW50Jyl9XCI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NoYXItY291bnRlci12YWx1ZScpfVwiPjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgdGhpcy5fd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLl9jb3VudGVyQ29udGFpbmVyKTtcbiAgICAgIHRoaXMuX2ZpbGwgPSB0aGlzLl9jb3VudGVyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke1NpeE9yYml0LmNscygnY2hhci1jb3VudGVyLWZpbGwnKX1gKTtcbiAgICAgIHRoaXMuX3ZhbHVlRWwgPSB0aGlzLl9jb3VudGVyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke1NpeE9yYml0LmNscygnY2hhci1jb3VudGVyLXZhbHVlJyl9YCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc2hvd0lubGluZSkge1xuICAgICAgLy8gSW5saW5lIHZhcmlhbnQgKGluc2lkZSB0ZXh0YXJlYSlcbiAgICAgIHRoaXMuX2NvdW50ZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHRoaXMuX2NvdW50ZXJFbC5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2NoYXItY291bnRlci1pbmxpbmUnKTtcbiAgICAgIHRoaXMuX3dyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5fY291bnRlckVsKTtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygnaGFzLWNvdW50ZXItaW5saW5lJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTaW1wbGUgY291bnRlclxuICAgICAgdGhpcy5fY291bnRlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9jb3VudGVyRWwuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdjaGFyLWNvdW50ZXInKTtcbiAgICAgIHRoaXMuX3dyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5fY291bnRlckVsKTtcbiAgICB9XG4gIH1cblxuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLm9uKCdpbnB1dCcsIHRoaXMuX3VwZGF0ZUNvdW50KTtcbiAgICB0aGlzLm9uKCdwYXN0ZScsICgpID0+IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fdXBkYXRlQ291bnQoKSwgMCkpO1xuICB9XG5cbiAgX3VwZGF0ZUNvdW50KCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5lbGVtZW50LnZhbHVlO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGNvdW50IGJhc2VkIG9uIG1vZGVcbiAgICBzd2l0Y2ggKHRoaXMub3B0aW9ucy5tb2RlKSB7XG4gICAgICBjYXNlICd3b3Jkcyc6XG4gICAgICAgIHRoaXMuX2NvdW50ID0gdmFsdWUudHJpbSgpID8gdmFsdWUudHJpbSgpLnNwbGl0KC9cXHMrLykubGVuZ3RoIDogMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsaW5lcyc6XG4gICAgICAgIHRoaXMuX2NvdW50ID0gdmFsdWUuc3BsaXQoL1xcclxcbnxcXHJ8XFxuLykubGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuX2NvdW50ID0gdmFsdWUubGVuZ3RoO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBwZXJjZW50YWdlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tYXhMZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLl9wZXJjZW50YWdlID0gKHRoaXMuX2NvdW50IC8gdGhpcy5vcHRpb25zLm1heExlbmd0aCkgKiAxMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BlcmNlbnRhZ2UgPSAwO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZVVJKCk7XG4gICAgdGhpcy5fZW1pdEV2ZW50cygpO1xuICB9XG5cbiAgX3VwZGF0ZVVJKCkge1xuICAgIGNvbnN0IHsgbWF4TGVuZ3RoLCB3YXJuaW5nVGhyZXNob2xkLCBtb2RlIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgaXNXYXJuaW5nID0gbWF4TGVuZ3RoID4gMCAmJiB0aGlzLl9wZXJjZW50YWdlID49IHdhcm5pbmdUaHJlc2hvbGQgJiYgdGhpcy5fcGVyY2VudGFnZSA8IDEwMDtcbiAgICBjb25zdCBpc0RhbmdlciA9IG1heExlbmd0aCA+IDAgJiYgdGhpcy5fcGVyY2VudGFnZSA+PSAxMDA7XG4gICAgY29uc3QgaXNTdWNjZXNzID0gbWF4TGVuZ3RoID4gMCAmJiB0aGlzLl9jb3VudCA+PSAodGhpcy5vcHRpb25zLm1pbkxlbmd0aCB8fCAwKSAmJiB0aGlzLl9wZXJjZW50YWdlIDwgd2FybmluZ1RocmVzaG9sZDtcblxuICAgIC8vIEZvcm1hdCB0ZXh0XG4gICAgbGV0IHRleHQ7XG4gICAgaWYgKG1heExlbmd0aCA+IDApIHtcbiAgICAgIHRleHQgPSBtb2RlID09PSAnd29yZHMnXG4gICAgICAgID8gdGhpcy5vcHRpb25zLndvcmRUZW1wbGF0ZS5yZXBsYWNlKCd7Y3VycmVudH0nLCB0aGlzLl9jb3VudCkucmVwbGFjZSgne21heH0nLCBtYXhMZW5ndGgpXG4gICAgICAgIDogdGhpcy5vcHRpb25zLnRlbXBsYXRlLnJlcGxhY2UoJ3tjdXJyZW50fScsIHRoaXMuX2NvdW50KS5yZXBsYWNlKCd7bWF4fScsIG1heExlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHQgPSBtb2RlID09PSAnd29yZHMnXG4gICAgICAgID8gdGhpcy5vcHRpb25zLndvcmRUZW1wbGF0ZU5vTWF4LnJlcGxhY2UoJ3tjdXJyZW50fScsIHRoaXMuX2NvdW50KVxuICAgICAgICA6IHRoaXMub3B0aW9ucy50ZW1wbGF0ZU5vTWF4LnJlcGxhY2UoJ3tjdXJyZW50fScsIHRoaXMuX2NvdW50KTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgYmFyIHZhcmlhbnRcbiAgICBpZiAodGhpcy5fZmlsbCkge1xuICAgICAgdGhpcy5fZmlsbC5zdHlsZS53aWR0aCA9IGAke01hdGgubWluKDEwMCwgdGhpcy5fcGVyY2VudGFnZSl9JWA7XG4gICAgICB0aGlzLl9maWxsLmNsYXNzTGlzdC5yZW1vdmUoU2l4T3JiaXQuY2xzKCd3YXJuaW5nJyksIFNpeE9yYml0LmNscygnZGFuZ2VyJykpO1xuICAgICAgaWYgKGlzRGFuZ2VyKSB7XG4gICAgICAgIHRoaXMuX2ZpbGwuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ2RhbmdlcicpKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNXYXJuaW5nKSB7XG4gICAgICAgIHRoaXMuX2ZpbGwuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ3dhcm5pbmcnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl92YWx1ZUVsKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlRWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBzaW1wbGUvaW5saW5lIGNvdW50ZXJcbiAgICBpZiAodGhpcy5fY291bnRlckVsKSB7XG4gICAgICB0aGlzLl9jb3VudGVyRWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgdGhpcy5fY291bnRlckVsLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgIFNpeE9yYml0LmNscygnd2FybmluZycpLFxuICAgICAgICBTaXhPcmJpdC5jbHMoJ2RhbmdlcicpLFxuICAgICAgICBTaXhPcmJpdC5jbHMoJ3N1Y2Nlc3MnKVxuICAgICAgKTtcblxuICAgICAgaWYgKGlzRGFuZ2VyKSB7XG4gICAgICAgIHRoaXMuX2NvdW50ZXJFbC5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygnZGFuZ2VyJykpO1xuICAgICAgfSBlbHNlIGlmIChpc1dhcm5pbmcpIHtcbiAgICAgICAgdGhpcy5fY291bnRlckVsLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCd3YXJuaW5nJykpO1xuICAgICAgfSBlbHNlIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgdGhpcy5fY291bnRlckVsLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdzdWNjZXNzJykpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9lbWl0RXZlbnRzKCkge1xuICAgIGNvbnN0IHsgbWF4TGVuZ3RoLCB3YXJuaW5nVGhyZXNob2xkIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICB0aGlzLmVtaXQoU09DaGFyQ291bnRlci5FVkVOVFMuQ0hBTkdFLCB7XG4gICAgICBjb3VudDogdGhpcy5fY291bnQsXG4gICAgICBwZXJjZW50YWdlOiB0aGlzLl9wZXJjZW50YWdlLFxuICAgICAgcmVtYWluaW5nOiBtYXhMZW5ndGggPiAwID8gbWF4TGVuZ3RoIC0gdGhpcy5fY291bnQgOiBudWxsLFxuICAgIH0pO1xuXG4gICAgaWYgKG1heExlbmd0aCA+IDApIHtcbiAgICAgIGlmICh0aGlzLl9wZXJjZW50YWdlID49IDEwMCkge1xuICAgICAgICB0aGlzLmVtaXQoU09DaGFyQ291bnRlci5FVkVOVFMuTElNSVQsIHtcbiAgICAgICAgICBjb3VudDogdGhpcy5fY291bnQsXG4gICAgICAgICAgbWF4OiBtYXhMZW5ndGgsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9wZXJjZW50YWdlID49IHdhcm5pbmdUaHJlc2hvbGQpIHtcbiAgICAgICAgdGhpcy5lbWl0KFNPQ2hhckNvdW50ZXIuRVZFTlRTLldBUk5JTkcsIHtcbiAgICAgICAgICBjb3VudDogdGhpcy5fY291bnQsXG4gICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5fcGVyY2VudGFnZSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVtaXQoU09DaGFyQ291bnRlci5FVkVOVFMuVkFMSUQsIHtcbiAgICAgICAgICBjb3VudDogdGhpcy5fY291bnQsXG4gICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5fcGVyY2VudGFnZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUHVibGljIG1ldGhvZHNcbiAgZ2V0Q291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvdW50O1xuICB9XG5cbiAgZ2V0UGVyY2VudGFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGVyY2VudGFnZTtcbiAgfVxuXG4gIGdldFJlbWFpbmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLm1heExlbmd0aCA+IDAgPyB0aGlzLm9wdGlvbnMubWF4TGVuZ3RoIC0gdGhpcy5fY291bnQgOiBudWxsO1xuICB9XG5cbiAgc2V0TWF4TGVuZ3RoKG1heCkge1xuICAgIHRoaXMub3B0aW9ucy5tYXhMZW5ndGggPSBtYXg7XG4gICAgdGhpcy5fdXBkYXRlQ291bnQoKTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0QWxsKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNvLWNoYXItY291bnRlcl0nKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmICghZWwuX3NvQ2hhckNvdW50ZXJJbnN0YW5jZSkge1xuICAgICAgICBlbC5fc29DaGFyQ291bnRlckluc3RhbmNlID0gbmV3IFNPQ2hhckNvdW50ZXIoZWwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBJTlBVVCBDTEVBUiBCVVRUT04gQ09NUE9ORU5UXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNPSW5wdXRDbGVhciAtIENsZWFyIGJ1dHRvbiAoWCkgZm9yIGlucHV0c1xuICovXG5jbGFzcyBTT0lucHV0Q2xlYXIgZXh0ZW5kcyBTT0NvbXBvbmVudCB7XG4gIHN0YXRpYyBOQU1FID0gJ2lucHV0LWNsZWFyJztcblxuICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgLy8gSWNvbiB0byBzaG93XG4gICAgaWNvbjogJ2Nsb3NlJyxcbiAgICAvLyBTaG93IG9ubHkgd2hlbiBpbnB1dCBoYXMgdmFsdWVcbiAgICBzaG93T25WYWx1ZTogdHJ1ZSxcbiAgICAvLyBGb2N1cyBpbnB1dCBhZnRlciBjbGVhclxuICAgIGZvY3VzQWZ0ZXJDbGVhcjogdHJ1ZSxcbiAgICAvLyBDYWxsYmFjayBiZWZvcmUgY2xlYXIgKHJldHVybiBmYWxzZSB0byBwcmV2ZW50KVxuICAgIG9uQmVmb3JlQ2xlYXI6IG51bGwsXG4gICAgLy8gQ2FsbGJhY2sgYWZ0ZXIgY2xlYXJcbiAgICBvbkNsZWFyOiBudWxsLFxuICB9O1xuXG4gIHN0YXRpYyBFVkVOVFMgPSB7XG4gICAgQ0xFQVI6ICdpbnB1dC1jbGVhcjpjbGVhcicsXG4gICAgQkVGT1JFX0NMRUFSOiAnaW5wdXQtY2xlYXI6YmVmb3JlLWNsZWFyJyxcbiAgfTtcblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9jcmVhdGVCdXR0b24oKTtcbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlzaWJpbGl0eSgpO1xuICB9XG5cbiAgX2NyZWF0ZUJ1dHRvbigpIHtcbiAgICAvLyBXcmFwIGlucHV0IGlmIG5lZWRlZFxuICAgIGlmICghdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFNpeE9yYml0LmNscygnaW5wdXQtY2xlYXJhYmxlJykpKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IFNpeE9yYml0LmNscygnaW5wdXQtY2xlYXJhYmxlJyk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBpY29uXG4gICAgICBjb25zdCBleGlzdGluZ1dyYXBwZXIgPSB0aGlzLmVsZW1lbnQuY2xvc2VzdChgLiR7U2l4T3JiaXQuY2xzKCdpbnB1dC13cmFwcGVyJyl9YCk7XG4gICAgICBpZiAoZXhpc3RpbmdXcmFwcGVyICYmIGV4aXN0aW5nV3JhcHBlci5xdWVyeVNlbGVjdG9yKGAuJHtTaXhPcmJpdC5jbHMoJ2lucHV0LWljb24nKX1gKSkge1xuICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdoYXMtaWNvbicpKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIGFjdGlvblxuICAgICAgaWYgKGV4aXN0aW5nV3JhcHBlciAmJiBleGlzdGluZ1dyYXBwZXIucXVlcnlTZWxlY3RvcihgLiR7U2l4T3JiaXQuY2xzKCdpbnB1dC1hY3Rpb24nKX1gKSkge1xuICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdoYXMtYWN0aW9uJykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgdGhpcy5lbGVtZW50KTtcbiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLl93cmFwcGVyID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG5cbiAgICAvLyBDcmVhdGUgY2xlYXIgYnV0dG9uXG4gICAgdGhpcy5fYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgdGhpcy5fYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICB0aGlzLl9idXR0b24uY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdpbnB1dC1jbGVhci1idG4nKTtcbiAgICB0aGlzLl9idXR0b24uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIHRoaXMuX2J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2xlYXIgaW5wdXQnKTtcbiAgICB0aGlzLl9idXR0b24uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RoaXMub3B0aW9ucy5pY29ufTwvc3Bhbj5gO1xuXG4gICAgdGhpcy5fd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLl9idXR0b24pO1xuICB9XG5cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgLy8gQ2xlYXIgb24gYnV0dG9uIGNsaWNrXG4gICAgdGhpcy5fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgdmlzaWJpbGl0eSBvbiBpbnB1dFxuICAgIHRoaXMub24oJ2lucHV0JywgdGhpcy5fdXBkYXRlVmlzaWJpbGl0eSk7XG4gICAgdGhpcy5vbignY2hhbmdlJywgdGhpcy5fdXBkYXRlVmlzaWJpbGl0eSk7XG5cbiAgICAvLyBIYW5kbGUgZXNjYXBlIGtleVxuICAgIHRoaXMub24oJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiB0aGlzLmVsZW1lbnQudmFsdWUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfdXBkYXRlVmlzaWJpbGl0eSgpIHtcbiAgICBjb25zdCBoYXNWYWx1ZSA9IHRoaXMuZWxlbWVudC52YWx1ZS5sZW5ndGggPiAwO1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGFzLXZhbHVlJywgaGFzVmFsdWUpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93T25WYWx1ZSkge1xuICAgICAgdGhpcy5fYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBoYXNWYWx1ZSA/ICdmbGV4JyA6ICdub25lJztcbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICAvLyBCZWZvcmUgY2xlYXIgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkJlZm9yZUNsZWFyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm9wdGlvbnMub25CZWZvcmVDbGVhcih0aGlzLmVsZW1lbnQudmFsdWUsIHRoaXMpO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBFbWl0IGJlZm9yZSBjbGVhciBldmVudFxuICAgIGNvbnN0IGJlZm9yZUV2ZW50ID0gdGhpcy5lbWl0KFNPSW5wdXRDbGVhci5FVkVOVFMuQkVGT1JFX0NMRUFSLCB7XG4gICAgICB2YWx1ZTogdGhpcy5lbGVtZW50LnZhbHVlLFxuICAgIH0pO1xuXG4gICAgaWYgKCFiZWZvcmVFdmVudCkgcmV0dXJuO1xuXG4gICAgLy8gQ2xlYXIgdGhlIGlucHV0XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLmVsZW1lbnQudmFsdWU7XG4gICAgdGhpcy5lbGVtZW50LnZhbHVlID0gJyc7XG5cbiAgICAvLyBUcmlnZ2VyIGlucHV0IGV2ZW50IGZvciBvdGhlciBsaXN0ZW5lcnNcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG5cbiAgICAvLyBVcGRhdGUgdmlzaWJpbGl0eVxuICAgIHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkoKTtcblxuICAgIC8vIEZvY3VzIGlucHV0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mb2N1c0FmdGVyQ2xlYXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIC8vIEFmdGVyIGNsZWFyIGNhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbGVhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xlYXIob2xkVmFsdWUsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIEVtaXQgY2xlYXIgZXZlbnRcbiAgICB0aGlzLmVtaXQoU09JbnB1dENsZWFyLkVWRU5UUy5DTEVBUiwge1xuICAgICAgcHJldmlvdXNWYWx1ZTogb2xkVmFsdWUsXG4gICAgfSk7XG4gIH1cblxuICAvLyBQdWJsaWMgbWV0aG9kc1xuICBzaG93QnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICB9XG5cbiAgaGlkZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIHN0YXRpYyBpbml0QWxsKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNvLWlucHV0LWNsZWFyXScpLmZvckVhY2goZWwgPT4ge1xuICAgICAgaWYgKCFlbC5fc29JbnB1dENsZWFySW5zdGFuY2UpIHtcbiAgICAgICAgZWwuX3NvSW5wdXRDbGVhckluc3RhbmNlID0gbmV3IFNPSW5wdXRDbGVhcihlbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFVVE8tSU5JVElBTElaQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGluaXRBbGxGb3JtRW5oYW5jZXJzKCkge1xuICBTT0lucHV0TWFzay5pbml0QWxsKCk7XG4gIFNPUGFzc3dvcmRTdHJlbmd0aC5pbml0QWxsKCk7XG4gIFNPQ2hhckNvdW50ZXIuaW5pdEFsbCgpO1xuICBTT0lucHV0Q2xlYXIuaW5pdEFsbCgpO1xufVxuXG4vLyBJbml0aWFsaXplIG9uIERPTSByZWFkeVxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdEFsbEZvcm1FbmhhbmNlcnMpO1xufSBlbHNlIHtcbiAgaW5pdEFsbEZvcm1FbmhhbmNlcnMoKTtcbn1cblxuLy8gTXV0YXRpb24gb2JzZXJ2ZXIgZm9yIGR5bmFtaWMgY29udGVudFxuY29uc3QgZm9ybUVuaGFuY2Vyc09ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICBsZXQgc2hvdWxkSW5pdCA9IGZhbHNlO1xuXG4gIG11dGF0aW9ucy5mb3JFYWNoKG11dGF0aW9uID0+IHtcbiAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgaWYgKG5vZGUubWF0Y2hlcygnW2RhdGEtc28taW5wdXQtbWFza10sIFtkYXRhLXNvLXBhc3N3b3JkLXN0cmVuZ3RoXSwgW2RhdGEtc28tY2hhci1jb3VudGVyXSwgW2RhdGEtc28taW5wdXQtY2xlYXJdJykpIHtcbiAgICAgICAgICBzaG91bGRJbml0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zby1pbnB1dC1tYXNrXSwgW2RhdGEtc28tcGFzc3dvcmQtc3RyZW5ndGhdLCBbZGF0YS1zby1jaGFyLWNvdW50ZXJdLCBbZGF0YS1zby1pbnB1dC1jbGVhcl0nKSkge1xuICAgICAgICAgIHNob3VsZEluaXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmIChzaG91bGRJbml0KSB7XG4gICAgaW5pdEFsbEZvcm1FbmhhbmNlcnMoKTtcbiAgfVxufSk7XG5cbmZvcm1FbmhhbmNlcnNPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuXG4vLyBSZWdpc3RlciBjb21wb25lbnRzXG5TaXhPcmJpdC5yZWdpc3RlckNvbXBvbmVudChTT0lucHV0TWFzayk7XG5TaXhPcmJpdC5yZWdpc3RlckNvbXBvbmVudChTT1Bhc3N3b3JkU3RyZW5ndGgpO1xuU2l4T3JiaXQucmVnaXN0ZXJDb21wb25lbnQoU09DaGFyQ291bnRlcik7XG5TaXhPcmJpdC5yZWdpc3RlckNvbXBvbmVudChTT0lucHV0Q2xlYXIpO1xuXG4vLyBFeHBvcnRcbmV4cG9ydCB7XG4gIFNPSW5wdXRNYXNrLFxuICBTT1Bhc3N3b3JkU3RyZW5ndGgsXG4gIFNPQ2hhckNvdW50ZXIsXG4gIFNPSW5wdXRDbGVhcixcbiAgaW5pdEFsbEZvcm1FbmhhbmNlcnMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFNPSW5wdXRNYXNrLFxuICBTT1Bhc3N3b3JkU3RyZW5ndGgsXG4gIFNPQ2hhckNvdW50ZXIsXG4gIFNPSW5wdXRDbGVhcixcbiAgaW5pdEFsbDogaW5pdEFsbEZvcm1FbmhhbmNlcnMsXG59O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSAtIEZPUk1TIEZFQVRVUkVcbi8vIEZvcm0gdXRpbGl0aWVzLCB2YWxpZGF0aW9uLCBhbmQgZW5oYW5jZW1lbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vY29yZS9zby1jb25maWcuanMnO1xuaW1wb3J0IHsgU09Ecm9wZG93biB9IGZyb20gJy4uL2NvbXBvbmVudHMvc28tZHJvcGRvd24uanMnO1xuaW1wb3J0IHsgU09PdHBJbnB1dCB9IGZyb20gJy4uL2NvbXBvbmVudHMvc28tb3RwLmpzJztcbmltcG9ydCB7IFNPQnV0dG9uR3JvdXAgfSBmcm9tICcuLi9jb21wb25lbnRzL3NvLWJ1dHRvbi1ncm91cC5qcyc7XG5pbXBvcnQgeyBTT1Byb2dyZXNzQnV0dG9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9zby1wcm9ncmVzcy1idXR0b24uanMnO1xuXG4vKipcbiAqIFNPRm9ybXMgLSBGb3JtIHV0aWxpdGllcyBhbmQgdmFsaWRhdGlvblxuICogUHJvdmlkZXMgZm9ybSBmaWVsZCBlbmhhbmNlbWVudHMgYW5kIHZhbGlkYXRpb24gaGVscGVyc1xuICovXG5jbGFzcyBTT0Zvcm1zIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYWxsIGZvcm0gY29tcG9uZW50cyBvbiB0aGUgcGFnZVxuICAgKi9cbiAgc3RhdGljIGluaXRBbGwoKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBzdGFuZGFyZCBkcm9wZG93bnNcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tZHJvcGRvd24nKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgIFNPRHJvcGRvd24uZ2V0SW5zdGFuY2UoZWwpO1xuICAgIH0pO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBzZWFyY2hhYmxlIGRyb3Bkb3duc1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1zZWFyY2hhYmxlLWRyb3Bkb3duJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICBTT0Ryb3Bkb3duLmdldEluc3RhbmNlKGVsKTtcbiAgICB9KTtcblxuICAgIC8vIEluaXRpYWxpemUgb3B0aW9ucyBkcm9wZG93bnNcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tb3B0aW9ucy1kcm9wZG93bicpLmZvckVhY2goZWwgPT4ge1xuICAgICAgU09Ecm9wZG93bi5nZXRJbnN0YW5jZShlbCk7XG4gICAgfSk7XG5cbiAgICAvLyBJbml0aWFsaXplIG91dGxldCBkcm9wZG93bnNcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tb3V0bGV0LWRyb3Bkb3duJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICBTT0Ryb3Bkb3duLmdldEluc3RhbmNlKGVsKTtcbiAgICB9KTtcblxuICAgIC8vIEluaXRpYWxpemUgT1RQIGlucHV0c1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1vdHAtZ3JvdXAnKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgIFNPT3RwSW5wdXQuZ2V0SW5zdGFuY2UoZWwpO1xuICAgIH0pO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0b2dnbGUgYnV0dG9uIGdyb3Vwc1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNvLXRvZ2dsZT1cImJ1dHRvbnNcIl0nKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgIFNPQnV0dG9uR3JvdXAuZ2V0SW5zdGFuY2UoZWwpO1xuICAgIH0pO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBwcm9ncmVzcyBidXR0b25zIHdpdGggZGF0YSBhdHRyaWJ1dGVcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc28tYnRuLXByb2dyZXNzW2RhdGEtc28tcHJvZ3Jlc3NdJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICBTT1Byb2dyZXNzQnV0dG9uLmdldEluc3RhbmNlKGVsKTtcbiAgICB9KTtcblxuICAgIC8vIEluaXRpYWxpemUgY2hlY2tib3hlcyBzdHlsaW5nXG4gICAgU09Gb3Jtcy5faW5pdENoZWNrYm94ZXMoKTtcblxuICAgIC8vIEluaXRpYWxpemUgaW5wdXQgZW5oYW5jZW1lbnRzXG4gICAgU09Gb3Jtcy5faW5pdElucHV0RW5oYW5jZW1lbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBjdXN0b20gY2hlY2tib3ggc3R5bGluZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9pbml0Q2hlY2tib3hlcygpIHtcbiAgICAvLyBTdHlsZSBuYXRpdmUgY2hlY2tib3hlcyB0aGF0IGFyZW4ndCBhbHJlYWR5IHdyYXBwZWRcbiAgICAvLyBFeGNsdWRlIGNoZWNrYm94ZXMgdGhhdCBhcmUgaW5zaWRlIC5zby1jaGVja2JveCwgLnNvLXRvZ2dsZSwgLnNvLXN3aXRjaCwgb3IgLnNvLWJ0bi1jaGVja1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXTpub3QoLnNvLWNoZWNrYm94IGlucHV0KScpLmZvckVhY2goY2hlY2tib3ggPT4ge1xuICAgICAgaWYgKGNoZWNrYm94LmNsb3Nlc3QoJy5zby1jaGVja2JveCwgLnNvLXRvZ2dsZSwgLnNvLXN3aXRjaCwgLnNvLWJ0bi1jaGVjaycpKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSAnc28tY2hlY2tib3gnO1xuXG4gICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBib3guY2xhc3NOYW1lID0gJ3NvLWNoZWNrYm94LWJveCc7XG4gICAgICBib3guaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jaGVjazwvc3Bhbj4nO1xuXG4gICAgICBjaGVja2JveC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBjaGVja2JveCk7XG4gICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYm94KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGlucHV0IGVuaGFuY2VtZW50c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9pbml0SW5wdXRFbmhhbmNlbWVudHMoKSB7XG4gICAgLy8gUGFzc3dvcmQgdG9nZ2xlXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNvLXBhc3N3b3JkLXRvZ2dsZScpLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGJ0bi5jbG9zZXN0KCcuc28tZm9ybS1pbnB1dC13cmFwcGVyLCAuc28tYXV0aC1pbnB1dC13cmFwcGVyJyk7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gd3JhcHBlcj8ucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGlzUGFzc3dvcmQgPSBpbnB1dC50eXBlID09PSAncGFzc3dvcmQnO1xuICAgICAgICBpbnB1dC50eXBlID0gaXNQYXNzd29yZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgICAgIGJ0bi5xdWVyeVNlbGVjdG9yKCcubWF0ZXJpYWwtaWNvbnMnKS50ZXh0Q29udGVudCA9IGlzUGFzc3dvcmQgPyAndmlzaWJpbGl0eV9vZmYnIDogJ3Zpc2liaWxpdHknO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBJbnB1dCBjbGVhciBidXR0b25zXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNvLWlucHV0LWNsZWFyJykuZm9yRWFjaChidG4gPT4ge1xuICAgICAgY29uc3Qgd3JhcHBlciA9IGJ0bi5jbG9zZXN0KCcuc28taW5wdXQtd3JhcHBlciwgLnNvLWZvcm0taW5wdXQtd3JhcHBlcicpO1xuICAgICAgY29uc3QgaW5wdXQgPSB3cmFwcGVyPy5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXG4gICAgICAvLyBDbGljayBoYW5kbGVyIGZvciBjbGVhciBidXR0b25cbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgIGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBFc2NhcGUga2V5IGhhbmRsZXIgb24gdGhlIGlucHV0XG4gICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBpbnB1dC52YWx1ZS50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEZsb2F0aW5nIGxhYmVsc1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1mb3JtLWZsb2F0aW5nIGlucHV0LCAuc28tZm9ybS1mbG9hdGluZyB0ZXh0YXJlYScpLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlU3RhdGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc1ZhbHVlID0gaW5wdXQudmFsdWUudHJpbSgpICE9PSAnJztcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnRvZ2dsZSgnaGFzLXZhbHVlJywgaGFzVmFsdWUpO1xuICAgICAgfTtcblxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGVTdGF0ZSk7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVTdGF0ZSk7XG4gICAgICB1cGRhdGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBhdXRvc2l6ZSB0ZXh0YXJlYXMgKGluY2x1ZGluZyBzaXplIHZhcmlhbnRzKVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zby1mb3JtLWNvbnRyb2wtYXV0b3NpemUsIC5zby1mb3JtLWNvbnRyb2wtYXV0b3NpemUtc20sIC5zby1mb3JtLWNvbnRyb2wtYXV0b3NpemUtbGcnKS5mb3JFYWNoKHRleHRhcmVhID0+IHtcbiAgICAgIC8vIERldGVybWluZSBkZWZhdWx0IG1pbi9tYXggYmFzZWQgb24gc2l6ZSB2YXJpYW50XG4gICAgICBsZXQgZGVmYXVsdE1pbkhlaWdodCA9IDgwO1xuICAgICAgbGV0IGRlZmF1bHRNYXhIZWlnaHQgPSA0MDA7XG5cbiAgICAgIGlmICh0ZXh0YXJlYS5jbGFzc0xpc3QuY29udGFpbnMoJ3NvLWZvcm0tY29udHJvbC1hdXRvc2l6ZS1zbScpKSB7XG4gICAgICAgIGRlZmF1bHRNaW5IZWlnaHQgPSA2MDtcbiAgICAgICAgZGVmYXVsdE1heEhlaWdodCA9IDIwMDtcbiAgICAgIH0gZWxzZSBpZiAodGV4dGFyZWEuY2xhc3NMaXN0LmNvbnRhaW5zKCdzby1mb3JtLWNvbnRyb2wtYXV0b3NpemUtbGcnKSkge1xuICAgICAgICBkZWZhdWx0TWluSGVpZ2h0ID0gMTIwO1xuICAgICAgICBkZWZhdWx0TWF4SGVpZ2h0ID0gNjAwO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBtaW5IZWlnaHQ6IHBhcnNlSW50KHRleHRhcmVhLmRhdGFzZXQubWluSGVpZ2h0KSB8fCBkZWZhdWx0TWluSGVpZ2h0LFxuICAgICAgICBtYXhIZWlnaHQ6IHBhcnNlSW50KHRleHRhcmVhLmRhdGFzZXQubWF4SGVpZ2h0KSB8fCBkZWZhdWx0TWF4SGVpZ2h0XG4gICAgICB9O1xuICAgICAgU09UZXh0YXJlYUF1dG9zaXplLmdldEluc3RhbmNlKHRleHRhcmVhLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFZBTElEQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogVmFsaWRhdGUgYW4gZW1haWwgYWRkcmVzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZW1haWwgLSBFbWFpbCB0byB2YWxpZGF0ZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBlbWFpbCBpcyB2YWxpZFxuICAgKi9cbiAgc3RhdGljIHZhbGlkYXRlRW1haWwoZW1haWwpIHtcbiAgICBjb25zdCByZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgIHJldHVybiByZWdleC50ZXN0KGVtYWlsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIHBob25lIG51bWJlciAoMTAgZGlnaXRzKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGhvbmUgLSBQaG9uZSBudW1iZXIgdG8gdmFsaWRhdGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgcGhvbmUgaXMgdmFsaWRcbiAgICovXG4gIHN0YXRpYyB2YWxpZGF0ZVBob25lKHBob25lKSB7XG4gICAgY29uc3QgY2xlYW5lZCA9IHBob25lLnJlcGxhY2UoL1tcXHNcXC1cXChcXCldL2csICcnKTtcbiAgICByZXR1cm4gL15bMC05XXsxMH0kLy50ZXN0KGNsZWFuZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgcmVxdWlyZWQgZmllbGRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsdWUgdG8gdmFsaWRhdGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdmFsdWUgaXMgbm90IGVtcHR5XG4gICAqL1xuICBzdGF0aWMgdmFsaWRhdGVSZXF1aXJlZCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpICE9PSAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBtaW5pbXVtIGxlbmd0aFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWx1ZSB0byB2YWxpZGF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluTGVuZ3RoIC0gTWluaW11bSBsZW5ndGhcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdmFsdWUgbWVldHMgbWluaW11bSBsZW5ndGhcbiAgICovXG4gIHN0YXRpYyB2YWxpZGF0ZU1pbkxlbmd0aCh2YWx1ZSwgbWluTGVuZ3RoKSB7XG4gICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgbWF4aW11bSBsZW5ndGhcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsdWUgdG8gdmFsaWRhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heExlbmd0aCAtIE1heGltdW0gbGVuZ3RoXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHZhbHVlIGlzIHdpdGhpbiBtYXhpbXVtIGxlbmd0aFxuICAgKi9cbiAgc3RhdGljIHZhbGlkYXRlTWF4TGVuZ3RoKHZhbHVlLCBtYXhMZW5ndGgpIHtcbiAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IG1heExlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBwYXNzd29yZCBzdHJlbmd0aFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBQYXNzd29yZCB0byB2YWxpZGF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFZhbGlkYXRpb24gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBWYWxpZGF0aW9uIHJlc3VsdCB3aXRoIGluZGl2aWR1YWwgY2hlY2tzXG4gICAqL1xuICBzdGF0aWMgdmFsaWRhdGVQYXNzd29yZChwYXNzd29yZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgbWluTGVuZ3RoID0gOCxcbiAgICAgIHJlcXVpcmVVcHBlcmNhc2UgPSB0cnVlLFxuICAgICAgcmVxdWlyZUxvd2VyY2FzZSA9IHRydWUsXG4gICAgICByZXF1aXJlTnVtYmVyID0gdHJ1ZSxcbiAgICAgIHJlcXVpcmVTcGVjaWFsID0gZmFsc2UsXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgIGxlbmd0aDogcGFzc3dvcmQubGVuZ3RoID49IG1pbkxlbmd0aCxcbiAgICAgIHVwcGVyY2FzZTogIXJlcXVpcmVVcHBlcmNhc2UgfHwgL1tBLVpdLy50ZXN0KHBhc3N3b3JkKSxcbiAgICAgIGxvd2VyY2FzZTogIXJlcXVpcmVMb3dlcmNhc2UgfHwgL1thLXpdLy50ZXN0KHBhc3N3b3JkKSxcbiAgICAgIG51bWJlcjogIXJlcXVpcmVOdW1iZXIgfHwgL1swLTldLy50ZXN0KHBhc3N3b3JkKSxcbiAgICAgIHNwZWNpYWw6ICFyZXF1aXJlU3BlY2lhbCB8fCAvWyFAIyQlXiYqKCksLj9cIjp7fXw8Pl0vLnRlc3QocGFzc3dvcmQpLFxuICAgIH07XG5cbiAgICByZXN1bHQudmFsaWQgPSByZXN1bHQubGVuZ3RoICYmIHJlc3VsdC51cHBlcmNhc2UgJiYgcmVzdWx0Lmxvd2VyY2FzZSAmJiByZXN1bHQubnVtYmVyICYmIHJlc3VsdC5zcGVjaWFsO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB0aGF0IHR3byB2YWx1ZXMgbWF0Y2hcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlMSAtIEZpcnN0IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZTIgLSBTZWNvbmQgdmFsdWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdmFsdWVzIG1hdGNoXG4gICAqL1xuICBzdGF0aWMgdmFsaWRhdGVNYXRjaCh2YWx1ZTEsIHZhbHVlMikge1xuICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMjtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEZPUk0gU1RBVEVcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU2hvdyBlcnJvciBzdGF0ZSBvbiBhIGZvcm0gZ3JvdXBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkSWQgLSBGaWVsZCBJRCAod2l0aG91dCAnR3JvdXAnIHN1ZmZpeClcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBFcnJvciBtZXNzYWdlXG4gICAqL1xuICBzdGF0aWMgc2hvd0Vycm9yKGZpZWxkSWQsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ZpZWxkSWR9R3JvdXBgKTtcbiAgICBjb25zdCBlcnJvckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZmllbGRJZH1FcnJvcmApO1xuXG4gICAgaWYgKGdyb3VwKSB7XG4gICAgICBncm91cC5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtc3VjY2VzcycsICdoYXMtd2FybmluZycsICdoYXMtaW5mbycpO1xuICAgICAgZ3JvdXAuY2xhc3NMaXN0LmFkZCgnaGFzLWVycm9yJyk7XG4gICAgfVxuICAgIGlmIChlcnJvckVsICYmIG1lc3NhZ2UpIHtcbiAgICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHN1Y2Nlc3Mgc3RhdGUgb24gYSBmb3JtIGdyb3VwXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZElkIC0gRmllbGQgSUQgKHdpdGhvdXQgJ0dyb3VwJyBzdWZmaXgpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gU3VjY2VzcyBtZXNzYWdlIChvcHRpb25hbClcbiAgICovXG4gIHN0YXRpYyBzaG93U3VjY2VzcyhmaWVsZElkLCBtZXNzYWdlID0gJycpIHtcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ZpZWxkSWR9R3JvdXBgKTtcbiAgICBjb25zdCBzdWNjZXNzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtmaWVsZElkfVN1Y2Nlc3NgKTtcblxuICAgIGlmIChncm91cCkge1xuICAgICAgZ3JvdXAuY2xhc3NMaXN0LnJlbW92ZSgnaGFzLWVycm9yJywgJ2hhcy13YXJuaW5nJywgJ2hhcy1pbmZvJyk7XG4gICAgICBncm91cC5jbGFzc0xpc3QuYWRkKCdoYXMtc3VjY2VzcycpO1xuICAgIH1cbiAgICBpZiAoc3VjY2Vzc0VsICYmIG1lc3NhZ2UpIHtcbiAgICAgIHN1Y2Nlc3NFbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgd2FybmluZyBzdGF0ZSBvbiBhIGZvcm0gZ3JvdXBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkSWQgLSBGaWVsZCBJRCAod2l0aG91dCAnR3JvdXAnIHN1ZmZpeClcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBXYXJuaW5nIG1lc3NhZ2VcbiAgICovXG4gIHN0YXRpYyBzaG93V2FybmluZyhmaWVsZElkLCBtZXNzYWdlKSB7XG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtmaWVsZElkfUdyb3VwYCk7XG4gICAgY29uc3Qgd2FybmluZ0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZmllbGRJZH1XYXJuaW5nYCk7XG5cbiAgICBpZiAoZ3JvdXApIHtcbiAgICAgIGdyb3VwLmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1lcnJvcicsICdoYXMtc3VjY2VzcycsICdoYXMtaW5mbycpO1xuICAgICAgZ3JvdXAuY2xhc3NMaXN0LmFkZCgnaGFzLXdhcm5pbmcnKTtcbiAgICB9XG4gICAgaWYgKHdhcm5pbmdFbCAmJiBtZXNzYWdlKSB7XG4gICAgICB3YXJuaW5nRWwudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGluZm8gc3RhdGUgb24gYSBmb3JtIGdyb3VwXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZElkIC0gRmllbGQgSUQgKHdpdGhvdXQgJ0dyb3VwJyBzdWZmaXgpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gSW5mbyBtZXNzYWdlXG4gICAqL1xuICBzdGF0aWMgc2hvd0luZm8oZmllbGRJZCwgbWVzc2FnZSkge1xuICAgIGNvbnN0IGdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZmllbGRJZH1Hcm91cGApO1xuICAgIGNvbnN0IGluZm9FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ZpZWxkSWR9SW5mb2ApO1xuXG4gICAgaWYgKGdyb3VwKSB7XG4gICAgICBncm91cC5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtZXJyb3InLCAnaGFzLXN1Y2Nlc3MnLCAnaGFzLXdhcm5pbmcnKTtcbiAgICAgIGdyb3VwLmNsYXNzTGlzdC5hZGQoJ2hhcy1pbmZvJyk7XG4gICAgfVxuICAgIGlmIChpbmZvRWwgJiYgbWVzc2FnZSkge1xuICAgICAgaW5mb0VsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgZXJyb3Igc3RhdGUgb24gYSBmb3JtIGdyb3VwXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZElkIC0gRmllbGQgSUQgKHdpdGhvdXQgJ0dyb3VwJyBzdWZmaXgpXG4gICAqL1xuICBzdGF0aWMgY2xlYXJFcnJvcihmaWVsZElkKSB7XG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtmaWVsZElkfUdyb3VwYCk7XG4gICAgaWYgKGdyb3VwKSB7XG4gICAgICBncm91cC5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtZXJyb3InKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHZhbGlkYXRpb24gc3RhdGVzIG9uIGEgZm9ybSBncm91cFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRJZCAtIEZpZWxkIElEICh3aXRob3V0ICdHcm91cCcgc3VmZml4KVxuICAgKi9cbiAgc3RhdGljIGNsZWFyVmFsaWRhdGlvbihmaWVsZElkKSB7XG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtmaWVsZElkfUdyb3VwYCk7XG4gICAgaWYgKGdyb3VwKSB7XG4gICAgICBncm91cC5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtZXJyb3InLCAnaGFzLXN1Y2Nlc3MnLCAnaGFzLXdhcm5pbmcnLCAnaGFzLWluZm8nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIGVycm9ycyBpbiBhIGZvcm1cbiAgICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR8c3RyaW5nfSBmb3JtIC0gRm9ybSBlbGVtZW50IG9yIHNlbGVjdG9yXG4gICAqL1xuICBzdGF0aWMgY2xlYXJBbGxFcnJvcnMoZm9ybSkge1xuICAgIGNvbnN0IGZvcm1FbCA9IHR5cGVvZiBmb3JtID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSkgOiBmb3JtO1xuICAgIGlmICghZm9ybUVsKSByZXR1cm47XG5cbiAgICBmb3JtRWwucXVlcnlTZWxlY3RvckFsbCgnLmhhcy1lcnJvcicpLmZvckVhY2goZWwgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGFzLWVycm9yJyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGxvYWRpbmcgc3RhdGUgb24gYSBidXR0b25cbiAgICogQHBhcmFtIHtIVE1MQnV0dG9uRWxlbWVudHxzdHJpbmd9IGJ1dHRvbiAtIEJ1dHRvbiBlbGVtZW50IG9yIHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNMb2FkaW5nIC0gV2hldGhlciB0byBzaG93IGxvYWRpbmcgc3RhdGVcbiAgICovXG4gIHN0YXRpYyBzZXRCdXR0b25Mb2FkaW5nKGJ1dHRvbiwgaXNMb2FkaW5nKSB7XG4gICAgY29uc3QgYnRuID0gdHlwZW9mIGJ1dHRvbiA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ1dHRvbikgOiBidXR0b247XG4gICAgaWYgKCFidG4pIHJldHVybjtcblxuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdzby1sb2FkaW5nJyk7XG4gICAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnc28tbG9hZGluZycpO1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmb3JtIGRhdGEgYXMgYW4gb2JqZWN0XG4gICAqIEBwYXJhbSB7SFRNTEZvcm1FbGVtZW50fHN0cmluZ30gZm9ybSAtIEZvcm0gZWxlbWVudCBvciBzZWxlY3RvclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3JtIGRhdGEgb2JqZWN0XG4gICAqL1xuICBzdGF0aWMgZ2V0Rm9ybURhdGEoZm9ybSkge1xuICAgIGNvbnN0IGZvcm1FbCA9IHR5cGVvZiBmb3JtID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSkgOiBmb3JtO1xuICAgIGlmICghZm9ybUVsKSByZXR1cm4ge307XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtRWwpO1xuICAgIGNvbnN0IGRhdGEgPSB7fTtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGZvcm1EYXRhLmVudHJpZXMoKSkge1xuICAgICAgLy8gSGFuZGxlIG11bHRpcGxlIHZhbHVlcyAobGlrZSBjaGVja2JveGVzKVxuICAgICAgaWYgKGRhdGFba2V5XSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YVtrZXldKSkge1xuICAgICAgICAgIGRhdGFba2V5XSA9IFtkYXRhW2tleV1dO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBmb3JtIGRhdGEgZnJvbSBhbiBvYmplY3RcbiAgICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR8c3RyaW5nfSBmb3JtIC0gRm9ybSBlbGVtZW50IG9yIHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0YSBvYmplY3RcbiAgICovXG4gIHN0YXRpYyBzZXRGb3JtRGF0YShmb3JtLCBkYXRhKSB7XG4gICAgY29uc3QgZm9ybUVsID0gdHlwZW9mIGZvcm0gPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtKSA6IGZvcm07XG4gICAgaWYgKCFmb3JtRWwpIHJldHVybjtcblxuICAgIE9iamVjdC5lbnRyaWVzKGRhdGEpLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkID0gZm9ybUVsLmVsZW1lbnRzW25hbWVdO1xuICAgICAgaWYgKCFmaWVsZCkgcmV0dXJuO1xuXG4gICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICBmaWVsZC5jaGVja2VkID0gISF2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICBjb25zdCByYWRpbyA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGBpbnB1dFtuYW1lPVwiJHtuYW1lfVwiXVt2YWx1ZT1cIiR7dmFsdWV9XCJdYCk7XG4gICAgICAgIGlmIChyYWRpbykgcmFkaW8uY2hlY2tlZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IGZvcm0gdG8gaW5pdGlhbCBzdGF0ZVxuICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudHxzdHJpbmd9IGZvcm0gLSBGb3JtIGVsZW1lbnQgb3Igc2VsZWN0b3JcbiAgICovXG4gIHN0YXRpYyByZXNldEZvcm0oZm9ybSkge1xuICAgIGNvbnN0IGZvcm1FbCA9IHR5cGVvZiBmb3JtID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSkgOiBmb3JtO1xuICAgIGlmICghZm9ybUVsKSByZXR1cm47XG5cbiAgICBmb3JtRWwucmVzZXQoKTtcbiAgICBTT0Zvcm1zLmNsZWFyQWxsRXJyb3JzKGZvcm1FbCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBNQVNLSU5HXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIE1hc2sgYW4gZW1haWwgYWRkcmVzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZW1haWwgLSBFbWFpbCB0byBtYXNrXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IE1hc2tlZCBlbWFpbFxuICAgKi9cbiAgc3RhdGljIG1hc2tFbWFpbChlbWFpbCkge1xuICAgIGNvbnN0IFtsb2NhbCwgZG9tYWluXSA9IGVtYWlsLnNwbGl0KCdAJyk7XG4gICAgaWYgKCFkb21haW4pIHJldHVybiBlbWFpbDtcblxuICAgIGNvbnN0IG1hc2tlZExvY2FsID0gbG9jYWwuY2hhckF0KDApICtcbiAgICAgICcqJy5yZXBlYXQoTWF0aC5taW4obG9jYWwubGVuZ3RoIC0gMiwgNCkpICtcbiAgICAgIGxvY2FsLmNoYXJBdChsb2NhbC5sZW5ndGggLSAxKTtcblxuICAgIHJldHVybiBgJHttYXNrZWRMb2NhbH1AJHtkb21haW59YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXNrIGEgcGhvbmUgbnVtYmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwaG9uZSAtIFBob25lIG51bWJlciB0byBtYXNrXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IE1hc2tlZCBwaG9uZVxuICAgKi9cbiAgc3RhdGljIG1hc2tQaG9uZShwaG9uZSkge1xuICAgIGNvbnN0IGNsZWFuZWQgPSBwaG9uZS5yZXBsYWNlKC9bXFxzXFwtXFwoXFwpXS9nLCAnJyk7XG4gICAgaWYgKGNsZWFuZWQubGVuZ3RoIDwgNCkgcmV0dXJuIHBob25lO1xuXG4gICAgcmV0dXJuIGNsZWFuZWQuc2xpY2UoMCwgMikgKyAnKicucmVwZWF0KGNsZWFuZWQubGVuZ3RoIC0gNCkgKyBjbGVhbmVkLnNsaWNlKC0yKTtcbiAgfVxufVxuXG4vKipcbiAqIFNPVGV4dGFyZWFBdXRvc2l6ZSAtIEF1dG8tZXhwYW5kaW5nIHRleHRhcmVhXG4gKiBBdXRvbWF0aWNhbGx5IGFkanVzdHMgaGVpZ2h0IGJhc2VkIG9uIGNvbnRlbnRcbiAqL1xuY2xhc3MgU09UZXh0YXJlYUF1dG9zaXplIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhdXRvc2l6ZSB0ZXh0YXJlYVxuICAgKiBAcGFyYW0ge0hUTUxUZXh0QXJlYUVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGV4dGFyZWEgZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBtaW5IZWlnaHQ6IG9wdGlvbnMubWluSGVpZ2h0IHx8IDgwLFxuICAgICAgbWF4SGVpZ2h0OiBvcHRpb25zLm1heEhlaWdodCB8fCA0MDAsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIHRoaXMuX2luaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBhdXRvc2l6ZSBmdW5jdGlvbmFsaXR5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICAvLyBTdG9yZSBvcmlnaW5hbCBzdHlsZXNcbiAgICB0aGlzLl9vcmlnaW5hbFN0eWxlcyA9IHtcbiAgICAgIGhlaWdodDogdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCxcbiAgICAgIG92ZXJmbG93OiB0aGlzLmVsZW1lbnQuc3R5bGUub3ZlcmZsb3csXG4gICAgICByZXNpemU6IHRoaXMuZWxlbWVudC5zdHlsZS5yZXNpemVcbiAgICB9O1xuXG4gICAgLy8gQXBwbHkgYXV0b3NpemUgc3R5bGVzXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnJlc2l6ZSA9ICdub25lJztcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gYCR7dGhpcy5vcHRpb25zLm1pbkhlaWdodH1weGA7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLm1heEhlaWdodCA9IGAke3RoaXMub3B0aW9ucy5tYXhIZWlnaHR9cHhgO1xuXG4gICAgLy8gQmluZCBldmVudHNcbiAgICB0aGlzLl9ib3VuZFJlc2l6ZSA9IHRoaXMuX3Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2JvdW5kUmVzaXplKTtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fYm91bmRSZXNpemUpO1xuXG4gICAgLy8gSW5pdGlhbCByZXNpemVcbiAgICB0aGlzLl9yZXNpemUoKTtcblxuICAgIC8vIEhhbmRsZSB3aW5kb3cgcmVzaXplXG4gICAgdGhpcy5fYm91bmRXaW5kb3dSZXNpemUgPSB0aGlzLl9yZXNpemUuYmluZCh0aGlzKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYm91bmRXaW5kb3dSZXNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgdGV4dGFyZWEgYmFzZWQgb24gY29udGVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Jlc2l6ZSgpIHtcbiAgICAvLyBSZXNldCBoZWlnaHQgdG8gYXV0byB0byBnZXQgdGhlIGNvcnJlY3Qgc2Nyb2xsSGVpZ2h0XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcblxuICAgIC8vIENhbGN1bGF0ZSBuZXcgaGVpZ2h0XG4gICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5lbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICBjb25zdCBuZXdIZWlnaHQgPSBNYXRoLm1pbihcbiAgICAgIE1hdGgubWF4KHNjcm9sbEhlaWdodCwgdGhpcy5vcHRpb25zLm1pbkhlaWdodCksXG4gICAgICB0aGlzLm9wdGlvbnMubWF4SGVpZ2h0XG4gICAgKTtcblxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xuXG4gICAgLy8gU2hvdyBzY3JvbGxiYXIgaWYgY29udGVudCBleGNlZWRzIG1heCBoZWlnaHRcbiAgICBpZiAoc2Nyb2xsSGVpZ2h0ID4gdGhpcy5vcHRpb25zLm1heEhlaWdodCkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB9XG5cbiAgICAvLyBEaXNwYXRjaCBjdXN0b20gZXZlbnRcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NvOmF1dG9zaXplJywge1xuICAgICAgZGV0YWlsOiB7IGhlaWdodDogbmV3SGVpZ2h0LCBzY3JvbGxIZWlnaHQgfVxuICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNvbnRlbnQgYW5kIHJlc2l6ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBOZXcgdmFsdWVcbiAgICovXG4gIHVwZGF0ZSh2YWx1ZSkge1xuICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX3Jlc2l6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIGF1dG9zaXplIGluc3RhbmNlXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lcnNcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9ib3VuZFJlc2l6ZSk7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2JvdW5kUmVzaXplKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYm91bmRXaW5kb3dSZXNpemUpO1xuXG4gICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBzdHlsZXNcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5fb3JpZ2luYWxTdHlsZXMuaGVpZ2h0O1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IHRoaXMuX29yaWdpbmFsU3R5bGVzLm92ZXJmbG93O1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5yZXNpemUgPSB0aGlzLl9vcmlnaW5hbFN0eWxlcy5yZXNpemU7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLm1pbkhlaWdodCA9ICcnO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5tYXhIZWlnaHQgPSAnJztcblxuICAgIC8vIFJlbW92ZSBpbnN0YW5jZSByZWZlcmVuY2VcbiAgICBkZWxldGUgdGhpcy5lbGVtZW50Ll9zb0F1dG9zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvciBjcmVhdGUgaW5zdGFuY2UgZm9yIGVsZW1lbnRcbiAgICogQHBhcmFtIHtIVE1MVGV4dEFyZWFFbGVtZW50fSBlbGVtZW50IC0gVGhlIHRleHRhcmVhIGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHJldHVybnMge1NPVGV4dGFyZWFBdXRvc2l6ZX1cbiAgICovXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbGVtZW50LCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWVsZW1lbnQuX3NvQXV0b3NpemUpIHtcbiAgICAgIGVsZW1lbnQuX3NvQXV0b3NpemUgPSBuZXcgU09UZXh0YXJlYUF1dG9zaXplKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudC5fc29BdXRvc2l6ZTtcbiAgfVxufVxuXG4vLyBBdXRvLWluaXRpYWxpemUgd2hlbiBET00gaXMgcmVhZHlcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIFNPRm9ybXMuaW5pdEFsbCgpO1xufSk7XG5cbi8vIEV4cG9zZSB0byBnbG9iYWwgc2NvcGVcbndpbmRvdy5TT0Zvcm1zID0gU09Gb3JtcztcbndpbmRvdy5TT1RleHRhcmVhQXV0b3NpemUgPSBTT1RleHRhcmVhQXV0b3NpemU7XG53aW5kb3cuU09CdXR0b25Hcm91cCA9IFNPQnV0dG9uR3JvdXA7XG53aW5kb3cuU09Qcm9ncmVzc0J1dHRvbiA9IFNPUHJvZ3Jlc3NCdXR0b247XG5cbi8vIEV4cG9ydCBmb3IgRVMgbW9kdWxlc1xuZXhwb3J0IGRlZmF1bHQgU09Gb3JtcztcbmV4cG9ydCB7IFNPRm9ybXMsIFNPVGV4dGFyZWFBdXRvc2l6ZSwgU09CdXR0b25Hcm91cCwgU09Qcm9ncmVzc0J1dHRvbiB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBFTEVNRU5UIEJBU0UgQ0xBU1Ncbi8vIEZvdW5kYXRpb24gZm9yIGFsbCBVSSBFbmdpbmUgZWxlbWVudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBTT0NvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL3NvLWNvbXBvbmVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG4vKipcbiAqIEVsZW1lbnQgLSBCYXNlIGNsYXNzIGZvciBhbGwgVUkgRW5naW5lIGVsZW1lbnRzXG4gKiBFeHRlbmRzIFNPQ29tcG9uZW50IHdpdGggY29uZmlnLWJhc2VkIGNyZWF0aW9uIGFuZCByZW5kZXJpbmdcbiAqL1xuY2xhc3MgRWxlbWVudCBleHRlbmRzIFNPQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1lbGVtZW50JztcblxuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICB0YWdOYW1lOiAnZGl2JyxcbiAgICAgICAgcmVuZGVyTW9kZTogJ2RvbScsIC8vICdkb20nIHwgJ2h0bWwnXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBFbGVtZW50XG4gICAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbWVudE9yQ29uZmlnIC0gRE9NIGVsZW1lbnQgb3IgY29uZmlnIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gLSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50T3JDb25maWcsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAvLyBJZiBmaXJzdCBhcmcgaXMgY29uZmlnIChubyBET00gZWxlbWVudCksIHdlJ3JlIGNyZWF0aW5nIGZyb20gY29uZmlnXG4gICAgICAgIGlmIChlbGVtZW50T3JDb25maWcgJiYgdHlwZW9mIGVsZW1lbnRPckNvbmZpZyA9PT0gJ29iamVjdCcgJiYgIWVsZW1lbnRPckNvbmZpZy5ub2RlVHlwZSkge1xuICAgICAgICAgICAgLy8gQ29uZmlnIG1vZGUgLSBjcmVhdGUgZWxlbWVudCBsYXRlclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gZWxlbWVudE9yQ29uZmlnO1xuICAgICAgICAgICAgc3VwZXIobnVsbCwge30pOyAvLyBTa2lwIFNPQ29tcG9uZW50IGVsZW1lbnQgdmFsaWRhdGlvblxuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5faW5pdEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbCBTT0NvbXBvbmVudCBtb2RlIC0gZWxlbWVudCBleGlzdHNcbiAgICAgICAgICAgIHN1cGVyKGVsZW1lbnRPckNvbmZpZywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcgPSBvcHRpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3NlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fZXh0cmFBdHRyaWJ1dGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9kYXRhQXR0cmlidXRlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29uZmlnIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0geyAuLi50aGlzLmNvbnN0cnVjdG9yLkRFRkFVTFRTLCAuLi5jb25maWcgfTtcblxuICAgICAgICAvLyBUeXBlIGFuZCB0YWdcbiAgICAgICAgdGhpcy5fdHlwZSA9IGNvbmZpZy50eXBlIHx8ICdlbGVtZW50JztcbiAgICAgICAgdGhpcy5fdGFnTmFtZSA9IGNvbmZpZy50YWdOYW1lIHx8ICdkaXYnO1xuICAgICAgICB0aGlzLl9pZCA9IGNvbmZpZy5pZCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gY29uZmlnLmNvbnRlbnQgfHwgbnVsbDtcblxuICAgICAgICAvLyBDbGFzc2VzXG4gICAgICAgIGlmIChjb25maWcuY2xhc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBBcnJheS5pc0FycmF5KGNvbmZpZy5jbGFzcylcbiAgICAgICAgICAgICAgICA/IGNvbmZpZy5jbGFzc1xuICAgICAgICAgICAgICAgIDogU3RyaW5nKGNvbmZpZy5jbGFzcykuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICAgIGNsYXNzZXMuZm9yRWFjaChjbHMgPT4gdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChjbHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF0dHJpYnV0ZXNcbiAgICAgICAgaWYgKGNvbmZpZy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhjb25maWcuYXR0cmlidXRlcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFBdHRyaWJ1dGVzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgIGlmIChjb25maWcuZGF0YSkge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmRhdGEpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFBdHRyaWJ1dGVzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGZyb20gY29uZmlnXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgICAqL1xuICAgIHN0YXRpYyBtYWtlKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhjb25maWcpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZsdWVudCBBUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBlbGVtZW50IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0SWQoaWQpIHtcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlkID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGVsZW1lbnQgSURcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZWxlbWVudCBJRCAoYWxpYXMgZm9yIHNldElkKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGlkKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldElkKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgQ1NTIGNsYXNzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldENsYXNzKGNsYXNzTmFtZSkge1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gU3RyaW5nKGNsYXNzTmFtZSkuc3BsaXQoL1xccysvKTtcbiAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKGNscyA9PiB7XG4gICAgICAgICAgICBpZiAoY2xzKSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKGNscyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzLmZpbHRlcihCb29sZWFuKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIENTUyBjbGFzc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB1bnNldENsYXNzKGNsYXNzTmFtZSkge1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gU3RyaW5nKGNsYXNzTmFtZSkuc3BsaXQoL1xccysvKTtcbiAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKGNscyA9PiB0aGlzLl9leHRyYUNsYXNzZXMuZGVsZXRlKGNscykpO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgSFRNTCBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRBdHRyKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhQXR0cmlidXRlcy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEhUTUwgYXR0cmlidXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBnZXRBdHRyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4dHJhQXR0cmlidXRlcy5nZXQobmFtZSkgPz9cbiAgICAgICAgICAgICAgICh0aGlzLmVsZW1lbnQgPyB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpIDogbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIEhUTUwgYXR0cmlidXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICByZW1vdmVBdHRyKG5hbWUpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShuYW1lKTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZGF0YSBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFdpdGhvdXQgZGF0YS0gcHJlZml4XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldERhdGFBdHRyKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFBdHRyaWJ1dGVzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kYXRhc2V0W3RoaXMuX2NhbWVsQ2FzZShuYW1lKV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgZGF0YSBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGdldERhdGFBdHRyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFBdHRyaWJ1dGVzLmdldChuYW1lKSA/P1xuICAgICAgICAgICAgICAgKHRoaXMuZWxlbWVudCA/IHRoaXMuZWxlbWVudC5kYXRhc2V0W3RoaXMuX2NhbWVsQ2FzZShuYW1lKV0gOiBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBjb250ZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRDb250ZW50KGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWwgZmx1ZW50IG1ldGhvZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29uZGl0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZmFsbGJhY2tdXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgd2hlbihjb25kaXRpb24sIGNhbGxiYWNrLCBmYWxsYmFjayA9IG51bGwpIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2spIHtcbiAgICAgICAgICAgIGZhbGxiYWNrKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBIVE1MIHRhZyBuYW1lXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRUYWdOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFnTmFtZSB8fCAnZGl2JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgZWxlbWVudCB0eXBlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZSB8fCAnZWxlbWVudCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZWxlbWVudCBpcyBzZWxmLWNsb3NpbmdcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1NlbGZDbG9zaW5nKCkge1xuICAgICAgICBjb25zdCB2b2lkRWxlbWVudHMgPSBbXG4gICAgICAgICAgICAnYXJlYScsICdiYXNlJywgJ2JyJywgJ2NvbCcsICdlbWJlZCcsICdocicsICdpbWcnLFxuICAgICAgICAgICAgJ2lucHV0JywgJ2xpbmsnLCAnbWV0YScsICdwYXJhbScsICdzb3VyY2UnLCAndHJhY2snLCAnd2JyJ1xuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdm9pZEVsZW1lbnRzLmluY2x1ZGVzKHRoaXMuZ2V0VGFnTmFtZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Mgc3RyaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9leHRyYUNsYXNzZXMpLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhdHRyaWJ1dGVzIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHt9O1xuXG4gICAgICAgIC8vIElEXG4gICAgICAgIGlmICh0aGlzLl9pZCkge1xuICAgICAgICAgICAgYXR0cnMuaWQgPSB0aGlzLl9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsYXNzZXNcbiAgICAgICAgY29uc3QgY2xhc3NTdHJpbmcgPSB0aGlzLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICAgICAgaWYgKGNsYXNzU3RyaW5nKSB7XG4gICAgICAgICAgICBhdHRycy5jbGFzcyA9IGNsYXNzU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVndWxhciBhdHRyaWJ1dGVzXG4gICAgICAgIHRoaXMuX2V4dHJhQXR0cmlidXRlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERhdGEgYXR0cmlidXRlc1xuICAgICAgICB0aGlzLl9kYXRhQXR0cmlidXRlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBhdHRyc1tgZGF0YS0ke3RoaXMuX2tlYmFiQ2FzZShrZXkpfWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhdHRyaWJ1dGVzIHN0cmluZyBmb3IgSFRNTFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVTdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gdGhpcy5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcblxuICAgICAgICBPYmplY3QuZW50cmllcyhhdHRycykuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh0aGlzLl9lc2NhcGVIdG1sKG5hbWUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChgJHt0aGlzLl9lc2NhcGVIdG1sKG5hbWUpfT1cIiR7dGhpcy5fZXNjYXBlSHRtbChTdHJpbmcodmFsdWUpKX1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcGFydHMuam9pbignICcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb250ZW50IGluc2lkZSB0aGUgZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVuZGVyIGNoaWxkcmVuXG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gY2hpbGQudG9IdG1sKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdG8gRE9NIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5nZXRUYWdOYW1lKCkpO1xuXG4gICAgICAgIC8vIEFwcGx5IGF0dHJpYnV0ZXNcbiAgICAgICAgY29uc3QgYXR0cnMgPSB0aGlzLmJ1aWxkQXR0cmlidXRlcygpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhhdHRycykuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBcHBseSBjb250ZW50XG4gICAgICAgIGlmICghdGhpcy5pc1NlbGZDbG9zaW5nKCkpIHtcbiAgICAgICAgICAgIC8vIFRleHQgY29udGVudFxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHRoaXMuX2NvbnRlbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoaWxkcmVuXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGNoaWxkLnJlbmRlcigpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWw7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdG8gSFRNTCBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRvSHRtbCgpIHtcbiAgICAgICAgY29uc3QgdGFnID0gdGhpcy5nZXRUYWdOYW1lKCk7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gdGhpcy5idWlsZEF0dHJpYnV0ZVN0cmluZygpO1xuICAgICAgICBjb25zdCBhdHRyU3RyID0gYXR0cnMgPyBgICR7YXR0cnN9YCA6ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLmlzU2VsZkNsb3NpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGA8JHt0YWd9JHthdHRyU3RyfT5gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGA8JHt0YWd9JHthdHRyU3RyfT4ke3RoaXMucmVuZGVyQ29udGVudCgpfTwvJHt0YWd9PmA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kIHRvIGEgY29udGFpbmVyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fEhUTUxFbGVtZW50fHN0cmluZ30gY29udGFpbmVyXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYXBwZW5kVG8oY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKVxuICAgICAgICAgICAgOiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCA/IGNvbnRhaW5lci5lbGVtZW50IDogY29udGFpbmVyKTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlcGVuZCB0byBhIGNvbnRhaW5lclxuICAgICAqIEBwYXJhbSB7RWxlbWVudHxIVE1MRWxlbWVudHxzdHJpbmd9IGNvbnRhaW5lclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHByZXBlbmRUbyhjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdHlwZW9mIGNvbnRhaW5lciA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpXG4gICAgICAgICAgICA6IChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50ID8gY29udGFpbmVyLmVsZW1lbnQgOiBjb250YWluZXIpO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUodGhpcy5yZW5kZXIoKSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbmZpZyBFeHBvcnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gY29uZmlnIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuZ2V0VHlwZSgpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9pZCkgY29uZmlnLmlkID0gdGhpcy5faWQ7XG4gICAgICAgIGlmICh0aGlzLl9leHRyYUNsYXNzZXMuc2l6ZSA+IDApIGNvbmZpZy5jbGFzcyA9IEFycmF5LmZyb20odGhpcy5fZXh0cmFDbGFzc2VzKTtcbiAgICAgICAgaWYgKHRoaXMuX2V4dHJhQXR0cmlidXRlcy5zaXplID4gMCkgY29uZmlnLmF0dHJpYnV0ZXMgPSBPYmplY3QuZnJvbUVudHJpZXModGhpcy5fZXh0cmFBdHRyaWJ1dGVzKTtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGFBdHRyaWJ1dGVzLnNpemUgPiAwKSBjb25maWcuZGF0YSA9IE9iamVjdC5mcm9tRW50cmllcyh0aGlzLl9kYXRhQXR0cmlidXRlcyk7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSBjb25maWcuY29udGVudCA9IHRoaXMuX2NvbnRlbnQ7XG4gICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25maWcuY2hpbGRyZW4gPSB0aGlzLl9jaGlsZHJlbi5tYXAoY2hpbGQgPT5cbiAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIEVsZW1lbnQgPyBjaGlsZC50b0NvbmZpZygpIDogY2hpbGRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gSlNPTiBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2luZGVudF1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRvSnNvbihpbmRlbnQgPSAwKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvQ29uZmlnKCksIG51bGwsIGluZGVudCk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gVXRpbGl0eSBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNhbWVsQ2FzZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NhbWVsQ2FzZShzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8tKFthLXpdKS9nLCAoXywgbGV0dGVyKSA9PiBsZXR0ZXIudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBrZWJhYi1jYXNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfa2ViYWJDYXNlKHN0cikge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlIEhUTUwgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZXNjYXBlSHRtbChzdHIpIHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi50ZXh0Q29udGVudCA9IHN0cjtcbiAgICAgICAgLy8gaW5uZXJIVE1MIGVzY2FwZXMgPCwgPiwgJiBidXQgbm90IHF1b3Rlc1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGFsc28gZXNjYXBlIHF1b3RlcyBmb3IgYXR0cmlidXRlIHZhbHVlc1xuICAgICAgICByZXR1cm4gZGl2LmlubmVySFRNTC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JykucmVwbGFjZSgvJy9nLCAnJiMzOTsnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaCBjdXN0b20gZXZlbnQgb24gdGhlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gRXZlbnQgbmFtZSAoZS5nLiwgJ3NvOnByb2dyZXNzOmNoYW5nZScpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRldGFpbCAtIEV2ZW50IGRldGFpbCBkYXRhXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGlzcGF0Y2hFdmVudChldmVudE5hbWUsIGRldGFpbCA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZXRhaWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhlIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy50b0NvbmZpZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5tYWtlKGNvbmZpZyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFbGVtZW50O1xuZXhwb3J0IHsgRWxlbWVudCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBGT1JNIEVMRU1FTlQgQkFTRSBDTEFTU1xuLy8gRm91bmRhdGlvbiBmb3IgYWxsIGZvcm0gZWxlbWVudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBGb3JtRWxlbWVudCAtIEJhc2UgY2xhc3MgZm9yIGFsbCBmb3JtIGVsZW1lbnRzXG4gKiBFeHRlbmRzIEVsZW1lbnQgd2l0aCBmb3JtLXNwZWNpZmljIGZ1bmN0aW9uYWxpdHlcbiAqL1xuY2xhc3MgRm9ybUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1mb3JtLWVsZW1lbnQnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnZm9ybS1lbGVtZW50JyxcbiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIC8vIEZvcm0tc3BlY2lmaWMgcHJvcGVydGllc1xuICAgICAgICB0aGlzLl9uYW1lID0gY29uZmlnLm5hbWUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fbGFiZWwgPSBjb25maWcubGFiZWwgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBjb25maWcudmFsdWUgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXIgPSBjb25maWcucGxhY2Vob2xkZXIgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5faGVscCA9IGNvbmZpZy5oZWxwIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gY29uZmlnLmRpc2FibGVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWFkb25seSA9IGNvbmZpZy5yZWFkb25seSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVxdWlyZWQgPSBjb25maWcucmVxdWlyZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2Vycm9yID0gY29uZmlnLmVycm9yIHx8IG51bGw7XG5cbiAgICAgICAgLy8gVmFsaWRhdGlvblxuICAgICAgICB0aGlzLl9ydWxlcyA9IGNvbmZpZy5ydWxlcyB8fCB7fTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMgPSBjb25maWcubWVzc2FnZXMgfHwge307XG5cbiAgICAgICAgLy8gRXZlbnRzXG4gICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMgPSBjb25maWcuZXZlbnRzIHx8IHt9O1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZsdWVudCBBUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBmaWVsZCBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBmaWVsZCBuYW1lXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBsYWJlbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldExhYmVsKGxhYmVsKSB7XG4gICAgICAgIHRoaXMuX2xhYmVsID0gbGFiZWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBsYWJlbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICBnZXRMYWJlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHBsYWNlaG9sZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsYWNlaG9sZGVyXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0UGxhY2Vob2xkZXIocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHBsYWNlaG9sZGVyXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGdldFBsYWNlaG9sZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGhlbHAgdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZWxwXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0SGVscChoZWxwKSB7XG4gICAgICAgIHRoaXMuX2hlbHAgPSBoZWxwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgaGVscCB0ZXh0XG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGdldEhlbHAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWxwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBkaXNhYmxlZCBzdGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzYWJsZWRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXREaXNhYmxlZChkaXNhYmxlZCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZGlzYWJsZWRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0Rpc2FibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHJlYWRvbmx5IHN0YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZWFkb25seVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFJlYWRvbmx5KHJlYWRvbmx5ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9yZWFkb25seSA9IHJlYWRvbmx5O1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVhZE9ubHkgPSByZWFkb25seTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZWFkb25seVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzUmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkb25seTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgcmVxdWlyZWQgc3RhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlcXVpcmVkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0UmVxdWlyZWQocmVxdWlyZWQgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3JlcXVpcmVkID0gcmVxdWlyZWQ7XG4gICAgICAgIGlmICghdGhpcy5fcnVsZXMucmVxdWlyZWQgJiYgcmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3J1bGVzLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXF1aXJlZFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzUmVxdWlyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1aXJlZCB8fCAhIXRoaXMuX3J1bGVzLnJlcXVpcmVkO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFZhbGlkYXRpb25cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YWxpZGF0aW9uIHJ1bGVzXG4gICAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBydWxlc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFJ1bGVzKHJ1bGVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcnVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLl9ydWxlcyA9IHRoaXMuX3BhcnNlUnVsZVN0cmluZyhydWxlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9ydWxlcyA9IHsgLi4udGhpcy5fcnVsZXMsIC4uLnJ1bGVzIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHZhbGlkYXRpb24gcnVsZXNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGdldFJ1bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcnVsZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgaGFzIHJ1bGVzXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzUnVsZXMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9ydWxlcykubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB2YWxpZGF0aW9uIHJ1bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcnVsZVxuICAgICAqIEBwYXJhbSB7Kn0gcGFyYW1zXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWRkUnVsZShydWxlLCBwYXJhbXMgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3J1bGVzW3J1bGVdID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY3VzdG9tIHZhbGlkYXRpb24gbWVzc2FnZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWVzc2FnZXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRNZXNzYWdlcyhtZXNzYWdlcykge1xuICAgICAgICB0aGlzLl9tZXNzYWdlcyA9IHsgLi4udGhpcy5fbWVzc2FnZXMsIC4uLm1lc3NhZ2VzIH07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjdXN0b20gbWVzc2FnZXNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGdldE1lc3NhZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgcnVsZSBzdHJpbmcgbGlrZSBcInJlcXVpcmVkfGVtYWlsfG1heDoyNTVcIlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBydWxlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGFyc2VSdWxlU3RyaW5nKHJ1bGVzKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHt9O1xuXG4gICAgICAgIHJ1bGVzLnNwbGl0KCd8JykuZm9yRWFjaChydWxlID0+IHtcbiAgICAgICAgICAgIHJ1bGUgPSBydWxlLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghcnVsZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAocnVsZS5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW25hbWUsIHBhcmFtc10gPSBydWxlLnNwbGl0KCc6JywgMik7XG4gICAgICAgICAgICAgICAgcGFyc2VkW25hbWVdID0gcGFyYW1zLmluY2x1ZGVzKCcsJykgPyBwYXJhbXMuc3BsaXQoJywnKSA6IHBhcmFtcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkW3J1bGVdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBFcnJvciBIYW5kbGluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGVycm9yIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBlcnJvclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldEVycm9yKGVycm9yKSB7XG4gICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdpcy1pbnZhbGlkJykpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVycm9yRGlzcGxheShlcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygnaXMtaW52YWxpZCcpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVFcnJvckRpc3BsYXkobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgZXJyb3IgbWVzc2FnZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICBnZXRFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGhhcyBlcnJvclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGhhc0Vycm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3IgIT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgZXJyb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjbGVhckVycm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRFcnJvcihudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgZXJyb3IgZGlzcGxheSBpbiBET01cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBlcnJvclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZUVycm9yRGlzcGxheShlcnJvcikge1xuICAgICAgICAvLyBGaW5kIG9yIGNyZWF0ZSBlcnJvciBlbGVtZW50XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLmVsZW1lbnQuY2xvc2VzdChTaXhPcmJpdC5zZWwoJ2Zvcm0tZ3JvdXAnKSk7XG4gICAgICAgIGlmICghd3JhcHBlcikgcmV0dXJuO1xuXG4gICAgICAgIGxldCBlcnJvckVsID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKFNpeE9yYml0LnNlbCgnaW52YWxpZC1mZWVkYmFjaycpKTtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICghZXJyb3JFbCkge1xuICAgICAgICAgICAgICAgIGVycm9yRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBlcnJvckVsLmNsYXNzTmFtZSA9IFNpeE9yYml0LmNscygnaW52YWxpZC1mZWVkYmFjaycpO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZXJyb3JFbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlcnJvckVsLnRleHRDb250ZW50ID0gZXJyb3I7XG4gICAgICAgICAgICBlcnJvckVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yRWwpIHtcbiAgICAgICAgICAgIGVycm9yRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEV2ZW50c1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGV2ZW50IGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbn0gaGFuZGxlclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uRXZlbnQoZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY2hhbmdlIGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbn0gaGFuZGxlclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uQ2hhbmdlKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25FdmVudCgnY2hhbmdlJywgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGJsdXIgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25CbHVyKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25FdmVudCgnYmx1cicsIGhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBmb2N1cyBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvbkZvY3VzKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25FdmVudCgnZm9jdXMnLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaW5wdXQgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25JbnB1dChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uRXZlbnQoJ2lucHV0JywgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gVmFsaWRhdGlvbiBDb252ZW5pZW5jZVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqIFJlcXVpcmVkIHZhbGlkYXRpb24gKi9cbiAgICByZXF1aXJlZCgpIHsgcmV0dXJuIHRoaXMuYWRkUnVsZSgncmVxdWlyZWQnLCB0cnVlKTsgfVxuXG4gICAgLyoqIEVtYWlsIHZhbGlkYXRpb24gKi9cbiAgICBlbWFpbCgpIHsgcmV0dXJuIHRoaXMuYWRkUnVsZSgnZW1haWwnLCB0cnVlKTsgfVxuXG4gICAgLyoqIE1pbiBsZW5ndGgvdmFsdWUgKi9cbiAgICBtaW4odmFsdWUpIHsgcmV0dXJuIHRoaXMuYWRkUnVsZSgnbWluJywgdmFsdWUpOyB9XG5cbiAgICAvKiogTWF4IGxlbmd0aC92YWx1ZSAqL1xuICAgIG1heCh2YWx1ZSkgeyByZXR1cm4gdGhpcy5hZGRSdWxlKCdtYXgnLCB2YWx1ZSk7IH1cblxuICAgIC8qKiBCZXR3ZWVuIHJhbmdlICovXG4gICAgYmV0d2VlbihtaW4sIG1heCkgeyByZXR1cm4gdGhpcy5hZGRSdWxlKCdiZXR3ZWVuJywgW21pbiwgbWF4XSk7IH1cblxuICAgIC8qKiBOdW1lcmljIHZhbGlkYXRpb24gKi9cbiAgICBudW1lcmljKCkgeyByZXR1cm4gdGhpcy5hZGRSdWxlKCdudW1lcmljJywgdHJ1ZSk7IH1cblxuICAgIC8qKiBJbnRlZ2VyIHZhbGlkYXRpb24gKi9cbiAgICBpbnRlZ2VyKCkgeyByZXR1cm4gdGhpcy5hZGRSdWxlKCdpbnRlZ2VyJywgdHJ1ZSk7IH1cblxuICAgIC8qKiBVUkwgdmFsaWRhdGlvbiAqL1xuICAgIHVybCgpIHsgcmV0dXJuIHRoaXMuYWRkUnVsZSgndXJsJywgdHJ1ZSk7IH1cblxuICAgIC8qKiBQYXR0ZXJuIHZhbGlkYXRpb24gKi9cbiAgICBwYXR0ZXJuKHJlZ2V4KSB7IHJldHVybiB0aGlzLmFkZFJ1bGUoJ3JlZ2V4JywgcmVnZXgpOyB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGF0dHJpYnV0ZXMgaW5jbHVkaW5nIGZvcm0tc3BlY2lmaWMgb25lc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9uYW1lKSBhdHRycy5uYW1lID0gdGhpcy5fbmFtZTtcbiAgICAgICAgaWYgKHRoaXMuX3BsYWNlaG9sZGVyKSBhdHRycy5wbGFjZWhvbGRlciA9IHRoaXMuX3BsYWNlaG9sZGVyO1xuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQpIGF0dHJzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3JlYWRvbmx5KSBhdHRycy5yZWFkb25seSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmlzUmVxdWlyZWQoKSkgYXR0cnMucmVxdWlyZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIFZhbHVlIChmb3IgaW5wdXQgZWxlbWVudHMpXG4gICAgICAgIGlmICh0aGlzLl92YWx1ZSAhPT0gbnVsbCAmJiB0aGlzLl9zaG91bGRSZW5kZXJWYWx1ZUF0dHIoKSkge1xuICAgICAgICAgICAgYXR0cnMudmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIHJlbmRlciB2YWx1ZSBhcyBhdHRyaWJ1dGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3Nob3VsZFJlbmRlclZhbHVlQXR0cigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgQ1NTIGNsYXNzIHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2Zvcm0tY29udHJvbCcpKTtcblxuICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdpcy1pbnZhbGlkJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgd2l0aCBsYWJlbCBhbmQgaGVscFxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICByZW5kZXJHcm91cCgpIHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZ3JvdXAuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdmb3JtLWdyb3VwJyk7XG5cbiAgICAgICAgLy8gTGFiZWxcbiAgICAgICAgaWYgKHRoaXMuX2xhYmVsKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2Zvcm0tbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gdGhpcy5fbGFiZWw7XG4gICAgICAgICAgICBpZiAodGhpcy5faWQpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHRoaXMuX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmVxdWlyZWQoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgc3Rhci5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ3RleHQtZGFuZ2VyJyk7XG4gICAgICAgICAgICAgICAgc3Rhci50ZXh0Q29udGVudCA9ICcgKic7XG4gICAgICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoc3Rhcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncm91cC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnB1dCBlbGVtZW50XG4gICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyKCkpO1xuXG4gICAgICAgIC8vIEhlbHAgdGV4dFxuICAgICAgICBpZiAodGhpcy5faGVscCkge1xuICAgICAgICAgICAgY29uc3QgaGVscCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgaGVscC5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2Zvcm0tdGV4dCcpO1xuICAgICAgICAgICAgaGVscC50ZXh0Q29udGVudCA9IHRoaXMuX2hlbHA7XG4gICAgICAgICAgICBncm91cC5hcHBlbmRDaGlsZChoZWxwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVycm9yXG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGVycm9yLmNsYXNzTmFtZSA9IFNpeE9yYml0LmNscygnaW52YWxpZC1mZWVkYmFjaycpO1xuICAgICAgICAgICAgZXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICBlcnJvci50ZXh0Q29udGVudCA9IHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF0dGFjaCBldmVudCBoYW5kbGVycyBhZnRlciByZW5kZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2F0dGFjaEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5fZXZlbnRIYW5kbGVycykuZm9yRWFjaCgoW2V2ZW50LCBoYW5kbGVyXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHdpbmRvd1toYW5kbGVyXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB3aW5kb3dbaGFuZGxlcl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdG8gRE9NXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZWwgPSBzdXBlci5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWcgb2JqZWN0XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcblxuICAgICAgICBpZiAodGhpcy5fbmFtZSkgY29uZmlnLm5hbWUgPSB0aGlzLl9uYW1lO1xuICAgICAgICBpZiAodGhpcy5fbGFiZWwpIGNvbmZpZy5sYWJlbCA9IHRoaXMuX2xhYmVsO1xuICAgICAgICBpZiAodGhpcy5fdmFsdWUgIT09IG51bGwpIGNvbmZpZy52YWx1ZSA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fcGxhY2Vob2xkZXIpIGNvbmZpZy5wbGFjZWhvbGRlciA9IHRoaXMuX3BsYWNlaG9sZGVyO1xuICAgICAgICBpZiAodGhpcy5faGVscCkgY29uZmlnLmhlbHAgPSB0aGlzLl9oZWxwO1xuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQpIGNvbmZpZy5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9yZWFkb25seSkgY29uZmlnLnJlYWRvbmx5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVpcmVkKSBjb25maWcucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fcnVsZXMpLmxlbmd0aCA+IDApIGNvbmZpZy5ydWxlcyA9IHRoaXMuX3J1bGVzO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fbWVzc2FnZXMpLmxlbmd0aCA+IDApIGNvbmZpZy5tZXNzYWdlcyA9IHRoaXMuX21lc3NhZ2VzO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fZXZlbnRIYW5kbGVycykubGVuZ3RoID4gMCkgY29uZmlnLmV2ZW50cyA9IHRoaXMuX2V2ZW50SGFuZGxlcnM7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdmFsaWRhdGlvbiBmb3IgSlMgZW5naW5lXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBleHBvcnRWYWxpZGF0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcnVsZXM6IHRoaXMuX3J1bGVzLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHRoaXMuX21lc3NhZ2VzLFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybUVsZW1lbnQ7XG5leHBvcnQgeyBGb3JtRWxlbWVudCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBDT05UQUlORVIgRUxFTUVOVCBDTEFTU1xuLy8gRm91bmRhdGlvbiBmb3IgY29udGFpbmVyIGVsZW1lbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi9FbGVtZW50LmpzJztcblxuLyoqXG4gKiBDb250YWluZXJFbGVtZW50IC0gQmFzZSBjbGFzcyBmb3IgY29udGFpbmVyIGVsZW1lbnRzXG4gKiBFeHRlbmRzIEVsZW1lbnQgd2l0aCBjaGlsZHJlbiBtYW5hZ2VtZW50XG4gKi9cbmNsYXNzIENvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1jb250YWluZXInO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBjaGlsZHJlbiBmcm9tIGNvbmZpZ1xuICAgICAgICBpZiAoY29uZmlnLmNoaWxkcmVuICYmIEFycmF5LmlzQXJyYXkoY29uZmlnLmNoaWxkcmVuKSkge1xuICAgICAgICAgICAgY29uZmlnLmNoaWxkcmVuLmZvckVhY2goY2hpbGRDb25maWcgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZENvbmZpZyBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChjaGlsZENvbmZpZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGRDb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEltcG9ydCBVaUVuZ2luZSBsYXppbHkgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuX2NyZWF0ZUNoaWxkRnJvbUNvbmZpZyhjaGlsZENvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBjaGlsZCBlbGVtZW50IGZyb20gY29uZmlnXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jcmVhdGVDaGlsZEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBvdmVycmlkZGVuIHdoZW4gVWlFbmdpbmUgaXMgYXZhaWxhYmxlXG4gICAgICAgIC8vIEZvciBub3csIGp1c3Qgc3RvcmUgdGhlIGNvbmZpZ1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENoaWxkcmVuIE1hbmFnZW1lbnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgY2hpbGRyZW5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0Q2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5fY2hpbGRyZW5dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNoaWxkIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWRkKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLl9jcmVhdGVDaGlsZEZyb21Db25maWcoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgbXVsdGlwbGUgY2hpbGRyZW5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50c1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFkZE1hbnkoZWxlbWVudHMpIHtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB0aGlzLmFkZChlbCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVwZW5kIGEgY2hpbGRcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgcHJlcGVuZChlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4udW5zaGlmdChlbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5fY3JlYXRlQ2hpbGRGcm9tQ29uZmlnKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4udW5zaGlmdChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0IGF0IHNwZWNpZmljIGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGluc2VydEF0KGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgIGxldCBjaGlsZCA9IGVsZW1lbnQ7XG4gICAgICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSAmJiB0eXBlb2YgZWxlbWVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNoaWxkID0gdGhpcy5fY3JlYXRlQ2hpbGRGcm9tQ29uZmlnKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgY2hpbGRcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBlbGVtZW50IC0gRWxlbWVudCBvciBJRFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHJlbW92ZShlbGVtZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBieSBJRFxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSB0aGlzLl9jaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT5cbiAgICAgICAgICAgICAgICAhKGNoaWxkIGluc3RhbmNlb2YgRWxlbWVudCkgfHwgY2hpbGQuZ2V0SWQoKSAhPT0gZWxlbWVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBieSBpbnN0YW5jZVxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSB0aGlzLl9jaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT4gY2hpbGQgIT09IGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBjaGlsZCBhdCBpbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHJlbW92ZUF0KGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGhhcyBjaGlsZHJlblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGhhc0NoaWxkcmVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY2hpbGQgY291bnRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCBjaGlsZHJlblxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGNoaWxkIGJ5IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAgICogQHJldHVybnMge0VsZW1lbnR8bnVsbH1cbiAgICAgKi9cbiAgICBmaW5kKGlkKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZ2V0SWQoKSA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZWN1cnNpdmUgc2VhcmNoXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQ29udGFpbmVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IGNoaWxkLmZpbmQoaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmQpIHJldHVybiBmb3VuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBhbGwgbWF0Y2hpbmcgYSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIGZpbmRBbGwoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgZm91bmQgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVjdXJzaXZlIHNlYXJjaFxuICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIENvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQucHVzaCguLi5jaGlsZC5maW5kQWxsKGNhbGxiYWNrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgZmlyc3QgbWF0Y2hpbmcgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9XG4gICAgICovXG4gICAgZmluZEZpcnN0KGNhbGxiYWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2soY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQ29udGFpbmVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IGNoaWxkLmZpbmRGaXJzdChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGZvdW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGJ5IG5hbWUgKGZvciBmb3JtIGVsZW1lbnRzKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge0VsZW1lbnR8bnVsbH1cbiAgICAgKi9cbiAgICBmaW5kQnlOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEZpcnN0KGVsID0+XG4gICAgICAgICAgICB0eXBlb2YgZWwuZ2V0TmFtZSA9PT0gJ2Z1bmN0aW9uJyAmJiBlbC5nZXROYW1lKCkgPT09IG5hbWVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGZvcm0gZWxlbWVudHNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0Rm9ybUVsZW1lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kQWxsKGVsID0+IHR5cGVvZiBlbC5nZXROYW1lID09PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY2hpbGQgYXQgaW5kZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudHxudWxsfVxuICAgICAqL1xuICAgIGdldENoaWxkQXQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuW2luZGV4XSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBmaXJzdCBjaGlsZFxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9XG4gICAgICovXG4gICAgZmlyc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlblswXSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBsYXN0IGNoaWxkXG4gICAgICogQHJldHVybnMge0VsZW1lbnR8bnVsbH1cbiAgICAgKi9cbiAgICBsYXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW5bdGhpcy5fY2hpbGRyZW4ubGVuZ3RoIC0gMV0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb3ZlciBjaGlsZHJlblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIG1hcChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4ubWFwKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIGZvciBlYWNoIGNoaWxkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBlYWNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgY2hpbGRyZW5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGZpbHRlcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IHRoaXMuX2NoaWxkcmVuLmZpbHRlcihjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIERhdGEgT3BlcmF0aW9uc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRmlsbCBmb3JtIGVsZW1lbnRzIHdpdGggZGF0YVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZmlsbChkYXRhKSB7XG4gICAgICAgIHRoaXMuZ2V0Rm9ybUVsZW1lbnRzKCkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50LmdldE5hbWUoKTtcbiAgICAgICAgICAgIGlmIChuYW1lICYmIGRhdGEuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldFZhbHVlKGRhdGFbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGVycm9ycyBvbiBmb3JtIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVycm9yc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldEVycm9ycyhlcnJvcnMpIHtcbiAgICAgICAgdGhpcy5nZXRGb3JtRWxlbWVudHMoKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGVsZW1lbnQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgaWYgKG5hbWUgJiYgZXJyb3JzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBBcnJheS5pc0FycmF5KGVycm9yc1tuYW1lXSkgPyBlcnJvcnNbbmFtZV1bMF0gOiBlcnJvcnNbbmFtZV07XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbGwgZXJyb3JzXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY2xlYXJFcnJvcnMoKSB7XG4gICAgICAgIHRoaXMuZ2V0Rm9ybUVsZW1lbnRzKCkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGVhckVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGVhckVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdmFsdWVzIGZyb20gYWxsIGZvcm0gZWxlbWVudHNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGdldFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICAgIHRoaXMuZ2V0Rm9ybUVsZW1lbnRzKCkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50LmdldE5hbWUoKTtcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdID0gZWxlbWVudC5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBvcnQgdmFsaWRhdGlvbiBydWxlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZXhwb3J0VmFsaWRhdGlvbigpIHtcbiAgICAgICAgY29uc3QgcnVsZXMgPSB7fTtcbiAgICAgICAgdGhpcy5nZXRGb3JtRWxlbWVudHMoKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGVsZW1lbnQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgaWYgKG5hbWUgJiYgdHlwZW9mIGVsZW1lbnQuaGFzUnVsZXMgPT09ICdmdW5jdGlvbicgJiYgZWxlbWVudC5oYXNSdWxlcygpKSB7XG4gICAgICAgICAgICAgICAgcnVsZXNbbmFtZV0gPSBlbGVtZW50LmV4cG9ydFZhbGlkYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBydWxlcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjaGlsZHJlblxuICAgICAqIEByZXR1cm5zIHtEb2N1bWVudEZyYWdtZW50fVxuICAgICAqL1xuICAgIHJlbmRlckNoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgICAgICB0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjaGlsZC5yZW5kZXIoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGQgPT09ICdvYmplY3QnICYmIGNoaWxkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBDb25maWcgb2JqZWN0IC0gdHJ5IHRvIHJlbmRlciB2aWEgVWlFbmdpbmUgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5VaUVuZ2luZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gd2luZG93LlVpRW5naW5lLmZyb21Db25maWcoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50LnJlbmRlcigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgY29udGVudCAoY2hpbGRyZW4gSFRNTClcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gc3VwZXIucmVuZGVyQ29udGVudCgpO1xuXG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gY2hpbGQudG9IdG1sKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwoY2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGQgPT09ICdvYmplY3QnICYmIGNoaWxkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBDb25maWcgb2JqZWN0IC0gcmVuZGVyIHZpYSBVaUVuZ2luZSBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LlVpRW5naW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB3aW5kb3cuVWlFbmdpbmUuZnJvbUNvbmZpZyhjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gZWxlbWVudC50b0h0bWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0byBET01cbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5nZXRUYWdOYW1lKCkpO1xuXG4gICAgICAgIC8vIEFwcGx5IGF0dHJpYnV0ZXNcbiAgICAgICAgY29uc3QgYXR0cnMgPSB0aGlzLmJ1aWxkQXR0cmlidXRlcygpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhhdHRycykuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDb250ZW50XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLl9jb250ZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGlsZHJlblxuICAgICAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckNoaWxkcmVuKCkpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25maWcuY2hpbGRyZW4gPSB0aGlzLl9jaGlsZHJlbi5tYXAoY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnRvQ29uZmlnKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRhaW5lckVsZW1lbnQ7XG5leHBvcnQgeyBDb250YWluZXJFbGVtZW50IH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIFZBTElEQVRJT04gUlVMRVNcbi8vIEJ1aWx0LWluIHZhbGlkYXRpb24gcnVsZXMgbWF0Y2hpbmcgUEhQIFZhbGlkYXRvclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDaGVjayBpZiB2YWx1ZSBpcyBlbXB0eVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGlzRW1wdHkgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZS50cmltKCkgPT09ICcnO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMDtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgcmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBCdWlsdC1pbiB2YWxpZGF0aW9uIHJ1bGVzXG4gKi9cbmV4cG9ydCBjb25zdCBydWxlcyA9IHtcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZXF1aXJlZCBSdWxlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgcmVxdWlyZWQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpID0+ICFpc0VtcHR5KHZhbHVlKSxcbiAgICAgICAgbWVzc2FnZTogJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJ1xuICAgIH0sXG5cbiAgICBhY2NlcHRlZDoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4gWyd5ZXMnLCAnb24nLCAnMScsIDEsIHRydWUsICd0cnVlJ10uaW5jbHVkZXModmFsdWUpLFxuICAgICAgICBtZXNzYWdlOiAnVGhpcyBmaWVsZCBtdXN0IGJlIGFjY2VwdGVkLidcbiAgICB9LFxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gVHlwZSBSdWxlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgZW1haWw6IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC8udGVzdCh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLidcbiAgICB9LFxuXG4gICAgdXJsOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXcgVVJMKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC8uKy8udGVzdCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuJ1xuICAgIH0sXG5cbiAgICBudW1lcmljOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIC9eLT9cXGQqXFwuP1xcZCskLy50ZXN0KFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGEgbnVtYmVyLidcbiAgICB9LFxuXG4gICAgaW50ZWdlcjoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkodmFsdWUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAvXi0/XFxkKyQvLnRlc3QoU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB3aG9sZSBudW1iZXIuJ1xuICAgIH0sXG5cbiAgICBhbHBoYToge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkodmFsdWUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAvXlthLXpBLVpdKyQvLnRlc3QodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnT25seSBsZXR0ZXJzIGFyZSBhbGxvd2VkLidcbiAgICB9LFxuXG4gICAgYWxwaGFfbnVtOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIC9eW2EtekEtWjAtOV0rJC8udGVzdCh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdPbmx5IGxldHRlcnMgYW5kIG51bWJlcnMgYXJlIGFsbG93ZWQuJ1xuICAgIH0sXG5cbiAgICBhbHBoYV9kYXNoOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIC9eW2EtekEtWjAtOV8tXSskLy50ZXN0KHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ09ubHkgbGV0dGVycywgbnVtYmVycywgZGFzaGVzIGFuZCB1bmRlcnNjb3JlcyBhcmUgYWxsb3dlZC4nXG4gICAgfSxcblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNpemUgUnVsZXNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIG1pbjoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSwgbWluKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY29uc3QgbWluVmFsID0gcGFyc2VJbnQobWluLCAxMCk7XG5cbiAgICAgICAgICAgIC8vIEZvciBudW1lcmljIHZhbHVlcywgY29tcGFyZSBhcyBudW1iZXJzXG4gICAgICAgICAgICBpZiAoIWlzTmFOKE51bWJlcih2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSkgPj0gbWluVmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGb3Igc3RyaW5ncywgY29tcGFyZSBsZW5ndGhcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpLmxlbmd0aCA+PSBtaW5WYWw7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdNdXN0IGJlIGF0IGxlYXN0IDptaW4gY2hhcmFjdGVycy4nXG4gICAgfSxcblxuICAgIG1heDoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSwgbWF4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY29uc3QgbWF4VmFsID0gcGFyc2VJbnQobWF4LCAxMCk7XG5cbiAgICAgICAgICAgIC8vIEZvciBudW1lcmljIHZhbHVlcywgY29tcGFyZSBhcyBudW1iZXJzXG4gICAgICAgICAgICBpZiAoIWlzTmFOKE51bWJlcih2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSkgPD0gbWF4VmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGb3Igc3RyaW5ncywgY29tcGFyZSBsZW5ndGhcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpLmxlbmd0aCA8PSBtYXhWYWw7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdNdXN0IG5vdCBleGNlZWQgOm1heCBjaGFyYWN0ZXJzLidcbiAgICB9LFxuXG4gICAgYmV0d2Vlbjoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY29uc3QgW21pbiwgbWF4XSA9IEFycmF5LmlzQXJyYXkocGFyYW1zKSA/IHBhcmFtcyA6IFtwYXJhbXMsIHBhcmFtc107XG4gICAgICAgICAgICBjb25zdCBtaW5WYWwgPSBwYXJzZUludChtaW4sIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IG1heFZhbCA9IHBhcnNlSW50KG1heCwgMTApO1xuXG4gICAgICAgICAgICAvLyBGb3IgbnVtZXJpYyB2YWx1ZXNcbiAgICAgICAgICAgIGlmICghaXNOYU4oTnVtYmVyKHZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1WYWwgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudW1WYWwgPj0gbWluVmFsICYmIG51bVZhbCA8PSBtYXhWYWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZvciBzdHJpbmdzLCBjb21wYXJlIGxlbmd0aFxuICAgICAgICAgICAgY29uc3QgbGVuID0gU3RyaW5nKHZhbHVlKS5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gbGVuID49IG1pblZhbCAmJiBsZW4gPD0gbWF4VmFsO1xuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnTXVzdCBiZSBiZXR3ZWVuIDptaW4gYW5kIDptYXguJ1xuICAgIH0sXG5cbiAgICBzaXplOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlLCBzaXplKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY29uc3Qgc2l6ZVZhbCA9IHBhcnNlSW50KHNpemUsIDEwKTtcblxuICAgICAgICAgICAgaWYgKCFpc05hTihOdW1iZXIodmFsdWUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpID09PSBzaXplVmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKS5sZW5ndGggPT09IHNpemVWYWw7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdNdXN0IGJlIGV4YWN0bHkgOnZhbHVlIGNoYXJhY3RlcnMuJ1xuICAgIH0sXG5cbiAgICBkaWdpdHM6IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkodmFsdWUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHBhcnNlSW50KGxlbmd0aCwgMTApO1xuICAgICAgICAgICAgcmV0dXJuIC9eXFxkKyQvLnRlc3QodmFsdWUpICYmIFN0cmluZyh2YWx1ZSkubGVuZ3RoID09PSBsZW47XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdNdXN0IGJlIGV4YWN0bHkgOnZhbHVlIGRpZ2l0cy4nXG4gICAgfSxcblxuICAgIGRpZ2l0c19iZXR3ZWVuOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gQXJyYXkuaXNBcnJheShwYXJhbXMpID8gcGFyYW1zIDogW3BhcmFtcywgcGFyYW1zXTtcbiAgICAgICAgICAgIGlmICghL15cXGQrJC8udGVzdCh2YWx1ZSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IFN0cmluZyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIGxlbiA+PSBwYXJzZUludChtaW4sIDEwKSAmJiBsZW4gPD0gcGFyc2VJbnQobWF4LCAxMCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdNdXN0IGJlIGJldHdlZW4gOm1pbiBhbmQgOm1heCBkaWdpdHMuJ1xuICAgIH0sXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBQYXR0ZXJuIFJ1bGVzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICByZWdleDoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSwgcGF0dGVybikgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkodmFsdWUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gcGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCA/IHBhdHRlcm4gOiBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnVGhlIGZvcm1hdCBpcyBpbnZhbGlkLidcbiAgICB9LFxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29tcGFyaXNvbiBSdWxlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgaW46IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUsIGFsbG93ZWRWYWx1ZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBBcnJheS5pc0FycmF5KGFsbG93ZWRWYWx1ZXMpXG4gICAgICAgICAgICAgICAgPyBhbGxvd2VkVmFsdWVzXG4gICAgICAgICAgICAgICAgOiBTdHJpbmcoYWxsb3dlZFZhbHVlcykuc3BsaXQoJywnKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXMubWFwKHYgPT4gU3RyaW5nKHYpLnRyaW0oKSkuaW5jbHVkZXMoU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgb3B0aW9uLidcbiAgICB9LFxuXG4gICAgbm90X2luOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlLCBkaXNhbGxvd2VkVmFsdWVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gQXJyYXkuaXNBcnJheShkaXNhbGxvd2VkVmFsdWVzKVxuICAgICAgICAgICAgICAgID8gZGlzYWxsb3dlZFZhbHVlc1xuICAgICAgICAgICAgICAgIDogU3RyaW5nKGRpc2FsbG93ZWRWYWx1ZXMpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICByZXR1cm4gIXZhbHVlcy5tYXAodiA9PiBTdHJpbmcodikudHJpbSgpKS5pbmNsdWRlcyhTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ1RoZSBzZWxlY3RlZCB2YWx1ZSBpcyBub3QgYWxsb3dlZC4nXG4gICAgfSxcblxuICAgIGNvbmZpcm1lZDoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSwgZmllbGROYW1lLCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAvLyBGaW5kIGNvbmZpcm1hdGlvbiBmaWVsZFxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGVsZW1lbnQubmFtZSB8fCAoZWxlbWVudC5nZXROYW1lID8gZWxlbWVudC5nZXROYW1lKCkgOiAnJyk7XG4gICAgICAgICAgICBjb25zdCBjb25maXJtYXRpb25OYW1lID0gYCR7bmFtZX1fY29uZmlybWF0aW9uYDtcblxuICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgaW4gRE9NXG4gICAgICAgICAgICBsZXQgY29uZmlybUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2NvbmZpcm1hdGlvbk5hbWV9XCJdYCk7XG5cbiAgICAgICAgICAgIC8vIE9yIGZpbmQgaW4gcGFyZW50IGZvcm1cbiAgICAgICAgICAgIGlmICghY29uZmlybUZpZWxkICYmIGVsZW1lbnQuZm9ybSkge1xuICAgICAgICAgICAgICAgIGNvbmZpcm1GaWVsZCA9IGVsZW1lbnQuZm9ybS5lbGVtZW50c1tjb25maXJtYXRpb25OYW1lXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFjb25maXJtRmllbGQpIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGNvbmZpcm1GaWVsZC52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ1RoZSBjb25maXJtYXRpb24gZG9lcyBub3QgbWF0Y2guJ1xuICAgIH0sXG5cbiAgICBzYW1lOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlLCBvdGhlckZpZWxkLCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgb3RoZXJWYWx1ZTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmZvcm0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlciA9IGVsZW1lbnQuZm9ybS5lbGVtZW50c1tvdGhlckZpZWxkXTtcbiAgICAgICAgICAgICAgICBvdGhlclZhbHVlID0gb3RoZXIgPyBvdGhlci52YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke290aGVyRmllbGR9XCJdYCk7XG4gICAgICAgICAgICAgICAgb3RoZXJWYWx1ZSA9IG90aGVyID8gb3RoZXIudmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG90aGVyVmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdUaGlzIGZpZWxkIG11c3QgbWF0Y2ggOm90aGVyLidcbiAgICB9LFxuXG4gICAgZGlmZmVyZW50OiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlLCBvdGhlckZpZWxkLCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgb3RoZXJWYWx1ZTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmZvcm0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlciA9IGVsZW1lbnQuZm9ybS5lbGVtZW50c1tvdGhlckZpZWxkXTtcbiAgICAgICAgICAgICAgICBvdGhlclZhbHVlID0gb3RoZXIgPyBvdGhlci52YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke290aGVyRmllbGR9XCJdYCk7XG4gICAgICAgICAgICAgICAgb3RoZXJWYWx1ZSA9IG90aGVyID8gb3RoZXIudmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IG90aGVyVmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdUaGlzIGZpZWxkIG11c3QgYmUgZGlmZmVyZW50IGZyb20gOm90aGVyLidcbiAgICB9LFxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRGF0ZSBSdWxlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgZGF0ZToge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkodmFsdWUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gIWlzTmFOKGRhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUuJ1xuICAgIH0sXG5cbiAgICBiZWZvcmU6IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUsIGJlZm9yZURhdGUpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gbmV3IERhdGUoYmVmb3JlRGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZSA8IGJlZm9yZTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ011c3QgYmUgYSBkYXRlIGJlZm9yZSA6dmFsdWUuJ1xuICAgIH0sXG5cbiAgICBhZnRlcjoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSwgYWZ0ZXJEYXRlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gbmV3IERhdGUoYWZ0ZXJEYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRlID4gYWZ0ZXI7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdNdXN0IGJlIGEgZGF0ZSBhZnRlciA6dmFsdWUuJ1xuICAgIH0sXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDdXN0b20gVmFsaWRhdG9yc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgcGhvbmU6IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyBCYXNpYyBwaG9uZSB2YWxpZGF0aW9uIC0gYWxsb3dzIHZhcmlvdXMgZm9ybWF0c1xuICAgICAgICAgICAgcmV0dXJuIC9eW1xcZFxcc1xcLVxcK1xcKFxcKV17NywyMH0kLy50ZXN0KHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlci4nXG4gICAgfSxcblxuICAgIGNyZWRpdF9jYXJkOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgLy8gTHVobiBhbGdvcml0aG1cbiAgICAgICAgICAgIGNvbnN0IGRpZ2l0cyA9IFN0cmluZyh2YWx1ZSkucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgICAgIGlmIChkaWdpdHMubGVuZ3RoIDwgMTMgfHwgZGlnaXRzLmxlbmd0aCA+IDE5KSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgbGV0IGlzRXZlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZGlnaXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpZ2l0ID0gcGFyc2VJbnQoZGlnaXRzW2ldLCAxMCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRXZlbikge1xuICAgICAgICAgICAgICAgICAgICBkaWdpdCAqPSAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlnaXQgPiA5KSBkaWdpdCAtPSA5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdW0gKz0gZGlnaXQ7XG4gICAgICAgICAgICAgICAgaXNFdmVuID0gIWlzRXZlbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHN1bSAlIDEwID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgY3JlZGl0IGNhcmQgbnVtYmVyLidcbiAgICB9LFxuXG4gICAganNvbjoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkodmFsdWUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdNdXN0IGJlIHZhbGlkIEpTT04uJ1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJ1bGVzO1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBWQUxJREFUSU9OIEVOR0lORVxuLy8gQ2xpZW50LXNpZGUgdmFsaWRhdGlvbiBtYXRjaGluZyBQSFAgcnVsZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IHJ1bGVzIGFzIGJ1aWx0SW5SdWxlcyB9IGZyb20gJy4vcnVsZXMvaW5kZXguanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBWYWxpZGF0aW9uRW5naW5lIC0gT3JjaGVzdHJhdGVzIGNsaWVudC1zaWRlIHZhbGlkYXRpb25cbiAqIFdvcmtzIHdpdGggcnVsZXMgZXhwb3J0ZWQgZnJvbSBQSFBcbiAqL1xuY2xhc3MgVmFsaWRhdGlvbkVuZ2luZSB7XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJlZCB2YWxpZGF0aW9uIHJ1bGVzXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgcnVsZXMgPSB7IC4uLmJ1aWx0SW5SdWxlcyB9O1xuXG4gICAgLyoqXG4gICAgICogRmllbGQgcnVsZXMgbG9hZGVkIGZyb20gUEhQXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZmllbGRSdWxlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBlcnJvciBtZXNzYWdlc1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGRlZmF1bHRNZXNzYWdlcyA9IHtcbiAgICAgICAgcmVxdWlyZWQ6ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLicsXG4gICAgICAgIGVtYWlsOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4nLFxuICAgICAgICB1cmw6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuJyxcbiAgICAgICAgbnVtZXJpYzogJ1BsZWFzZSBlbnRlciBhIG51bWJlci4nLFxuICAgICAgICBpbnRlZ2VyOiAnUGxlYXNlIGVudGVyIGEgd2hvbGUgbnVtYmVyLicsXG4gICAgICAgIG1pbjogJ011c3QgYmUgYXQgbGVhc3QgOm1pbiBjaGFyYWN0ZXJzLicsXG4gICAgICAgIG1heDogJ011c3Qgbm90IGV4Y2VlZCA6bWF4IGNoYXJhY3RlcnMuJyxcbiAgICAgICAgYmV0d2VlbjogJ011c3QgYmUgYmV0d2VlbiA6bWluIGFuZCA6bWF4IGNoYXJhY3RlcnMuJyxcbiAgICAgICAgaW46ICdQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgb3B0aW9uLicsXG4gICAgICAgIGNvbmZpcm1lZDogJ1RoZSBjb25maXJtYXRpb24gZG9lcyBub3QgbWF0Y2guJyxcbiAgICAgICAgZGF0ZTogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUuJyxcbiAgICAgICAgYWNjZXB0ZWQ6ICdUaGlzIGZpZWxkIG11c3QgYmUgYWNjZXB0ZWQuJyxcbiAgICAgICAgcmVnZXg6ICdUaGUgZm9ybWF0IGlzIGludmFsaWQuJyxcbiAgICAgICAgYWxwaGE6ICdPbmx5IGxldHRlcnMgYXJlIGFsbG93ZWQuJyxcbiAgICAgICAgYWxwaGFfbnVtOiAnT25seSBsZXR0ZXJzIGFuZCBudW1iZXJzIGFyZSBhbGxvd2VkLicsXG4gICAgICAgIHNhbWU6ICdUaGlzIGZpZWxkIG11c3QgbWF0Y2ggOm90aGVyLicsXG4gICAgICAgIGRpZmZlcmVudDogJ1RoaXMgZmllbGQgbXVzdCBiZSBkaWZmZXJlbnQgZnJvbSA6b3RoZXIuJyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZCB2YWxpZGF0aW9uIHJ1bGVzIGZyb20gUEhQIGV4cG9ydFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZm9ybVNlbGVjdG9yT3JSdWxlcyAtIEZvcm0gc2VsZWN0b3Igb3IgcnVsZXMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtydWxlc10gLSBSdWxlcyBpZiBmaXJzdCBwYXJhbSBpcyBzZWxlY3RvclxuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkUnVsZXMoZm9ybVNlbGVjdG9yT3JSdWxlcywgcnVsZXMgPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm9ybVNlbGVjdG9yT3JSdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIFNlbGVjdG9yICsgcnVsZXNcbiAgICAgICAgICAgIGNvbnN0IGZvcm1JZCA9IGZvcm1TZWxlY3Rvck9yUnVsZXMucmVwbGFjZSgnIycsICcnKTtcbiAgICAgICAgICAgIHRoaXMuZmllbGRSdWxlc1tmb3JtSWRdID0gcnVsZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBKdXN0IHJ1bGVzIG9iamVjdFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmZpZWxkUnVsZXMsIGZvcm1TZWxlY3Rvck9yUnVsZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBjdXN0b20gdmFsaWRhdGlvbiBydWxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBSdWxlIG5hbWVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB2YWxpZGF0b3IgLSBWYWxpZGF0aW9uIGZ1bmN0aW9uICh2YWx1ZSwgcGFyYW1zLCBlbGVtZW50KSA9PiBib29sZWFuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttZXNzYWdlXSAtIERlZmF1bHQgZXJyb3IgbWVzc2FnZVxuICAgICAqL1xuICAgIHN0YXRpYyByZWdpc3RlclJ1bGUobmFtZSwgdmFsaWRhdG9yLCBtZXNzYWdlID0gbnVsbCkge1xuICAgICAgICB0aGlzLnJ1bGVzW25hbWVdID0ge1xuICAgICAgICAgICAgdmFsaWRhdG9yLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSB8fCBgVmFsaWRhdGlvbiBmYWlsZWQgZm9yICR7bmFtZX0uYFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBydWxlcyBmb3IgYSBmaWVsZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1JZF1cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRSdWxlc0ZvckZpZWxkKGZpZWxkTmFtZSwgZm9ybUlkID0gbnVsbCkge1xuICAgICAgICBpZiAoZm9ybUlkICYmIHRoaXMuZmllbGRSdWxlc1tmb3JtSWRdICYmIHRoaXMuZmllbGRSdWxlc1tmb3JtSWRdW2ZpZWxkTmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpZWxkUnVsZXNbZm9ybUlkXVtmaWVsZE5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VhcmNoIGFsbCBmb3Jtc1xuICAgICAgICBmb3IgKGNvbnN0IHJ1bGVzIG9mIE9iamVjdC52YWx1ZXModGhpcy5maWVsZFJ1bGVzKSkge1xuICAgICAgICAgICAgaWYgKHJ1bGVzW2ZpZWxkTmFtZV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVsZXNbZmllbGROYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGEgc2luZ2xlIGZpZWxkXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxPYmplY3R9IGVsZW1lbnQgLSBGb3JtIGVsZW1lbnQgb3IgRm9ybUVsZW1lbnQgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2N1c3RvbVJ1bGVzXSAtIE92ZXJyaWRlIHJ1bGVzXG4gICAgICogQHJldHVybnMge3t2YWxpZDogYm9vbGVhbiwgZXJyb3JzOiBzdHJpbmdbXX19XG4gICAgICovXG4gICAgc3RhdGljIHZhbGlkYXRlRmllbGQoZWxlbWVudCwgY3VzdG9tUnVsZXMgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50Lm5hbWUgfHwgKGVsZW1lbnQuZ2V0TmFtZSA/IGVsZW1lbnQuZ2V0TmFtZSgpIDogbnVsbCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZWxlbWVudC52YWx1ZSA/PyAoZWxlbWVudC5nZXRWYWx1ZSA/IGVsZW1lbnQuZ2V0VmFsdWUoKSA6IG51bGwpO1xuXG4gICAgICAgIC8vIEdldCBydWxlc1xuICAgICAgICBsZXQgZmllbGRDb25maWcgPSBjdXN0b21SdWxlcyB8fCB0aGlzLmdldFJ1bGVzRm9yRmllbGQobmFtZSk7XG5cbiAgICAgICAgLy8gQWxzbyBjaGVjayBmb3IgcnVsZXMgZnJvbSBVaUVuZ2luZSBGb3JtRWxlbWVudFxuICAgICAgICBpZiAoIWZpZWxkQ29uZmlnICYmIGVsZW1lbnQuZ2V0UnVsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRSdWxlcyA9IGVsZW1lbnQuZ2V0UnVsZXMoKTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhlbGVtZW50UnVsZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZENvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM6IGVsZW1lbnRSdWxlcyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IGVsZW1lbnQuZ2V0TWVzc2FnZXMgPyBlbGVtZW50LmdldE1lc3NhZ2VzKCkgOiB7fVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZpZWxkQ29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZXJyb3JzOiBbXSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcnVsZXMgPSBmaWVsZENvbmZpZy5ydWxlcyB8fCBmaWVsZENvbmZpZztcbiAgICAgICAgY29uc3QgY3VzdG9tTWVzc2FnZXMgPSBmaWVsZENvbmZpZy5tZXNzYWdlcyB8fCB7fTtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG5cbiAgICAgICAgLy8gUnVuIGVhY2ggcnVsZVxuICAgICAgICBmb3IgKGNvbnN0IFtydWxlTmFtZSwgcGFyYW1zXSBvZiBPYmplY3QuZW50cmllcyhydWxlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB0aGlzLnJ1blJ1bGUocnVsZU5hbWUsIHZhbHVlLCBwYXJhbXMsIGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5nZXRNZXNzYWdlKG5hbWUsIHJ1bGVOYW1lLCBwYXJhbXMsIGN1c3RvbU1lc3NhZ2VzKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBlbGVtZW50IGVycm9yIHN0YXRlXG4gICAgICAgIGlmIChlbGVtZW50LnNldEVycm9yKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEVycm9yKGVycm9ycy5sZW5ndGggPiAwID8gZXJyb3JzWzBdIDogbnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgIC8vIERPTSBlbGVtZW50XG4gICAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdpcy1pbnZhbGlkJykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoU2l4T3JiaXQuY2xzKCdpcy1pbnZhbGlkJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgICAgICAgICAgZXJyb3JzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYW4gZW50aXJlIGZvcm1cbiAgICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudHxPYmplY3R9IGZvcm0gLSBGb3JtIGVsZW1lbnQgb3IgQ29udGFpbmVyRWxlbWVudFxuICAgICAqIEByZXR1cm5zIHt7dmFsaWQ6IGJvb2xlYW4sIGVycm9yczogT2JqZWN0fX1cbiAgICAgKi9cbiAgICBzdGF0aWMgdmFsaWRhdGVGb3JtKGZvcm0pIHtcbiAgICAgICAgY29uc3QgYWxsRXJyb3JzID0ge307XG4gICAgICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAvLyBHZXQgZm9ybSBlbGVtZW50c1xuICAgICAgICBsZXQgZmllbGRzO1xuICAgICAgICBpZiAoZm9ybS5nZXRGb3JtRWxlbWVudHMpIHtcbiAgICAgICAgICAgIC8vIFVpRW5naW5lIENvbnRhaW5lckVsZW1lbnRcbiAgICAgICAgICAgIGZpZWxkcyA9IGZvcm0uZ2V0Rm9ybUVsZW1lbnRzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybS5lbGVtZW50cykge1xuICAgICAgICAgICAgLy8gRE9NIGZvcm1cbiAgICAgICAgICAgIGZpZWxkcyA9IEFycmF5LmZyb20oZm9ybS5lbGVtZW50cykuZmlsdGVyKGVsID0+XG4gICAgICAgICAgICAgICAgZWwubmFtZSAmJiBbJ0lOUFVUJywgJ1NFTEVDVCcsICdURVhUQVJFQSddLmluY2x1ZGVzKGVsLnRhZ05hbWUpXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGVycm9yczoge30gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIGVhY2ggZmllbGRcbiAgICAgICAgZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy52YWxpZGF0ZUZpZWxkKGZpZWxkKTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0LnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBmaWVsZC5uYW1lIHx8IChmaWVsZC5nZXROYW1lID8gZmllbGQuZ2V0TmFtZSgpIDogJ2ZpZWxkJyk7XG4gICAgICAgICAgICAgICAgYWxsRXJyb3JzW25hbWVdID0gcmVzdWx0LmVycm9ycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbGlkOiBpc1ZhbGlkLFxuICAgICAgICAgICAgZXJyb3JzOiBhbGxFcnJvcnNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gYSBzaW5nbGUgdmFsaWRhdGlvbiBydWxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJ1bGVOYW1lXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Kn0gcGFyYW1zXG4gICAgICogQHBhcmFtIHsqfSBlbGVtZW50XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIHJ1blJ1bGUocnVsZU5hbWUsIHZhbHVlLCBwYXJhbXMsIGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgcnVsZSA9IHRoaXMucnVsZXNbcnVsZU5hbWVdO1xuXG4gICAgICAgIGlmICghcnVsZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmtub3duIHZhbGlkYXRpb24gcnVsZTogJHtydWxlTmFtZX1gKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBydWxlLnZhbGlkYXRvcih2YWx1ZSwgcGFyYW1zLCBlbGVtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIHZhbGlkYXRpb24gcnVsZSAke3J1bGVOYW1lfTpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBlcnJvciBtZXNzYWdlIGZvciBhIHJ1bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgLSBGaWVsZCBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJ1bGUgLSBSdWxlIG5hbWVcbiAgICAgKiBAcGFyYW0geyp9IHBhcmFtcyAtIFJ1bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY3VzdG9tTWVzc2FnZXNdIC0gQ3VzdG9tIG1lc3NhZ2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0TWVzc2FnZShmaWVsZCwgcnVsZSwgcGFyYW1zLCBjdXN0b21NZXNzYWdlcyA9IHt9KSB7XG4gICAgICAgIC8vIENoZWNrIGN1c3RvbSBtZXNzYWdlIGZpcnN0XG4gICAgICAgIGlmIChjdXN0b21NZXNzYWdlc1tydWxlXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZVBsYWNlaG9sZGVycyhjdXN0b21NZXNzYWdlc1tydWxlXSwgcGFyYW1zLCBmaWVsZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdWxlLXNwZWNpZmljIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgcnVsZUNvbmZpZyA9IHRoaXMucnVsZXNbcnVsZV07XG4gICAgICAgIGlmIChydWxlQ29uZmlnICYmIHJ1bGVDb25maWcubWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZVBsYWNlaG9sZGVycyhydWxlQ29uZmlnLm1lc3NhZ2UsIHBhcmFtcywgZmllbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCBtZXNzYWdlXG4gICAgICAgIGNvbnN0IGRlZmF1bHRNc2cgPSB0aGlzLmRlZmF1bHRNZXNzYWdlc1tydWxlXSB8fCBgVmFsaWRhdGlvbiBmYWlsZWQgZm9yICR7ZmllbGR9LmA7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VQbGFjZWhvbGRlcnMoZGVmYXVsdE1zZywgcGFyYW1zLCBmaWVsZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZSBwbGFjZWhvbGRlcnMgaW4gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHsqfSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyByZXBsYWNlUGxhY2Vob2xkZXJzKG1lc3NhZ2UsIHBhcmFtcywgZmllbGQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG1lc3NhZ2U7XG5cbiAgICAgICAgLy8gUmVwbGFjZSA6YXR0cmlidXRlIHdpdGggZmllbGQgbmFtZVxuICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvOmF0dHJpYnV0ZS9nLCB0aGlzLmZvcm1hdEZpZWxkTmFtZShmaWVsZCkpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgcGFyYW1zXG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShwYXJhbXMpKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKG5ldyBSZWdFeHAoYDoke2tleX1gLCAnZycpLCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcmFtcykpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBhcnJheSBwYXJhbXMgW21pbiwgbWF4XVxuICAgICAgICAgICAgaWYgKHBhcmFtc1swXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoLzptaW4vZywgcGFyYW1zWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJhbXNbMV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC86bWF4L2csIHBhcmFtc1sxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvOnZhbHVlL2csIHBhcmFtcy5qb2luKCcsICcpKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMgIT09IHRydWUgJiYgcGFyYW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC86dmFsdWUvZywgcGFyYW1zKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC86bWluL2csIHBhcmFtcyk7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvOm1heC9nLCBwYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgZmllbGQgbmFtZSBmb3IgZGlzcGxheVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGZvcm1hdEZpZWxkTmFtZShmaWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEgJDInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tfLV0vZywgJyAnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcYlxcdy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGRlZmF1bHQgbWVzc2FnZSBmb3IgYSBydWxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJ1bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXREZWZhdWx0TWVzc2FnZShydWxlLCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdE1lc3NhZ2VzW3J1bGVdID0gbWVzc2FnZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbXVsdGlwbGUgZGVmYXVsdCBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlc1xuICAgICAqL1xuICAgIHN0YXRpYyBzZXREZWZhdWx0TWVzc2FnZXMobWVzc2FnZXMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmRlZmF1bHRNZXNzYWdlcywgbWVzc2FnZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIG9uIGJsdXIgKGF0dGFjaCB0byBmb3JtKVxuICAgICAqIEBwYXJhbSB7SFRNTEZvcm1FbGVtZW50fHN0cmluZ30gZm9ybVxuICAgICAqL1xuICAgIHN0YXRpYyBhdHRhY2hCbHVyVmFsaWRhdGlvbihmb3JtKSB7XG4gICAgICAgIGNvbnN0IGZvcm1FbCA9IHR5cGVvZiBmb3JtID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSkgOiBmb3JtO1xuICAgICAgICBpZiAoIWZvcm1FbCkgcmV0dXJuO1xuXG4gICAgICAgIGZvcm1FbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUZpZWxkKGUudGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgb24gc3VibWl0IChhdHRhY2ggdG8gZm9ybSlcbiAgICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudHxzdHJpbmd9IGZvcm1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25TdWNjZXNzXSAtIENhbGxiYWNrIG9uIHN1Y2Nlc3NmdWwgdmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkVycm9yXSAtIENhbGxiYWNrIG9uIHZhbGlkYXRpb24gZXJyb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgYXR0YWNoU3VibWl0VmFsaWRhdGlvbihmb3JtLCBvblN1Y2Nlc3MgPSBudWxsLCBvbkVycm9yID0gbnVsbCkge1xuICAgICAgICBjb25zdCBmb3JtRWwgPSB0eXBlb2YgZm9ybSA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm0pIDogZm9ybTtcbiAgICAgICAgaWYgKCFmb3JtRWwpIHJldHVybjtcblxuICAgICAgICBmb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMudmFsaWRhdGVGb3JtKGZvcm1FbCk7XG5cbiAgICAgICAgICAgIGlmICghcmVzdWx0LnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBlcnJvcnNcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LlVpRW5naW5lICYmIHdpbmRvdy5VaUVuZ2luZS5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LlVpRW5naW5lLmVycm9ycy5zaG93QWxsKHJlc3VsdC5lcnJvcnMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IocmVzdWx0LmVycm9ycywgZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRm9jdXMgZmlyc3QgZXJyb3IgZmllbGRcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEVycm9yRmllbGQgPSBPYmplY3Qua2V5cyhyZXN1bHQuZXJyb3JzKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IGZvcm1FbC5lbGVtZW50c1tmaXJzdEVycm9yRmllbGRdO1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbGwgdmFsaWRhdGlvbiBlcnJvcnMgb24gYSBmb3JtXG4gICAgICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR8c3RyaW5nfSBmb3JtXG4gICAgICovXG4gICAgc3RhdGljIGNsZWFyRm9ybUVycm9ycyhmb3JtKSB7XG4gICAgICAgIGNvbnN0IGZvcm1FbCA9IHR5cGVvZiBmb3JtID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSkgOiBmb3JtO1xuICAgICAgICBpZiAoIWZvcm1FbCkgcmV0dXJuO1xuXG4gICAgICAgIGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKFNpeE9yYml0LnNlbCgnaXMtaW52YWxpZCcpKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoU2l4T3JiaXQuY2xzKCdpcy1pbnZhbGlkJykpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3JtRWwucXVlcnlTZWxlY3RvckFsbChTaXhPcmJpdC5zZWwoJ2ludmFsaWQtZmVlZGJhY2snKSkuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZhbGlkYXRpb25FbmdpbmU7XG5leHBvcnQgeyBWYWxpZGF0aW9uRW5naW5lIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIEVSUk9SIFJFUE9SVEVSXG4vLyBDZW50cmFsaXplZCBlcnJvciBkaXNwbGF5IFVJXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgU09Db21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9zby1jb21wb25lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBFcnJvclJlcG9ydGVyIC0gQ2VudHJhbGl6ZWQgZXJyb3IgZGlzcGxheSBjb21wb25lbnRcbiAqIFN1cHBvcnRzIG11bHRpcGxlIHBvc2l0aW9ucyBhbmQgc3R5bGVzXG4gKi9cbmNsYXNzIEVycm9yUmVwb3J0ZXIgZXh0ZW5kcyBTT0NvbXBvbmVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAnZXJyb3ItcmVwb3J0ZXInO1xuXG4gICAgLyoqXG4gICAgICogU3VwcG9ydGVkIHBvc2l0aW9uc1xuICAgICAqL1xuICAgIHN0YXRpYyBQT1NJVElPTlMgPSB7XG4gICAgICAgIFRPUF9SSUdIVDogJ3RvcC1yaWdodCcsXG4gICAgICAgIFRPUF9MRUZUOiAndG9wLWxlZnQnLFxuICAgICAgICBUT1BfQ0VOVEVSOiAndG9wLWNlbnRlcicsXG4gICAgICAgIEJPVFRPTV9SSUdIVDogJ2JvdHRvbS1yaWdodCcsXG4gICAgICAgIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnLFxuICAgICAgICBCT1RUT01fQ0VOVEVSOiAnYm90dG9tLWNlbnRlcicsXG4gICAgICAgIElOTElORV9UT1A6ICdpbmxpbmUtdG9wJyxcbiAgICAgICAgSU5MSU5FX0JPVFRPTTogJ2lubGluZS1ib3R0b20nLFxuICAgIH07XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JyxcbiAgICAgICAgYXV0b0hpZGU6IGZhbHNlLFxuICAgICAgICBhdXRvSGlkZURlbGF5OiA1MDAwLFxuICAgICAgICBhbmltYXRpb246ICdmYWRlJyxcbiAgICAgICAgbWF4RXJyb3JzOiAxMCxcbiAgICAgICAgZ3JvdXBCeUZpZWxkOiB0cnVlLFxuICAgICAgICBzaG93RmllbGRMaW5rczogdHJ1ZSxcbiAgICAgICAgZGlzbWlzc2libGU6IHRydWUsXG4gICAgICAgIHRoZW1lOiAnZGVmYXVsdCcsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNpbmdsZXRvbiBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtFcnJvclJlcG9ydGVyfG51bGx9XG4gICAgICovXG4gICAgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc2luZ2xldG9uIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7RXJyb3JSZXBvcnRlcn1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IEVycm9yUmVwb3J0ZXIobnVsbCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBFcnJvclJlcG9ydGVyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fG51bGx9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAvLyBDcmVhdGUgY29udGFpbmVyIGlmIG5vdCBwcm92aWRlZFxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdlcnJvci1yZXBvcnRlcicpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IHt9O1xuICAgICAgICB0aGlzLl9hdXRvSGlkZVRpbWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjb21wb25lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0KCkge1xuICAgICAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGNvbnRhaW5lciBwb3NpdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZVBvc2l0aW9uKCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcblxuICAgICAgICAvLyBSZW1vdmUgZXhpc3RpbmcgcG9zaXRpb24gY2xhc3Nlc1xuICAgICAgICBPYmplY3QudmFsdWVzKEVycm9yUmVwb3J0ZXIuUE9TSVRJT05TKS5mb3JFYWNoKHBvcyA9PiB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ2Vycm9yLXJlcG9ydGVyJywgcG9zKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBuZXcgcG9zaXRpb24gY2xhc3NcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdlcnJvci1yZXBvcnRlcicsIHBvc2l0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZCBldmVudCBoYW5kbGVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2JpbmRFdmVudHMoKSB7XG4gICAgICAgIC8vIENsb3NlIGJ1dHRvbiBjbGlja1xuICAgICAgICB0aGlzLmRlbGVnYXRlKCdjbGljaycsIFNpeE9yYml0LnNlbCgnZXJyb3ItcmVwb3J0ZXItY2xvc2UnKSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGVhckFsbCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBFcnJvciBpdGVtIGNsaWNrIChmb2N1cyBmaWVsZClcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93RmllbGRMaW5rcykge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZSgnY2xpY2snLCBTaXhPcmJpdC5zZWwoJ2Vycm9yLXJlcG9ydGVyLWl0ZW0nKSwgKGUsIHRhcmdldCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gdGFyZ2V0LmRhdGFzZXQuZmllbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzRmllbGQoZmllbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzbWlzcyBpbmRpdmlkdWFsIGVycm9yXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUoJ2NsaWNrJywgU2l4T3JiaXQuc2VsKCdlcnJvci1pdGVtLWNsb3NlJyksIChlLCB0YXJnZXQpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0YXJnZXQuY2xvc2VzdChTaXhPcmJpdC5zZWwoJ2Vycm9yLXJlcG9ydGVyLWl0ZW0nKSk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBpdGVtLmRhdGFzZXQuZmllbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckZpZWxkKGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlndXJhdGlvblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIHRoZSByZXBvcnRlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY29uZmlndXJlKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBvc2l0aW9uXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEVycm9yIE1hbmFnZW1lbnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNob3cgYWxsIGVycm9ycyBhdCBvbmNlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVycm9ycyAtIEZpZWxkID0+IG1lc3NhZ2VzIG1hcFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNob3dBbGwoZXJyb3JzKSB7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IHsgLi4uZXJyb3JzIH07XG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICB0aGlzLl9zdGFydEF1dG9IaWRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBlcnJvcnMgKG1lcmdlIHdpdGggZXhpc3RpbmcpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVycm9yc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFkZEVycm9ycyhlcnJvcnMpIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZXJyb3JzKS5mb3JFYWNoKChbZmllbGQsIG1lc3NhZ2VzXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZXJyb3JzW2ZpZWxkXSA9IEFycmF5LmlzQXJyYXkobWVzc2FnZXMpID8gbWVzc2FnZXMgOiBbbWVzc2FnZXNdO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICAgIHRoaXMuX3N0YXJ0QXV0b0hpZGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGVycm9yIGZvciBzaW5nbGUgZmllbGRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gbWVzc2FnZXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhZGRFcnJvcihmaWVsZCwgbWVzc2FnZXMpIHtcbiAgICAgICAgdGhpcy5fZXJyb3JzW2ZpZWxkXSA9IEFycmF5LmlzQXJyYXkobWVzc2FnZXMpID8gbWVzc2FnZXMgOiBbbWVzc2FnZXNdO1xuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5fc3RhcnRBdXRvSGlkZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBlcnJvcnMgZm9yIGEgZmllbGRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjbGVhckZpZWxkKGZpZWxkKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9lcnJvcnNbZmllbGRdO1xuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIGVycm9yc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNsZWFyQWxsKCkge1xuICAgICAgICB0aGlzLl9lcnJvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICAgIHRoaXMuX3N0b3BBdXRvSGlkZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGVycm9yc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZ2V0RXJyb3JzKCkge1xuICAgICAgICByZXR1cm4geyAuLi50aGlzLl9lcnJvcnMgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBoYXMgZXJyb3JzXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fZXJyb3JzKS5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBlcnJvciBjb3VudFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0RXJyb3JDb3VudCgpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLl9lcnJvcnMpLmZvckVhY2gobWVzc2FnZXMgPT4ge1xuICAgICAgICAgICAgY291bnQgKz0gQXJyYXkuaXNBcnJheShtZXNzYWdlcykgPyBtZXNzYWdlcy5sZW5ndGggOiAxO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBlcnJvciBkaXNwbGF5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBlcnJvckNvdW50ID0gT2JqZWN0LmtleXModGhpcy5fZXJyb3JzKS5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGVycm9yQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygnc2hvdycpKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2xlYXJlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG90YWxNZXNzYWdlcyA9IHRoaXMuZ2V0RXJyb3JDb3VudCgpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Vycm9yLXJlcG9ydGVyLWNvbnRlbnQnKX1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Vycm9yLXJlcG9ydGVyLWhlYWRlcicpfVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zICR7U2l4T3JiaXQuY2xzKCd0ZXh0LWRhbmdlcicpfVwiPmVycm9yPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdlcnJvci1yZXBvcnRlci10aXRsZScpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0b3RhbE1lc3NhZ2VzfSAke3RvdGFsTWVzc2FnZXMgPT09IDEgPyAnZXJyb3InIDogJ2Vycm9ycyd9IGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZXJyb3ItcmVwb3J0ZXItY2xvc2UnKX1cIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Vycm9yLXJlcG9ydGVyLWxpc3QnKX1cIj5cbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLl9yZW5kZXJFcnJvcnMoKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdzaG93JykpO1xuICAgICAgICB0aGlzLmVtaXQoJ3Nob3duJywgeyBlcnJvcnM6IHRoaXMuX2Vycm9ycywgY291bnQ6IHRvdGFsTWVzc2FnZXMgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGVycm9yIGxpc3QgaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlckVycm9ycygpIHtcbiAgICAgICAgY29uc3QgbWF4RXJyb3JzID0gdGhpcy5vcHRpb25zLm1heEVycm9ycztcbiAgICAgICAgbGV0IHJlbmRlcmVkQ291bnQgPSAwO1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2ZpZWxkLCBtZXNzYWdlc10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5fZXJyb3JzKSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRNZXNzYWdlcyA9IEFycmF5LmlzQXJyYXkobWVzc2FnZXMpID8gbWVzc2FnZXMgOiBbbWVzc2FnZXNdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgZmllbGRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZENvdW50ID49IG1heEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSB0aGlzLmdldEVycm9yQ291bnQoKSAtIG1heEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZXJyb3ItcmVwb3J0ZXItaXRlbScpfSAke1NpeE9yYml0LmNscygnZXJyb3ItcmVwb3J0ZXItbW9yZScpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3RleHQtbXV0ZWQnKX1cIj4uLi4gYW5kICR7cmVtYWluaW5nfSBtb3JlIGVycm9yKHMpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBgXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdlcnJvci1yZXBvcnRlci1pdGVtJyl9XCIgZGF0YS1maWVsZD1cIiR7dGhpcy5fZXNjYXBlSHRtbChmaWVsZCl9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMub3B0aW9ucy5ncm91cEJ5RmllbGQgPyBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnZXJyb3ItZmllbGQnKX1cIj4ke3RoaXMuX2Zvcm1hdEZpZWxkTmFtZShmaWVsZCl9Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Vycm9yLW1lc3NhZ2UnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwobWVzc2FnZSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUgPyBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZXJyb3ItaXRlbS1jbG9zZScpfVwiIGFyaWEtbGFiZWw9XCJEaXNtaXNzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IGZpZWxkIG5hbWUgZm9yIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Zvcm1hdEZpZWxkTmFtZShmaWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEgJDInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tfLV0vZywgJyAnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcYlxcdy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlIEhUTUxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9lc2NhcGVIdG1sKHN0cikge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LnRleHRDb250ZW50ID0gc3RyO1xuICAgICAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBBdXRvLWhpZGVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGF1dG8taGlkZSB0aW1lclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3N0YXJ0QXV0b0hpZGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG9IaWRlKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fc3RvcEF1dG9IaWRlKCk7XG4gICAgICAgIHRoaXMuX2F1dG9IaWRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJBbGwoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmF1dG9IaWRlRGVsYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3AgYXV0by1oaWRlIHRpbWVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc3RvcEF1dG9IaWRlKCkge1xuICAgICAgICBpZiAodGhpcy5fYXV0b0hpZGVUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2F1dG9IaWRlVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5fYXV0b0hpZGVUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGaWVsZCBGb2N1c1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRm9jdXMgYSBmaWVsZCBieSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZvY3VzRmllbGQoZmllbGROYW1lKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICBmaWVsZC5mb2N1cygpO1xuICAgICAgICAgICAgZmllbGQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJyB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIExpZmVjeWNsZVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgY29tcG9uZW50XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fc3RvcEF1dG9IaWRlKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgRXJyb3JSZXBvcnRlci5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuXG4vLyBSZWdpc3RlciB3aXRoIFNpeE9yYml0XG5FcnJvclJlcG9ydGVyLnJlZ2lzdGVyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9yUmVwb3J0ZXI7XG5leHBvcnQgeyBFcnJvclJlcG9ydGVyIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIElOUFVUIEVMRU1FTlRcbi8vIFRleHQgaW5wdXQgd2l0aCBhbGwgSFRNTDUgdHlwZXMgc3VwcG9ydFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRm9ybUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0Zvcm1FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogSW5wdXQgLSBUZXh0IGlucHV0IGZvcm0gZWxlbWVudFxuICogU3VwcG9ydHMgYWxsIEhUTUw1IGlucHV0IHR5cGVzOiB0ZXh0LCBlbWFpbCwgcGFzc3dvcmQsIG51bWJlciwgdGVsLCB1cmwsIGV0Yy5cbiAqL1xuY2xhc3MgSW5wdXQgZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktaW5wdXQnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2lucHV0JyxcbiAgICAgICAgdGFnTmFtZTogJ2lucHV0JyxcbiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX2lucHV0VHlwZSA9IGNvbmZpZy5pbnB1dFR5cGUgfHwgJ3RleHQnO1xuICAgICAgICB0aGlzLl9taW4gPSBjb25maWcubWluID8/IG51bGw7XG4gICAgICAgIHRoaXMuX21heCA9IGNvbmZpZy5tYXggPz8gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RlcCA9IGNvbmZpZy5zdGVwID8/IG51bGw7XG4gICAgICAgIHRoaXMuX21heGxlbmd0aCA9IGNvbmZpZy5tYXhsZW5ndGggPz8gbnVsbDtcbiAgICAgICAgdGhpcy5fbWlubGVuZ3RoID0gY29uZmlnLm1pbmxlbmd0aCA/PyBudWxsO1xuICAgICAgICB0aGlzLl9wYXR0ZXJuID0gY29uZmlnLnBhdHRlcm4gfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fYXV0b2NvbXBsZXRlID0gY29uZmlnLmF1dG9jb21wbGV0ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9wcmVmaXggPSBjb25maWcucHJlZml4IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3N1ZmZpeCA9IGNvbmZpZy5zdWZmaXggfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJIC0gSW5wdXQgVHlwZVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGlucHV0IHR5cGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGlucHV0VHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX2lucHV0VHlwZSA9IHR5cGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBTZXQgYXMgZW1haWwgaW5wdXQgKi9cbiAgICBlbWFpbCgpIHsgcmV0dXJuIHRoaXMuaW5wdXRUeXBlKCdlbWFpbCcpOyB9XG5cbiAgICAvKiogU2V0IGFzIHBhc3N3b3JkIGlucHV0ICovXG4gICAgcGFzc3dvcmQoKSB7IHJldHVybiB0aGlzLmlucHV0VHlwZSgncGFzc3dvcmQnKTsgfVxuXG4gICAgLyoqIFNldCBhcyBudW1iZXIgaW5wdXQgKi9cbiAgICBudW1iZXIoKSB7IHJldHVybiB0aGlzLmlucHV0VHlwZSgnbnVtYmVyJyk7IH1cblxuICAgIC8qKiBTZXQgYXMgdGVsZXBob25lIGlucHV0ICovXG4gICAgdGVsKCkgeyByZXR1cm4gdGhpcy5pbnB1dFR5cGUoJ3RlbCcpOyB9XG5cbiAgICAvKiogU2V0IGFzIFVSTCBpbnB1dCAqL1xuICAgIHVybCgpIHsgcmV0dXJuIHRoaXMuaW5wdXRUeXBlKCd1cmwnKTsgfVxuXG4gICAgLyoqIFNldCBhcyBzZWFyY2ggaW5wdXQgKi9cbiAgICBzZWFyY2goKSB7IHJldHVybiB0aGlzLmlucHV0VHlwZSgnc2VhcmNoJyk7IH1cblxuICAgIC8qKiBTZXQgYXMgZGF0ZSBpbnB1dCAqL1xuICAgIGRhdGUoKSB7IHJldHVybiB0aGlzLmlucHV0VHlwZSgnZGF0ZScpOyB9XG5cbiAgICAvKiogU2V0IGFzIHRpbWUgaW5wdXQgKi9cbiAgICB0aW1lKCkgeyByZXR1cm4gdGhpcy5pbnB1dFR5cGUoJ3RpbWUnKTsgfVxuXG4gICAgLyoqIFNldCBhcyBkYXRldGltZS1sb2NhbCBpbnB1dCAqL1xuICAgIGRhdGV0aW1lKCkgeyByZXR1cm4gdGhpcy5pbnB1dFR5cGUoJ2RhdGV0aW1lLWxvY2FsJyk7IH1cblxuICAgIC8qKiBTZXQgYXMgbW9udGggaW5wdXQgKi9cbiAgICBtb250aCgpIHsgcmV0dXJuIHRoaXMuaW5wdXRUeXBlKCdtb250aCcpOyB9XG5cbiAgICAvKiogU2V0IGFzIHdlZWsgaW5wdXQgKi9cbiAgICB3ZWVrKCkgeyByZXR1cm4gdGhpcy5pbnB1dFR5cGUoJ3dlZWsnKTsgfVxuXG4gICAgLyoqIFNldCBhcyBjb2xvciBpbnB1dCAqL1xuICAgIGNvbG9yKCkgeyByZXR1cm4gdGhpcy5pbnB1dFR5cGUoJ2NvbG9yJyk7IH1cblxuICAgIC8qKiBTZXQgYXMgcmFuZ2UgaW5wdXQgKi9cbiAgICByYW5nZSgpIHsgcmV0dXJuIHRoaXMuaW5wdXRUeXBlKCdyYW5nZScpOyB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJIC0gQ29uc3RyYWludHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBtaW5pbXVtIHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBtaW5cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBtaW4obWluKSB7XG4gICAgICAgIHRoaXMuX21pbiA9IG1pbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG1heGltdW0gdmFsdWVcbiAgICAgKiBAcGFyYW0geyp9IG1heFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG1heChtYXgpIHtcbiAgICAgICAgdGhpcy5fbWF4ID0gbWF4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgc3RlcCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Kn0gc3RlcFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHN0ZXAoc3RlcCkge1xuICAgICAgICB0aGlzLl9zdGVwID0gc3RlcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG1heGltdW0gbGVuZ3RoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heGxlbmd0aFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG1heGxlbmd0aChtYXhsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fbWF4bGVuZ3RoID0gbWF4bGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbWluaW11bSBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWlubGVuZ3RoXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbWlubGVuZ3RoKG1pbmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9taW5sZW5ndGggPSBtaW5sZW5ndGg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YWxpZGF0aW9uIHBhdHRlcm5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVyblxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHBhdHRlcm4ocGF0dGVybikge1xuICAgICAgICB0aGlzLl9wYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGF1dG9jb21wbGV0ZSBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXV0b2NvbXBsZXRlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYXV0b2NvbXBsZXRlKGF1dG9jb21wbGV0ZSkge1xuICAgICAgICB0aGlzLl9hdXRvY29tcGxldGUgPSBhdXRvY29tcGxldGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGUgYXV0b2NvbXBsZXRlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbm9BdXRvY29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dG9jb21wbGV0ZSgnb2ZmJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGlucHV0IHByZWZpeFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXhcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBwcmVmaXgocHJlZml4KSB7XG4gICAgICAgIHRoaXMuX3ByZWZpeCA9IHByZWZpeDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGlucHV0IHN1ZmZpeFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdWZmaXhcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzdWZmaXgoc3VmZml4KSB7XG4gICAgICAgIHRoaXMuX3N1ZmZpeCA9IHN1ZmZpeDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGFnIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiAnaW5wdXQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICBhdHRycy50eXBlID0gdGhpcy5faW5wdXRUeXBlO1xuXG4gICAgICAgIGlmICh0aGlzLl9taW4gIT09IG51bGwpIGF0dHJzLm1pbiA9IHRoaXMuX21pbjtcbiAgICAgICAgaWYgKHRoaXMuX21heCAhPT0gbnVsbCkgYXR0cnMubWF4ID0gdGhpcy5fbWF4O1xuICAgICAgICBpZiAodGhpcy5fc3RlcCAhPT0gbnVsbCkgYXR0cnMuc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICAgIGlmICh0aGlzLl9tYXhsZW5ndGggIT09IG51bGwpIGF0dHJzLm1heGxlbmd0aCA9IHRoaXMuX21heGxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX21pbmxlbmd0aCAhPT0gbnVsbCkgYXR0cnMubWlubGVuZ3RoID0gdGhpcy5fbWlubGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5fcGF0dGVybikgYXR0cnMucGF0dGVybiA9IHRoaXMuX3BhdHRlcm47XG4gICAgICAgIGlmICh0aGlzLl9hdXRvY29tcGxldGUpIGF0dHJzLmF1dG9jb21wbGV0ZSA9IHRoaXMuX2F1dG9jb21wbGV0ZTtcblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnQgKGVtcHR5IGZvciBpbnB1dClcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgd2l0aCBwcmVmaXgvc3VmZml4IGlmIG5lZWRlZFxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIElmIG5vIHByZWZpeC9zdWZmaXgsIHJlbmRlciBub3JtYWxseVxuICAgICAgICBpZiAoIXRoaXMuX3ByZWZpeCAmJiAhdGhpcy5fc3VmZml4KSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIucmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgaW5wdXQgZ3JvdXAgd3JhcHBlclxuICAgICAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBncm91cC5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2lucHV0LWdyb3VwJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ByZWZpeCkge1xuICAgICAgICAgICAgY29uc3QgcHJlZml4RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBwcmVmaXhFbC5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2lucHV0LWdyb3VwLXRleHQnKTtcbiAgICAgICAgICAgIHByZWZpeEVsLnRleHRDb250ZW50ID0gdGhpcy5fcHJlZml4O1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQocHJlZml4RWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQoc3VwZXIucmVuZGVyKCkpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdWZmaXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1ZmZpeEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgc3VmZml4RWwuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdpbnB1dC1ncm91cC10ZXh0Jyk7XG4gICAgICAgICAgICBzdWZmaXhFbC50ZXh0Q29udGVudCA9IHRoaXMuX3N1ZmZpeDtcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKHN1ZmZpeEVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdG8gSFRNTCBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRvSHRtbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcmVmaXggJiYgIXRoaXMuX3N1ZmZpeCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnRvSHRtbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVpbGQgaW5wdXQgSFRNTFxuICAgICAgICBjb25zdCBpbnB1dEh0bWwgPSBzdXBlci50b0h0bWwoKTtcblxuICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2lucHV0LWdyb3VwJyl9XCI+YDtcblxuICAgICAgICBpZiAodGhpcy5fcHJlZml4KSB7XG4gICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdpbnB1dC1ncm91cC10ZXh0Jyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3ByZWZpeCl9PC9zcGFuPmA7XG4gICAgICAgIH1cblxuICAgICAgICBodG1sICs9IGlucHV0SHRtbDtcblxuICAgICAgICBpZiAodGhpcy5fc3VmZml4KSB7XG4gICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdpbnB1dC1ncm91cC10ZXh0Jyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3N1ZmZpeCl9PC9zcGFuPmA7XG4gICAgICAgIH1cblxuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbmZpZyBFeHBvcnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gY29uZmlnXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcblxuICAgICAgICBpZiAodGhpcy5faW5wdXRUeXBlICE9PSAndGV4dCcpIGNvbmZpZy5pbnB1dFR5cGUgPSB0aGlzLl9pbnB1dFR5cGU7XG4gICAgICAgIGlmICh0aGlzLl9taW4gIT09IG51bGwpIGNvbmZpZy5taW4gPSB0aGlzLl9taW47XG4gICAgICAgIGlmICh0aGlzLl9tYXggIT09IG51bGwpIGNvbmZpZy5tYXggPSB0aGlzLl9tYXg7XG4gICAgICAgIGlmICh0aGlzLl9zdGVwICE9PSBudWxsKSBjb25maWcuc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICAgIGlmICh0aGlzLl9tYXhsZW5ndGggIT09IG51bGwpIGNvbmZpZy5tYXhsZW5ndGggPSB0aGlzLl9tYXhsZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLl9taW5sZW5ndGggIT09IG51bGwpIGNvbmZpZy5taW5sZW5ndGggPSB0aGlzLl9taW5sZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLl9wYXR0ZXJuKSBjb25maWcucGF0dGVybiA9IHRoaXMuX3BhdHRlcm47XG4gICAgICAgIGlmICh0aGlzLl9hdXRvY29tcGxldGUpIGNvbmZpZy5hdXRvY29tcGxldGUgPSB0aGlzLl9hdXRvY29tcGxldGU7XG4gICAgICAgIGlmICh0aGlzLl9wcmVmaXgpIGNvbmZpZy5wcmVmaXggPSB0aGlzLl9wcmVmaXg7XG4gICAgICAgIGlmICh0aGlzLl9zdWZmaXgpIGNvbmZpZy5zdWZmaXggPSB0aGlzLl9zdWZmaXg7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IElucHV0O1xuZXhwb3J0IHsgSW5wdXQgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gU0VMRUNUIEVMRU1FTlRcbi8vIERyb3Bkb3duIHNlbGVjdCB3aXRoIG9wdGlvbnMgc3VwcG9ydFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRm9ybUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0Zvcm1FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogU2VsZWN0IC0gRHJvcGRvd24gc2VsZWN0IGVsZW1lbnRcbiAqL1xuY2xhc3MgU2VsZWN0IGV4dGVuZHMgRm9ybUVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLXNlbGVjdCc7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkZvcm1FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgdGFnTmFtZTogJ3NlbGVjdCcsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBjb25maWcub3B0aW9ucyB8fCBbXTtcbiAgICAgICAgdGhpcy5fbXVsdGlwbGUgPSBjb25maWcubXVsdGlwbGUgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3Zpc2libGVTaXplID0gY29uZmlnLnZpc2libGVTaXplIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2VtcHR5T3B0aW9uVGV4dCA9IGNvbmZpZy5lbXB0eU9wdGlvbiA/PyBudWxsO1xuICAgICAgICB0aGlzLl9lbXB0eU9wdGlvblZhbHVlID0gY29uZmlnLmVtcHR5VmFsdWUgfHwgJyc7XG4gICAgICAgIHRoaXMuX3NlYXJjaGFibGUgPSBjb25maWcuc2VhcmNoYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fZW5oYW5jZWQgPSBjb25maWcuZW5oYW5jZWQgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvcHRzIC0gQXJyYXkgb2Yge3ZhbHVlLCBsYWJlbCwgZGlzYWJsZWQ/LCBzZWxlY3RlZD99XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgc2luZ2xlIG9wdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRpc2FibGVkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb3B0aW9uKHZhbHVlLCBsYWJlbCwgZGlzYWJsZWQgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBvcHQgPSB7IHZhbHVlLCBsYWJlbCB9O1xuICAgICAgICBpZiAoZGlzYWJsZWQpIG9wdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX29wdGlvbnMucHVzaChvcHQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgb3B0aW9uIGdyb3VwXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsIC0gR3JvdXAgbGFiZWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvcHRzIC0gT3B0aW9ucyBpbiB0aGUgZ3JvdXBcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvcHRncm91cChsYWJlbCwgb3B0cykge1xuICAgICAgICB0aGlzLl9vcHRpb25zLnB1c2goeyBsYWJlbCwgb3B0aW9uczogb3B0cyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIG11bHRpcGxlIHNlbGVjdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbXVsdGlwbGUodmFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9tdWx0aXBsZSA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHZpc2libGUgb3B0aW9ucyBzaXplXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB2aXNpYmxlU2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuX3Zpc2libGVTaXplID0gc2l6ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGVtcHR5L3BsYWNlaG9sZGVyIG9wdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZW1wdHlPcHRpb24odGV4dCwgdmFsdWUgPSAnJykge1xuICAgICAgICB0aGlzLl9lbXB0eU9wdGlvblRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLl9lbXB0eU9wdGlvblZhbHVlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBzZWFyY2hhYmxlIG1vZGUgKGZvciBKUyBlbmhhbmNlbWVudClcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNlYXJjaGFibGUodmFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9zZWFyY2hhYmxlID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgZW5oYW5jZWQgU09TZWxlY3QgY29tcG9uZW50XG4gICAgICogQWRkcyBkYXRhLXNvLXNlbGVjdCBhdHRyaWJ1dGUgdG8gdHJpZ2dlciBKUyBlbmhhbmNlbWVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZW5oYW5jZWQodmFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9lbmhhbmNlZCA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGFnIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiAnc2VsZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX211bHRpcGxlKSBhdHRycy5tdWx0aXBsZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlU2l6ZSkgYXR0cnMuc2l6ZSA9IHRoaXMuX3Zpc2libGVTaXplO1xuICAgICAgICBpZiAodGhpcy5fc2VhcmNoYWJsZSkgYXR0cnNbU2l4T3JiaXQuZGF0YSgnc2VhcmNoYWJsZScpXSA9ICd0cnVlJztcbiAgICAgICAgaWYgKHRoaXMuX2VuaGFuY2VkKSBhdHRyc1tTaXhPcmJpdC5kYXRhKCdzZWxlY3QnKV0gPSAnJztcblxuICAgICAgICAvLyBSZW1vdmUgdmFsdWUgYXR0cmlidXRlIGZvciBzZWxlY3QgKGhhbmRsZWQgYnkgb3B0aW9uIHNlbGVjdGVkKVxuICAgICAgICBkZWxldGUgYXR0cnMudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZm9ybS1jb250cm9sJykpO1xuXG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2lzLWludmFsaWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERvbid0IHJlbmRlciB2YWx1ZSBhcyBhdHRyaWJ1dGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfc2hvdWxkUmVuZGVyVmFsdWVBdHRyKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG9wdGlvbnMgSFRNTFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgX3JlbmRlck9wdGlvbnNIdG1sKCkge1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuXG4gICAgICAgIC8vIEVtcHR5IG9wdGlvblxuICAgICAgICBpZiAodGhpcy5fZW1wdHlPcHRpb25UZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuX2lzU2VsZWN0ZWQodGhpcy5fZW1wdHlPcHRpb25WYWx1ZSkgPyAnIHNlbGVjdGVkJyA6ICcnO1xuICAgICAgICAgICAgaHRtbCArPSBgPG9wdGlvbiB2YWx1ZT1cIiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9lbXB0eU9wdGlvblZhbHVlKX1cIiR7c2VsZWN0ZWR9PiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9lbXB0eU9wdGlvblRleHQpfTwvb3B0aW9uPmA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWd1bGFyIG9wdGlvbnNcbiAgICAgICAgaHRtbCArPSB0aGlzLl9yZW5kZXJPcHRpb25zKHRoaXMuX29wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBvcHRpb25zIGFycmF5IChoYW5kbGVzIG9wdGdyb3VwcylcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcblxuICAgICAgICBvcHRpb25zLmZvckVhY2goKG9wdCwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdCA9PT0gJ29iamVjdCcgJiYgb3B0Lm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBPcHRpb24gZ3JvdXBcbiAgICAgICAgICAgICAgICBjb25zdCBkaXNhYmxlZCA9IG9wdC5kaXNhYmxlZCA/ICcgZGlzYWJsZWQnIDogJyc7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPG9wdGdyb3VwIGxhYmVsPVwiJHt0aGlzLl9lc2NhcGVIdG1sKG9wdC5sYWJlbCl9XCIke2Rpc2FibGVkfT5gO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyT3B0aW9ucyhvcHQub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPC9vcHRncm91cD4nO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIC8vIFN0cnVjdHVyZWQgb3B0aW9uOiB7dmFsdWUsIGxhYmVsfVxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3B0LnZhbHVlID8/IGtleTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IG9wdC5sYWJlbCA/PyB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXNhYmxlZCA9IG9wdC5kaXNhYmxlZCA/ICcgZGlzYWJsZWQnIDogJyc7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLl9pc1NlbGVjdGVkKHZhbHVlKSA/ICcgc2VsZWN0ZWQnIDogJyc7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPG9wdGlvbiB2YWx1ZT1cIiR7dGhpcy5fZXNjYXBlSHRtbChTdHJpbmcodmFsdWUpKX1cIiR7ZGlzYWJsZWR9JHtzZWxlY3RlZH0+JHt0aGlzLl9lc2NhcGVIdG1sKFN0cmluZyhsYWJlbCkpfTwvb3B0aW9uPmA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNpbXBsZSBrZXkgPT4gbGFiZWwgZm9ybWF0XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLl9pc1NlbGVjdGVkKGtleSkgPyAnIHNlbGVjdGVkJyA6ICcnO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxvcHRpb24gdmFsdWU9XCIke3RoaXMuX2VzY2FwZUh0bWwoU3RyaW5nKGtleSkpfVwiJHtzZWxlY3RlZH0+JHt0aGlzLl9lc2NhcGVIdG1sKFN0cmluZyhvcHQpKX08L29wdGlvbj5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YWx1ZSBpcyBzZWxlY3RlZFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1NlbGVjdGVkKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9tdWx0aXBsZSAmJiBBcnJheS5pc0FycmF5KHRoaXMuX3ZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlLmluY2x1ZGVzKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgPT0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJPcHRpb25zSHRtbCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0byBET01cbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5nZXRUYWdOYW1lKCkpO1xuXG4gICAgICAgIC8vIEFwcGx5IGF0dHJpYnV0ZXNcbiAgICAgICAgY29uc3QgYXR0cnMgPSB0aGlzLmJ1aWxkQXR0cmlidXRlcygpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhhdHRycykuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgb3B0aW9ucyB2aWEgaW5uZXJIVE1MIChoYW5kbGVzIG9wdGdyb3VwcylcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gdGhpcy5fcmVuZGVyT3B0aW9uc0h0bWwoKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmxlbmd0aCA+IDApIGNvbmZpZy5vcHRpb25zID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuX211bHRpcGxlKSBjb25maWcubXVsdGlwbGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fdmlzaWJsZVNpemUpIGNvbmZpZy52aXNpYmxlU2l6ZSA9IHRoaXMuX3Zpc2libGVTaXplO1xuICAgICAgICBpZiAodGhpcy5fZW1wdHlPcHRpb25UZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuZW1wdHlPcHRpb24gPSB0aGlzLl9lbXB0eU9wdGlvblRleHQ7XG4gICAgICAgICAgICBjb25maWcuZW1wdHlWYWx1ZSA9IHRoaXMuX2VtcHR5T3B0aW9uVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3NlYXJjaGFibGUpIGNvbmZpZy5zZWFyY2hhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2VuaGFuY2VkKSBjb25maWcuZW5oYW5jZWQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3Q7XG5leHBvcnQgeyBTZWxlY3QgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQ0hFQ0tCT1ggRUxFTUVOVFxuLy8gQ2hlY2tib3ggaW5wdXQgd2l0aCBsYWJlbCBzdXBwb3J0XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBGb3JtRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRm9ybUVsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBDaGVja2JveCAtIENoZWNrYm94IGZvcm0gZWxlbWVudFxuICogU3VwcG9ydHMgc2luZ2xlIGNoZWNrYm94IGFuZCBjaGVja2JveCBncm91cHNcbiAqL1xuY2xhc3MgQ2hlY2tib3ggZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktY2hlY2tib3gnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgdGFnTmFtZTogJ2lucHV0JyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fY2hlY2tlZCA9IGNvbmZpZy5jaGVja2VkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9pbmRldGVybWluYXRlID0gY29uZmlnLmluZGV0ZXJtaW5hdGUgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3N3aXRjaCA9IGNvbmZpZy5zd2l0Y2ggfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2lubGluZSA9IGNvbmZpZy5pbmxpbmUgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBjb25maWcub3B0aW9ucyB8fCBbXTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY2hlY2tlZCBzdGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY2hlY2tlZCh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrZWQgPSB2YWw7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jaGVja2VkID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB1bmNoZWNrZWQgc3RhdGVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB1bmNoZWNrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrZWQoZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGNoZWNrZWRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0NoZWNrZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2hlY2tlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaW5kZXRlcm1pbmF0ZSBzdGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaW5kZXRlcm1pbmF0ZSh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2luZGV0ZXJtaW5hdGUgPSB2YWw7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbmRldGVybWluYXRlID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBhcyBzd2l0Y2ggc3R5bGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHN3aXRjaCh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3N3aXRjaCA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGxheSBpbmxpbmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGlubGluZSh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2lubGluZSA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGNoZWNrYm94IG9wdGlvbnMgKGZvciBncm91cHMpXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3B0aW9ucyAtIEFycmF5IG9mIHt2YWx1ZSwgbGFiZWwsIGNoZWNrZWQ/LCBkaXNhYmxlZD99XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBzaW5nbGUgb3B0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tlZFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9wdGlvbih2YWx1ZSwgbGFiZWwsIGNoZWNrZWQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9vcHRpb25zLnB1c2goeyB2YWx1ZSwgbGFiZWwsIGNoZWNrZWQgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYXR0cmlidXRlcyBmb3IgdGhlIGlucHV0IGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB7fTtcblxuICAgICAgICBhdHRycy50eXBlID0gJ2NoZWNrYm94JztcblxuICAgICAgICBpZiAodGhpcy5fbmFtZSkge1xuICAgICAgICAgICAgYXR0cnMubmFtZSA9IHRoaXMuX25hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faWQpIHtcbiAgICAgICAgICAgIGF0dHJzLmlkID0gdGhpcy5faWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmFsdWUgIT09IG51bGwgJiYgdGhpcy5fdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXR0cnMudmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jaGVja2VkKSB7XG4gICAgICAgICAgICBhdHRycy5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9kaXNhYmxlZCkge1xuICAgICAgICAgICAgYXR0cnMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2luZGV0ZXJtaW5hdGUpIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ2luZGV0ZXJtaW5hdGUnKV0gPSAndHJ1ZSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRvIERPTSB3aXRoIHByb3BlciBzby1jaGVja2JveCBzdHJ1Y3R1cmVcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICAvLyBJZiBvcHRpb25zIGFyZSBzZXQsIHJlbmRlciBhcyBhIGdyb3VwXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJDaGVja2JveEdyb3VwKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaW5nbGUgY2hlY2tib3hcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlclNpbmdsZUNoZWNrYm94KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgc2luZ2xlIGNoZWNrYm94XG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlclNpbmdsZUNoZWNrYm94KCkge1xuICAgICAgICAvLyBDcmVhdGUgd3JhcHBlciBsYWJlbFxuICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2NoZWNrYm94Jyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdkaXNhYmxlZCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBpbnB1dFxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gdGhpcy5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoYXR0cnMpLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSBmYWxzZSAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2luZGV0ZXJtaW5hdGUpIHtcbiAgICAgICAgICAgIGlucHV0LmluZGV0ZXJtaW5hdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGlucHV0O1xuXG4gICAgICAgIC8vIENyZWF0ZSBjaGVja2JveCBib3ggd2l0aCBpY29uXG4gICAgICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYm94LmNsYXNzTmFtZSA9IFNpeE9yYml0LmNscygnY2hlY2tib3gtYm94Jyk7XG5cbiAgICAgICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgaWNvbi5jbGFzc05hbWUgPSAnbWF0ZXJpYWwtaWNvbnMnO1xuICAgICAgICBpY29uLnRleHRDb250ZW50ID0gdGhpcy5faW5kZXRlcm1pbmF0ZSA/ICdyZW1vdmUnIDogJ2NoZWNrJztcbiAgICAgICAgYm94LmFwcGVuZENoaWxkKGljb24pO1xuXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYm94KTtcblxuICAgICAgICAvLyBDcmVhdGUgbGFiZWwgdGV4dFxuICAgICAgICBpZiAodGhpcy5fbGFiZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGxhYmVsU3Bhbi5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2NoZWNrYm94LWxhYmVsJyk7XG4gICAgICAgICAgICBsYWJlbFNwYW4udGV4dENvbnRlbnQgPSB0aGlzLl9sYWJlbDtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWxTcGFuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2F0dGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNoZWNrYm94IGdyb3VwXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlckNoZWNrYm94R3JvdXAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdmb3JtLWdyb3VwJyk7XG5cbiAgICAgICAgLy8gR3JvdXAgbGFiZWxcbiAgICAgICAgaWYgKHRoaXMuX2xhYmVsKSB7XG4gICAgICAgICAgICBjb25zdCBncm91cExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGdyb3VwTGFiZWwuY2xhc3NOYW1lID0gYCR7U2l4T3JiaXQuY2xzKCdmb3JtLWxhYmVsJyl9ICR7U2l4T3JiaXQuY2xzKCdtYi0yJyl9YDtcbiAgICAgICAgICAgIGdyb3VwTGFiZWwudGV4dENvbnRlbnQgPSB0aGlzLl9sYWJlbDtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChncm91cExhYmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrYm94IGdyb3VwIHdyYXBwZXJcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZ3JvdXAuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdjaGVja2JveC1ncm91cCcpO1xuICAgICAgICBncm91cC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lubGluZVxuICAgICAgICAgICAgPyBTaXhPcmJpdC5jbHMoJ2NoZWNrYm94LWdyb3VwLWlubGluZScpXG4gICAgICAgICAgICA6IFNpeE9yYml0LmNscygnY2hlY2tib3gtZ3JvdXAtdmVydGljYWwnKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFJlbmRlciBlYWNoIG9wdGlvblxuICAgICAgICB0aGlzLl9vcHRpb25zLmZvckVhY2goKG9wdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3B0LnZhbHVlID8/IGluZGV4O1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBvcHQubGFiZWwgPz8gdmFsdWU7XG4gICAgICAgICAgICBjb25zdCBjaGVja2VkID0gb3B0LmNoZWNrZWQgPz8gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBvcHREaXNhYmxlZCA9IG9wdC5kaXNhYmxlZCA/PyBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBvcHREaXNhYmxlZCB8fCB0aGlzLl9kaXNhYmxlZDtcblxuICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IFNpeE9yYml0LmNscygnY2hlY2tib3gnKTtcbiAgICAgICAgICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygnZGlzYWJsZWQnKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElucHV0XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBpbnB1dC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgICAgIGlucHV0Lm5hbWUgPSBgJHt0aGlzLl9uYW1lfVtdYDtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoY2hlY2tlZCkgaW5wdXQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoaXNEaXNhYmxlZCkgaW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgICAgICAgICAgLy8gQ2hlY2tib3ggYm94IHdpdGggaWNvblxuICAgICAgICAgICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgYm94LmNsYXNzTmFtZSA9IFNpeE9yYml0LmNscygnY2hlY2tib3gtYm94Jyk7XG4gICAgICAgICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgaWNvbi5jbGFzc05hbWUgPSAnbWF0ZXJpYWwtaWNvbnMnO1xuICAgICAgICAgICAgaWNvbi50ZXh0Q29udGVudCA9ICdjaGVjayc7XG4gICAgICAgICAgICBib3guYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGJveCk7XG5cbiAgICAgICAgICAgIC8vIExhYmVsIHRleHRcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGxhYmVsU3Bhbi5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2NoZWNrYm94LWxhYmVsJyk7XG4gICAgICAgICAgICBsYWJlbFNwYW4udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWxTcGFuKTtcblxuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChncm91cCk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdG8gSFRNTCBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRvSHRtbCgpIHtcbiAgICAgICAgLy8gSWYgb3B0aW9ucyBhcmUgc2V0LCByZW5kZXIgYXMgYSBncm91cFxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9IdG1sR3JvdXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmdsZSBjaGVja2JveFxuICAgICAgICByZXR1cm4gdGhpcy5fdG9IdG1sU2luZ2xlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHNpbmdsZSBjaGVja2JveCB0byBIVE1MXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90b0h0bWxTaW5nbGUoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVsQ2xhc3MgPSB0aGlzLl9kaXNhYmxlZFxuICAgICAgICAgICAgPyBgJHtTaXhPcmJpdC5jbHMoJ2NoZWNrYm94Jyl9ICR7U2l4T3JiaXQuY2xzKCdkaXNhYmxlZCcpfWBcbiAgICAgICAgICAgIDogU2l4T3JiaXQuY2xzKCdjaGVja2JveCcpO1xuXG4gICAgICAgIGNvbnN0IGF0dHJzID0gdGhpcy5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgY29uc3QgYXR0clN0ciA9IE9iamVjdC5lbnRyaWVzKGF0dHJzKVxuICAgICAgICAgICAgLmZpbHRlcigoWywgdl0pID0+IHYgIT09IGZhbHNlICYmIHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgLm1hcCgoW2ssIHZdKSA9PiB2ID09PSB0cnVlID8gayA6IGAke2t9PVwiJHt0aGlzLl9lc2NhcGVIdG1sKFN0cmluZyh2KSl9XCJgKVxuICAgICAgICAgICAgLmpvaW4oJyAnKTtcblxuICAgICAgICBjb25zdCBpY29uID0gdGhpcy5faW5kZXRlcm1pbmF0ZSA/ICdyZW1vdmUnIDogJ2NoZWNrJztcblxuICAgICAgICBsZXQgaHRtbCA9IGA8bGFiZWwgY2xhc3M9XCIke2xhYmVsQ2xhc3N9XCI+YDtcbiAgICAgICAgaHRtbCArPSBgPGlucHV0ICR7YXR0clN0cn0+YDtcbiAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2hlY2tib3gtYm94Jyl9XCI+YDtcbiAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7aWNvbn08L3NwYW4+YDtcbiAgICAgICAgaHRtbCArPSAnPC9zcGFuPic7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xhYmVsKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjaGVja2JveC1sYWJlbCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9sYWJlbCl9PC9zcGFuPmA7XG4gICAgICAgIH1cblxuICAgICAgICBodG1sICs9ICc8L2xhYmVsPic7XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNoZWNrYm94IGdyb3VwIHRvIEhUTUxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvSHRtbEdyb3VwKCkge1xuICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Zvcm0tZ3JvdXAnKX1cIj5gO1xuXG4gICAgICAgIC8vIEdyb3VwIGxhYmVsXG4gICAgICAgIGlmICh0aGlzLl9sYWJlbCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPGxhYmVsIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Zvcm0tbGFiZWwnKX0gJHtTaXhPcmJpdC5jbHMoJ21iLTInKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fbGFiZWwpfTwvbGFiZWw+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrYm94IGdyb3VwIHdyYXBwZXJcbiAgICAgICAgY29uc3QgZ3JvdXBDbGFzcyA9IHRoaXMuX2lubGluZVxuICAgICAgICAgICAgPyBgJHtTaXhPcmJpdC5jbHMoJ2NoZWNrYm94LWdyb3VwJyl9ICR7U2l4T3JiaXQuY2xzKCdjaGVja2JveC1ncm91cC1pbmxpbmUnKX1gXG4gICAgICAgICAgICA6IGAke1NpeE9yYml0LmNscygnY2hlY2tib3gtZ3JvdXAnKX0gJHtTaXhPcmJpdC5jbHMoJ2NoZWNrYm94LWdyb3VwLXZlcnRpY2FsJyl9YDtcblxuICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtncm91cENsYXNzfVwiPmA7XG5cbiAgICAgICAgLy8gUmVuZGVyIGVhY2ggb3B0aW9uXG4gICAgICAgIHRoaXMuX29wdGlvbnMuZm9yRWFjaCgob3B0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHQudmFsdWUgPz8gaW5kZXg7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IG9wdC5sYWJlbCA/PyB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBvcHQuY2hlY2tlZCA/PyBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG9wdERpc2FibGVkID0gb3B0LmRpc2FibGVkID8/IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IG9wdERpc2FibGVkIHx8IHRoaXMuX2Rpc2FibGVkO1xuXG4gICAgICAgICAgICBjb25zdCBsYWJlbENsYXNzID0gaXNEaXNhYmxlZFxuICAgICAgICAgICAgICAgID8gYCR7U2l4T3JiaXQuY2xzKCdjaGVja2JveCcpfSAke1NpeE9yYml0LmNscygnZGlzYWJsZWQnKX1gXG4gICAgICAgICAgICAgICAgOiBTaXhPcmJpdC5jbHMoJ2NoZWNrYm94Jyk7XG5cbiAgICAgICAgICAgIGh0bWwgKz0gYDxsYWJlbCBjbGFzcz1cIiR7bGFiZWxDbGFzc31cIj5gO1xuICAgICAgICAgICAgaHRtbCArPSBgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fbmFtZSl9W11cIiB2YWx1ZT1cIiR7dGhpcy5fZXNjYXBlSHRtbChTdHJpbmcodmFsdWUpKX1cImA7XG4gICAgICAgICAgICBpZiAoY2hlY2tlZCkgaHRtbCArPSAnIGNoZWNrZWQnO1xuICAgICAgICAgICAgaWYgKGlzRGlzYWJsZWQpIGh0bWwgKz0gJyBkaXNhYmxlZCc7XG4gICAgICAgICAgICBodG1sICs9ICc+JztcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NoZWNrYm94LWJveCcpfVwiPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2hlY2s8L3NwYW4+JztcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvc3Bhbj4nO1xuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2hlY2tib3gtbGFiZWwnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwobGFiZWwpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPC9sYWJlbD4nO1xuICAgICAgICB9KTtcblxuICAgICAgICBodG1sICs9ICc8L2Rpdj4nOyAvLyBFbmQgY2hlY2tib3gtZ3JvdXBcbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JzsgLy8gRW5kIGZvcm0tZ3JvdXBcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5jaGVja2VkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja2VkO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbmZpZyBFeHBvcnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gY29uZmlnXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcblxuICAgICAgICBpZiAodGhpcy5fY2hlY2tlZCkgY29uZmlnLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5faW5kZXRlcm1pbmF0ZSkgY29uZmlnLmluZGV0ZXJtaW5hdGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fc3dpdGNoKSBjb25maWcuc3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2lubGluZSkgY29uZmlnLmlubGluZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmxlbmd0aCA+IDApIGNvbmZpZy5vcHRpb25zID0gdGhpcy5fb3B0aW9ucztcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tib3g7XG5leHBvcnQgeyBDaGVja2JveCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBSQURJTyBFTEVNRU5UXG4vLyBSYWRpbyBidXR0b24gaW5wdXQgd2l0aCBncm91cCBzdXBwb3J0XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBGb3JtRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRm9ybUVsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBSYWRpbyAtIFJhZGlvIGJ1dHRvbiBmb3JtIGVsZW1lbnRcbiAqL1xuY2xhc3MgUmFkaW8gZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktcmFkaW8nO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ3JhZGlvJyxcbiAgICAgICAgdGFnTmFtZTogJ2lucHV0JyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fY2hlY2tlZCA9IGNvbmZpZy5jaGVja2VkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9pbmxpbmUgPSBjb25maWcuaW5saW5lIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gY29uZmlnLm9wdGlvbnMgfHwgW107XG4gICAgICAgIHRoaXMuX2J1dHRvblN0eWxlID0gY29uZmlnLmJ1dHRvblN0eWxlIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9idXR0b25WYXJpYW50ID0gY29uZmlnLmJ1dHRvblZhcmlhbnQgfHwgJ291dGxpbmUtcHJpbWFyeSc7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGNoZWNrZWQgc3RhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrZWRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjaGVja2VkKGNoZWNrZWQgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrZWQgPSBjaGVja2VkO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IGNoZWNrZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgY2hlY2tlZFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzQ2hlY2tlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5jaGVja2VkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCByYWRpbyBvcHRpb25zXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3B0cyAtIEFycmF5IG9mIHt2YWx1ZSwgbGFiZWwsIGNoZWNrZWQ/LCBkaXNhYmxlZD99XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBzaW5nbGUgb3B0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9wdGlvbih2YWx1ZSwgbGFiZWwpIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5wdXNoKHsgdmFsdWUsIGxhYmVsIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgaW5saW5lXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpbmxpbmUodmFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9pbmxpbmUgPSB2YWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBidXR0b24gc3R5bGUgKHRvZ2dsZSBidXR0b25zKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYnV0dG9uU3R5bGUodmFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9idXR0b25TdHlsZSA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGJ1dHRvbiB2YXJpYW50IChmb3IgYnV0dG9uIHN0eWxlKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYnV0dG9uVmFyaWFudCh2YXJpYW50KSB7XG4gICAgICAgIHRoaXMuX2J1dHRvblZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdldCB0YWcgbmFtZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0VGFnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdpbnB1dCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgQ1NTIGNsYXNzZXMgKGZvciBpbnB1dClcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGJ1aWxkQ2xhc3NTdHJpbmcoKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdmb3JtLWNoZWNrLWlucHV0JykpO1xuXG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2lzLWludmFsaWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgZm9ybS1jb250cm9sXG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5kZWxldGUoU2l4T3JiaXQuY2xzKCdmb3JtLWNvbnRyb2wnKSk7XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgYXR0cnMudHlwZSA9ICdyYWRpbyc7XG4gICAgICAgIGlmICh0aGlzLl9jaGVja2VkKSBhdHRycy5jaGVja2VkID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnQgKGVtcHR5IGZvciBpbnB1dClcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgc2luZ2xlIHJhZGlvIHRvIERPTVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVuZGVyU2luZ2xlUmFkaW8ob3B0aW9uLCBpbmRleCkge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdmb3JtLWNoZWNrJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lubGluZSkge1xuICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygnZm9ybS1jaGVjay1pbmxpbmUnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlucHV0LnR5cGUgPSAncmFkaW8nO1xuICAgICAgICBpbnB1dC5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ2Zvcm0tY2hlY2staW5wdXQnKTtcbiAgICAgICAgaW5wdXQubmFtZSA9IHRoaXMuX25hbWU7XG4gICAgICAgIGlucHV0LnZhbHVlID0gb3B0aW9uLnZhbHVlID8/IG9wdGlvbjtcbiAgICAgICAgaW5wdXQuaWQgPSBgJHt0aGlzLl9pZCB8fCB0aGlzLl9uYW1lfS0ke2luZGV4fWA7XG5cbiAgICAgICAgaWYgKG9wdGlvbi5jaGVja2VkIHx8IHRoaXMuX3ZhbHVlID09IGlucHV0LnZhbHVlKSB7XG4gICAgICAgICAgICBpbnB1dC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb24uZGlzYWJsZWQgfHwgdGhpcy5fZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGlucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdmb3JtLWNoZWNrLWxhYmVsJyk7XG4gICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgaW5wdXQuaWQpO1xuICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IG9wdGlvbi5sYWJlbCA/PyBvcHRpb247XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xuXG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0byBET01cbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICAvLyBJZiBvcHRpb25zIHByb3ZpZGVkLCByZW5kZXIgcmFkaW8gZ3JvdXBcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMgJiYgdGhpcy5fb3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ3JhZGlvLWdyb3VwJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZm9yRWFjaCgob3B0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9yZW5kZXJTaW5nbGVSYWRpbyhvcHQsIGluZGV4KSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmdsZSByYWRpb1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdmb3JtLWNoZWNrJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lubGluZSkge1xuICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygnZm9ybS1jaGVjay1pbmxpbmUnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gdGhpcy5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoYXR0cnMpLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSBmYWxzZSAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGlucHV0O1xuXG4gICAgICAgIGlmICh0aGlzLl9sYWJlbCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gU2l4T3JiaXQuY2xzKCdmb3JtLWNoZWNrLWxhYmVsJyk7XG4gICAgICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IHRoaXMuX2xhYmVsO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lkKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCB0aGlzLl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2F0dGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRvIEhUTUwgc3RyaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICB0b0h0bWwoKSB7XG4gICAgICAgIC8vIElmIG9wdGlvbnMgcHJvdmlkZWQsIHJlbmRlciByYWRpbyBncm91cFxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucyAmJiB0aGlzLl9vcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEJ1dHRvbiBzdHlsZSB1c2VzIGJ0bi1ncm91cCB3cmFwcGVyXG4gICAgICAgICAgICBpZiAodGhpcy5fYnV0dG9uU3R5bGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2J0bi1ncm91cCcpfVwiIHJvbGU9XCJncm91cFwiPmA7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmZvckVhY2goKG9wdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHQudmFsdWUgPz8gb3B0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IG9wdC5sYWJlbCA/PyBvcHQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gYCR7dGhpcy5faWQgfHwgdGhpcy5fbmFtZX0tJHtpbmRleH1gO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2VkID0gKG9wdC5jaGVja2VkIHx8IHRoaXMuX3ZhbHVlID09IHZhbHVlKSA/ICcgY2hlY2tlZCcgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzYWJsZWQgPSAob3B0LmRpc2FibGVkIHx8IHRoaXMuX2Rpc2FibGVkKSA/ICcgZGlzYWJsZWQnIDogJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2J0bi1jaGVjaycpfVwiIG5hbWU9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fbmFtZSl9XCIgdmFsdWU9XCIke3RoaXMuX2VzY2FwZUh0bWwoU3RyaW5nKHZhbHVlKSl9XCIgaWQ9XCIke3RoaXMuX2VzY2FwZUh0bWwoaWQpfVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiJHtjaGVja2VkfSR7ZGlzYWJsZWR9PmA7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxsYWJlbCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdidG4nKX0gJHtTaXhPcmJpdC5jbHMoJ2J0bicsIHRoaXMuX2J1dHRvblZhcmlhbnQpfVwiIGZvcj1cIiR7dGhpcy5fZXNjYXBlSHRtbChpZCl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKFN0cmluZyhsYWJlbCkpfTwvbGFiZWw+YDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFN0YW5kYXJkIHJhZGlvIGdyb3VwXG4gICAgICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3JhZGlvLWdyb3VwJyl9XCI+YDtcblxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5mb3JFYWNoKChvcHQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHQudmFsdWUgPz8gb3B0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gb3B0LmxhYmVsID8/IG9wdDtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGAke3RoaXMuX2lkIHx8IHRoaXMuX25hbWV9LSR7aW5kZXh9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2VkID0gKG9wdC5jaGVja2VkIHx8IHRoaXMuX3ZhbHVlID09IHZhbHVlKSA/ICcgY2hlY2tlZCcgOiAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBkaXNhYmxlZCA9IChvcHQuZGlzYWJsZWQgfHwgdGhpcy5fZGlzYWJsZWQpID8gJyBkaXNhYmxlZCcgOiAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBpbmxpbmVDbGFzcyA9IHRoaXMuX2lubGluZSA/IGAgJHtTaXhPcmJpdC5jbHMoJ2Zvcm0tY2hlY2staW5saW5lJyl9YCA6ICcnO1xuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdmb3JtLWNoZWNrJyl9JHtpbmxpbmVDbGFzc31cIj5gO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdmb3JtLWNoZWNrLWlucHV0Jyl9XCIgbmFtZT1cIiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9uYW1lKX1cIiB2YWx1ZT1cIiR7dGhpcy5fZXNjYXBlSHRtbChTdHJpbmcodmFsdWUpKX1cIiBpZD1cIiR7dGhpcy5fZXNjYXBlSHRtbChpZCl9XCIke2NoZWNrZWR9JHtkaXNhYmxlZH0+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8bGFiZWwgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZm9ybS1jaGVjay1sYWJlbCcpfVwiIGZvcj1cIiR7dGhpcy5fZXNjYXBlSHRtbChpZCl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKFN0cmluZyhsYWJlbCkpfTwvbGFiZWw+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmdsZSByYWRpb1xuICAgICAgICBjb25zdCBpbmxpbmVDbGFzcyA9IHRoaXMuX2lubGluZSA/IGAgJHtTaXhPcmJpdC5jbHMoJ2Zvcm0tY2hlY2staW5saW5lJyl9YCA6ICcnO1xuICAgICAgICBjb25zdCBhdHRycyA9IHRoaXMuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGxldCBhdHRyU3RyID0gT2JqZWN0LmVudHJpZXMoYXR0cnMpXG4gICAgICAgICAgICAuZmlsdGVyKChbLCB2XSkgPT4gdiAhPT0gZmFsc2UgJiYgdiAhPT0gbnVsbCAmJiB2ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAubWFwKChbaywgdl0pID0+IHYgPT09IHRydWUgPyBrIDogYCR7a309XCIke3RoaXMuX2VzY2FwZUh0bWwoU3RyaW5nKHYpKX1cImApXG4gICAgICAgICAgICAuam9pbignICcpO1xuXG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZm9ybS1jaGVjaycpfSR7aW5saW5lQ2xhc3N9XCI+YDtcbiAgICAgICAgaHRtbCArPSBgPGlucHV0ICR7YXR0clN0cn0+YDtcblxuICAgICAgICBpZiAodGhpcy5fbGFiZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvckF0dHIgPSB0aGlzLl9pZCA/IGAgZm9yPVwiJHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX2lkKX1cImAgOiAnJztcbiAgICAgICAgICAgIGh0bWwgKz0gYDxsYWJlbCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdmb3JtLWNoZWNrLWxhYmVsJyl9XCIke2ZvckF0dHJ9PiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9sYWJlbCl9PC9sYWJlbD5gO1xuICAgICAgICB9XG5cbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrZWQpIGNvbmZpZy5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2lubGluZSkgY29uZmlnLmlubGluZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zICYmIHRoaXMuX29wdGlvbnMubGVuZ3RoID4gMCkgY29uZmlnLm9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBpZiAodGhpcy5fYnV0dG9uU3R5bGUpIHtcbiAgICAgICAgICAgIGNvbmZpZy5idXR0b25TdHlsZSA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcuYnV0dG9uVmFyaWFudCA9IHRoaXMuX2J1dHRvblZhcmlhbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkaW87XG5leHBvcnQgeyBSYWRpbyB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBURVhUQVJFQSBFTEVNRU5UXG4vLyBNdWx0aS1saW5lIHRleHQgaW5wdXRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEZvcm1FbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Gb3JtRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG4vKipcbiAqIFRleHRhcmVhIC0gTXVsdGktbGluZSB0ZXh0IGlucHV0IGVsZW1lbnRcbiAqL1xuY2xhc3MgVGV4dGFyZWEgZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktdGV4dGFyZWEnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcbiAgICAgICAgdGFnTmFtZTogJ3RleHRhcmVhJyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fcm93cyA9IGNvbmZpZy5yb3dzID8/IDM7XG4gICAgICAgIHRoaXMuX2NvbHMgPSBjb25maWcuY29scyA/PyBudWxsO1xuICAgICAgICB0aGlzLl9tYXhsZW5ndGggPSBjb25maWcubWF4bGVuZ3RoID8/IG51bGw7XG4gICAgICAgIHRoaXMuX21pbmxlbmd0aCA9IGNvbmZpZy5taW5sZW5ndGggPz8gbnVsbDtcbiAgICAgICAgdGhpcy5fd3JhcCA9IGNvbmZpZy53cmFwIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZSA9IGNvbmZpZy5yZXNpemUgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5fYXV0b1Jlc2l6ZSA9IGNvbmZpZy5hdXRvUmVzaXplID8/IGZhbHNlO1xuICAgICAgICB0aGlzLl9zaG93Q291bnRlciA9IGNvbmZpZy5zaG93Q291bnRlciA/PyBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJIC0gRGltZW5zaW9uc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IHJvd3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93c1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHJvd3Mocm93cykge1xuICAgICAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGNvbHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNvbHMoY29scykge1xuICAgICAgICB0aGlzLl9jb2xzID0gY29scztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSSAtIENvbnN0cmFpbnRzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbWF4aW11bSBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4bGVuZ3RoXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbWF4bGVuZ3RoKG1heGxlbmd0aCkge1xuICAgICAgICB0aGlzLl9tYXhsZW5ndGggPSBtYXhsZW5ndGg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBtaW5pbXVtIGxlbmd0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5sZW5ndGhcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBtaW5sZW5ndGgobWlubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX21pbmxlbmd0aCA9IG1pbmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHdyYXAgbW9kZSAoaGFyZCwgc29mdCwgb2ZmKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB3cmFwXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgd3JhcCh3cmFwKSB7XG4gICAgICAgIHRoaXMuX3dyYXAgPSB3cmFwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJIC0gUmVzaXplXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgcmVzaXplIGJlaGF2aW9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbiAtICdub25lJywgJ3ZlcnRpY2FsJywgJ2hvcml6b250YWwnLCAnYm90aCdcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICByZXNpemUoZGlyZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZSA9IGRpcmVjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSByZXNpemVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBub1Jlc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzaXplKCdub25lJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3cgb25seSB2ZXJ0aWNhbCByZXNpemluZ1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHJlc2l6ZVZlcnRpY2FsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNpemUoJ3ZlcnRpY2FsJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3cgb25seSBob3Jpem9udGFsIHJlc2l6aW5nXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgcmVzaXplSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzaXplKCdob3Jpem9udGFsJyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSSAtIEZlYXR1cmVzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgYXV0by1yZXNpemUgYmFzZWQgb24gY29udGVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IGVuYWJsZSAtIHRydWUvZmFsc2Ugb3Igc2l6ZSB2YXJpYW50ICgnc20nLCAnbGcnKVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGF1dG9SZXNpemUoZW5hYmxlID0gdHJ1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIGVuYWJsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9SZXNpemVTaXplID0gZW5hYmxlO1xuICAgICAgICAgICAgdGhpcy5fYXV0b1Jlc2l6ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvUmVzaXplID0gZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgY2hhcmFjdGVyIGNvdW50ZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaG93Q291bnRlcihzaG93ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9zaG93Q291bnRlciA9IHNob3c7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEludGVyYWN0aXZpdHkgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSB8fCAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmFsdWUgcHJvZ3JhbW1hdGljYWxseVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyQXV0b1Jlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSB0ZXh0YXJlYVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRWYWx1ZSgnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGNoYXJhY3RlciBjb3VudFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0Q2hhckNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSgpLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhdCBtYXggbGVuZ3RoXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXNBdE1heExlbmd0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXhsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hhckNvdW50KCkgPj0gdGhpcy5fbWF4bGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCByZW1haW5pbmcgY2hhcmFjdGVycyAoaWYgbWF4bGVuZ3RoIHNldClcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfG51bGx9XG4gICAgICovXG4gICAgZ2V0UmVtYWluaW5nQ2hhcnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWF4bGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21heGxlbmd0aCAtIHRoaXMuZ2V0Q2hhckNvdW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZW1wdHlcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSgpLnRyaW0oKSA9PT0gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9jdXMgdGhlIHRleHRhcmVhXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJsdXIgdGhlIHRleHRhcmVhXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYmx1cigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmJsdXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3QgYWxsIHRleHRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZWxlY3RBbGwoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgc2VsZWN0aW9uIHJhbmdlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydCB0ZXh0IGF0IGN1cnNvciBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaW5zZXJ0QXRDdXJzb3IodGV4dCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuZWxlbWVudC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHRoaXMuZWxlbWVudC5zZWxlY3Rpb25FbmQ7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCBzdGFydCkgKyB0ZXh0ICsgdmFsdWUuc3Vic3RyaW5nKGVuZCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2VsZWN0aW9uU3RhcnQgPSB0aGlzLmVsZW1lbnQuc2VsZWN0aW9uRW5kID0gc3RhcnQgKyB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckF1dG9SZXNpemUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgdGV4dCB0byBlbmRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFwcGVuZCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWUoKSArIHRleHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXBlbmQgdGV4dCB0byBzdGFydFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgcHJlcGVuZCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFZhbHVlKHRleHQgKyB0aGlzLmdldFZhbHVlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0aGUgdGV4dGFyZWFcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoU2l4T3JiaXQuY2xzKCdkaXNhYmxlZCcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIHRoZSB0ZXh0YXJlYVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzYWJsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGRpc2FibGUoZGlzYWJsZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICAgICAgaWYgKGRpc2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ2Rpc2FibGVkJykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ2Rpc2FibGVkJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCByb3dzIGR5bmFtaWNhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0Um93cyhjb3VudCkge1xuICAgICAgICB0aGlzLl9yb3dzID0gY291bnQ7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yb3dzID0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBhdXRvLXJlc2l6ZSAoaWYgZW5hYmxlZClcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90cmlnZ2VyQXV0b1Jlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCAmJiB0aGlzLl9hdXRvUmVzaXplKSB7XG4gICAgICAgICAgICAvLyBSZXNldCBoZWlnaHQgdG8gcmVjYWxjdWxhdGVcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5lbGVtZW50LnNjcm9sbEhlaWdodCArICdweCc7XG5cbiAgICAgICAgICAgIC8vIERpc3BhdGNoIGN1c3RvbSBldmVudFxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoU2l4T3JiaXQuZXZ0KCdhdXRvc2l6ZScpLCB7XG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7IGhlaWdodDogdGhpcy5lbGVtZW50LnNjcm9sbEhlaWdodCB9LFxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIHRvIGlucHV0IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25JbnB1dChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignaW5wdXQnLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIHRvIGNoYW5nZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uKCdjaGFuZ2UnLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIHRvIGZvY3VzIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25Gb2N1cyhjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignZm9jdXMnLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIHRvIGJsdXIgZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvbkJsdXIoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oJ2JsdXInLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGFnIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiAndGV4dGFyZWEnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG5cbiAgICAgICAgLy8gQWRkIHJlc2l6ZSBjbGFzcyBpZiBzcGVjaWZpZWRcbiAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3Jlc2l6ZS0nICsgdGhpcy5fcmVzaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9leHRyYUNsYXNzZXMpLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jvd3MpIGF0dHJzLnJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICBpZiAodGhpcy5fY29scykgYXR0cnMuY29scyA9IHRoaXMuX2NvbHM7XG4gICAgICAgIGlmICh0aGlzLl9tYXhsZW5ndGgpIGF0dHJzLm1heGxlbmd0aCA9IHRoaXMuX21heGxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX21pbmxlbmd0aCkgYXR0cnMubWlubGVuZ3RoID0gdGhpcy5fbWlubGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5fd3JhcCkgYXR0cnMud3JhcCA9IHRoaXMuX3dyYXA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2F1dG9SZXNpemUpIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ2F1dG8tcmVzaXplJyldID0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3dDb3VudGVyICYmIHRoaXMuX21heGxlbmd0aCkge1xuICAgICAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgnY291bnRlcicpXSA9ICd0cnVlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB2YWx1ZSBhdHRyaWJ1dGUgKHRleHRhcmVhIHVzZXMgY29udGVudClcbiAgICAgICAgZGVsZXRlIGF0dHJzLnZhbHVlO1xuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEb24ndCByZW5kZXIgdmFsdWUgYXMgYXR0cmlidXRlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3Nob3VsZFJlbmRlclZhbHVlQXR0cigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb250ZW50ICh0aGUgdGV4dGFyZWEgdmFsdWUpXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgIT09IG51bGwgPyB0aGlzLl9lc2NhcGVIdG1sKFN0cmluZyh0aGlzLl92YWx1ZSkpIDogJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRvIERPTVxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmdldFRhZ05hbWUoKSk7XG5cbiAgICAgICAgLy8gQXBwbHkgYXR0cmlidXRlc1xuICAgICAgICBjb25zdCBhdHRycyA9IHRoaXMuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGF0dHJzKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gZmFsc2UgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNldCBjb250ZW50L3ZhbHVlXG4gICAgICAgIGlmICh0aGlzLl92YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZWwudmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuICAgICAgICB0aGlzLl9hdHRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jvd3MgIT09IDMpIGNvbmZpZy5yb3dzID0gdGhpcy5fcm93cztcbiAgICAgICAgaWYgKHRoaXMuX2NvbHMpIGNvbmZpZy5jb2xzID0gdGhpcy5fY29scztcbiAgICAgICAgaWYgKHRoaXMuX21heGxlbmd0aCkgY29uZmlnLm1heGxlbmd0aCA9IHRoaXMuX21heGxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX21pbmxlbmd0aCkgY29uZmlnLm1pbmxlbmd0aCA9IHRoaXMuX21pbmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX3dyYXApIGNvbmZpZy53cmFwID0gdGhpcy5fd3JhcDtcbiAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZSAhPT0gbnVsbCkgY29uZmlnLnJlc2l6ZSA9IHRoaXMuX3Jlc2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9SZXNpemUpIGNvbmZpZy5hdXRvUmVzaXplID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dDb3VudGVyKSBjb25maWcuc2hvd0NvdW50ZXIgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0YXJlYTtcbmV4cG9ydCB7IFRleHRhcmVhIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIEJVVFRPTiBFTEVNRU5UXG4vLyBCdXR0b24gd2l0aCB2YXJpYW50cyBhbmQgc3RhdGVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogQnV0dG9uIC0gQnV0dG9uIGVsZW1lbnQgd2l0aCB2YXJpYW50c1xuICovXG5jbGFzcyBCdXR0b24gZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1idXR0b24nO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgdGFnTmFtZTogJ2J1dHRvbicsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX2J1dHRvblR5cGUgPSBjb25maWcuYnV0dG9uVHlwZSB8fCAnYnV0dG9uJztcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IGNvbmZpZy52YXJpYW50IHx8ICdwcmltYXJ5JztcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNvbmZpZy5zaXplIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX291dGxpbmUgPSBjb25maWcub3V0bGluZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fYmxvY2sgPSBjb25maWcuYmxvY2sgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gY29uZmlnLmRpc2FibGVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9sb2FkaW5nID0gY29uZmlnLmxvYWRpbmcgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2xvYWRpbmdUZXh0ID0gY29uZmlnLmxvYWRpbmdUZXh0IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2ljb24gPSBjb25maWcuaWNvbiB8fCBudWxsO1xuICAgICAgICB0aGlzLl9pY29uUG9zaXRpb24gPSBjb25maWcuaWNvblBvc2l0aW9uIHx8ICdsZWZ0JztcbiAgICAgICAgdGhpcy5faWNvbk9ubHkgPSBjb25maWcuaWNvbk9ubHkgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3RleHQgPSBjb25maWcudGV4dCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9ocmVmID0gY29uZmlnLmhyZWYgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gY29uZmlnLnRhcmdldCB8fCBudWxsO1xuXG4gICAgICAgIC8vIEV2ZW50c1xuICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzID0gY29uZmlnLmV2ZW50cyB8fCB7fTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJIC0gVHlwZVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGJ1dHRvbiB0eXBlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBidXR0b24sIHN1Ym1pdCwgcmVzZXRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBidXR0b25UeXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fYnV0dG9uVHlwZSA9IHR5cGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBTdWJtaXQgYnV0dG9uICovXG4gICAgc3VibWl0KCkgeyByZXR1cm4gdGhpcy5idXR0b25UeXBlKCdzdWJtaXQnKTsgfVxuXG4gICAgLyoqIFJlc2V0IGJ1dHRvbiAqL1xuICAgIHJlc2V0KCkgeyByZXR1cm4gdGhpcy5idXR0b25UeXBlKCdyZXNldCcpOyB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJIC0gVmFyaWFudFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IHZhcmlhbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHZhcmlhbnQodmFyaWFudCkge1xuICAgICAgICB0aGlzLl92YXJpYW50ID0gdmFyaWFudDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqIFByaW1hcnkgdmFyaWFudCAqL1xuICAgIHByaW1hcnkoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3ByaW1hcnknKTsgfVxuXG4gICAgLyoqIFNlY29uZGFyeSB2YXJpYW50ICovXG4gICAgc2Vjb25kYXJ5KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdzZWNvbmRhcnknKTsgfVxuXG4gICAgLyoqIFN1Y2Nlc3MgdmFyaWFudCAqL1xuICAgIHN1Y2Nlc3MoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3N1Y2Nlc3MnKTsgfVxuXG4gICAgLyoqIERhbmdlciB2YXJpYW50ICovXG4gICAgZGFuZ2VyKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdkYW5nZXInKTsgfVxuXG4gICAgLyoqIFdhcm5pbmcgdmFyaWFudCAqL1xuICAgIHdhcm5pbmcoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3dhcm5pbmcnKTsgfVxuXG4gICAgLyoqIEluZm8gdmFyaWFudCAqL1xuICAgIGluZm8oKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2luZm8nKTsgfVxuXG4gICAgLyoqIExpZ2h0IHZhcmlhbnQgKi9cbiAgICBsaWdodCgpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnbGlnaHQnKTsgfVxuXG4gICAgLyoqIERhcmsgdmFyaWFudCAqL1xuICAgIGRhcmsoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2RhcmsnKTsgfVxuXG4gICAgLyoqIExpbmsgdmFyaWFudCAqL1xuICAgIGxpbmsoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2xpbmsnKTsgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSSAtIFN0eWxlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYXMgb3V0bGluZSBzdHlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb3V0bGluZSh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX291dGxpbmUgPSB2YWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBzaXplXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpemUgLSBzbSwgbGdcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaXplKHNpemUpIHtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBTbWFsbCBzaXplICovXG4gICAgc21hbGwoKSB7IHJldHVybiB0aGlzLnNpemUoJ3NtJyk7IH1cblxuICAgIC8qKiBMYXJnZSBzaXplICovXG4gICAgbGFyZ2UoKSB7IHJldHVybiB0aGlzLnNpemUoJ2xnJyk7IH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhcyBibG9jayBidXR0b24gKGZ1bGwgd2lkdGgpXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBibG9jayh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2Jsb2NrID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZGlzYWJsZWQgc3RhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGRpc2FibGVkKHZhbCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSB2YWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBsb2FkaW5nIHN0YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBsb2FkaW5nVGV4dFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGxvYWRpbmcodmFsID0gdHJ1ZSwgbG9hZGluZ1RleHQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2xvYWRpbmcgPSB2YWw7XG4gICAgICAgIGlmIChsb2FkaW5nVGV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGluZ1RleHQgPSBsb2FkaW5nVGV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaWNvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpY29uIC0gTWF0ZXJpYWwgSWNvbnMgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwb3NpdGlvbiAtIGxlZnQsIHJpZ2h0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvbihpY29uLCBwb3NpdGlvbiA9ICdsZWZ0Jykge1xuICAgICAgICB0aGlzLl9pY29uID0gaWNvbjtcbiAgICAgICAgdGhpcy5faWNvblBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhcyBpY29uLW9ubHkgYnV0dG9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGljb24gLSBNYXRlcmlhbCBJY29ucyBuYW1lXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvbk9ubHkoaWNvbikge1xuICAgICAgICB0aGlzLl9pY29uID0gaWNvbjtcbiAgICAgICAgdGhpcy5faWNvbk9ubHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYnV0dG9uIHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRleHQodGV4dCkge1xuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGFzIGxpbmsgYnV0dG9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHRhcmdldFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGhyZWYodXJsLCB0YXJnZXQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2hyZWYgPSB1cmw7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbiBsaW5rIGluIG5ldyB0YWJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBuZXdUYWIoKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBFdmVudHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBjbGljayBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvbkNsaWNrKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycy5jbGljayA9IGhhbmRsZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRhZyBuYW1lXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRUYWdOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faHJlZiA/ICdhJyA6ICdidXR0b24nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnYnRuJykpO1xuXG4gICAgICAgIC8vIFZhcmlhbnRcbiAgICAgICAgY29uc3QgdmFyaWFudENsYXNzID0gdGhpcy5fb3V0bGluZVxuICAgICAgICAgICAgPyBTaXhPcmJpdC5jbHMoJ2J0bicsICdvdXRsaW5lJywgdGhpcy5fdmFyaWFudClcbiAgICAgICAgICAgIDogU2l4T3JiaXQuY2xzKCdidG4nLCB0aGlzLl92YXJpYW50KTtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZCh2YXJpYW50Q2xhc3MpO1xuXG4gICAgICAgIC8vIFNpemVcbiAgICAgICAgaWYgKHRoaXMuX3NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdidG4nLCB0aGlzLl9zaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCbG9ja1xuICAgICAgICBpZiAodGhpcy5fYmxvY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd3LTEwMCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdidG4tbG9hZGluZycpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEljb24tb25seVxuICAgICAgICBpZiAodGhpcy5faWNvbk9ubHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdidG4taWNvbicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ocmVmKSB7XG4gICAgICAgICAgICAvLyBBbmNob3IgZWxlbWVudFxuICAgICAgICAgICAgYXR0cnMuaHJlZiA9IHRoaXMuX2hyZWY7XG4gICAgICAgICAgICBhdHRycy5yb2xlID0gJ2J1dHRvbic7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl90YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBhdHRycy50YXJnZXQgPSB0aGlzLl90YXJnZXQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RhcmdldCA9PT0gJ19ibGFuaycpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMucmVsID0gJ25vb3BlbmVyIG5vcmVmZXJyZXInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbJ2FyaWEtZGlzYWJsZWQnXSA9ICd0cnVlJztcbiAgICAgICAgICAgICAgICBhdHRycy50YWJpbmRleCA9ICctMSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBCdXR0b24gZWxlbWVudFxuICAgICAgICAgICAgYXR0cnMudHlwZSA9IHRoaXMuX2J1dHRvblR5cGU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXNhYmxlZCB8fCB0aGlzLl9sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9hZGluZyBkYXRhIGF0dHJpYnV0ZXNcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRpbmcpIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ2xvYWRpbmcnKV0gPSAndHJ1ZSc7XG4gICAgICAgICAgICBpZiAodGhpcy5fbG9hZGluZ1RleHQpIHtcbiAgICAgICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdsb2FkaW5nLXRleHQnKV0gPSB0aGlzLl9sb2FkaW5nVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgY29udGVudFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcblxuICAgICAgICAvLyBMb2FkaW5nIHNwaW5uZXJcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRpbmcpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3NwaW5uZXInKX0gJHtTaXhPcmJpdC5jbHMoJ3NwaW5uZXItYm9yZGVyJyl9ICR7U2l4T3JiaXQuY2xzKCdzcGlubmVyLWJvcmRlci1zbScpfVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+IGA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJY29uIGxlZnRcbiAgICAgICAgaWYgKHRoaXMuX2ljb24gJiYgdGhpcy5faWNvblBvc2l0aW9uID09PSAnbGVmdCcgJiYgIXRoaXMuX2xvYWRpbmcpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5faWNvbil9PC9zcGFuPmA7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ljb25Pbmx5ICYmIHRoaXMuX3RleHQpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9ICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRleHRcbiAgICAgICAgaWYgKCF0aGlzLl9pY29uT25seSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xvYWRpbmcgJiYgdGhpcy5fbG9hZGluZ1RleHQpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwodGhpcy5fbG9hZGluZ1RleHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl90ZXh0KSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3RleHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWNvbiByaWdodFxuICAgICAgICBpZiAodGhpcy5faWNvbiAmJiB0aGlzLl9pY29uUG9zaXRpb24gPT09ICdyaWdodCcgJiYgIXRoaXMuX2xvYWRpbmcpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faWNvbk9ubHkgJiYgdGhpcy5fdGV4dCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9pY29uKX08L3NwYW4+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0byBET01cbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5nZXRUYWdOYW1lKCkpO1xuXG4gICAgICAgIC8vIEFwcGx5IGF0dHJpYnV0ZXNcbiAgICAgICAgY29uc3QgYXR0cnMgPSB0aGlzLmJ1aWxkQXR0cmlidXRlcygpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhhdHRycykuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZXQgY29udGVudFxuICAgICAgICBlbC5pbm5lckhUTUwgPSB0aGlzLnJlbmRlckNvbnRlbnQoKTtcblxuICAgICAgICAvLyBBdHRhY2ggZXZlbnRzXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuX2V2ZW50SGFuZGxlcnMpLmZvckVhY2goKFtldmVudCwgaGFuZGxlcl0pID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHdpbmRvd1toYW5kbGVyXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHdpbmRvd1toYW5kbGVyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9idXR0b25UeXBlICE9PSAnYnV0dG9uJykgY29uZmlnLmJ1dHRvblR5cGUgPSB0aGlzLl9idXR0b25UeXBlO1xuICAgICAgICBpZiAodGhpcy5fdmFyaWFudCAhPT0gJ3ByaW1hcnknKSBjb25maWcudmFyaWFudCA9IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgIGlmICh0aGlzLl9zaXplKSBjb25maWcuc2l6ZSA9IHRoaXMuX3NpemU7XG4gICAgICAgIGlmICh0aGlzLl9vdXRsaW5lKSBjb25maWcub3V0bGluZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9ibG9jaykgY29uZmlnLmJsb2NrID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSBjb25maWcuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fbG9hZGluZykge1xuICAgICAgICAgICAgY29uZmlnLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xvYWRpbmdUZXh0KSBjb25maWcubG9hZGluZ1RleHQgPSB0aGlzLl9sb2FkaW5nVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faWNvbikge1xuICAgICAgICAgICAgY29uZmlnLmljb24gPSB0aGlzLl9pY29uO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ljb25Qb3NpdGlvbiAhPT0gJ2xlZnQnKSBjb25maWcuaWNvblBvc2l0aW9uID0gdGhpcy5faWNvblBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pY29uT25seSkgY29uZmlnLmljb25Pbmx5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3RleHQpIGNvbmZpZy50ZXh0ID0gdGhpcy5fdGV4dDtcbiAgICAgICAgaWYgKHRoaXMuX2hyZWYpIGNvbmZpZy5ocmVmID0gdGhpcy5faHJlZjtcbiAgICAgICAgaWYgKHRoaXMuX3RhcmdldCkgY29uZmlnLnRhcmdldCA9IHRoaXMuX3RhcmdldDtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uO1xuZXhwb3J0IHsgQnV0dG9uIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIEZJTEUgSU5QVVQgRUxFTUVOVFxuLy8gRmlsZSB1cGxvYWQgaW5wdXRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEZvcm1FbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Gb3JtRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG4vKipcbiAqIEZpbGVJbnB1dCAtIEZpbGUgdXBsb2FkIGVsZW1lbnRcbiAqL1xuY2xhc3MgRmlsZUlucHV0IGV4dGVuZHMgRm9ybUVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLWZpbGUtaW5wdXQnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2ZpbGUtaW5wdXQnLFxuICAgICAgICB0YWdOYW1lOiAnaW5wdXQnLFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29uZmlnXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcblxuICAgICAgICB0aGlzLl9hY2NlcHQgPSBjb25maWcuYWNjZXB0IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX211bHRpcGxlID0gY29uZmlnLm11bHRpcGxlIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYXB0dXJlID0gY29uZmlnLmNhcHR1cmUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fbWF4U2l6ZSA9IGNvbmZpZy5tYXhTaXplIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3ByZXZpZXcgPSBjb25maWcucHJldmlldyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fZHJvcHpvbmUgPSBjb25maWcuZHJvcHpvbmUgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGFjY2VwdGVkIGZpbGUgdHlwZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXB0IC0gTUlNRSB0eXBlcyBvciBleHRlbnNpb25zXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWNjZXB0KGFjY2VwdCkge1xuICAgICAgICB0aGlzLl9hY2NlcHQgPSBhY2NlcHQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjY2VwdCBpbWFnZXMgb25seVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGltYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXB0KCdpbWFnZS8qJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWNjZXB0IHZpZGVvcyBvbmx5XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmlkZW9zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY2NlcHQoJ3ZpZGVvLyonKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY2NlcHQgYXVkaW8gb25seVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGF1ZGlvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY2NlcHQoJ2F1ZGlvLyonKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY2NlcHQgUERGc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHBkZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXB0KCdhcHBsaWNhdGlvbi9wZGYsLnBkZicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjY2VwdCBkb2N1bWVudHNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBkb2N1bWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VwdCgnLnBkZiwuZG9jLC5kb2N4LC54bHMsLnhsc3gsLnBwdCwucHB0eCwudHh0Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG11bHRpcGxlIGZpbGVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBtdWx0aXBsZSh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX211bHRpcGxlID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbWF4aW11bSBmaWxlIHNpemUgaW4gYnl0ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYnl0ZXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBtYXhTaXplKGJ5dGVzKSB7XG4gICAgICAgIHRoaXMuX21heFNpemUgPSBieXRlcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG1heGltdW0gZmlsZSBzaXplIGluIG1lZ2FieXRlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYlxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG1heFNpemVNQihtYikge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhTaXplKG1iICogMTAyNCAqIDEwMjQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBjYXB0dXJlIG1vZGUgKGNhbWVyYSwgbWljcm9waG9uZSlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIHVzZXIsIGVudmlyb25tZW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY2FwdHVyZSh0eXBlID0gJ3VzZXInKSB7XG4gICAgICAgIHRoaXMuX2NhcHR1cmUgPSB0eXBlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2UgZnJvbnQgY2FtZXJhXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZnJvbnRDYW1lcmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcHR1cmUoJ3VzZXInKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2UgYmFjayBjYW1lcmFcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBiYWNrQ2FtZXJhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXB0dXJlKCdlbnZpcm9ubWVudCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBmaWxlIHByZXZpZXdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHByZXZpZXcodmFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9wcmV2aWV3ID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgZHJhZyBhbmQgZHJvcCB6b25lXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBkcm9wem9uZSh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2Ryb3B6b25lID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdldCB0YWcgbmFtZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0VGFnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdpbnB1dCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuXG4gICAgICAgIGF0dHJzLnR5cGUgPSAnZmlsZSc7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjY2VwdCkgYXR0cnMuYWNjZXB0ID0gdGhpcy5fYWNjZXB0O1xuICAgICAgICBpZiAodGhpcy5fbXVsdGlwbGUpIGF0dHJzLm11bHRpcGxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2NhcHR1cmUpIGF0dHJzLmNhcHR1cmUgPSB0aGlzLl9jYXB0dXJlO1xuICAgICAgICBpZiAodGhpcy5fbWF4U2l6ZSkgYXR0cnNbU2l4T3JiaXQuZGF0YSgnbWF4LXNpemUnKV0gPSB0aGlzLl9tYXhTaXplO1xuICAgICAgICBpZiAodGhpcy5fcHJldmlldykgYXR0cnNbU2l4T3JiaXQuZGF0YSgncHJldmlldycpXSA9ICd0cnVlJztcbiAgICAgICAgaWYgKHRoaXMuX2Ryb3B6b25lKSBhdHRyc1tTaXhPcmJpdC5kYXRhKCdkcm9wem9uZScpXSA9ICd0cnVlJztcblxuICAgICAgICAvLyBSZW1vdmUgdmFsdWUgKG5vdCBhcHBsaWNhYmxlIGZvciBmaWxlIGlucHV0cylcbiAgICAgICAgZGVsZXRlIGF0dHJzLnZhbHVlO1xuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEb24ndCByZW5kZXIgdmFsdWUgYXMgYXR0cmlidXRlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3Nob3VsZFJlbmRlclZhbHVlQXR0cigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb250ZW50IChlbXB0eSBmb3IgaW5wdXQpXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGZpbGVzXG4gICAgICogQHJldHVybnMge0ZpbGVMaXN0fG51bGx9XG4gICAgICovXG4gICAgZ2V0RmlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ/LmZpbGVzIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHZhbHVlIChmaWxlIG5hbWVzKVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8QXJyYXl9XG4gICAgICovXG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50LmZpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20odGhpcy5lbGVtZW50LmZpbGVzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlcy5tYXAoZiA9PiBmLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZpbGVzWzBdPy5uYW1lIHx8ICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjY2VwdCkgY29uZmlnLmFjY2VwdCA9IHRoaXMuX2FjY2VwdDtcbiAgICAgICAgaWYgKHRoaXMuX211bHRpcGxlKSBjb25maWcubXVsdGlwbGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fY2FwdHVyZSkgY29uZmlnLmNhcHR1cmUgPSB0aGlzLl9jYXB0dXJlO1xuICAgICAgICBpZiAodGhpcy5fbWF4U2l6ZSkgY29uZmlnLm1heFNpemUgPSB0aGlzLl9tYXhTaXplO1xuICAgICAgICBpZiAodGhpcy5fcHJldmlldykgY29uZmlnLnByZXZpZXcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fZHJvcHpvbmUpIGNvbmZpZy5kcm9wem9uZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbGVJbnB1dDtcbmV4cG9ydCB7IEZpbGVJbnB1dCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBISURERU4gSU5QVVQgRUxFTUVOVFxuLy8gSGlkZGVuIGZvcm0gZmllbGRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEZvcm1FbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Gb3JtRWxlbWVudC5qcyc7XG5cbi8qKlxuICogSGlkZGVuIC0gSGlkZGVuIGlucHV0IGVsZW1lbnRcbiAqL1xuY2xhc3MgSGlkZGVuIGV4dGVuZHMgRm9ybUVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLWhpZGRlbic7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkZvcm1FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnaGlkZGVuJyxcbiAgICAgICAgdGFnTmFtZTogJ2lucHV0JyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIC8vIEhpZGRlbiBpbnB1dHMgZG9uJ3QgbmVlZCBsYWJlbCwgcGxhY2Vob2xkZXIsIGV0Yy5cbiAgICAgICAgdGhpcy5fbGFiZWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9wbGFjZWhvbGRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hlbHAgPSBudWxsO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRhZyBuYW1lXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRUYWdOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ2lucHV0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3NlcyAoaGlkZGVuIGlucHV0cyBoYXZlIG5vIHZpc3VhbCBjbGFzc2VzKVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgLy8gRG9uJ3QgYWRkIGZvcm0tY29udHJvbCBjbGFzc1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuZGVsZXRlKCdzby1mb3JtLWNvbnRyb2wnKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZXh0cmFDbGFzc2VzKS5qb2luKCcgJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHt9O1xuXG4gICAgICAgIC8vIElEXG4gICAgICAgIGlmICh0aGlzLl9pZCkgYXR0cnMuaWQgPSB0aGlzLl9pZDtcblxuICAgICAgICAvLyBOYW1lIGFuZCB2YWx1ZVxuICAgICAgICBpZiAodGhpcy5fbmFtZSkgYXR0cnMubmFtZSA9IHRoaXMuX25hbWU7XG4gICAgICAgIGlmICh0aGlzLl92YWx1ZSAhPT0gbnVsbCkgYXR0cnMudmFsdWUgPSB0aGlzLl92YWx1ZTtcblxuICAgICAgICAvLyBUeXBlXG4gICAgICAgIGF0dHJzLnR5cGUgPSAnaGlkZGVuJztcblxuICAgICAgICAvLyBDdXN0b20gYXR0cmlidXRlc1xuICAgICAgICB0aGlzLl9leHRyYUF0dHJpYnV0ZXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEYXRhIGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5fZGF0YUF0dHJpYnV0ZXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgYXR0cnNbYGRhdGEtJHt0aGlzLl9rZWJhYkNhc2Uoa2V5KX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnQgKGVtcHR5IGZvciBpbnB1dClcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgd2l0aG91dCB3cmFwcGVyXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuZ2V0VGFnTmFtZSgpKTtcblxuICAgICAgICBjb25zdCBhdHRycyA9IHRoaXMuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGF0dHJzKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gZmFsc2UgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGdyb3VwIChqdXN0IHRoZSBpbnB1dCwgbm8gd3JhcHBlciBuZWVkZWQpXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHJlbmRlckdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXIoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhpZGRlbjtcbmV4cG9ydCB7IEhpZGRlbiB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBGT1JNIEVMRU1FTlRcbi8vIEZvcm0gY29udGFpbmVyIHdpdGggdmFsaWRhdGlvbiBzdXBwb3J0XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Db250YWluZXJFbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogRm9ybSAtIEZvcm0gY29udGFpbmVyIGVsZW1lbnRcbiAqL1xuY2xhc3MgRm9ybSBleHRlbmRzIENvbnRhaW5lckVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLWZvcm0nO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Db250YWluZXJFbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnZm9ybScsXG4gICAgICAgIHRhZ05hbWU6ICdmb3JtJyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fYWN0aW9uID0gY29uZmlnLmFjdGlvbiB8fCAnJztcbiAgICAgICAgdGhpcy5fbWV0aG9kID0gY29uZmlnLm1ldGhvZCB8fCAnUE9TVCc7XG4gICAgICAgIHRoaXMuX21ldGhvZE92ZXJyaWRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW5jdHlwZSA9IGNvbmZpZy5lbmN0eXBlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IGNvbmZpZy50YXJnZXQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fbm92YWxpZGF0ZSA9IGNvbmZpZy5ub3ZhbGlkYXRlIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdXRvY29tcGxldGUgPSBjb25maWcuYXV0b2NvbXBsZXRlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2FqYXggPSBjb25maWcuYWpheCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2hvd0xvYWRpbmcgPSBjb25maWcuc2hvd0xvYWRpbmcgIT09IGZhbHNlO1xuXG4gICAgICAgIC8vIEV2ZW50c1xuICAgICAgICB0aGlzLl9vblN1Ym1pdCA9IGNvbmZpZy5vblN1Ym1pdCB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZsdWVudCBBUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBmb3JtIGFjdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhY3Rpb24odXJsKSB7XG4gICAgICAgIHRoaXMuX2FjdGlvbiA9IHVybDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGZvcm0gbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCAtIEdFVHxQT1NUfFBVVHxQQVRDSHxERUxFVEVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBtZXRob2QobWV0aG9kKSB7XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIC8vIEhUTUwgZm9ybXMgb25seSBzdXBwb3J0IEdFVCBhbmQgUE9TVFxuICAgICAgICBpZiAoWydQVVQnLCAnUEFUQ0gnLCAnREVMRVRFJ10uaW5jbHVkZXMobWV0aG9kKSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kT3ZlcnJpZGUgPSBtZXRob2Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2RPdmVycmlkZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqIEdFVCBtZXRob2QgKi9cbiAgICBnZXQoKSB7IHJldHVybiB0aGlzLm1ldGhvZCgnR0VUJyk7IH1cblxuICAgIC8qKiBQT1NUIG1ldGhvZCAqL1xuICAgIHBvc3QoKSB7IHJldHVybiB0aGlzLm1ldGhvZCgnUE9TVCcpOyB9XG5cbiAgICAvKiogUFVUIG1ldGhvZCAodXNlcyBtZXRob2Qgb3ZlcnJpZGUpICovXG4gICAgcHV0KCkgeyByZXR1cm4gdGhpcy5tZXRob2QoJ1BVVCcpOyB9XG5cbiAgICAvKiogUEFUQ0ggbWV0aG9kICh1c2VzIG1ldGhvZCBvdmVycmlkZSkgKi9cbiAgICBwYXRjaCgpIHsgcmV0dXJuIHRoaXMubWV0aG9kKCdQQVRDSCcpOyB9XG5cbiAgICAvKiogREVMRVRFIG1ldGhvZCAodXNlcyBtZXRob2Qgb3ZlcnJpZGUpICovXG4gICAgZGVsZXRlKCkgeyByZXR1cm4gdGhpcy5tZXRob2QoJ0RFTEVURScpOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZW5jdHlwZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZW5jdHlwZSh0eXBlKSB7XG4gICAgICAgIHRoaXMuX2VuY3R5cGUgPSB0eXBlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKiogTXVsdGlwYXJ0IGZvcm0gZGF0YSAqL1xuICAgIG11bHRpcGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5jdHlwZSgnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0YXJnZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdGFyZ2V0KHRhcmdldCkge1xuICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBPcGVuIGluIG5ldyB0YWIgKi9cbiAgICBuZXdUYWIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldCgnX2JsYW5rJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSBIVE1MNSB2YWxpZGF0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBub3ZhbGlkYXRlKHZhbCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fbm92YWxpZGF0ZSA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGF1dG9jb21wbGV0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdXRvY29tcGxldGUgLSBvbnxvZmZcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhdXRvY29tcGxldGUoYXV0b2NvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMuX2F1dG9jb21wbGV0ZSA9IGF1dG9jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqIERpc2FibGUgYXV0b2NvbXBsZXRlICovXG4gICAgbm9BdXRvY29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dG9jb21wbGV0ZSgnb2ZmJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIEFKQVggc3VibWlzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWpheCh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2FqYXggPSB2YWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBsb2FkaW5nIHN0YXRlIGJlaGF2aW9yXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaG93TG9hZGluZyh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3Nob3dMb2FkaW5nID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgc3VibWl0IGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25TdWJtaXQoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9vblN1Ym1pdCA9IGhhbmRsZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRhZyBuYW1lXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRUYWdOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ2Zvcm0nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aW9uKSBhdHRycy5hY3Rpb24gPSB0aGlzLl9hY3Rpb247XG4gICAgICAgIGlmICh0aGlzLl9tZXRob2QpIGF0dHJzLm1ldGhvZCA9IHRoaXMuX21ldGhvZDtcbiAgICAgICAgaWYgKHRoaXMuX2VuY3R5cGUpIGF0dHJzLmVuY3R5cGUgPSB0aGlzLl9lbmN0eXBlO1xuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0KSBhdHRycy50YXJnZXQgPSB0aGlzLl90YXJnZXQ7XG4gICAgICAgIGlmICh0aGlzLl9ub3ZhbGlkYXRlKSBhdHRycy5ub3ZhbGlkYXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9jb21wbGV0ZSkgYXR0cnMuYXV0b2NvbXBsZXRlID0gdGhpcy5fYXV0b2NvbXBsZXRlO1xuICAgICAgICBpZiAodGhpcy5fYWpheCkgYXR0cnNbU2l4T3JiaXQuZGF0YSgnYWpheCcpXSA9ICd0cnVlJztcbiAgICAgICAgaWYgKCF0aGlzLl9zaG93TG9hZGluZykgYXR0cnNbU2l4T3JiaXQuZGF0YSgnbm8tbG9hZGluZycpXSA9ICd0cnVlJztcblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnQgaW5jbHVkaW5nIGhpZGRlbiBmaWVsZHNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgLy8gTWV0aG9kIG92ZXJyaWRlIGhpZGRlbiBmaWVsZCBmb3IgUFVUL1BBVENIL0RFTEVURVxuICAgICAgICBpZiAodGhpcy5fbWV0aG9kT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIl9tZXRob2RcIiB2YWx1ZT1cIiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9tZXRob2RPdmVycmlkZSl9XCI+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlciBjaGlsZHJlblxuICAgICAgICBodG1sICs9IHN1cGVyLnJlbmRlckNvbnRlbnQoKTtcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdG8gRE9NXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZWwgPSBzdXBlci5yZW5kZXIoKTtcblxuICAgICAgICAvLyBBdHRhY2ggc3VibWl0IGhhbmRsZXJcbiAgICAgICAgaWYgKHRoaXMuX29uU3VibWl0KSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fb25TdWJtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25TdWJtaXQoZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRm9ybSBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBHZXQgZm9ybSBkYXRhXG4gICAgICogQHJldHVybnMge0Zvcm1EYXRhfVxuICAgICAqL1xuICAgIGdldEZvcm1EYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1EYXRhKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBGb3JtRGF0YSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZm9ybSB2YWx1ZXMgYXMgb2JqZWN0XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXRWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHRoaXMuZ2V0Rm9ybURhdGEoKTtcbiAgICAgICAgZm9ybURhdGEuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlc1trZXldKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNba2V5XSA9IFt2YWx1ZXNba2V5XV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlc1trZXldLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZm9ybSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0VmFsdWVzKHZhbHVlcykge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXModmFsdWVzKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7bmFtZX1cIl1gKTtcbiAgICAgICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmNoZWNrZWQgPSAhIXZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpbyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7bmFtZX1cIl1bdmFsdWU9XCIke3ZhbHVlfVwiXWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFkaW8pIHJhZGlvLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBmb3JtXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgcmVzZXRGb3JtKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWJtaXQgZm9ybVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHN1Ym1pdEZvcm0oKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdWJtaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBmb3JtXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgdmFsaWRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2hlY2tWYWxpZGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcG9ydCB2YWxpZGl0eVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHJlcG9ydFZhbGlkaXR5KCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnJlcG9ydFZhbGlkaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhwb3J0IHZhbGlkYXRpb24gcnVsZXMgZm9yIGFsbCBmb3JtIGVsZW1lbnRzXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBleHBvcnRWYWxpZGF0aW9uKCkge1xuICAgICAgICBjb25zdCBydWxlcyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRWxlbWVudHMgPSB0aGlzLmdldEZvcm1FbGVtZW50cygpO1xuXG4gICAgICAgIGZvcm1FbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIGlmIChlbC5nZXROYW1lICYmIGVsLmV4cG9ydFZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZWwuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzW25hbWVdID0gZWwuZXhwb3J0VmFsaWRhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJ1bGVzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbmZpZyBFeHBvcnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gY29uZmlnXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aW9uKSBjb25maWcuYWN0aW9uID0gdGhpcy5fYWN0aW9uO1xuICAgICAgICBjb25maWcubWV0aG9kID0gdGhpcy5fbWV0aG9kT3ZlcnJpZGUgfHwgdGhpcy5fbWV0aG9kO1xuICAgICAgICBpZiAodGhpcy5fZW5jdHlwZSkgY29uZmlnLmVuY3R5cGUgPSB0aGlzLl9lbmN0eXBlO1xuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0KSBjb25maWcudGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgICBpZiAodGhpcy5fbm92YWxpZGF0ZSkgY29uZmlnLm5vdmFsaWRhdGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b2NvbXBsZXRlKSBjb25maWcuYXV0b2NvbXBsZXRlID0gdGhpcy5fYXV0b2NvbXBsZXRlO1xuICAgICAgICBpZiAodGhpcy5fYWpheCkgY29uZmlnLmFqYXggPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuX3Nob3dMb2FkaW5nKSBjb25maWcuc2hvd0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybTtcbmV4cG9ydCB7IEZvcm0gfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQVVUT0NPTVBMRVRFIEVMRU1FTlRcbi8vIFNlYXJjaCBpbnB1dCB3aXRoIHN1Z2dlc3Rpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBGb3JtRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRm9ybUVsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBBdXRvY29tcGxldGUgLSBTZWFyY2ggd2l0aCBzdWdnZXN0aW9uc1xuICogU3VwcG9ydHMgc2luZ2xlL211bHRpLXNlbGVjdCwgYXN5bmMgZGF0YSwgZnJlZSBzb2xvIG1vZGUsIGFuZCB0b2tlbiBkaXNwbGF5XG4gKi9cbmNsYXNzIEF1dG9jb21wbGV0ZSBleHRlbmRzIEZvcm1FbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1hdXRvY29tcGxldGUnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2F1dG9jb21wbGV0ZScsXG4gICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgIH07XG5cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gY29uZmlnLm9wdGlvbnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FzeW5jVXJsID0gY29uZmlnLmFzeW5jVXJsIHx8IGNvbmZpZy5hc3luYyB8fCBudWxsO1xuICAgICAgICB0aGlzLl9taW5MZW5ndGggPSBjb25maWcubWluTGVuZ3RoID8/IGNvbmZpZy5taW5DaGFycyA/PyAwO1xuICAgICAgICB0aGlzLl9kZWJvdW5jZSA9IGNvbmZpZy5kZWJvdW5jZSA/PyAzMDA7XG4gICAgICAgIHRoaXMuX21heFJlc3VsdHMgPSBjb25maWcubWF4UmVzdWx0cyA/PyAxMDtcbiAgICAgICAgdGhpcy5fZnJlZVNvbG8gPSBjb25maWcuZnJlZVNvbG8gPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hpZ2hsaWdodE1hdGNoZXMgPSBjb25maWcuaGlnaGxpZ2h0TWF0Y2hlcyAhPT0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NsZWFyYWJsZSA9IGNvbmZpZy5jbGVhcmFibGUgIT09IGZhbHNlO1xuICAgICAgICB0aGlzLl9tdWx0aXBsZSA9IGNvbmZpZy5tdWx0aXBsZSA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGlzcGxheU1vZGUgPSBjb25maWcuZGlzcGxheU1vZGUgfHwgJ2NoaXBzJztcbiAgICAgICAgdGhpcy5fbWF4VmlzaWJsZVRva2VucyA9IGNvbmZpZy5tYXhWaXNpYmxlVG9rZW5zID8/IDM7XG4gICAgICAgIHRoaXMuX3Rva2VuRGVsaW1pdGVycyA9IGNvbmZpZy50b2tlbkRlbGltaXRlcnMgfHwgWycsJywgJzsnXTtcbiAgICAgICAgdGhpcy5fbm9SZXN1bHRzVGV4dCA9IGNvbmZpZy5ub1Jlc3VsdHNUZXh0IHx8ICdObyByZXN1bHRzIGZvdW5kJztcbiAgICAgICAgdGhpcy5fbG9hZGluZ1RleHQgPSBjb25maWcubG9hZGluZ1RleHQgfHwgJ0xvYWRpbmcuLi4nO1xuICAgICAgICB0aGlzLl9pdGVtVGVtcGxhdGUgPSBjb25maWcuaXRlbVRlbXBsYXRlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLy8gRmx1ZW50IHNldHRlcnNcbiAgICBvcHRpb25zKG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7IHJldHVybiB0aGlzOyB9XG4gICAgYWRkT3B0aW9uKG9wdGlvbikgeyB0aGlzLl9vcHRpb25zLnB1c2gob3B0aW9uKTsgcmV0dXJuIHRoaXM7IH1cbiAgICBhc3luYyh1cmwpIHsgdGhpcy5fYXN5bmNVcmwgPSB1cmw7IHJldHVybiB0aGlzOyB9XG4gICAgYWpheFVybCh1cmwpIHsgcmV0dXJuIHRoaXMuYXN5bmModXJsKTsgfVxuICAgIG1pbkxlbmd0aChsZW5ndGgpIHsgdGhpcy5fbWluTGVuZ3RoID0gbGVuZ3RoOyByZXR1cm4gdGhpczsgfVxuICAgIG1pbkNoYXJzKGNoYXJzKSB7IHJldHVybiB0aGlzLm1pbkxlbmd0aChjaGFycyk7IH1cbiAgICBkZWJvdW5jZShtcykgeyB0aGlzLl9kZWJvdW5jZSA9IG1zOyByZXR1cm4gdGhpczsgfVxuICAgIG1heFJlc3VsdHMobWF4KSB7IHRoaXMuX21heFJlc3VsdHMgPSBtYXg7IHJldHVybiB0aGlzOyB9XG4gICAgZnJlZVNvbG8odmFsID0gdHJ1ZSkgeyB0aGlzLl9mcmVlU29sbyA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBzdHJpY3QoKSB7IHJldHVybiB0aGlzLmZyZWVTb2xvKGZhbHNlKTsgfVxuICAgIGhpZ2hsaWdodE1hdGNoZXModmFsID0gdHJ1ZSkgeyB0aGlzLl9oaWdobGlnaHRNYXRjaGVzID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGhpZ2hsaWdodCh2YWwgPSB0cnVlKSB7IHJldHVybiB0aGlzLmhpZ2hsaWdodE1hdGNoZXModmFsKTsgfVxuICAgIGNsZWFyYWJsZSh2YWwgPSB0cnVlKSB7IHRoaXMuX2NsZWFyYWJsZSA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBtdWx0aXBsZSh2YWwgPSB0cnVlKSB7IHRoaXMuX211bHRpcGxlID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGRpc3BsYXlNb2RlKG1vZGUpIHsgdGhpcy5fZGlzcGxheU1vZGUgPSBtb2RlOyByZXR1cm4gdGhpczsgfVxuICAgIG1heFZpc2libGVUb2tlbnMobWF4KSB7IHRoaXMuX21heFZpc2libGVUb2tlbnMgPSBtYXg7IHJldHVybiB0aGlzOyB9XG4gICAgdG9rZW5EZWxpbWl0ZXJzKGRlbGltaXRlcnMpIHsgdGhpcy5fdG9rZW5EZWxpbWl0ZXJzID0gZGVsaW1pdGVyczsgcmV0dXJuIHRoaXM7IH1cbiAgICBub1Jlc3VsdHNUZXh0KHRleHQpIHsgdGhpcy5fbm9SZXN1bHRzVGV4dCA9IHRleHQ7IHJldHVybiB0aGlzOyB9XG4gICAgbG9hZGluZ1RleHQodGV4dCkgeyB0aGlzLl9sb2FkaW5nVGV4dCA9IHRleHQ7IHJldHVybiB0aGlzOyB9XG4gICAgaXRlbVRlbXBsYXRlKHRlbXBsYXRlKSB7IHRoaXMuX2l0ZW1UZW1wbGF0ZSA9IHRlbXBsYXRlOyByZXR1cm4gdGhpczsgfVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2F1dG9jb21wbGV0ZScpKTtcblxuICAgICAgICBpZiAodGhpcy5fbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdhdXRvY29tcGxldGUtbXVsdGlwbGUnKSk7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscyhgYXV0b2NvbXBsZXRlLWRpc3BsYXktJHt0aGlzLl9kaXNwbGF5TW9kZX1gKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoYGF1dG9jb21wbGV0ZS0ke3RoaXMuX3NpemV9YCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZGlzYWJsZWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB7fTtcblxuICAgICAgICBpZiAodGhpcy5faWQpIHtcbiAgICAgICAgICAgIGF0dHJzLmlkID0gdGhpcy5faWQ7XG4gICAgICAgIH1cblxuICAgICAgICBhdHRycy5jbGFzcyA9IHRoaXMuYnVpbGRDbGFzc1N0cmluZygpO1xuXG4gICAgICAgIC8vIERhdGEgYXR0cmlidXRlcyBmb3IgSlMgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgaWYgKHRoaXMuX211bHRpcGxlKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdtdWx0aXBsZScpXSA9ICd0cnVlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9mcmVlU29sbykge1xuICAgICAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgnZnJlZS1zb2xvJyldID0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2FzeW5jVXJsKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdhc3luYycpXSA9IHRoaXMuX2FzeW5jVXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcklkID0gYGF1dG9jb21wbGV0ZS0ke3RoaXMuX2lkIHx8IERhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICAgIGNvbnN0IGRyb3Bkb3duSWQgPSBgJHtjb250YWluZXJJZH0tZHJvcGRvd25gO1xuXG4gICAgICAgIC8vIEJ1aWxkIGlucHV0XG4gICAgICAgIGNvbnN0IGlucHV0QXR0cnMgPSB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICBjbGFzczogU2l4T3JiaXQuY2xzKCdhdXRvY29tcGxldGUtaW5wdXQnKSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLl9wbGFjZWhvbGRlciB8fCAnVHlwZSB0byBzZWFyY2guLi4nLFxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiAnb2ZmJyxcbiAgICAgICAgICAgIHJvbGU6ICdjb21ib2JveCcsXG4gICAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6ICdmYWxzZScsXG4gICAgICAgICAgICAnYXJpYS1oYXNwb3B1cCc6ICdsaXN0Ym94JyxcbiAgICAgICAgICAgICdhcmlhLW93bnMnOiBkcm9wZG93bklkLFxuICAgICAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMuX25hbWUgJiYgIXRoaXMuX211bHRpcGxlKSB7XG4gICAgICAgICAgICBpbnB1dEF0dHJzLm5hbWUgPSB0aGlzLl9uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICBpbnB1dEF0dHJzLmRpc2FibGVkID0gJ2Rpc2FibGVkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yZWFkb25seSkge1xuICAgICAgICAgICAgaW5wdXRBdHRycy5yZWFkb25seSA9ICdyZWFkb25seSc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnB1dEF0dHJTdHIgPSBPYmplY3QuZW50cmllcyhpbnB1dEF0dHJzKVxuICAgICAgICAgICAgLm1hcCgoW2ssIHZdKSA9PiBgJHtrfT1cIiR7dn1cImApXG4gICAgICAgICAgICAuam9pbignICcpO1xuICAgICAgICBjb25zdCBpbnB1dEh0bWwgPSBgPGlucHV0ICR7aW5wdXRBdHRyU3RyfT5gO1xuXG4gICAgICAgIC8vIEJ1aWxkIGlucHV0IGFyZWFcbiAgICAgICAgbGV0IGlucHV0QXJlYTtcbiAgICAgICAgaWYgKHRoaXMuX211bHRpcGxlKSB7XG4gICAgICAgICAgICBpbnB1dEFyZWEgPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdhdXRvY29tcGxldGUtdG9rZW5zJyl9XCI+JHtpbnB1dEh0bWx9PC9kaXY+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0QXJlYSA9IGlucHV0SHRtbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsZWFyIGJ1dHRvblxuICAgICAgICBjb25zdCBjbGVhckJ0biA9IHRoaXMuX2NsZWFyYWJsZVxuICAgICAgICAgICAgPyBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke1NpeE9yYml0LmNscygnYXV0b2NvbXBsZXRlLWNsZWFyJyl9XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIGFyaWEtbGFiZWw9XCJDbGVhciBhbGxcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+XG4gICAgICAgICAgICAgICA8L2J1dHRvbj5gXG4gICAgICAgICAgICA6ICcnO1xuXG4gICAgICAgIC8vIEFycm93XG4gICAgICAgIGNvbnN0IGFycm93ID0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2F1dG9jb21wbGV0ZS1hcnJvdycpfVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmV4cGFuZF9tb3JlPC9zcGFuPlxuICAgICAgICA8L3NwYW4+YDtcblxuICAgICAgICAvLyBDb250YWluZXJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpfVwiIGlkPVwiJHtjb250YWluZXJJZH1cIj5cbiAgICAgICAgICAgICR7aW5wdXRBcmVhfVxuICAgICAgICAgICAgJHtjbGVhckJ0bn1cbiAgICAgICAgICAgICR7YXJyb3d9XG4gICAgICAgIDwvZGl2PmA7XG5cbiAgICAgICAgLy8gRHJvcGRvd25cbiAgICAgICAgY29uc3QgZHJvcGRvd24gPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdhdXRvY29tcGxldGUtZHJvcGRvd24nKX1cIiBpZD1cIiR7ZHJvcGRvd25JZH1cIiByb2xlPVwibGlzdGJveFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdhdXRvY29tcGxldGUtbG9hZGluZycpfVwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdzcGlubmVyJyl9ICR7U2l4T3JiaXQuY2xzKCdzcGlubmVyLXNtJyl9XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7dGhpcy5fbG9hZGluZ1RleHR9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2F1dG9jb21wbGV0ZS1vcHRpb25zJyl9XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2F1dG9jb21wbGV0ZS1uby1yZXN1bHRzJyl9XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxuICAgICAgICAgICAgICAgICR7dGhpcy5fbm9SZXN1bHRzVGV4dH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXIgKyBkcm9wZG93bjtcbiAgICB9XG5cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcblxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5sZW5ndGggPiAwKSBjb25maWcub3B0aW9ucyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLl9hc3luY1VybCkgY29uZmlnLmFzeW5jID0gdGhpcy5fYXN5bmNVcmw7XG4gICAgICAgIGlmICh0aGlzLl9taW5MZW5ndGggIT09IDApIGNvbmZpZy5taW5MZW5ndGggPSB0aGlzLl9taW5MZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLl9kZWJvdW5jZSAhPT0gMzAwKSBjb25maWcuZGVib3VuY2UgPSB0aGlzLl9kZWJvdW5jZTtcbiAgICAgICAgaWYgKHRoaXMuX21heFJlc3VsdHMgIT09IDEwKSBjb25maWcubWF4UmVzdWx0cyA9IHRoaXMuX21heFJlc3VsdHM7XG4gICAgICAgIGlmICh0aGlzLl9mcmVlU29sbykgY29uZmlnLmZyZWVTb2xvID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9oaWdobGlnaHRNYXRjaGVzKSBjb25maWcuaGlnaGxpZ2h0TWF0Y2hlcyA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuX2NsZWFyYWJsZSkgY29uZmlnLmNsZWFyYWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fbXVsdGlwbGUpIGNvbmZpZy5tdWx0aXBsZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9kaXNwbGF5TW9kZSAhPT0gJ2NoaXBzJykgY29uZmlnLmRpc3BsYXlNb2RlID0gdGhpcy5fZGlzcGxheU1vZGU7XG4gICAgICAgIGlmICh0aGlzLl9tYXhWaXNpYmxlVG9rZW5zICE9PSAzKSBjb25maWcubWF4VmlzaWJsZVRva2VucyA9IHRoaXMuX21heFZpc2libGVUb2tlbnM7XG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLl90b2tlbkRlbGltaXRlcnMpICE9PSBKU09OLnN0cmluZ2lmeShbJywnLCAnOyddKSkge1xuICAgICAgICAgICAgY29uZmlnLnRva2VuRGVsaW1pdGVycyA9IHRoaXMuX3Rva2VuRGVsaW1pdGVycztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXRlbVRlbXBsYXRlKSBjb25maWcuaXRlbVRlbXBsYXRlID0gdGhpcy5faXRlbVRlbXBsYXRlO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBdXRvY29tcGxldGU7XG5leHBvcnQgeyBBdXRvY29tcGxldGUgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQ09MT1IgSU5QVVQgRUxFTUVOVFxuLy8gQ29sb3IgcGlja2VyIGlucHV0XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBGb3JtRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRm9ybUVsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBDb2xvcklucHV0IC0gQ29sb3IgcGlja2VyXG4gKi9cbmNsYXNzIENvbG9ySW5wdXQgZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktY29sb3ItaW5wdXQnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2NvbG9yLWlucHV0JyxcbiAgICAgICAgdGFnTmFtZTogJ2lucHV0JyxcbiAgICB9O1xuXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fcHJlc2V0cyA9IGNvbmZpZy5wcmVzZXRzIHx8IFtdO1xuICAgICAgICB0aGlzLl9zaG93SW5wdXQgPSBjb25maWcuc2hvd0lucHV0ICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZm9ybWF0ID0gY29uZmlnLmZvcm1hdCB8fCAnaGV4JztcbiAgICAgICAgdGhpcy5fYWxwaGEgPSBjb25maWcuYWxwaGEgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgcHJlc2V0cyhwcmVzZXRzKSB7IHRoaXMuX3ByZXNldHMgPSBwcmVzZXRzOyByZXR1cm4gdGhpczsgfVxuICAgIGFkZFByZXNldChjb2xvcikgeyB0aGlzLl9wcmVzZXRzLnB1c2goY29sb3IpOyByZXR1cm4gdGhpczsgfVxuICAgIGJvb3RzdHJhcFByZXNldHMoKSB7XG4gICAgICAgIHRoaXMuX3ByZXNldHMgPSBbXG4gICAgICAgICAgICAnIzBkNmVmZCcsICcjNjYxMGYyJywgJyM2ZjQyYzEnLCAnI2Q2MzM4NCcsXG4gICAgICAgICAgICAnI2RjMzU0NScsICcjZmQ3ZTE0JywgJyNmZmMxMDcnLCAnIzE5ODc1NCcsXG4gICAgICAgICAgICAnIzIwYzk5NycsICcjMGRjYWYwJywgJyNhZGI1YmQnLCAnIzIxMjUyOScsXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzaG93SW5wdXQoc2hvdyA9IHRydWUpIHsgdGhpcy5fc2hvd0lucHV0ID0gc2hvdzsgcmV0dXJuIHRoaXM7IH1cbiAgICBoaWRlSW5wdXQoKSB7IHJldHVybiB0aGlzLnNob3dJbnB1dChmYWxzZSk7IH1cbiAgICBmb3JtYXQoZm10KSB7IHRoaXMuX2Zvcm1hdCA9IGZtdDsgcmV0dXJuIHRoaXM7IH1cbiAgICBoZXgoKSB7IHJldHVybiB0aGlzLmZvcm1hdCgnaGV4Jyk7IH1cbiAgICByZ2IoKSB7IHJldHVybiB0aGlzLmZvcm1hdCgncmdiJyk7IH1cbiAgICBoc2woKSB7IHJldHVybiB0aGlzLmZvcm1hdCgnaHNsJyk7IH1cbiAgICBhbHBoYSh2YWwgPSB0cnVlKSB7IHRoaXMuX2FscGhhID0gdmFsOyByZXR1cm4gdGhpczsgfVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2Zvcm0tY29udHJvbCcpKTtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2Zvcm0tY29udHJvbC1jb2xvcicpKTtcbiAgICAgICAgaWYgKHRoaXMuX3NpemUpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdmb3JtLWNvbnRyb2wnLCB0aGlzLl9zaXplKSk7XG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2lzLWludmFsaWQnKSk7XG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuICAgICAgICBhdHRycy50eXBlID0gJ2NvbG9yJztcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndWktaW5pdCcpXSA9ICdjb2xvci1pbnB1dCc7XG5cbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgc2hvd0lucHV0OiB0aGlzLl9zaG93SW5wdXQsXG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuX2Zvcm1hdCxcbiAgICAgICAgICAgIGFscGhhOiB0aGlzLl9hbHBoYSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuX3ByZXNldHMubGVuZ3RoID4gMCkgY29uZmlnLnByZXNldHMgPSB0aGlzLl9wcmVzZXRzO1xuXG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3VpLWNvbmZpZycpXSA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZyk7XG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkgeyByZXR1cm4gJyc7IH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuICAgICAgICBpZiAodGhpcy5fcHJlc2V0cy5sZW5ndGggPiAwKSBjb25maWcucHJlc2V0cyA9IHRoaXMuX3ByZXNldHM7XG4gICAgICAgIGlmICghdGhpcy5fc2hvd0lucHV0KSBjb25maWcuc2hvd0lucHV0ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9mb3JtYXQgIT09ICdoZXgnKSBjb25maWcuZm9ybWF0ID0gdGhpcy5fZm9ybWF0O1xuICAgICAgICBpZiAodGhpcy5fYWxwaGEpIGNvbmZpZy5hbHBoYSA9IHRydWU7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2xvcklucHV0O1xuZXhwb3J0IHsgQ29sb3JJbnB1dCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBEQVRFIFBJQ0tFUiBFTEVNRU5UXG4vLyBEYXRlIHNlbGVjdGlvbiBpbnB1dFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRm9ybUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0Zvcm1FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogRGF0ZVBpY2tlciAtIERhdGUgc2VsZWN0aW9uXG4gKi9cbmNsYXNzIERhdGVQaWNrZXIgZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktZGF0ZS1waWNrZXInO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2RhdGUtcGlja2VyJyxcbiAgICAgICAgdGFnTmFtZTogJ2lucHV0JyxcbiAgICB9O1xuXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fZm9ybWF0ID0gY29uZmlnLmZvcm1hdCB8fCAnWS1tLWQnO1xuICAgICAgICB0aGlzLl9taW5EYXRlID0gY29uZmlnLm1pbkRhdGUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fbWF4RGF0ZSA9IGNvbmZpZy5tYXhEYXRlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVkRGF0ZXMgPSBjb25maWcuZGlzYWJsZWREYXRlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5fZGlzYWJsZWREYXlzID0gY29uZmlnLmRpc2FibGVkRGF5cyB8fCBbXTtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSBjb25maWcucmFuZ2UgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3dlZWtOdW1iZXJzID0gY29uZmlnLndlZWtOdW1iZXJzIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9jbGVhcmFibGUgPSBjb25maWcuY2xlYXJhYmxlICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdG9kYXlCdXR0b24gPSBjb25maWcudG9kYXlCdXR0b24gIT09IGZhbHNlO1xuICAgICAgICB0aGlzLl9maXJzdERheU9mV2VlayA9IGNvbmZpZy5maXJzdERheU9mV2VlayA/PyAxO1xuICAgIH1cblxuICAgIGZvcm1hdChmbXQpIHsgdGhpcy5fZm9ybWF0ID0gZm10OyByZXR1cm4gdGhpczsgfVxuICAgIG1pbkRhdGUoZGF0ZSkgeyB0aGlzLl9taW5EYXRlID0gZGF0ZTsgcmV0dXJuIHRoaXM7IH1cbiAgICBtYXhEYXRlKGRhdGUpIHsgdGhpcy5fbWF4RGF0ZSA9IGRhdGU7IHJldHVybiB0aGlzOyB9XG4gICAgZGF0ZVJhbmdlKG1pbiwgbWF4KSB7IHRoaXMuX21pbkRhdGUgPSBtaW47IHRoaXMuX21heERhdGUgPSBtYXg7IHJldHVybiB0aGlzOyB9XG4gICAgZGlzYWJsZWREYXRlcyhkYXRlcykgeyB0aGlzLl9kaXNhYmxlZERhdGVzID0gZGF0ZXM7IHJldHVybiB0aGlzOyB9XG4gICAgZGlzYWJsZWREYXlzKGRheXMpIHsgdGhpcy5fZGlzYWJsZWREYXlzID0gZGF5czsgcmV0dXJuIHRoaXM7IH1cbiAgICBkaXNhYmxlV2Vla2VuZHMoKSB7IHRoaXMuX2Rpc2FibGVkRGF5cyA9IFswLCA2XTsgcmV0dXJuIHRoaXM7IH1cbiAgICByYW5nZSh2YWwgPSB0cnVlKSB7IHRoaXMuX3JhbmdlID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIHdlZWtOdW1iZXJzKHZhbCA9IHRydWUpIHsgdGhpcy5fd2Vla051bWJlcnMgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgY2xlYXJhYmxlKHZhbCA9IHRydWUpIHsgdGhpcy5fY2xlYXJhYmxlID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIHRvZGF5QnV0dG9uKHZhbCA9IHRydWUpIHsgdGhpcy5fdG9kYXlCdXR0b24gPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgZmlyc3REYXlPZldlZWsoZGF5KSB7IHRoaXMuX2ZpcnN0RGF5T2ZXZWVrID0gZGF5OyByZXR1cm4gdGhpczsgfVxuICAgIHdlZWtTdGFydHNTdW5kYXkoKSB7IHJldHVybiB0aGlzLmZpcnN0RGF5T2ZXZWVrKDApOyB9XG4gICAgd2Vla1N0YXJ0c01vbmRheSgpIHsgcmV0dXJuIHRoaXMuZmlyc3REYXlPZldlZWsoMSk7IH1cblxuICAgIGJ1aWxkQ2xhc3NTdHJpbmcoKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdmb3JtLWNvbnRyb2wnKSk7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdkYXRlcGlja2VyLWlucHV0JykpO1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2Zvcm0tY29udHJvbCcsIHRoaXMuX3NpemUpKTtcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnaXMtaW52YWxpZCcpKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGF0dHJzLnR5cGUgPSAndGV4dCc7XG4gICAgICAgIGF0dHJzLmF1dG9jb21wbGV0ZSA9ICdvZmYnO1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1pbml0JyldID0gJ2RhdGUtcGlja2VyJztcblxuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuX2Zvcm1hdCxcbiAgICAgICAgICAgIGNsZWFyYWJsZTogdGhpcy5fY2xlYXJhYmxlLFxuICAgICAgICAgICAgdG9kYXlCdXR0b246IHRoaXMuX3RvZGF5QnV0dG9uLFxuICAgICAgICAgICAgZmlyc3REYXlPZldlZWs6IHRoaXMuX2ZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgICAgcmFuZ2U6IHRoaXMuX3JhbmdlLFxuICAgICAgICAgICAgd2Vla051bWJlcnM6IHRoaXMuX3dlZWtOdW1iZXJzLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fbWluRGF0ZSkgY29uZmlnLm1pbkRhdGUgPSB0aGlzLl9taW5EYXRlO1xuICAgICAgICBpZiAodGhpcy5fbWF4RGF0ZSkgY29uZmlnLm1heERhdGUgPSB0aGlzLl9tYXhEYXRlO1xuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWREYXRlcy5sZW5ndGggPiAwKSBjb25maWcuZGlzYWJsZWREYXRlcyA9IHRoaXMuX2Rpc2FibGVkRGF0ZXM7XG4gICAgICAgIGlmICh0aGlzLl9kaXNhYmxlZERheXMubGVuZ3RoID4gMCkgY29uZmlnLmRpc2FibGVkRGF5cyA9IHRoaXMuX2Rpc2FibGVkRGF5cztcblxuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1jb25maWcnKV0gPSBKU09OLnN0cmluZ2lmeShjb25maWcpO1xuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29udGVudCgpIHsgcmV0dXJuICcnOyB9XG5cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcbiAgICAgICAgaWYgKHRoaXMuX2Zvcm1hdCAhPT0gJ1ktbS1kJykgY29uZmlnLmZvcm1hdCA9IHRoaXMuX2Zvcm1hdDtcbiAgICAgICAgaWYgKHRoaXMuX21pbkRhdGUpIGNvbmZpZy5taW5EYXRlID0gdGhpcy5fbWluRGF0ZTtcbiAgICAgICAgaWYgKHRoaXMuX21heERhdGUpIGNvbmZpZy5tYXhEYXRlID0gdGhpcy5fbWF4RGF0ZTtcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkRGF0ZXMubGVuZ3RoID4gMCkgY29uZmlnLmRpc2FibGVkRGF0ZXMgPSB0aGlzLl9kaXNhYmxlZERhdGVzO1xuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWREYXlzLmxlbmd0aCA+IDApIGNvbmZpZy5kaXNhYmxlZERheXMgPSB0aGlzLl9kaXNhYmxlZERheXM7XG4gICAgICAgIGlmICh0aGlzLl9yYW5nZSkgY29uZmlnLnJhbmdlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3dlZWtOdW1iZXJzKSBjb25maWcud2Vla051bWJlcnMgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuX2NsZWFyYWJsZSkgY29uZmlnLmNsZWFyYWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuX3RvZGF5QnV0dG9uKSBjb25maWcudG9kYXlCdXR0b24gPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0RGF5T2ZXZWVrICE9PSAxKSBjb25maWcuZmlyc3REYXlPZldlZWsgPSB0aGlzLl9maXJzdERheU9mV2VlaztcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGVQaWNrZXI7XG5leHBvcnQgeyBEYXRlUGlja2VyIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIFRJTUUgUElDS0VSIEVMRU1FTlRcbi8vIFRpbWUgc2VsZWN0aW9uIGlucHV0XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBGb3JtRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRm9ybUVsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBUaW1lUGlja2VyIC0gVGltZSBzZWxlY3Rpb25cbiAqL1xuY2xhc3MgVGltZVBpY2tlciBleHRlbmRzIEZvcm1FbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS10aW1lLXBpY2tlcic7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkZvcm1FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAndGltZS1waWNrZXInLFxuICAgICAgICB0YWdOYW1lOiAnaW5wdXQnLFxuICAgIH07XG5cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLl9ob3VyRm9ybWF0ID0gY29uZmlnLmhvdXJGb3JtYXQgPz8gMjQ7XG4gICAgICAgIHRoaXMuX21pbnV0ZVN0ZXAgPSBjb25maWcubWludXRlU3RlcCA/PyA1O1xuICAgICAgICB0aGlzLl9zaG93U2Vjb25kcyA9IGNvbmZpZy5zaG93U2Vjb25kcyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fbWluVGltZSA9IGNvbmZpZy5taW5UaW1lIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX21heFRpbWUgPSBjb25maWcubWF4VGltZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9jbGVhcmFibGUgPSBjb25maWcuY2xlYXJhYmxlICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbm93QnV0dG9uID0gY29uZmlnLm5vd0J1dHRvbiAhPT0gZmFsc2U7XG4gICAgfVxuXG4gICAgaG91ckZvcm1hdChmbXQpIHsgdGhpcy5faG91ckZvcm1hdCA9IGZtdDsgcmV0dXJuIHRoaXM7IH1cbiAgICBob3VyMTIoKSB7IHJldHVybiB0aGlzLmhvdXJGb3JtYXQoMTIpOyB9XG4gICAgaG91cjI0KCkgeyByZXR1cm4gdGhpcy5ob3VyRm9ybWF0KDI0KTsgfVxuICAgIG1pbnV0ZVN0ZXAoc3RlcCkgeyB0aGlzLl9taW51dGVTdGVwID0gc3RlcDsgcmV0dXJuIHRoaXM7IH1cbiAgICBzaG93U2Vjb25kcyh2YWwgPSB0cnVlKSB7IHRoaXMuX3Nob3dTZWNvbmRzID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIG1pblRpbWUodGltZSkgeyB0aGlzLl9taW5UaW1lID0gdGltZTsgcmV0dXJuIHRoaXM7IH1cbiAgICBtYXhUaW1lKHRpbWUpIHsgdGhpcy5fbWF4VGltZSA9IHRpbWU7IHJldHVybiB0aGlzOyB9XG4gICAgdGltZVJhbmdlKG1pbiwgbWF4KSB7IHRoaXMuX21pblRpbWUgPSBtaW47IHRoaXMuX21heFRpbWUgPSBtYXg7IHJldHVybiB0aGlzOyB9XG4gICAgYnVzaW5lc3NIb3VycygpIHsgcmV0dXJuIHRoaXMudGltZVJhbmdlKCcwOTowMCcsICcxNzowMCcpOyB9XG4gICAgY2xlYXJhYmxlKHZhbCA9IHRydWUpIHsgdGhpcy5fY2xlYXJhYmxlID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIG5vd0J1dHRvbih2YWwgPSB0cnVlKSB7IHRoaXMuX25vd0J1dHRvbiA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cblxuICAgIGJ1aWxkQ2xhc3NTdHJpbmcoKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdmb3JtLWNvbnRyb2wnKSk7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd0aW1lcGlja2VyLWlucHV0JykpO1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2Zvcm0tY29udHJvbCcsIHRoaXMuX3NpemUpKTtcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnaXMtaW52YWxpZCcpKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGF0dHJzLnR5cGUgPSAndGV4dCc7XG4gICAgICAgIGF0dHJzLmF1dG9jb21wbGV0ZSA9ICdvZmYnO1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1pbml0JyldID0gJ3RpbWUtcGlja2VyJztcblxuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBob3VyRm9ybWF0OiB0aGlzLl9ob3VyRm9ybWF0LFxuICAgICAgICAgICAgbWludXRlU3RlcDogdGhpcy5fbWludXRlU3RlcCxcbiAgICAgICAgICAgIHNob3dTZWNvbmRzOiB0aGlzLl9zaG93U2Vjb25kcyxcbiAgICAgICAgICAgIGNsZWFyYWJsZTogdGhpcy5fY2xlYXJhYmxlLFxuICAgICAgICAgICAgbm93QnV0dG9uOiB0aGlzLl9ub3dCdXR0b24sXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLl9taW5UaW1lKSBjb25maWcubWluVGltZSA9IHRoaXMuX21pblRpbWU7XG4gICAgICAgIGlmICh0aGlzLl9tYXhUaW1lKSBjb25maWcubWF4VGltZSA9IHRoaXMuX21heFRpbWU7XG5cbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndWktY29uZmlnJyldID0gSlNPTi5zdHJpbmdpZnkoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7IHJldHVybiAnJzsgfVxuXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG4gICAgICAgIGlmICh0aGlzLl9ob3VyRm9ybWF0ICE9PSAyNCkgY29uZmlnLmhvdXJGb3JtYXQgPSB0aGlzLl9ob3VyRm9ybWF0O1xuICAgICAgICBpZiAodGhpcy5fbWludXRlU3RlcCAhPT0gNSkgY29uZmlnLm1pbnV0ZVN0ZXAgPSB0aGlzLl9taW51dGVTdGVwO1xuICAgICAgICBpZiAodGhpcy5fc2hvd1NlY29uZHMpIGNvbmZpZy5zaG93U2Vjb25kcyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9taW5UaW1lKSBjb25maWcubWluVGltZSA9IHRoaXMuX21pblRpbWU7XG4gICAgICAgIGlmICh0aGlzLl9tYXhUaW1lKSBjb25maWcubWF4VGltZSA9IHRoaXMuX21heFRpbWU7XG4gICAgICAgIGlmICghdGhpcy5fY2xlYXJhYmxlKSBjb25maWcuY2xlYXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5fbm93QnV0dG9uKSBjb25maWcubm93QnV0dG9uID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaW1lUGlja2VyO1xuZXhwb3J0IHsgVGltZVBpY2tlciB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBTV0lUQ0ggRUxFTUVOVFxuLy8gVG9nZ2xlIHN3aXRjaCBpbnB1dCBtYXRjaGluZyBQSFAgU3dpdGNoRWxlbWVudFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRm9ybUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0Zvcm1FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogU3dpdGNoRWxlbWVudCAtIFRvZ2dsZSBzd2l0Y2ggaW5wdXRcbiAqXG4gKiBHZW5lcmF0ZXMgdGhlIGZvbGxvd2luZyBET00gc3RydWN0dXJlOlxuICogPGxhYmVsIGNsYXNzPVwic28tc3dpdGNoIHNvLXN3aXRjaC1wcmltYXJ5XCI+XG4gKiAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCIuLi5cIiBpZD1cIi4uLlwiPlxuICogICAgIDxzcGFuIGNsYXNzPVwic28tc3dpdGNoLXRyYWNrXCI+PC9zcGFuPlxuICogICAgIDxzcGFuIGNsYXNzPVwic28tc3dpdGNoLWxhYmVsXCI+TGFiZWwgdGV4dDwvc3Bhbj5cbiAqIDwvbGFiZWw+XG4gKlxuICogV2l0aCBpY29uczpcbiAqIDxsYWJlbCBjbGFzcz1cInNvLXN3aXRjaCBzby1zd2l0Y2gtaWNvbiBzby1zd2l0Y2gtc3VjY2Vzc1wiPlxuICogICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj5cbiAqICAgICA8c3BhbiBjbGFzcz1cInNvLXN3aXRjaC10cmFja1wiPlxuICogICAgICAgICA8c3BhbiBjbGFzcz1cInNvLXN3aXRjaC1vblwiPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jaGVjazwvc3Bhbj48L3NwYW4+XG4gKiAgICAgICAgIDxzcGFuIGNsYXNzPVwic28tc3dpdGNoLW9mZlwiPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj48L3NwYW4+XG4gKiAgICAgPC9zcGFuPlxuICogICAgIDxzcGFuIGNsYXNzPVwic28tc3dpdGNoLWxhYmVsXCI+SWNvbiBzd2l0Y2g8L3NwYW4+XG4gKiA8L2xhYmVsPlxuICovXG5jbGFzcyBTd2l0Y2hFbGVtZW50IGV4dGVuZHMgRm9ybUVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLXN3aXRjaCc7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkZvcm1FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnc3dpdGNoJyxcbiAgICAgICAgdGFnTmFtZTogJ2xhYmVsJywgLy8gV3JhcHBlciBpcyBhIGxhYmVsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX2NoZWNrZWQgPSBjb25maWcuY2hlY2tlZCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IGNvbmZpZy52YXJpYW50IHx8ICdwcmltYXJ5JztcbiAgICAgICAgdGhpcy5fc3dpdGNoU2l6ZSA9IGNvbmZpZy5zd2l0Y2hTaXplIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2ljb25Nb2RlID0gY29uZmlnLmljb25Nb2RlIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl90ZXh0TW9kZSA9IGNvbmZpZy50ZXh0TW9kZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fb25MYWJlbCA9IGNvbmZpZy5vbkxhYmVsIHx8ICdPTic7XG4gICAgICAgIHRoaXMuX29mZkxhYmVsID0gY29uZmlnLm9mZkxhYmVsIHx8ICdPRkYnO1xuICAgICAgICB0aGlzLl9vbkljb24gPSBjb25maWcub25JY29uIHx8ICdjaGVjayc7XG4gICAgICAgIHRoaXMuX29mZkljb24gPSBjb25maWcub2ZmSWNvbiB8fCAnY2xvc2UnO1xuICAgICAgICB0aGlzLl90aXRsZSA9IGNvbmZpZy50aXRsZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGNvbmZpZy5kZXNjcmlwdGlvbiB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZsdWVudCBBUEkgLSBTdGF0ZVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGNoZWNrZWQgc3RhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNoZWNrZWQodmFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9jaGVja2VkID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdW5jaGVja2VkIHN0YXRlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdW5jaGVja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja2VkKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJIC0gVmFyaWFudFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IHZhcmlhbnQvY29sb3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdlxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHZhcmlhbnQodikge1xuICAgICAgICB0aGlzLl92YXJpYW50ID0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHZhcmlhbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNvbG9yKGMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudChjKTtcbiAgICB9XG5cbiAgICBwcmltYXJ5KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdwcmltYXJ5Jyk7IH1cbiAgICBzZWNvbmRhcnkoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3NlY29uZGFyeScpOyB9XG4gICAgc3VjY2VzcygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnc3VjY2VzcycpOyB9XG4gICAgZGFuZ2VyKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdkYW5nZXInKTsgfVxuICAgIHdhcm5pbmcoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3dhcm5pbmcnKTsgfVxuICAgIGluZm8oKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2luZm8nKTsgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSSAtIFNpemVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBzd2l0Y2ggc2l6ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIC0gc218bGdcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaXplKHMpIHtcbiAgICAgICAgdGhpcy5fc3dpdGNoU2l6ZSA9IHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNtYWxsKCkgeyByZXR1cm4gdGhpcy5zaXplKCdzbScpOyB9XG4gICAgbGFyZ2UoKSB7IHJldHVybiB0aGlzLnNpemUoJ2xnJyk7IH1cbiAgICBzbSgpIHsgcmV0dXJuIHRoaXMuc2l6ZSgnc20nKTsgfVxuICAgIGxnKCkgeyByZXR1cm4gdGhpcy5zaXplKCdsZycpOyB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJIC0gRGlzcGxheSBNb2Rlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGljb24gbW9kZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvbihlbmFibGUgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2ljb25Nb2RlID0gZW5hYmxlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdGV4dCBtb2RlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB0ZXh0KGVuYWJsZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fdGV4dE1vZGUgPSBlbmFibGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBvbiBpY29uIChNYXRlcmlhbCBpY29uIG5hbWUpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGljb25OYW1lXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25JY29uKGljb25OYW1lKSB7XG4gICAgICAgIHRoaXMuX29uSWNvbiA9IGljb25OYW1lO1xuICAgICAgICB0aGlzLl9pY29uTW9kZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBvZmYgaWNvbiAoTWF0ZXJpYWwgaWNvbiBuYW1lKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpY29uTmFtZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9mZkljb24oaWNvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5fb2ZmSWNvbiA9IGljb25OYW1lO1xuICAgICAgICB0aGlzLl9pY29uTW9kZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBvbiB0ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvblRleHQodGV4dCkge1xuICAgICAgICB0aGlzLl9vbkxhYmVsID0gdGV4dDtcbiAgICAgICAgdGhpcy5fdGV4dE1vZGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2ZmIHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9mZlRleHQodGV4dCkge1xuICAgICAgICB0aGlzLl9vZmZMYWJlbCA9IHRleHQ7XG4gICAgICAgIHRoaXMuX3RleHRNb2RlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG9uL29mZiBsYWJlbHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2ZmXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbGFiZWxzKG9uLCBvZmYpIHtcbiAgICAgICAgdGhpcy5fb25MYWJlbCA9IG9uO1xuICAgICAgICB0aGlzLl9vZmZMYWJlbCA9IG9mZjtcbiAgICAgICAgdGhpcy5fdGV4dE1vZGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGl0bGUgZm9yIHNldHRpbmdzIGxheW91dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBkZXNjcmlwdGlvbiBmb3Igc2V0dGluZ3MgbGF5b3V0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRlc2NcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbihkZXNjKSB7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZGVzYztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gSW50ZXJhY3Rpdml0eSBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIHN3aXRjaCBzdGF0ZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRvZ2dsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5jaGVja2VkID0gIWlucHV0LmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hlY2tlZCA9ICF0aGlzLl9jaGVja2VkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBjaGVja2VkIHN0YXRlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXNDaGVja2VkKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCA/IGlucHV0LmNoZWNrZWQgOiB0aGlzLl9jaGVja2VkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBjaGVja2VkIHN0YXRlIHByb2dyYW1tYXRpY2FsbHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldENoZWNrZWQodmFsKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrZWQgPSB2YWw7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgICAgICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IHZhbDtcbiAgICAgICAgICAgICAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gY2hhbmdlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25DaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhlLnRhcmdldC5jaGVja2VkLCBlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGFnIG5hbWUgKHdyYXBwZXIgbGFiZWwpXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRUYWdOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ2xhYmVsJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCB3cmFwcGVyIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gbmV3IFNldCgpO1xuXG4gICAgICAgIGNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnc3dpdGNoJykpO1xuXG4gICAgICAgIC8vIFNpemUgdmFyaWFudFxuICAgICAgICBpZiAodGhpcy5fc3dpdGNoU2l6ZSkge1xuICAgICAgICAgICAgY2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzd2l0Y2gnLCB0aGlzLl9zd2l0Y2hTaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb2xvciB2YXJpYW50XG4gICAgICAgIGNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnc3dpdGNoJywgdGhpcy5fdmFyaWFudCkpO1xuXG4gICAgICAgIC8vIERpc3BsYXkgbW9kZXNcbiAgICAgICAgaWYgKHRoaXMuX2ljb25Nb2RlKSB7XG4gICAgICAgICAgICBjbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3N3aXRjaC1pY29uJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90ZXh0TW9kZSkge1xuICAgICAgICAgICAgY2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzd2l0Y2gtdGV4dCcpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faWNvbk1vZGUgJiYgdGhpcy5fdGV4dE1vZGUpIHtcbiAgICAgICAgICAgIGNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnc3dpdGNoLWljb24tdGV4dCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERpc2FibGVkXG4gICAgICAgIGlmICh0aGlzLl9kaXNhYmxlZCkge1xuICAgICAgICAgICAgY2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdkaXNhYmxlZCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCB1c2VyLWRlZmluZWQgY2xhc3Nlc1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuZm9yRWFjaChjbHMgPT4gY2xhc3Nlcy5hZGQoY2xzKSk7XG5cbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oY2xhc3Nlcykuam9pbignICcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHdyYXBwZXIgYXR0cmlidXRlcyAobWluaW1hbCBmb3IgbGFiZWwpXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0ge307XG5cbiAgICAgICAgLy8gQ3VzdG9tIGRhdGEgYXR0cmlidXRlc1xuICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLl9kYXRhQXR0cmlidXRlcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKGtleSldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgY29udGVudCAoaW5wdXQsIHRyYWNrLCBhbmQgbGFiZWwpXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuXG4gICAgICAgIC8vIFJlbmRlciBpbnB1dFxuICAgICAgICBodG1sICs9IHRoaXMuX3JlbmRlcklucHV0KCk7XG5cbiAgICAgICAgLy8gUmVuZGVyIHRyYWNrXG4gICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyVHJhY2soKTtcblxuICAgICAgICAvLyBSZW5kZXIgbGFiZWwgdGV4dFxuICAgICAgICBpZiAodGhpcy5fbGFiZWwpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3N3aXRjaC1sYWJlbCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9sYWJlbCl9PC9zcGFuPmA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGNoZWNrYm94IGlucHV0XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXJJbnB1dCgpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMuX2lkKSB7XG4gICAgICAgICAgICBhdHRycy5pZCA9IHRoaXMuX2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX25hbWUpIHtcbiAgICAgICAgICAgIGF0dHJzLm5hbWUgPSB0aGlzLl9uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrZWQpIHtcbiAgICAgICAgICAgIGF0dHJzLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICBhdHRycy5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmFsdWUgIT09IG51bGwgJiYgdGhpcy5fdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXR0cnMudmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZElucHV0VGFnKGF0dHJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhbiBpbnB1dCB0YWcgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9idWlsZElucHV0VGFnKGF0dHJzKSB7XG4gICAgICAgIGxldCBodG1sID0gJzxpbnB1dCc7XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoYXR0cnMpLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYCAke25hbWV9YDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGAgJHtuYW1lfT1cIiR7dGhpcy5fZXNjYXBlSHRtbChTdHJpbmcodmFsdWUpKX1cImA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGh0bWwgKz0gJz4nO1xuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdHJhY2sgc3RydWN0dXJlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXJUcmFjaygpIHtcbiAgICAgICAgbGV0IGh0bWwgPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnc3dpdGNoLXRyYWNrJyl9XCI+YDtcblxuICAgICAgICAvLyBBZGQgaW5uZXIgY29udGVudCBmb3IgaWNvbi90ZXh0IG1vZGVzXG4gICAgICAgIGlmICh0aGlzLl9pY29uTW9kZSB8fCB0aGlzLl90ZXh0TW9kZSkge1xuICAgICAgICAgICAgLy8gT24gc3RhdGUgY29udGVudFxuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnc3dpdGNoLW9uJyl9XCI+YDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pY29uTW9kZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fb25JY29uKX08L3NwYW4+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0TW9kZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9vbkxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWwgKz0gJzwvc3Bhbj4nO1xuXG4gICAgICAgICAgICAvLyBPZmYgc3RhdGUgY29udGVudFxuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnc3dpdGNoLW9mZicpfVwiPmA7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dE1vZGUpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwodGhpcy5fb2ZmTGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2ljb25Nb2RlKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9vZmZJY29uKX08L3NwYW4+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWwgKz0gJzwvc3Bhbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgaHRtbCArPSAnPC9zcGFuPic7XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRvIERPTSBlbGVtZW50XG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuZ2V0VGFnTmFtZSgpKTtcblxuICAgICAgICAvLyBBcHBseSBjbGFzc2VzXG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IHRoaXMuYnVpbGRDbGFzc1N0cmluZygpO1xuXG4gICAgICAgIC8vIEFwcGx5IGF0dHJpYnV0ZXNcbiAgICAgICAgY29uc3QgYXR0cnMgPSB0aGlzLmJ1aWxkQXR0cmlidXRlcygpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhhdHRycykuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSBmYWxzZSAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIGNvbnRlbnQgKGlucHV0LCB0cmFjaywgbGFiZWwpXG4gICAgICAgIGVsLmlubmVySFRNTCA9IHRoaXMucmVuZGVyQ29udGVudCgpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuICAgICAgICB0aGlzLl9hdHRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYXMgc2V0dGluZyBpdGVtIChmb3Igc2V0dGluZ3MgcGFnZXMpXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICB0b1NldHRpbmdJdGVtKCkge1xuICAgICAgICBjb25zdCBzd2l0Y2hIdG1sID0gdGhpcy50b0h0bWwoKTtcblxuICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2xpc3QtZ3JvdXAtaXRlbScpfSAke1NpeE9yYml0LmNscygnZC1mbGV4Jyl9ICR7U2l4T3JiaXQuY2xzKCdqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbicpfSAke1NpeE9yYml0LmNscygnYWxpZ24taXRlbXMtY2VudGVyJyl9XCI+YDtcbiAgICAgICAgaHRtbCArPSAnPGRpdj4nO1xuICAgICAgICBpZiAodGhpcy5fdGl0bGUpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZnctbWVkaXVtJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3RpdGxlKX08L2Rpdj5gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgaHRtbCArPSBgPHNtYWxsIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3RleHQtbXV0ZWQnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fZGVzY3JpcHRpb24pfTwvc21hbGw+YDtcbiAgICAgICAgfVxuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICBodG1sICs9IHN3aXRjaEh0bWwucmVwbGFjZSgnY2xhc3M9XCInICsgU2l4T3JiaXQuY2xzKCdzd2l0Y2gnKSwgJ2NsYXNzPVwiJyArIFNpeE9yYml0LmNscygnc3dpdGNoJykgKyAnICcgKyBTaXhPcmJpdC5jbHMoJ21iLTAnKSk7XG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHNldHRpbmcgaXRlbSB0byBET00gZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICByZW5kZXJTZXR0aW5nSXRlbSgpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9IHRoaXMudG9TZXR0aW5nSXRlbSgpO1xuICAgICAgICByZXR1cm4gd3JhcHBlci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZyBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jaGVja2VkKSBjb25maWcuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl92YXJpYW50ICE9PSAncHJpbWFyeScpIGNvbmZpZy52YXJpYW50ID0gdGhpcy5fdmFyaWFudDtcbiAgICAgICAgaWYgKHRoaXMuX3N3aXRjaFNpemUpIGNvbmZpZy5zd2l0Y2hTaXplID0gdGhpcy5fc3dpdGNoU2l6ZTtcblxuICAgICAgICBpZiAodGhpcy5faWNvbk1vZGUpIHtcbiAgICAgICAgICAgIGNvbmZpZy5pY29uTW9kZSA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcub25JY29uID0gdGhpcy5fb25JY29uO1xuICAgICAgICAgICAgY29uZmlnLm9mZkljb24gPSB0aGlzLl9vZmZJY29uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3RleHRNb2RlKSB7XG4gICAgICAgICAgICBjb25maWcudGV4dE1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLm9uTGFiZWwgPSB0aGlzLl9vbkxhYmVsO1xuICAgICAgICAgICAgY29uZmlnLm9mZkxhYmVsID0gdGhpcy5fb2ZmTGFiZWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdGl0bGUpIGNvbmZpZy50aXRsZSA9IHRoaXMuX3RpdGxlO1xuICAgICAgICBpZiAodGhpcy5fZGVzY3JpcHRpb24pIGNvbmZpZy5kZXNjcmlwdGlvbiA9IHRoaXMuX2Rlc2NyaXB0aW9uO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG4vLyBBbHNvIGV4cG9ydCBhcyBUb2dnbGUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5jb25zdCBUb2dnbGUgPSBTd2l0Y2hFbGVtZW50O1xuXG5leHBvcnQgZGVmYXVsdCBTd2l0Y2hFbGVtZW50O1xuZXhwb3J0IHsgU3dpdGNoRWxlbWVudCwgVG9nZ2xlIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIFNMSURFUiBFTEVNRU5UXG4vLyBSYW5nZSBzbGlkZXIgaW5wdXQgd2l0aCBjdXN0b21pemFibGUgdHJhY2sgYW5kIHRodW1iXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBGb3JtRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRm9ybUVsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBTbGlkZXIgLSBSYW5nZSBzbGlkZXIgZWxlbWVudFxuICpcbiAqIEdlbmVyYXRlcyB0aGUgZm9sbG93aW5nIERPTSBzdHJ1Y3R1cmU6XG4gKiA8ZGl2IGNsYXNzPVwic28tc2xpZGVyIHNvLXNsaWRlci1wcmltYXJ5XCIgZGF0YS1zby1zbGlkZXI+XG4gKiAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIGNsYXNzPVwic28tc2xpZGVyLWlucHV0XCIgbWluPVwiMFwiIG1heD1cIjEwMFwiIHZhbHVlPVwiNTBcIj5cbiAqICAgICA8ZGl2IGNsYXNzPVwic28tc2xpZGVyLXRyYWNrXCI+XG4gKiAgICAgICAgIDxkaXYgY2xhc3M9XCJzby1zbGlkZXItZmlsbFwiPjwvZGl2PlxuICogICAgICAgICA8ZGl2IGNsYXNzPVwic28tc2xpZGVyLXRodW1iXCI+PC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiA8L2Rpdj5cbiAqL1xuY2xhc3MgU2xpZGVyIGV4dGVuZHMgRm9ybUVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLXNsaWRlcic7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkZvcm1FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnc2xpZGVyJyxcbiAgICAgICAgdGFnTmFtZTogJ2RpdicsIC8vIFdyYXBwZXIgaXMgYSBkaXZcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fbWluID0gY29uZmlnLm1pbiA/PyAwO1xuICAgICAgICB0aGlzLl9tYXggPSBjb25maWcubWF4ID8/IDEwMDtcbiAgICAgICAgdGhpcy5fc3RlcCA9IGNvbmZpZy5zdGVwID8/IDE7XG4gICAgICAgIHRoaXMuX2lzUmFuZ2VTbGlkZXIgPSBjb25maWcucmFuZ2UgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZhbHVlRW5kID0gY29uZmlnLnZhbHVlRW5kID8/IG51bGw7XG4gICAgICAgIHRoaXMuX3Nob3dUb29sdGlwID0gY29uZmlnLnNob3dUb29sdGlwIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl90aWNrQ291bnQgPSBjb25maWcudGlja3MgfHwgMDtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IGNvbmZpZy52YXJpYW50IHx8ICdwcmltYXJ5JztcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNvbmZpZy5zaXplIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsID0gY29uZmlnLnZlcnRpY2FsIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdWZmaXggPSBjb25maWcuc3VmZml4IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3ByZWZpeCA9IGNvbmZpZy5wcmVmaXggfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fb3V0cHV0ID0gY29uZmlnLm91dHB1dCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9zZXBhcmF0b3IgPSBjb25maWcuc2VwYXJhdG9yIHx8ICcgLSAnO1xuXG4gICAgICAgIC8vIEVuYWJsZSByYW5nZSBpZiB2YWx1ZUVuZCBpcyBwcm92aWRlZFxuICAgICAgICBpZiAodGhpcy5fdmFsdWVFbmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzUmFuZ2VTbGlkZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IG1pbmltdW0gdmFsdWUgZm9yIHNsaWRlciByYW5nZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBtaW5WYWx1ZSh2YWwpIHtcbiAgICAgICAgdGhpcy5fbWluID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbWF4aW11bSB2YWx1ZSBmb3Igc2xpZGVyIHJhbmdlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG1heFZhbHVlKHZhbCkge1xuICAgICAgICB0aGlzLl9tYXggPSB2YWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBzdGVwIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHN0ZXAodmFsKSB7XG4gICAgICAgIHRoaXMuX3N0ZXAgPSB2YWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YWx1ZSByYW5nZSAobWluLCBtYXgsIHN0ZXApXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHJhbmdlKG1pbiwgbWF4LCBzdGVwID0gMSkge1xuICAgICAgICB0aGlzLl9taW4gPSBtaW47XG4gICAgICAgIHRoaXMuX21heCA9IG1heDtcbiAgICAgICAgdGhpcy5fc3RlcCA9IHN0ZXA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBkdWFsIGhhbmRsZSByYW5nZSBtb2RlXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBkdWFsUmFuZ2UodmFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9pc1JhbmdlU2xpZGVyID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZW5kIHZhbHVlIChmb3IgcmFuZ2UgbW9kZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmFsdWVFbmQodmFsKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlRW5kID0gdmFsO1xuICAgICAgICB0aGlzLl9pc1JhbmdlU2xpZGVyID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyB2YWx1ZSB0b29sdGlwIG9uIGhvdmVyL2ZvY3VzXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaG93VG9vbHRpcCh2YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3Nob3dUb29sdGlwID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Igc2hvd1Rvb2x0aXAodHJ1ZSlcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBsYWJlbGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaG93VG9vbHRpcCh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbnVtYmVyIG9mIHRpY2sgbWFya3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB0aWNrcyhjb3VudCkge1xuICAgICAgICB0aGlzLl90aWNrQ291bnQgPSBjb3VudDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHZhcmlhbnQvY29sb3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdiAtIHByaW1hcnl8c2Vjb25kYXJ5fHN1Y2Nlc3N8ZGFuZ2VyfHdhcm5pbmd8aW5mb3xsaWdodHxkYXJrXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmFyaWFudCh2KSB7XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwcmltYXJ5KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdwcmltYXJ5Jyk7IH1cbiAgICBzZWNvbmRhcnkoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3NlY29uZGFyeScpOyB9XG4gICAgc3VjY2VzcygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnc3VjY2VzcycpOyB9XG4gICAgZGFuZ2VyKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdkYW5nZXInKTsgfVxuICAgIHdhcm5pbmcoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3dhcm5pbmcnKTsgfVxuICAgIGluZm8oKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2luZm8nKTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHNsaWRlciBzaXplXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgLSB4c3xzbXxsZ1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNpemUocykge1xuICAgICAgICB0aGlzLl9zaXplID0gcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgeHMoKSB7IHJldHVybiB0aGlzLnNpemUoJ3hzJyk7IH1cbiAgICBzbSgpIHsgcmV0dXJuIHRoaXMuc2l6ZSgnc20nKTsgfVxuICAgIGxnKCkgeyByZXR1cm4gdGhpcy5zaXplKCdsZycpOyB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdmVydGljYWwgb3JpZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHZlcnRpY2FsKHZhbCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fdmVydGljYWwgPSB2YWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YWx1ZSBzdWZmaXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHN1ZmZpeChzKSB7XG4gICAgICAgIHRoaXMuX3N1ZmZpeCA9IHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YWx1ZSBwcmVmaXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHByZWZpeChwKSB7XG4gICAgICAgIHRoaXMuX3ByZWZpeCA9IHA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBleHRlcm5hbCBvdXRwdXQgZWxlbWVudCBzZWxlY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG91dHB1dChzZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9vdXRwdXQgPSBzZWxlY3RvcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHNlcGFyYXRvciBmb3IgcmFuZ2Ugc2xpZGVyIG91dHB1dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2VwYXJhdG9yKHMpIHtcbiAgICAgICAgdGhpcy5fc2VwYXJhdG9yID0gcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGFnIG5hbWUgKHdyYXBwZXIgZGl2KVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0VGFnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdkaXYnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHdyYXBwZXIgQ1NTIGNsYXNzZXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGJ1aWxkQ2xhc3NTdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSBuZXcgU2V0KCk7XG5cbiAgICAgICAgY2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzbGlkZXInKSk7XG5cbiAgICAgICAgLy8gU2l6ZSB2YXJpYW50XG4gICAgICAgIGlmICh0aGlzLl9zaXplKSB7XG4gICAgICAgICAgICBjbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3NsaWRlcicsIHRoaXMuX3NpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbG9yIHZhcmlhbnRcbiAgICAgICAgY2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzbGlkZXInLCB0aGlzLl92YXJpYW50KSk7XG5cbiAgICAgICAgLy8gRGlzY3JldGUgKHRpY2sgbWFya3MpXG4gICAgICAgIGlmICh0aGlzLl90aWNrQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBjbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3NsaWRlci1kaXNjcmV0ZScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExhYmVsZWQgKHRvb2x0aXApXG4gICAgICAgIGlmICh0aGlzLl9zaG93VG9vbHRpcCkge1xuICAgICAgICAgICAgY2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzbGlkZXItbGFiZWxlZCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZlcnRpY2FsXG4gICAgICAgIGlmICh0aGlzLl92ZXJ0aWNhbCkge1xuICAgICAgICAgICAgY2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzbGlkZXItdmVydGljYWwnKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSYW5nZSBzbGlkZXJcbiAgICAgICAgaWYgKHRoaXMuX2lzUmFuZ2VTbGlkZXIpIHtcbiAgICAgICAgICAgIGNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnc2xpZGVyLXJhbmdlJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzYWJsZWRcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICBjbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2Rpc2FibGVkJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHVzZXItZGVmaW5lZCBjbGFzc2VzXG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5mb3JFYWNoKGNscyA9PiBjbGFzc2VzLmFkZChjbHMpKTtcblxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShjbGFzc2VzKS5qb2luKCcgJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgd3JhcHBlciBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0ge307XG5cbiAgICAgICAgLy8gSUQgb24gd3JhcHBlclxuICAgICAgICBpZiAodGhpcy5faWQpIHtcbiAgICAgICAgICAgIGF0dHJzLmlkID0gdGhpcy5faWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWluIGluaXRpYWxpemF0aW9uIGF0dHJpYnV0ZVxuICAgICAgICBpZiAodGhpcy5faXNSYW5nZVNsaWRlcikge1xuICAgICAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgnc2xpZGVyLXJhbmdlJyldID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdzbGlkZXInKV0gPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wdGlvbmFsIGRhdGEgYXR0cmlidXRlc1xuICAgICAgICBpZiAodGhpcy5fb3V0cHV0KSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdvdXRwdXQnKV0gPSB0aGlzLl9vdXRwdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcHJlZml4KSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdwcmVmaXgnKV0gPSB0aGlzLl9wcmVmaXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc3VmZml4KSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdzdWZmaXgnKV0gPSB0aGlzLl9zdWZmaXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdGlja0NvdW50ID4gMCkge1xuICAgICAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndGlja3MnKV0gPSB0aGlzLl90aWNrQ291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNSYW5nZVNsaWRlciAmJiB0aGlzLl9zZXBhcmF0b3IgIT09ICcgLSAnKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdzZXBhcmF0b3InKV0gPSB0aGlzLl9zZXBhcmF0b3I7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNZXJnZSB1c2VyLWRlZmluZWQgZGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuX2RhdGFBdHRyaWJ1dGVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoa2V5KV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb250ZW50IChpbnB1dHMgYW5kIHRyYWNrIHN0cnVjdHVyZSlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgLy8gUmVuZGVyIGlucHV0KHMpXG4gICAgICAgIGlmICh0aGlzLl9pc1JhbmdlU2xpZGVyKSB7XG4gICAgICAgICAgICBodG1sICs9IHRoaXMuX3JlbmRlclJhbmdlSW5wdXRzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sICs9IHRoaXMuX3JlbmRlclNpbmdsZUlucHV0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW5kZXIgdHJhY2sgc3RydWN0dXJlXG4gICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyVHJhY2soKTtcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgc2luZ2xlIHJhbmdlIGlucHV0XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXJTaW5nbGVJbnB1dCgpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICAgICAgICB0eXBlOiAncmFuZ2UnLFxuICAgICAgICAgICAgY2xhc3M6IFNpeE9yYml0LmNscygnc2xpZGVyLWlucHV0JyksXG4gICAgICAgICAgICBtaW46IHRoaXMuX21pbixcbiAgICAgICAgICAgIG1heDogdGhpcy5fbWF4LFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3ZhbHVlID8/IHRoaXMuX21pbixcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5fc3RlcCAhPT0gMSkge1xuICAgICAgICAgICAgYXR0cnMuc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbmFtZSkge1xuICAgICAgICAgICAgYXR0cnMubmFtZSA9IHRoaXMuX25hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGF0dHJzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZElucHV0VGFnKGF0dHJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgZHVhbCByYW5nZSBpbnB1dHMgZm9yIHJhbmdlIHNsaWRlclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVuZGVyUmFuZ2VJbnB1dHMoKSB7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgLy8gTWluIGlucHV0XG4gICAgICAgIGNvbnN0IG1pbkF0dHJzID0ge1xuICAgICAgICAgICAgdHlwZTogJ3JhbmdlJyxcbiAgICAgICAgICAgIGNsYXNzOiBgJHtTaXhPcmJpdC5jbHMoJ3NsaWRlci1pbnB1dCcpfSAke1NpeE9yYml0LmNscygnc2xpZGVyLWlucHV0LW1pbicpfWAsXG4gICAgICAgICAgICBtaW46IHRoaXMuX21pbixcbiAgICAgICAgICAgIG1heDogdGhpcy5fbWF4LFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3ZhbHVlID8/IHRoaXMuX21pbixcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5fc3RlcCAhPT0gMSkge1xuICAgICAgICAgICAgbWluQXR0cnMuc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbmFtZSkge1xuICAgICAgICAgICAgbWluQXR0cnMubmFtZSA9IHRoaXMuX25hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIG1pbkF0dHJzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gdGhpcy5fYnVpbGRJbnB1dFRhZyhtaW5BdHRycyk7XG5cbiAgICAgICAgLy8gTWF4IGlucHV0XG4gICAgICAgIGNvbnN0IG1heEF0dHJzID0ge1xuICAgICAgICAgICAgdHlwZTogJ3JhbmdlJyxcbiAgICAgICAgICAgIGNsYXNzOiBgJHtTaXhPcmJpdC5jbHMoJ3NsaWRlci1pbnB1dCcpfSAke1NpeE9yYml0LmNscygnc2xpZGVyLWlucHV0LW1heCcpfWAsXG4gICAgICAgICAgICBtaW46IHRoaXMuX21pbixcbiAgICAgICAgICAgIG1heDogdGhpcy5fbWF4LFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3ZhbHVlRW5kID8/IHRoaXMuX21heCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5fc3RlcCAhPT0gMSkge1xuICAgICAgICAgICAgbWF4QXR0cnMuc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbmFtZSkge1xuICAgICAgICAgICAgbWF4QXR0cnMubmFtZSA9IHRoaXMuX25hbWUgKyAnX2VuZCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIG1heEF0dHJzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gdGhpcy5fYnVpbGRJbnB1dFRhZyhtYXhBdHRycyk7XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYW4gaW5wdXQgdGFnIGZyb20gYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYnVpbGRJbnB1dFRhZyhhdHRycykge1xuICAgICAgICBsZXQgaHRtbCA9ICc8aW5wdXQnO1xuXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGF0dHJzKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGAgJHtuYW1lfWA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSBmYWxzZSAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgICR7bmFtZX09XCIke3RoaXMuX2VzY2FwZUh0bWwoU3RyaW5nKHZhbHVlKSl9XCJgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBodG1sICs9ICc+JztcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIHRyYWNrIHN0cnVjdHVyZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVuZGVyVHJhY2soKSB7XG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnc2xpZGVyLXRyYWNrJyl9XCI+YDtcbiAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdzbGlkZXItZmlsbCcpfVwiPjwvZGl2PmA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzUmFuZ2VTbGlkZXIpIHtcbiAgICAgICAgICAgIC8vIFR3byB0aHVtYnMgZm9yIHJhbmdlIHNsaWRlclxuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdzbGlkZXItdGh1bWInKX0gJHtTaXhPcmJpdC5jbHMoJ3NsaWRlci10aHVtYi1taW4nKX1cIj48L2Rpdj5gO1xuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdzbGlkZXItdGh1bWInKX0gJHtTaXhPcmJpdC5jbHMoJ3NsaWRlci10aHVtYi1tYXgnKX1cIj48L2Rpdj5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2luZ2xlIHRodW1iXG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3NsaWRlci10aHVtYicpfVwiPmA7XG5cbiAgICAgICAgICAgIC8vIFRvb2x0aXAgaW5zaWRlIHRodW1iIGlmIGVuYWJsZWRcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaG93VG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBWYWx1ZSA9IHRoaXMuX3ZhbHVlID8/IHRoaXMuX21pbjtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdzbGlkZXItdG9vbHRpcCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbChTdHJpbmcodG9vbHRpcFZhbHVlKSl9PC9zcGFuPmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaWNrIG1hcmtzIGNvbnRhaW5lciBmb3IgZGlzY3JldGUgc2xpZGVyXG4gICAgICAgIGlmICh0aGlzLl90aWNrQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3NsaWRlci10aWNrcycpfVwiPjwvZGl2PmA7XG4gICAgICAgIH1cblxuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0byBET00gZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmdldFRhZ05hbWUoKSk7XG5cbiAgICAgICAgLy8gQXBwbHkgY2xhc3Nlc1xuICAgICAgICBlbC5jbGFzc05hbWUgPSB0aGlzLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcblxuICAgICAgICAvLyBBcHBseSBhdHRyaWJ1dGVzXG4gICAgICAgIGNvbnN0IGF0dHJzID0gdGhpcy5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoYXR0cnMpLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gZmFsc2UgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBjb250ZW50IChpbnB1dHMgYW5kIHRyYWNrKVxuICAgICAgICBlbC5pbm5lckhUTUwgPSB0aGlzLnJlbmRlckNvbnRlbnQoKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWcgb2JqZWN0XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcblxuICAgICAgICBpZiAodGhpcy5fbWluICE9PSAwKSBjb25maWcubWluID0gdGhpcy5fbWluO1xuICAgICAgICBpZiAodGhpcy5fbWF4ICE9PSAxMDApIGNvbmZpZy5tYXggPSB0aGlzLl9tYXg7XG4gICAgICAgIGlmICh0aGlzLl9zdGVwICE9PSAxKSBjb25maWcuc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICAgIGlmICh0aGlzLl9pc1JhbmdlU2xpZGVyKSBjb25maWcucmFuZ2UgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fdmFsdWVFbmQgIT09IG51bGwpIGNvbmZpZy52YWx1ZUVuZCA9IHRoaXMuX3ZhbHVlRW5kO1xuICAgICAgICBpZiAodGhpcy5fc2hvd1Rvb2x0aXApIGNvbmZpZy5zaG93VG9vbHRpcCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl90aWNrQ291bnQgPiAwKSBjb25maWcudGlja3MgPSB0aGlzLl90aWNrQ291bnQ7XG4gICAgICAgIGlmICh0aGlzLl92YXJpYW50ICE9PSAncHJpbWFyeScpIGNvbmZpZy52YXJpYW50ID0gdGhpcy5fdmFyaWFudDtcbiAgICAgICAgaWYgKHRoaXMuX3NpemUpIGNvbmZpZy5zaXplID0gdGhpcy5fc2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRpY2FsKSBjb25maWcudmVydGljYWwgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fc3VmZml4KSBjb25maWcuc3VmZml4ID0gdGhpcy5fc3VmZml4O1xuICAgICAgICBpZiAodGhpcy5fcHJlZml4KSBjb25maWcucHJlZml4ID0gdGhpcy5fcHJlZml4O1xuICAgICAgICBpZiAodGhpcy5fb3V0cHV0KSBjb25maWcub3V0cHV0ID0gdGhpcy5fb3V0cHV0O1xuICAgICAgICBpZiAodGhpcy5fc2VwYXJhdG9yICE9PSAnIC0gJykgY29uZmlnLnNlcGFyYXRvciA9IHRoaXMuX3NlcGFyYXRvcjtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2xpZGVyO1xuZXhwb3J0IHsgU2xpZGVyIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIERST1BaT05FIEVMRU1FTlRcbi8vIERyYWctZHJvcCBmaWxlIHVwbG9hZFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRm9ybUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0Zvcm1FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogRHJvcHpvbmUgLSBEcmFnLWRyb3AgZmlsZSB1cGxvYWRcbiAqL1xuY2xhc3MgRHJvcHpvbmUgZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktZHJvcHpvbmUnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Gb3JtRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2Ryb3B6b25lJyxcbiAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2FjY2VwdCA9IGNvbmZpZy5hY2NlcHQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fbXVsdGlwbGUgPSBjb25maWcubXVsdGlwbGUgIT09IGZhbHNlO1xuICAgICAgICB0aGlzLl9tYXhGaWxlU2l6ZSA9IGNvbmZpZy5tYXhGaWxlU2l6ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9tYXhGaWxlcyA9IGNvbmZpZy5tYXhGaWxlcyB8fCBudWxsO1xuICAgICAgICB0aGlzLl91cGxvYWRVcmwgPSBjb25maWcudXBsb2FkVXJsIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3Nob3dQcmV2aWV3ID0gY29uZmlnLnNob3dQcmV2aWV3ICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXV0b1VwbG9hZCA9IGNvbmZpZy5hdXRvVXBsb2FkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9tZXNzYWdlID0gY29uZmlnLm1lc3NhZ2UgfHwgJ0Ryb3AgZmlsZXMgaGVyZSBvciBjbGljayB0byB1cGxvYWQnO1xuICAgICAgICB0aGlzLl9pY29uID0gY29uZmlnLmljb24gfHwgJ2Nsb3VkX3VwbG9hZCc7XG4gICAgICAgIHRoaXMuX2V4aXN0aW5nRmlsZXMgPSBjb25maWcuZXhpc3RpbmdGaWxlcyB8fCBbXTtcbiAgICB9XG5cbiAgICBhY2NlcHQodmFsKSB7IHRoaXMuX2FjY2VwdCA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBpbWFnZXMoKSB7IHJldHVybiB0aGlzLmFjY2VwdCgnaW1hZ2UvKicpOyB9XG4gICAgZG9jdW1lbnRzKCkgeyByZXR1cm4gdGhpcy5hY2NlcHQoJy5wZGYsLmRvYywuZG9jeCwueGxzLC54bHN4LC5wcHQsLnBwdHgsLnR4dCcpOyB9XG4gICAgdmlkZW9zKCkgeyByZXR1cm4gdGhpcy5hY2NlcHQoJ3ZpZGVvLyonKTsgfVxuICAgIG11bHRpcGxlKHZhbCA9IHRydWUpIHsgdGhpcy5fbXVsdGlwbGUgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgc2luZ2xlKCkgeyByZXR1cm4gdGhpcy5tdWx0aXBsZShmYWxzZSk7IH1cbiAgICBtYXhGaWxlU2l6ZShieXRlcykgeyB0aGlzLl9tYXhGaWxlU2l6ZSA9IGJ5dGVzOyByZXR1cm4gdGhpczsgfVxuICAgIG1heEZpbGVTaXplTUIobWIpIHsgcmV0dXJuIHRoaXMubWF4RmlsZVNpemUobWIgKiAxMDI0ICogMTAyNCk7IH1cbiAgICBtYXhGaWxlcyhtYXgpIHsgdGhpcy5fbWF4RmlsZXMgPSBtYXg7IHJldHVybiB0aGlzOyB9XG4gICAgdXBsb2FkVXJsKHVybCkgeyB0aGlzLl91cGxvYWRVcmwgPSB1cmw7IHJldHVybiB0aGlzOyB9XG4gICAgc2hvd1ByZXZpZXcodmFsID0gdHJ1ZSkgeyB0aGlzLl9zaG93UHJldmlldyA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBoaWRlUHJldmlldygpIHsgcmV0dXJuIHRoaXMuc2hvd1ByZXZpZXcoZmFsc2UpOyB9XG4gICAgYXV0b1VwbG9hZCh2YWwgPSB0cnVlKSB7IHRoaXMuX2F1dG9VcGxvYWQgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgbWVzc2FnZShtc2cpIHsgdGhpcy5fbWVzc2FnZSA9IG1zZzsgcmV0dXJuIHRoaXM7IH1cbiAgICBpY29uKGljb24pIHsgdGhpcy5faWNvbiA9IGljb247IHJldHVybiB0aGlzOyB9XG4gICAgZXhpc3RpbmdGaWxlcyhmaWxlcykgeyB0aGlzLl9leGlzdGluZ0ZpbGVzID0gZmlsZXM7IHJldHVybiB0aGlzOyB9XG5cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZHJvcHpvbmUnKSk7XG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2lzLWludmFsaWQnKSk7XG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1pbml0JyldID0gJ2Ryb3B6b25lJztcblxuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBtdWx0aXBsZTogdGhpcy5fbXVsdGlwbGUsXG4gICAgICAgICAgICBzaG93UHJldmlldzogdGhpcy5fc2hvd1ByZXZpZXcsXG4gICAgICAgICAgICBhdXRvVXBsb2FkOiB0aGlzLl9hdXRvVXBsb2FkLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fYWNjZXB0KSBjb25maWcuYWNjZXB0ID0gdGhpcy5fYWNjZXB0O1xuICAgICAgICBpZiAodGhpcy5fbWF4RmlsZVNpemUpIGNvbmZpZy5tYXhGaWxlU2l6ZSA9IHRoaXMuX21heEZpbGVTaXplO1xuICAgICAgICBpZiAodGhpcy5fbWF4RmlsZXMpIGNvbmZpZy5tYXhGaWxlcyA9IHRoaXMuX21heEZpbGVzO1xuICAgICAgICBpZiAodGhpcy5fdXBsb2FkVXJsKSBjb25maWcudXBsb2FkVXJsID0gdGhpcy5fdXBsb2FkVXJsO1xuICAgICAgICBpZiAodGhpcy5fZXhpc3RpbmdGaWxlcy5sZW5ndGggPiAwKSBjb25maWcuZXhpc3RpbmdGaWxlcyA9IHRoaXMuX2V4aXN0aW5nRmlsZXM7XG5cbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndWktY29uZmlnJyldID0gSlNPTi5zdHJpbmdpZnkoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZHJvcHpvbmUtYXJlYScpfVwiPmA7XG4gICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgJHtTaXhPcmJpdC5jbHMoJ2Ryb3B6b25lLWljb24nKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5faWNvbil9PC9zcGFuPmA7XG4gICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Ryb3B6b25lLW1lc3NhZ2UnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fbWVzc2FnZSl9PC9wPmA7XG4gICAgICAgIGh0bWwgKz0gYDxpbnB1dCB0eXBlPVwiZmlsZVwiIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Ryb3B6b25lLWlucHV0Jyl9XCJgO1xuICAgICAgICBpZiAodGhpcy5fbmFtZSkgaHRtbCArPSBgIG5hbWU9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fbmFtZSl9JHt0aGlzLl9tdWx0aXBsZSA/ICdbXScgOiAnJ31cImA7XG4gICAgICAgIGlmICh0aGlzLl9hY2NlcHQpIGh0bWwgKz0gYCBhY2NlcHQ9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fYWNjZXB0KX1cImA7XG4gICAgICAgIGlmICh0aGlzLl9tdWx0aXBsZSkgaHRtbCArPSAnIG11bHRpcGxlJztcbiAgICAgICAgaHRtbCArPSAnPic7XG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgIGlmICh0aGlzLl9zaG93UHJldmlldykge1xuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdkcm9wem9uZS1wcmV2aWV3Jyl9XCI+PC9kaXY+YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcbiAgICAgICAgaWYgKHRoaXMuX2FjY2VwdCkgY29uZmlnLmFjY2VwdCA9IHRoaXMuX2FjY2VwdDtcbiAgICAgICAgaWYgKCF0aGlzLl9tdWx0aXBsZSkgY29uZmlnLm11bHRpcGxlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9tYXhGaWxlU2l6ZSkgY29uZmlnLm1heEZpbGVTaXplID0gdGhpcy5fbWF4RmlsZVNpemU7XG4gICAgICAgIGlmICh0aGlzLl9tYXhGaWxlcykgY29uZmlnLm1heEZpbGVzID0gdGhpcy5fbWF4RmlsZXM7XG4gICAgICAgIGlmICh0aGlzLl91cGxvYWRVcmwpIGNvbmZpZy51cGxvYWRVcmwgPSB0aGlzLl91cGxvYWRVcmw7XG4gICAgICAgIGlmICghdGhpcy5fc2hvd1ByZXZpZXcpIGNvbmZpZy5zaG93UHJldmlldyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwbG9hZCkgY29uZmlnLmF1dG9VcGxvYWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fbWVzc2FnZSAhPT0gJ0Ryb3AgZmlsZXMgaGVyZSBvciBjbGljayB0byB1cGxvYWQnKSBjb25maWcubWVzc2FnZSA9IHRoaXMuX21lc3NhZ2U7XG4gICAgICAgIGlmICh0aGlzLl9pY29uICE9PSAnY2xvdWRfdXBsb2FkJykgY29uZmlnLmljb24gPSB0aGlzLl9pY29uO1xuICAgICAgICBpZiAodGhpcy5fZXhpc3RpbmdGaWxlcy5sZW5ndGggPiAwKSBjb25maWcuZXhpc3RpbmdGaWxlcyA9IHRoaXMuX2V4aXN0aW5nRmlsZXM7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcm9wem9uZTtcbmV4cG9ydCB7IERyb3B6b25lIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIE9UUCBJTlBVVCBFTEVNRU5UXG4vLyBPbmUtVGltZSBQYXNzd29yZCBpbnB1dFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRm9ybUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0Zvcm1FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogT3RwSW5wdXQgLSBPVFAvUElOIGNvZGUgaW5wdXRcbiAqL1xuY2xhc3MgT3RwSW5wdXQgZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktb3RwLWlucHV0JztcblxuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgLi4uRm9ybUVsZW1lbnQuREVGQVVMVFMsXG4gICAgICAgIHR5cGU6ICdvdHAtaW5wdXQnLFxuICAgICAgICB0YWdOYW1lOiAnZGl2JyxcbiAgICB9O1xuXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gY29uZmlnLmxlbmd0aCA/PyA2O1xuICAgICAgICB0aGlzLl9pbnB1dFR5cGUgPSBjb25maWcuaW5wdXRUeXBlIHx8ICd0ZXh0JztcbiAgICAgICAgdGhpcy5fbWFza2VkID0gY29uZmlnLm1hc2tlZCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXV0b1N1Ym1pdCA9IGNvbmZpZy5hdXRvU3VibWl0IHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdXRvRm9jdXMgPSBjb25maWcuYXV0b0ZvY3VzICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYWxsb3dQYXN0ZSA9IGNvbmZpZy5hbGxvd1Bhc3RlICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZ3JvdXBTaXplID0gY29uZmlnLmdyb3VwU2l6ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl92YXJpYW50ID0gY29uZmlnLnZhcmlhbnQgfHwgJ2RlZmF1bHQnO1xuICAgIH1cblxuICAgIGxlbmd0aChsZW4pIHsgdGhpcy5fbGVuZ3RoID0gbGVuOyByZXR1cm4gdGhpczsgfVxuICAgIHBpbjQoKSB7IHJldHVybiB0aGlzLmxlbmd0aCg0KTsgfVxuICAgIHBpbjYoKSB7IHJldHVybiB0aGlzLmxlbmd0aCg2KTsgfVxuICAgIGlucHV0VHlwZSh0eXBlKSB7IHRoaXMuX2lucHV0VHlwZSA9IHR5cGU7IHJldHVybiB0aGlzOyB9XG4gICAgbnVtZXJpYygpIHsgcmV0dXJuIHRoaXMuaW5wdXRUeXBlKCdudW1iZXInKTsgfVxuICAgIGFscGhhbnVtZXJpYygpIHsgcmV0dXJuIHRoaXMuaW5wdXRUeXBlKCd0ZXh0Jyk7IH1cbiAgICBtYXNrZWQodmFsID0gdHJ1ZSkgeyB0aGlzLl9tYXNrZWQgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgcGFzc3dvcmQoKSB7IHRoaXMuX2lucHV0VHlwZSA9ICdwYXNzd29yZCc7IHJldHVybiB0aGlzLm1hc2tlZCh0cnVlKTsgfVxuICAgIGF1dG9TdWJtaXQodmFsID0gdHJ1ZSkgeyB0aGlzLl9hdXRvU3VibWl0ID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGF1dG9Gb2N1cyh2YWwgPSB0cnVlKSB7IHRoaXMuX2F1dG9Gb2N1cyA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBhbGxvd1Bhc3RlKHZhbCA9IHRydWUpIHsgdGhpcy5fYWxsb3dQYXN0ZSA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBncm91cFNpemUoc2l6ZSkgeyB0aGlzLl9ncm91cFNpemUgPSBzaXplOyByZXR1cm4gdGhpczsgfVxuICAgIGdyb3VwZWQoKSB7IHJldHVybiB0aGlzLmdyb3VwU2l6ZSgzKTsgfVxuICAgIHZhcmlhbnQodikgeyB0aGlzLl92YXJpYW50ID0gdjsgcmV0dXJuIHRoaXM7IH1cbiAgICBvdXRsaW5lKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdvdXRsaW5lJyk7IH1cbiAgICBmaWxsZWQoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2ZpbGxlZCcpOyB9XG4gICAgdW5kZXJsaW5lKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCd1bmRlcmxpbmUnKTsgfVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ290cC1pbnB1dCcpKTtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ290cCcsIHRoaXMuX3ZhcmlhbnQpKTtcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnaXMtaW52YWxpZCcpKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3VpLWluaXQnKV0gPSAnb3RwLWlucHV0JztcblxuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgICAgIGlucHV0VHlwZTogdGhpcy5faW5wdXRUeXBlLFxuICAgICAgICAgICAgbWFza2VkOiB0aGlzLl9tYXNrZWQsXG4gICAgICAgICAgICBhdXRvU3VibWl0OiB0aGlzLl9hdXRvU3VibWl0LFxuICAgICAgICAgICAgYXV0b0ZvY3VzOiB0aGlzLl9hdXRvRm9jdXMsXG4gICAgICAgICAgICBhbGxvd1Bhc3RlOiB0aGlzLl9hbGxvd1Bhc3RlLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fZ3JvdXBTaXplKSBjb25maWcuZ3JvdXBTaXplID0gdGhpcy5fZ3JvdXBTaXplO1xuXG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3VpLWNvbmZpZycpXSA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZyk7XG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgaHRtbCA9IGA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ290cC12YWx1ZScpfVwiYDtcbiAgICAgICAgaWYgKHRoaXMuX25hbWUpIGh0bWwgKz0gYCBuYW1lPVwiJHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX25hbWUpfVwiYDtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbHVlICE9PSBudWxsKSBodG1sICs9IGAgdmFsdWU9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fdmFsdWUpfVwiYDtcbiAgICAgICAgaHRtbCArPSAnPic7XG5cbiAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdvdHAtaW5wdXRzJyl9XCI+YDtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5fdmFsdWUgfHwgJyc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2dyb3VwU2l6ZSAmJiBpID4gMCAmJiBpICUgdGhpcy5fZ3JvdXBTaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnb3RwLXNlcGFyYXRvcicpfVwiPi08L3NwYW4+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpZ2l0VmFsdWUgPSBjdXJyZW50VmFsdWVbaV0gfHwgJyc7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFR5cGUgPSB0aGlzLl9tYXNrZWQgPyAncGFzc3dvcmQnIDogKHRoaXMuX2lucHV0VHlwZSA9PT0gJ251bWJlcicgPyAndGVsJyA6ICd0ZXh0Jyk7XG5cbiAgICAgICAgICAgIGh0bWwgKz0gYDxpbnB1dCB0eXBlPVwiJHtpbnB1dFR5cGV9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSBgIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ290cC1kaWdpdCcpfVwiYDtcbiAgICAgICAgICAgIGh0bWwgKz0gJyBtYXhsZW5ndGg9XCIxXCInO1xuICAgICAgICAgICAgaHRtbCArPSAnIGF1dG9jb21wbGV0ZT1cIm9uZS10aW1lLWNvZGVcIic7XG4gICAgICAgICAgICBodG1sICs9IGAgaW5wdXRtb2RlPVwiJHt0aGlzLl9pbnB1dFR5cGUgPT09ICdudW1iZXInID8gJ251bWVyaWMnIDogJ3RleHQnfVwiYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYCBwYXR0ZXJuPVwiJHt0aGlzLl9pbnB1dFR5cGUgPT09ICdudW1iZXInID8gJ1swLTldJyA6ICdbYS16QS1aMC05XSd9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSBgICR7U2l4T3JiaXQuZGF0YSgnaW5kZXgnKX09XCIke2l9XCJgO1xuICAgICAgICAgICAgaWYgKGRpZ2l0VmFsdWUpIGh0bWwgKz0gYCB2YWx1ZT1cIiR7dGhpcy5fZXNjYXBlSHRtbChkaWdpdFZhbHVlKX1cImA7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCAmJiB0aGlzLl9hdXRvRm9jdXMpIGh0bWwgKz0gJyBhdXRvZm9jdXMnO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSBodG1sICs9ICcgZGlzYWJsZWQnO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlYWRvbmx5KSBodG1sICs9ICcgcmVhZG9ubHknO1xuICAgICAgICAgICAgaHRtbCArPSAnPic7XG4gICAgICAgIH1cblxuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcbiAgICAgICAgaWYgKHRoaXMuX2xlbmd0aCAhPT0gNikgY29uZmlnLmxlbmd0aCA9IHRoaXMuX2xlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX2lucHV0VHlwZSAhPT0gJ3RleHQnKSBjb25maWcuaW5wdXRUeXBlID0gdGhpcy5faW5wdXRUeXBlO1xuICAgICAgICBpZiAodGhpcy5fbWFza2VkKSBjb25maWcubWFza2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9TdWJtaXQpIGNvbmZpZy5hdXRvU3VibWl0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9hdXRvRm9jdXMpIGNvbmZpZy5hdXRvRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLl9hbGxvd1Bhc3RlKSBjb25maWcuYWxsb3dQYXN0ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fZ3JvdXBTaXplKSBjb25maWcuZ3JvdXBTaXplID0gdGhpcy5fZ3JvdXBTaXplO1xuICAgICAgICBpZiAodGhpcy5fdmFyaWFudCAhPT0gJ2RlZmF1bHQnKSBjb25maWcudmFyaWFudCA9IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPdHBJbnB1dDtcbmV4cG9ydCB7IE90cElucHV0IH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIEFDQ09SRElPTiBFTEVNRU5UXG4vLyBDb2xsYXBzaWJsZSBhY2NvcmRpb24gY29tcG9uZW50XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Db250YWluZXJFbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogQWNjb3JkaW9uIC0gQ29sbGFwc2libGUgYWNjb3JkaW9uIGVsZW1lbnRcbiAqL1xuY2xhc3MgQWNjb3JkaW9uIGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktYWNjb3JkaW9uJztcblxuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgLi4uQ29udGFpbmVyRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2FjY29yZGlvbicsXG4gICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29uZmlnXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcblxuICAgICAgICB0aGlzLl9pdGVtcyA9IGNvbmZpZy5pdGVtcyB8fCBbXTtcbiAgICAgICAgdGhpcy5fZmx1c2ggPSBjb25maWcuZmx1c2ggfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2Fsd2F5c09wZW4gPSBjb25maWcuYWx3YXlzT3BlbiB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fYWN0aXZlSXRlbSA9IGNvbmZpZy5hY3RpdmVJdGVtID8/IDA7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQWRkIGFuIGFjY29yZGlvbiBpdGVtXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIC0gSXRlbSBoZWFkZXIgdGl0bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIEl0ZW0gY29udGVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3BlbiAtIFN0YXJ0IGV4cGFuZGVkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaXRlbSh0aXRsZSwgY29udGVudCwgb3BlbiA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5faXRlbXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKHsgdGl0bGUsIGNvbnRlbnQsIGV4cGFuZGVkOiBvcGVuIH0pO1xuICAgICAgICBpZiAob3Blbikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlSXRlbSA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhY2NvcmRpb24gaXRlbSAoYWxpYXMgZm9yIGl0ZW0gd2l0aCBvYmplY3QgY29uZmlnKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtQ29uZmlnIC0ge3RpdGxlLCBjb250ZW50LCBleHBhbmRlZCwgaWNvbn1cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhZGRJdGVtKGl0ZW1Db25maWcpIHtcbiAgICAgICAgdGhpcy5faXRlbXMucHVzaChpdGVtQ29uZmlnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG11bHRpcGxlIGl0ZW1zXG4gICAgICogQHBhcmFtIHtBcnJheX0gaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpdGVtcyhpdGVtcykge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYWN0aXZlIGl0ZW1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhY3RpdmVJdGVtKGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUl0ZW0gPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgd2l0aCBhbGwgY29sbGFwc2VkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY29sbGFwc2VkKCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVJdGVtID0gLTE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBmbHVzaCBzdHlsZSAocmVtb3ZlcyBib3JkZXJzKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmx1c2hcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBmbHVzaChmbHVzaCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZmx1c2ggPSBmbHVzaDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3cgbXVsdGlwbGUgaXRlbXMgb3BlbiBhdCBvbmNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhbHdheXNPcGVuXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWx3YXlzT3BlbihhbHdheXNPcGVuID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9hbHdheXNPcGVuID0gYWx3YXlzT3BlbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Nlc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2FjY29yZGlvbicpKTtcblxuICAgICAgICBpZiAodGhpcy5fZmx1c2gpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdhY2NvcmRpb24tZmx1c2gnKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICAvLyBBZGQgZGF0YS1zby1hY2NvcmRpb24gYXR0cmlidXRlIGZvciBKUyBpbml0aWFsaXphdGlvblxuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdhY2NvcmRpb24nKV0gPSAnJztcblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgIGNvbnN0IGFjY29yZGlvbklkID0gdGhpcy5faWQgfHwgYGFjY29yZGlvbi0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMSl9YDtcblxuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVySWQgPSBgJHthY2NvcmRpb25JZH0taGVhZGVyLSR7aW5kZXh9YDtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxhcHNlSWQgPSBgJHthY2NvcmRpb25JZH0tY29sbGFwc2UtJHtpbmRleH1gO1xuICAgICAgICAgICAgLy8gVXNlIF9hY3RpdmVJdGVtIGlmIHNldCwgb3RoZXJ3aXNlIGNoZWNrIGl0ZW0uZXhwYW5kZWRcbiAgICAgICAgICAgIGNvbnN0IGlzT3BlbiA9IHRoaXMuX2FjdGl2ZUl0ZW0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gaW5kZXggPT09IHRoaXMuX2FjdGl2ZUl0ZW1cbiAgICAgICAgICAgICAgICA6IChpdGVtLmV4cGFuZGVkIHx8IGZhbHNlKTtcblxuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdhY2NvcmRpb24taXRlbScpfVwiPmA7XG5cbiAgICAgICAgICAgIC8vIEhlYWRlclxuICAgICAgICAgICAgaHRtbCArPSBgPGgyIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2FjY29yZGlvbi1oZWFkZXInKX1cIiBpZD1cIiR7aGVhZGVySWR9XCI+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxidXR0b24gY2xhc3M9XCIke1NpeE9yYml0LmNscygnYWNjb3JkaW9uLWJ1dHRvbicpfSR7aXNPcGVuID8gJycgOiBgICR7U2l4T3JiaXQuY2xzKCdjb2xsYXBzZWQnKX1gfVwiIGA7XG4gICAgICAgICAgICBodG1sICs9IGB0eXBlPVwiYnV0dG9uXCIgYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYCR7U2l4T3JiaXQuZGF0YSgndG9nZ2xlJyl9PVwiY29sbGFwc2VcIiBgO1xuICAgICAgICAgICAgaHRtbCArPSBgJHtTaXhPcmJpdC5kYXRhKCd0YXJnZXQnKX09XCIjJHtjb2xsYXBzZUlkfVwiIGA7XG4gICAgICAgICAgICBodG1sICs9IGBhcmlhLWV4cGFuZGVkPVwiJHtpc09wZW4gPyAndHJ1ZScgOiAnZmFsc2UnfVwiIGA7XG4gICAgICAgICAgICBodG1sICs9IGBhcmlhLWNvbnRyb2xzPVwiJHtjb2xsYXBzZUlkfVwiPmA7XG5cbiAgICAgICAgICAgIGlmIChpdGVtLmljb24pIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zICR7U2l4T3JiaXQuY2xzKCdtZS0yJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKGl0ZW0uaWNvbil9PC9zcGFuPmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZXNjYXBlSHRtbChpdGVtLnRpdGxlKTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvYnV0dG9uPjwvaDI+JztcblxuICAgICAgICAgICAgLy8gQ29sbGFwc2UgY29udGVudFxuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBpZD1cIiR7Y29sbGFwc2VJZH1cIiBgO1xuICAgICAgICAgICAgaHRtbCArPSBgY2xhc3M9XCIke1NpeE9yYml0LmNscygnYWNjb3JkaW9uLWNvbGxhcHNlJyl9ICR7U2l4T3JiaXQuY2xzKCdjb2xsYXBzZScpfSR7aXNPcGVuID8gYCAke1NpeE9yYml0LmNscygnc2hvdycpfWAgOiAnJ31cIiBgO1xuICAgICAgICAgICAgaHRtbCArPSBgYXJpYS1sYWJlbGxlZGJ5PVwiJHtoZWFkZXJJZH1cIiBgO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Fsd2F5c09wZW4pIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGAke1NpeE9yYml0LmRhdGEoJ3BhcmVudCcpfT1cIiMke2FjY29yZGlvbklkfVwiYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaHRtbCArPSAnPic7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2FjY29yZGlvbi1ib2R5Jyl9XCI+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gaXRlbS5jb250ZW50IHx8ICcnO1xuICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+PC9kaXY+JztcblxuICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVuZGVyIGNoaWxkcmVuXG4gICAgICAgIGh0bWwgKz0gdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEludGVyYWN0aXZpdHkgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IGNvbGxhcHNlIGVsZW1lbnQgYnkgaW5kZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDb2xsYXBzZUVsKGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50IHx8ICF0aGlzLl9pZCkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5faWR9LWNvbGxhcHNlLSR7aW5kZXh9YCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGJ1dHRvbiBlbGVtZW50IGJ5IGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0QnV0dG9uRWwoaW5kZXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQgfHwgIXRoaXMuX2lkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLl9pZH0taGVhZGVyLSR7aW5kZXh9IGJ1dHRvbmApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4cGFuZCBpdGVtIGJ5IGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZXhwYW5kKGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm4gdGhpcztcblxuICAgICAgICBjb25zdCBjb2xsYXBzZUVsID0gdGhpcy5fZ2V0Q29sbGFwc2VFbChpbmRleCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuX2dldEJ1dHRvbkVsKGluZGV4KTtcblxuICAgICAgICBpZiAoIWNvbGxhcHNlRWwpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIC8vIERpc3BhdGNoIHNob3cgZXZlbnQgKGNhbmNlbGFibGUpXG4gICAgICAgIGNvbnN0IHNob3dFdmVudCA9IG5ldyBDdXN0b21FdmVudChTaXhPcmJpdC5ldnQoJ2FjY29yZGlvbjpzaG93JyksIHtcbiAgICAgICAgICAgIGRldGFpbDogeyBpbmRleCwgY29sbGFwc2VFbCB9LFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoc2hvd0V2ZW50KSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gQ2xvc2Ugc2libGluZ3MgaWYgbm90IGFsd2F5c09wZW5cbiAgICAgICAgaWYgKCF0aGlzLl9hbHdheXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChfLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxhcHNlSXRlbShpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4cGFuZFxuICAgICAgICBjb2xsYXBzZUVsLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdzaG93JykpO1xuICAgICAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ2NvbGxhcHNlZCcpKTtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzcGF0Y2ggc2hvd24gZXZlbnRcbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFNpeE9yYml0LmV2dCgnYWNjb3JkaW9uOnNob3duJyksIHtcbiAgICAgICAgICAgIGRldGFpbDogeyBpbmRleCwgY29sbGFwc2VFbCB9LFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29sbGFwc2UgaXRlbSBieSBpbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNvbGxhcHNlKGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm4gdGhpcztcblxuICAgICAgICBjb25zdCBjb2xsYXBzZUVsID0gdGhpcy5fZ2V0Q29sbGFwc2VFbChpbmRleCk7XG4gICAgICAgIGlmICghY29sbGFwc2VFbCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gRGlzcGF0Y2ggaGlkZSBldmVudCAoY2FuY2VsYWJsZSlcbiAgICAgICAgY29uc3QgaGlkZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFNpeE9yYml0LmV2dCgnYWNjb3JkaW9uOmhpZGUnKSwge1xuICAgICAgICAgICAgZGV0YWlsOiB7IGluZGV4LCBjb2xsYXBzZUVsIH0sXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChoaWRlRXZlbnQpKSByZXR1cm4gdGhpcztcblxuICAgICAgICB0aGlzLl9jb2xsYXBzZUl0ZW0oaW5kZXgpO1xuXG4gICAgICAgIC8vIERpc3BhdGNoIGhpZGRlbiBldmVudFxuICAgICAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoU2l4T3JiaXQuZXZ0KCdhY2NvcmRpb246aGlkZGVuJyksIHtcbiAgICAgICAgICAgIGRldGFpbDogeyBpbmRleCwgY29sbGFwc2VFbCB9LFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgY29sbGFwc2Ugd2l0aG91dCBldmVudHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jb2xsYXBzZUl0ZW0oaW5kZXgpIHtcbiAgICAgICAgY29uc3QgY29sbGFwc2VFbCA9IHRoaXMuX2dldENvbGxhcHNlRWwoaW5kZXgpO1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLl9nZXRCdXR0b25FbChpbmRleCk7XG5cbiAgICAgICAgaWYgKGNvbGxhcHNlRWwpIHtcbiAgICAgICAgICAgIGNvbGxhcHNlRWwuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ3Nob3cnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1dHRvbikge1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdjb2xsYXBzZWQnKSk7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgaXRlbSBieSBpbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRvZ2dsZShpbmRleCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgY29uc3QgY29sbGFwc2VFbCA9IHRoaXMuX2dldENvbGxhcHNlRWwoaW5kZXgpO1xuICAgICAgICBpZiAoY29sbGFwc2VFbD8uY2xhc3NMaXN0LmNvbnRhaW5zKFNpeE9yYml0LmNscygnc2hvdycpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2UoaW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhwYW5kKGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4cGFuZCBhbGwgaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBleHBhbmRBbGwoKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKF8sIGluZGV4KSA9PiB0aGlzLmV4cGFuZChpbmRleCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2xsYXBzZSBhbGwgaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjb2xsYXBzZUFsbCgpIHtcbiAgICAgICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoXywgaW5kZXgpID0+IHRoaXMuY29sbGFwc2UoaW5kZXgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgaXRlbSBpcyBleHBhbmRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzRXhwYW5kZWQoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgY29sbGFwc2VFbCA9IHRoaXMuX2dldENvbGxhcHNlRWwoaW5kZXgpO1xuICAgICAgICByZXR1cm4gY29sbGFwc2VFbD8uY2xhc3NMaXN0LmNvbnRhaW5zKFNpeE9yYml0LmNscygnc2hvdycpKSA/PyBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY291bnQgb2YgaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldEl0ZW1Db3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYWNjb3JkaW9uIHNob3cgZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvblNob3coY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oU2l4T3JiaXQuZXZ0KCdhY2NvcmRpb246c2hvdycpLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIHRvIGFjY29yZGlvbiBzaG93biBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uU2hvd24oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oU2l4T3JiaXQuZXZ0KCdhY2NvcmRpb246c2hvd24nKSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpc3RlbiB0byBhY2NvcmRpb24gaGlkZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uSGlkZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbihTaXhPcmJpdC5ldnQoJ2FjY29yZGlvbjpoaWRlJyksIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYWNjb3JkaW9uIGhpZGRlbiBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uSGlkZGVuKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uKFNpeE9yYml0LmV2dCgnYWNjb3JkaW9uOmhpZGRlbicpLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9pdGVtcy5sZW5ndGggPiAwKSBjb25maWcuaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZUl0ZW0gIT09IDApIGNvbmZpZy5hY3RpdmVJdGVtID0gdGhpcy5fYWN0aXZlSXRlbTtcbiAgICAgICAgaWYgKHRoaXMuX2ZsdXNoKSBjb25maWcuZmx1c2ggPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYWx3YXlzT3BlbikgY29uZmlnLmFsd2F5c09wZW4gPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBY2NvcmRpb247XG5leHBvcnQgeyBBY2NvcmRpb24gfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQUxFUlQgRUxFTUVOVFxuLy8gQWxlcnQvbm90aWZpY2F0aW9uIGRpc3BsYXlcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBBbGVydCAtIEFsZXJ0L25vdGlmaWNhdGlvbiBlbGVtZW50XG4gKi9cbmNsYXNzIEFsZXJ0IGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktYWxlcnQnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnYWxlcnQnLFxuICAgICAgICB0YWdOYW1lOiAnZGl2JyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IGNvbmZpZy52YXJpYW50IHx8ICdpbmZvJztcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IGNvbmZpZy5tZXNzYWdlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gY29uZmlnLnRpdGxlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2ljb24gPSBjb25maWcuaWNvbiB8fCBudWxsO1xuICAgICAgICB0aGlzLl9kaXNtaXNzaWJsZSA9IGNvbmZpZy5kaXNtaXNzaWJsZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXV0b0Rpc21pc3MgPSBjb25maWcuYXV0b0Rpc21pc3MgfHwgMDtcbiAgICAgICAgdGhpcy5fb3V0bGluZSA9IGNvbmZpZy5vdXRsaW5lIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9zbWFsbCA9IGNvbmZpZy5zbWFsbCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fZm9vdGVyID0gY29uZmlnLmZvb3RlciB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZsdWVudCBBUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YXJpYW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB2YXJpYW50KHZhcmlhbnQpIHtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBQcmltYXJ5IHZhcmlhbnQgKi9cbiAgICBwcmltYXJ5KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdwcmltYXJ5Jyk7IH1cblxuICAgIC8qKiBTZWNvbmRhcnkgdmFyaWFudCAqL1xuICAgIHNlY29uZGFyeSgpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnc2Vjb25kYXJ5Jyk7IH1cblxuICAgIC8qKiBTdWNjZXNzIHZhcmlhbnQgKi9cbiAgICBzdWNjZXNzKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdzdWNjZXNzJykuaWNvbignY2hlY2tfY2lyY2xlJyk7IH1cblxuICAgIC8qKiBEYW5nZXIgdmFyaWFudCAqL1xuICAgIGRhbmdlcigpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnZGFuZ2VyJykuaWNvbignZXJyb3InKTsgfVxuXG4gICAgLyoqIFdhcm5pbmcgdmFyaWFudCAqL1xuICAgIHdhcm5pbmcoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3dhcm5pbmcnKS5pY29uKCd3YXJuaW5nJyk7IH1cblxuICAgIC8qKiBJbmZvIHZhcmlhbnQgKi9cbiAgICBpbmZvKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdpbmZvJykuaWNvbignaW5mbycpOyB9XG5cbiAgICAvKiogTGlnaHQgdmFyaWFudCAqL1xuICAgIGxpZ2h0KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdsaWdodCcpOyB9XG5cbiAgICAvKiogRGFyayB2YXJpYW50ICovXG4gICAgZGFyaygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnZGFyaycpOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGl0bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB0aXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaWNvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpY29uXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvbihpY29uKSB7XG4gICAgICAgIHRoaXMuX2ljb24gPSBpY29uO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIGRpc21pc3NpYmxlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkaXNtaXNzaWJsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGRpc21pc3NpYmxlKGRpc21pc3NpYmxlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9kaXNtaXNzaWJsZSA9IGRpc21pc3NpYmxlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYXV0by1kaXNtaXNzIHRpbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGF1dG9EaXNtaXNzKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5fYXV0b0Rpc21pc3MgPSBzZWNvbmRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb3V0bGluZSBzdHlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3V0bGluZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG91dGxpbmUob3V0bGluZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fb3V0bGluZSA9IG91dGxpbmU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBzbWFsbCBzaXplXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzbWFsbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNtYWxsKHNtYWxsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9zbWFsbCA9IHNtYWxsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY29udGVudCAoYWxpYXMgZm9yIG1lc3NhZ2UpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjb250ZW50KGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IGNvbnRlbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBmb290ZXIgY29udGVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb290ZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBmb290ZXIoZm9vdGVyKSB7XG4gICAgICAgIHRoaXMuX2Zvb3RlciA9IGZvb3RlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Nlc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2FsZXJ0JykpO1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnYWxlcnQnLCB0aGlzLl92YXJpYW50KSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rpc21pc3NpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnYWxlcnQtZGlzbWlzc2libGUnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb3V0bGluZSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2FsZXJ0LW91dGxpbmUnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc21hbGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdhbGVydC1zbScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuXG4gICAgICAgIGF0dHJzLnJvbGUgPSAnYWxlcnQnO1xuXG4gICAgICAgIGlmICh0aGlzLl9hdXRvRGlzbWlzcyA+IDApIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ2F1dG8tZGlzbWlzcycpXSA9IHRoaXMuX2F1dG9EaXNtaXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb250ZW50XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuXG4gICAgICAgIC8vIEljb24gKHdyYXBwZWQgaW4gc28tYWxlcnQtaWNvbilcbiAgICAgICAgaWYgKHRoaXMuX2ljb24pIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2FsZXJ0LWljb24nKX1cIj48c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX2ljb24pfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnRlbnQgd3JhcHBlclxuICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2FsZXJ0LWNvbnRlbnQnKX1cIj5gO1xuXG4gICAgICAgIC8vIFRpdGxlICh3cmFwcGVkIGluIHN0cm9uZyB0YWcpXG4gICAgICAgIGlmICh0aGlzLl90aXRsZSkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHN0cm9uZz4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fdGl0bGUpfTwvc3Ryb25nPiBgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWVzc2FnZVxuICAgICAgICBpZiAodGhpcy5fbWVzc2FnZSkge1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX21lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udGVudCBmcm9tIHBhcmVudCAoY2hpbGRyZW4pXG4gICAgICAgIGh0bWwgKz0gdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuXG4gICAgICAgIC8vIEZvb3RlciB3aXRoIGhyIHNlcGFyYXRvclxuICAgICAgICBpZiAodGhpcy5fZm9vdGVyKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8aHI+JztcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ21iLTAnKX1cIj4ke3RoaXMuX2Zvb3Rlcn08L3A+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7IC8vIENsb3NlIGNvbnRlbnQgd3JhcHBlclxuXG4gICAgICAgIC8vIERpc21pc3MgYnV0dG9uIChzby1hbGVydC1jbG9zZSB3aXRoIGljb24pXG4gICAgICAgIGlmICh0aGlzLl9kaXNtaXNzaWJsZSkge1xuICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke1NpeE9yYml0LmNscygnYWxlcnQtY2xvc2UnKX1cIiBkYXRhLWRpc21pc3M9XCJhbGVydFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvc2U8L3NwYW4+JztcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvYnV0dG9uPic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBJbnRlcmFjdGl2aXR5IE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIGFsZXJ0IChpZiBoaWRkZW4pXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2hvdygpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCAmJiB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIGFsZXJ0IChub24tZGlzbWlzc2libGUsIGp1c3QgaGlkZXMpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UvZGlzbWlzcyB0aGUgYWxlcnQgKHJlbW92ZXMgZnJvbSBET00pXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm4gdGhpcztcblxuICAgICAgICAvLyBEaXNwYXRjaCBjbG9zZSBldmVudCAoY2FuY2VsYWJsZSlcbiAgICAgICAgY29uc3QgY2xvc2VFdmVudCA9IG5ldyBDdXN0b21FdmVudChTaXhPcmJpdC5ldnQoJ2FsZXJ0OmNsb3NlJyksIHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoY2xvc2VFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzOyAvLyBFdmVudCB3YXMgcHJldmVudGVkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgZWxlbWVudFxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG5cbiAgICAgICAgLy8gRGlzcGF0Y2ggY2xvc2VkIGV2ZW50XG4gICAgICAgIGNvbnN0IGNsb3NlZEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFNpeE9yYml0LmV2dCgnYWxlcnQ6Y2xvc2VkJyksIHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY2xvc2VkRXZlbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBjbG9zZSgpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZGlzbWlzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgYWxlcnQgdmFyaWFudCBhdCBydW50aW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRWYXJpYW50KHZhcmlhbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIC8vIFJlbW92ZSBvbGQgdmFyaWFudCBjbGFzc1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ2FsZXJ0JywgdGhpcy5fdmFyaWFudCkpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBhbmQgYWRkIG5ldyB2YXJpYW50XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ2FsZXJ0JywgdGhpcy5fdmFyaWFudCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSBhbGVydCBtZXNzYWdlIGF0IHJ1bnRpbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IG1lc3NhZ2U7XG5cbiAgICAgICAgY29uc3QgY29udGVudEVsID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke1NpeE9yYml0LmNscygnYWxlcnQtY29udGVudCcpfWApO1xuICAgICAgICBpZiAoY29udGVudEVsKSB7XG4gICAgICAgICAgICAvLyBLZWVwIHRpdGxlIGlmIGV4aXN0c1xuICAgICAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLl90aXRsZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxzdHJvbmc+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3RpdGxlKX08L3N0cm9uZz4gYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZXNjYXBlSHRtbChtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb290ZXIpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8aHI+JztcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdtYi0wJyl9XCI+JHt0aGlzLl9mb290ZXJ9PC9wPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZW50RWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSBhbGVydCB0aXRsZSBhdCBydW50aW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0VGl0bGUodGl0bGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XG5cbiAgICAgICAgY29uc3QgY29udGVudEVsID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke1NpeE9yYml0LmNscygnYWxlcnQtY29udGVudCcpfWApO1xuICAgICAgICBpZiAoY29udGVudEVsKSB7XG4gICAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHN0cm9uZz4ke3RoaXMuX2VzY2FwZUh0bWwodGl0bGUpfTwvc3Ryb25nPiBgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX21lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwodGhpcy5fbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9vdGVyKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPGhyPic7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCIke1NpeE9yYml0LmNscygnbWItMCcpfVwiPiR7dGhpcy5fZm9vdGVyfTwvcD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGVudEVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgYWxlcnQgaWNvbiBhdCBydW50aW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGljb25cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRJY29uKGljb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2ljb24gPSBpY29uO1xuXG4gICAgICAgIGNvbnN0IGljb25FbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtTaXhPcmJpdC5jbHMoJ2FsZXJ0LWljb24nKX0gLm1hdGVyaWFsLWljb25zYCk7XG4gICAgICAgIGlmIChpY29uRWwpIHtcbiAgICAgICAgICAgIGljb25FbC50ZXh0Q29udGVudCA9IGljb247XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgb3V0bGluZSBzdHlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdG9nZ2xlT3V0bGluZShlbmFibGUgPSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAoZW5hYmxlID09PSBudWxsKSB7XG4gICAgICAgICAgICBlbmFibGUgPSAhdGhpcy5fb3V0bGluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX291dGxpbmUgPSBlbmFibGU7XG5cbiAgICAgICAgaWYgKGVuYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdhbGVydC1vdXRsaW5lJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoU2l4T3JiaXQuY2xzKCdhbGVydC1vdXRsaW5lJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHNtYWxsIHNpemVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRvZ2dsZVNtYWxsKGVuYWJsZSA9IG51bGwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChlbmFibGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGVuYWJsZSA9ICF0aGlzLl9zbWFsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NtYWxsID0gZW5hYmxlO1xuXG4gICAgICAgIGlmIChlbmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygnYWxlcnQtc20nKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ2FsZXJ0LXNtJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYWxlcnQgaXMgdmlzaWJsZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzVmlzaWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudCAmJiB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IHZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFZhcmlhbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJpYW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpc3RlbiB0byBhbGVydCBjbG9zZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uQ2xvc2UoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oU2l4T3JiaXQuZXZ0KCdhbGVydDpjbG9zZScpLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIHRvIGFsZXJ0IGNsb3NlZCBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uQ2xvc2VkKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoU2l4T3JiaXQuZXZ0KCdhbGVydDpjbG9zZWQnKSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbmZpZyBFeHBvcnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gY29uZmlnXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcblxuICAgICAgICBjb25maWcudmFyaWFudCA9IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgIGlmICh0aGlzLl9tZXNzYWdlKSBjb25maWcubWVzc2FnZSA9IHRoaXMuX21lc3NhZ2U7XG4gICAgICAgIGlmICh0aGlzLl90aXRsZSkgY29uZmlnLnRpdGxlID0gdGhpcy5fdGl0bGU7XG4gICAgICAgIGlmICh0aGlzLl9pY29uKSBjb25maWcuaWNvbiA9IHRoaXMuX2ljb247XG4gICAgICAgIGlmICh0aGlzLl9kaXNtaXNzaWJsZSkgY29uZmlnLmRpc21pc3NpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9EaXNtaXNzID4gMCkgY29uZmlnLmF1dG9EaXNtaXNzID0gdGhpcy5fYXV0b0Rpc21pc3M7XG4gICAgICAgIGlmICh0aGlzLl9vdXRsaW5lKSBjb25maWcub3V0bGluZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9zbWFsbCkgY29uZmlnLnNtYWxsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2Zvb3RlcikgY29uZmlnLmZvb3RlciA9IHRoaXMuX2Zvb3RlcjtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWxlcnQ7XG5leHBvcnQgeyBBbGVydCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBCQURHRSBFTEVNRU5UXG4vLyBCYWRnZS9sYWJlbCBkaXNwbGF5XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogQmFkZ2UgLSBCYWRnZS9sYWJlbCBlbGVtZW50XG4gKi9cbmNsYXNzIEJhZGdlIGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktYmFkZ2UnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnYmFkZ2UnLFxuICAgICAgICB0YWdOYW1lOiAnc3BhbicsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSBjb25maWcudmFyaWFudCB8fCAncHJpbWFyeSc7XG4gICAgICAgIHRoaXMuX3RleHQgPSBjb25maWcudGV4dCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9zb2Z0ID0gY29uZmlnLnNvZnQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3BpbGwgPSBjb25maWcucGlsbCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNvbmZpZy5zaXplIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2ljb24gPSBjb25maWcuaWNvbiB8fCBudWxsO1xuICAgICAgICB0aGlzLl9kb3QgPSBjb25maWcuZG90IHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9sYWJlbCA9IGNvbmZpZy5sYWJlbCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9ocmVmID0gY29uZmlnLmhyZWYgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmFyaWFudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmFyaWFudCh2YXJpYW50KSB7XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKiogUHJpbWFyeSB2YXJpYW50ICovXG4gICAgcHJpbWFyeSgpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgncHJpbWFyeScpOyB9XG5cbiAgICAvKiogU2Vjb25kYXJ5IHZhcmlhbnQgKi9cbiAgICBzZWNvbmRhcnkoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3NlY29uZGFyeScpOyB9XG5cbiAgICAvKiogU3VjY2VzcyB2YXJpYW50ICovXG4gICAgc3VjY2VzcygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnc3VjY2VzcycpOyB9XG5cbiAgICAvKiogRGFuZ2VyIHZhcmlhbnQgKi9cbiAgICBkYW5nZXIoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2RhbmdlcicpOyB9XG5cbiAgICAvKiogV2FybmluZyB2YXJpYW50ICovXG4gICAgd2FybmluZygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnd2FybmluZycpOyB9XG5cbiAgICAvKiogSW5mbyB2YXJpYW50ICovXG4gICAgaW5mbygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnaW5mbycpOyB9XG5cbiAgICAvKiogTGlnaHQgdmFyaWFudCAqL1xuICAgIGxpZ2h0KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdsaWdodCcpOyB9XG5cbiAgICAvKiogRGFyayB2YXJpYW50ICovXG4gICAgZGFyaygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnZGFyaycpOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdGV4dCh0ZXh0KSB7XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgcGlsbCBzdHlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGlsbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHBpbGwocGlsbCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fcGlsbCA9IHBpbGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBzb2Z0IHN0eWxlIChsaWdodCBiYWNrZ3JvdW5kKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29mdFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNvZnQoc29mdCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fc29mdCA9IHNvZnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBzaXplXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpemVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaXplKHNpemUpIHtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNtYWxsIHNpemVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzbWFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSgnc20nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMYXJnZSBzaXplXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbGFyZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemUoJ2xnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGJhZGdlIGljb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWNvbiBNYXRlcmlhbCBJY29ucyBuYW1lXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvbihpY29uKSB7XG4gICAgICAgIHRoaXMuX2ljb24gPSBpY29uO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgZG90IHN0eWxlIChzdGF0dXMgaW5kaWNhdG9yKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZG90XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZG90KGRvdCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZG90ID0gZG90O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbGFiZWwgdGV4dCAoZGlzcGxheWVkIGFmdGVyIGRvdCBiYWRnZSlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBsYWJlbChsYWJlbCkge1xuICAgICAgICB0aGlzLl9sYWJlbCA9IGxhYmVsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIGJhZGdlIGEgbGlua1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBocmVmXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaHJlZihocmVmKSB7XG4gICAgICAgIHRoaXMuX2hyZWYgPSBocmVmO1xuICAgICAgICB0aGlzLl90YWdOYW1lID0gJ2EnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnYmFkZ2UnKSk7XG5cbiAgICAgICAgLy8gVmFyaWFudCBjbGFzczogc28tYmFkZ2Ute3ZhcmlhbnR9IG9yIHNvLWJhZGdlLXNvZnQte3ZhcmlhbnR9XG4gICAgICAgIGlmICh0aGlzLl9zb2Z0KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnYmFkZ2Utc29mdCcsIHRoaXMuX3ZhcmlhbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdiYWRnZScsIHRoaXMuX3ZhcmlhbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpemUgY2xhc3NcbiAgICAgICAgaWYgKHRoaXMuX3NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdiYWRnZScsIHRoaXMuX3NpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBpbGwgc3R5bGVcbiAgICAgICAgaWYgKHRoaXMuX3BpbGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdiYWRnZS1waWxsJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG90IHN0eWxlXG4gICAgICAgIGlmICh0aGlzLl9kb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdiYWRnZS1kb3QnKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICBpZiAodGhpcy5faHJlZikge1xuICAgICAgICAgICAgYXR0cnMuaHJlZiA9IHRoaXMuX2hyZWY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIC8vIERvdCBiYWRnZXMgaGF2ZSBubyB0ZXh0IGNvbnRlbnQgaW5zaWRlXG4gICAgICAgIGlmICh0aGlzLl9kb3QpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgLy8gSWNvblxuICAgICAgICBpZiAodGhpcy5faWNvbikge1xuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiIHN0eWxlPVwiZm9udC1zaXplOiAxNHB4OyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9pY29uKX08L3NwYW4+IGA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUZXh0XG4gICAgICAgIGlmICh0aGlzLl90ZXh0KSB7XG4gICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwodGhpcy5fdGV4dCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBlbGVtZW50XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGJhZGdlID0gc3VwZXIucmVuZGVyKCk7XG5cbiAgICAgICAgLy8gRm9yIGRvdCBiYWRnZXMgd2l0aCBsYWJlbCwgd3JhcCBpbiBjb250YWluZXIgd2l0aCBsYWJlbFxuICAgICAgICBpZiAodGhpcy5fZG90ICYmIHRoaXMuX2xhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2QtaW5saW5lLWZsZXgnKX0gJHtTaXhPcmJpdC5jbHMoJ2FsaWduLWl0ZW1zLWNlbnRlcicpfSAke1NpeE9yYml0LmNscygnZ2FwLTInKX1cIj4ke2JhZGdlfTxzcGFuPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9sYWJlbCl9PC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhZGdlO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEludGVyYWN0aXZpdHkgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRleHQgZHluYW1pY2FsbHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFRleHQodGV4dCkge1xuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMucmVuZGVyQ29udGVudCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IHRleHRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0VGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHZhcmlhbnQgZHluYW1pY2FsbHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFZhcmlhbnQodmFyaWFudCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gUmVtb3ZlIG9sZCB2YXJpYW50IGNsYXNzXG4gICAgICAgIGlmICh0aGlzLl9zb2Z0KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ2JhZGdlLXNvZnQnLCB0aGlzLl92YXJpYW50KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ2JhZGdlJywgdGhpcy5fdmFyaWFudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IG5ldyB2YXJpYW50XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSB2YXJpYW50O1xuXG4gICAgICAgIC8vIEFkZCBuZXcgdmFyaWFudCBjbGFzc1xuICAgICAgICBpZiAodGhpcy5fc29mdCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdiYWRnZS1zb2Z0JywgdGhpcy5fdmFyaWFudCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdiYWRnZScsIHRoaXMuX3ZhcmlhbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IHZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFZhcmlhbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJpYW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBzb2Z0IHN0eWxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdG9nZ2xlU29mdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIC8vIFJlbW92ZSBjdXJyZW50IHZhcmlhbnQgY2xhc3NcbiAgICAgICAgaWYgKHRoaXMuX3NvZnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygnYmFkZ2Utc29mdCcsIHRoaXMuX3ZhcmlhbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygnYmFkZ2UnLCB0aGlzLl92YXJpYW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUb2dnbGUgc29mdCBzdGF0ZVxuICAgICAgICB0aGlzLl9zb2Z0ID0gIXRoaXMuX3NvZnQ7XG5cbiAgICAgICAgLy8gQWRkIG5ldyB2YXJpYW50IGNsYXNzXG4gICAgICAgIGlmICh0aGlzLl9zb2Z0KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ2JhZGdlLXNvZnQnLCB0aGlzLl92YXJpYW50KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ2JhZGdlJywgdGhpcy5fdmFyaWFudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHBpbGwgc3R5bGVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB0b2dnbGVQaWxsKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgdGhpcy5fcGlsbCA9ICF0aGlzLl9waWxsO1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShTaXhPcmJpdC5jbHMoJ2JhZGdlLXBpbGwnKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHNpemUgZHluYW1pY2FsbHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2l6ZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFNpemUoc2l6ZSkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gUmVtb3ZlIG9sZCBzaXplIGNsYXNzXG4gICAgICAgIGlmICh0aGlzLl9zaXplKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ2JhZGdlJywgdGhpcy5fc2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IG5ldyBzaXplXG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuXG4gICAgICAgIC8vIEFkZCBuZXcgc2l6ZSBjbGFzc1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdiYWRnZScsIHRoaXMuX3NpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBpY29uIGR5bmFtaWNhbGx5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGljb25cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRJY29uKGljb24pIHtcbiAgICAgICAgdGhpcy5faWNvbiA9IGljb247XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBiYWRnZSBoYXMgc29mdCBzdHlsZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzU29mdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvZnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYmFkZ2UgaGFzIHBpbGwgc3R5bGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1BpbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IHNpemVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGNvbmZpZy52YXJpYW50ID0gdGhpcy5fdmFyaWFudDtcbiAgICAgICAgaWYgKHRoaXMuX3RleHQpIGNvbmZpZy50ZXh0ID0gdGhpcy5fdGV4dDtcbiAgICAgICAgaWYgKHRoaXMuX3NvZnQpIGNvbmZpZy5zb2Z0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3BpbGwpIGNvbmZpZy5waWxsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3NpemUpIGNvbmZpZy5zaXplID0gdGhpcy5fc2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuX2ljb24pIGNvbmZpZy5pY29uID0gdGhpcy5faWNvbjtcbiAgICAgICAgaWYgKHRoaXMuX2RvdCkgY29uZmlnLmRvdCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9sYWJlbCkgY29uZmlnLmxhYmVsID0gdGhpcy5fbGFiZWw7XG4gICAgICAgIGlmICh0aGlzLl9ocmVmKSBjb25maWcuaHJlZiA9IHRoaXMuX2hyZWY7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhZGdlO1xuZXhwb3J0IHsgQmFkZ2UgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQ0FSRCBFTEVNRU5UXG4vLyBDYXJkIGNvbnRhaW5lciB3aXRoIGhlYWRlci9ib2R5L2Zvb3RlclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgQ29udGFpbmVyRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvQ29udGFpbmVyRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG4vKipcbiAqIENhcmQgLSBDYXJkIGNvbnRhaW5lciBlbGVtZW50XG4gKi9cbmNsYXNzIENhcmQgZXh0ZW5kcyBDb250YWluZXJFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1jYXJkJztcblxuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgLi4uQ29udGFpbmVyRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2NhcmQnLFxuICAgICAgICB0YWdOYW1lOiAnZGl2JyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fdGl0bGUgPSBjb25maWcudGl0bGUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fc3VidGl0bGUgPSBjb25maWcuc3VidGl0bGUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fYm9keSA9IGNvbmZpZy5ib2R5IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2Zvb3RlciA9IGNvbmZpZy5mb290ZXIgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5faW1hZ2UgPSBjb25maWcuaW1hZ2UgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5faW1hZ2VQb3NpdGlvbiA9IGNvbmZpZy5pbWFnZVBvc2l0aW9uIHx8ICd0b3AnO1xuICAgICAgICB0aGlzLl9oZWFkZXJBY3Rpb25zID0gY29uZmlnLmhlYWRlckFjdGlvbnMgfHwgW107XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29udGVudCBDb25maWd1cmF0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGl0bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB0aXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB0aGlzLl91cGRhdGVDb250ZW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBzdWJ0aXRsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJ0aXRsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHN1YnRpdGxlKHN1YnRpdGxlKSB7XG4gICAgICAgIHRoaXMuX3N1YnRpdGxlID0gc3VidGl0bGU7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHRoaXMuX3VwZGF0ZUNvbnRlbnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGJvZHkgY29udGVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBib2R5XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYm9keShib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHkgPSBib2R5O1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB0aGlzLl91cGRhdGVDb250ZW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBmb290ZXIgY29udGVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb290ZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBmb290ZXIoZm9vdGVyKSB7XG4gICAgICAgIHRoaXMuX2Zvb3RlciA9IGZvb3RlcjtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkgdGhpcy5fdXBkYXRlQ29udGVudCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaW1hZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBvc2l0aW9uIC0gdG9wLCBib3R0b21cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpbWFnZShzcmMsIHBvc2l0aW9uID0gJ3RvcCcpIHtcbiAgICAgICAgdGhpcy5faW1hZ2UgPSBzcmM7XG4gICAgICAgIHRoaXMuX2ltYWdlUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkgdGhpcy5fdXBkYXRlQ29udGVudCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgaGVhZGVyIGFjdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gLSB7aWNvbiwgb25DbGljaywgdGl0bGV9XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWRkSGVhZGVyQWN0aW9uKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9oZWFkZXJBY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkgdGhpcy5fdXBkYXRlQ29udGVudCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBCb3JkZXIgQ29sb3IgVmFyaWFudHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBib3JkZXIgY29sb3IgdmFyaWFudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYW50IC0gcHJpbWFyeSwgc3VjY2VzcywgZGFuZ2VyLCBldGMuXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmFyaWFudCh2YXJpYW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKGBjYXJkLWJvcmRlci0ke3ZhcmlhbnR9YCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpbWFyeSBib3JkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBib3JkZXJQcmltYXJ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCdwcmltYXJ5Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3VjY2VzcyBib3JkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBib3JkZXJTdWNjZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCdzdWNjZXNzJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGFuZ2VyIGJvcmRlciBjb2xvclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGJvcmRlckRhbmdlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnZGFuZ2VyJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2FybmluZyBib3JkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBib3JkZXJXYXJuaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCd3YXJuaW5nJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5mbyBib3JkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBib3JkZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCdpbmZvJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2Vjb25kYXJ5IGJvcmRlciBjb2xvclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGJvcmRlclNlY29uZGFyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnc2Vjb25kYXJ5Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlnaHQgYm9yZGVyIGNvbG9yXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYm9yZGVyTGlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnQoJ2xpZ2h0Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGFyayBib3JkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBib3JkZXJEYXJrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCdkYXJrJyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gSGVhZGVyIENvbG9yIFZhcmlhbnRzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaGVhZGVyIGNvbG9yIHZhcmlhbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudCAtIHByaW1hcnksIHN1Y2Nlc3MsIGRhbmdlciwgZXRjLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc29mdCAtIFVzZSBzb2Z0L2xpZ2h0IHN0eWxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaGVhZGVyQ29sb3IodmFyaWFudCwgc29mdCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IHNvZnQgPyBgY2FyZC1oZWFkZXItc29mdC0ke3ZhcmlhbnR9YCA6IGBjYXJkLWhlYWRlci0ke3ZhcmlhbnR9YDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmltYXJ5IGhlYWRlciBjb2xvclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGhlYWRlclByaW1hcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLWhlYWRlci1wcmltYXJ5Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3VjY2VzcyBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJTdWNjZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcygnY2FyZC1oZWFkZXItc3VjY2VzcycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERhbmdlciBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJEYW5nZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLWhlYWRlci1kYW5nZXInKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXYXJuaW5nIGhlYWRlciBjb2xvclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGhlYWRlcldhcm5pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLWhlYWRlci13YXJuaW5nJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5mbyBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcygnY2FyZC1oZWFkZXItaW5mbycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlY29uZGFyeSBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJTZWNvbmRhcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLWhlYWRlci1zZWNvbmRhcnknKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWdodCBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJMaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2NhcmQtaGVhZGVyLWxpZ2h0Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGFyayBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJEYXJrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcygnY2FyZC1oZWFkZXItZGFyaycpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEhlYWRlciBDb2xvciBWYXJpYW50cyAoU29mdClcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNvZnQgcHJpbWFyeSBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJTb2Z0UHJpbWFyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2NhcmQtaGVhZGVyLXNvZnQtcHJpbWFyeScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvZnQgc3VjY2VzcyBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJTb2Z0U3VjY2VzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2NhcmQtaGVhZGVyLXNvZnQtc3VjY2VzcycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvZnQgZGFuZ2VyIGhlYWRlciBjb2xvclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGhlYWRlclNvZnREYW5nZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLWhlYWRlci1zb2Z0LWRhbmdlcicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvZnQgd2FybmluZyBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJTb2Z0V2FybmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2NhcmQtaGVhZGVyLXNvZnQtd2FybmluZycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvZnQgaW5mbyBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJTb2Z0SW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2NhcmQtaGVhZGVyLXNvZnQtaW5mbycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvZnQgc2Vjb25kYXJ5IGhlYWRlciBjb2xvclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGhlYWRlclNvZnRTZWNvbmRhcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLWhlYWRlci1zb2Z0LXNlY29uZGFyeScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvZnQgbGlnaHQgaGVhZGVyIGNvbG9yXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaGVhZGVyU29mdExpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcygnY2FyZC1oZWFkZXItc29mdC1saWdodCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvZnQgZGFyayBoZWFkZXIgY29sb3JcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkZXJTb2Z0RGFyaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2NhcmQtaGVhZGVyLXNvZnQtZGFyaycpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENhcmQgU3R5bGVzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCb3JkZXJlZCBzdHlsZSAoYm9yZGVyLCBubyBzaGFkb3cpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYm9yZGVyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLWJvcmRlcmVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdCBzdHlsZSAobm8gc2hhZG93LCBubyBib3JkZXIpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZmxhdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2NhcmQtZmxhdCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVsZXZhdGVkIHN0eWxlIChsYXJnZXIgc2hhZG93KVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGVsZXZhdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcygnY2FyZC1lbGV2YXRlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZGRlZCBzdHlsZSAoZGlyZWN0IHBhZGRpbmcgb24gY2FyZClcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBwYWRkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLXBhZGRlZCcpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNwYWNpbmcgTW9kZXNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbXBhY3Qgc3BhY2luZ1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNvbXBhY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLWNvbXBhY3QnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGFjaW91cyBzcGFjaW5nXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc3BhY2lvdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdjYXJkLXNwYWNpb3VzJyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gTGF5b3V0IE9wdGlvbnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEhvcml6b250YWwgbGF5b3V0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaG9yaXpvbnRhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2NhcmQtaG9yaXpvbnRhbCcpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEludGVyYWN0aXZpdHkgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgdGl0bGVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0VGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBzdWJ0aXRsZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICBnZXRTdWJ0aXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnRpdGxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IGJvZHlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0Qm9keSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgZm9vdGVyXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGdldEZvb3RlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvb3RlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgY29udGVudCBpbiBET01cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVDb250ZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IG5ld0NvbnRlbnQ7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Nlc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2NhcmQnKSk7XG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgLy8gSW1hZ2UgdG9wXG4gICAgICAgIGlmICh0aGlzLl9pbWFnZSAmJiB0aGlzLl9pbWFnZVBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgaHRtbCArPSBgPGltZyBzcmM9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5faW1hZ2UpfVwiIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NhcmQtaW1nLXRvcCcpfVwiIGFsdD1cIlwiPmA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIZWFkZXIgKHRpdGxlL3N1YnRpdGxlKVxuICAgICAgICBpZiAodGhpcy5fdGl0bGUgfHwgdGhpcy5faGVhZGVyQWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NhcmQtaGVhZGVyJyl9XCI+YDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2hlYWRlckFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZC1mbGV4Jyl9ICR7U2l4T3JiaXQuY2xzKCdqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbicpfSAke1NpeE9yYml0LmNscygnYWxpZ24taXRlbXMtY2VudGVyJyl9XCI+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8ZGl2PmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl90aXRsZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxoNSBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjYXJkLXRpdGxlJyl9ICR7U2l4T3JiaXQuY2xzKCdtYi0wJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3RpdGxlKX08L2g1PmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fc3VidGl0bGUpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8aDYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2FyZC1zdWJ0aXRsZScpfSAke1NpeE9yYml0LmNscygndGV4dC1tdXRlZCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9zdWJ0aXRsZSl9PC9oNj5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5faGVhZGVyQWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPC9kaXY+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NhcmQtaGVhZGVyLWFjdGlvbnMnKX1cIj5gO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hlYWRlckFjdGlvbnMuZm9yRWFjaChhY3Rpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9IGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdidG4nKX0gJHtTaXhPcmJpdC5jbHMoJ2J0bi1zbScpfSAke1NpeE9yYml0LmNscygnYnRuLWxpbmsnKX1cIiB0aXRsZT1cIiR7dGhpcy5fZXNjYXBlSHRtbChhY3Rpb24udGl0bGUgfHwgJycpfVwiPmA7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RoaXMuX2VzY2FwZUh0bWwoYWN0aW9uLmljb24pfTwvc3Bhbj5gO1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9IGA8L2J1dHRvbj5gO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDwvZGl2PjwvZGl2PmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCb2R5XG4gICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2FyZC1ib2R5Jyl9XCI+YDtcblxuICAgICAgICAvLyBUaXRsZSBpbiBib2R5IChpZiBubyBoZWFkZXIpXG4gICAgICAgIGlmICghdGhpcy5fdGl0bGUgJiYgdGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgLy8gSnVzdCBjb250ZW50XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCb2R5IGNvbnRlbnRcbiAgICAgICAgaWYgKHRoaXMuX2JvZHkpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NhcmQtdGV4dCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9ib2R5KX08L3A+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlciBjaGlsZHJlblxuICAgICAgICBodG1sICs9IHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcblxuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgICAgIC8vIEltYWdlIGJvdHRvbVxuICAgICAgICBpZiAodGhpcy5faW1hZ2UgJiYgdGhpcy5faW1hZ2VQb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxpbWcgc3JjPVwiJHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX2ltYWdlKX1cIiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjYXJkLWltZy1ib3R0b20nKX1cIiBhbHQ9XCJcIj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9vdGVyXG4gICAgICAgIGlmICh0aGlzLl9mb290ZXIpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2FyZC1mb290ZXInKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fZm9vdGVyKX08L2Rpdj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl90aXRsZSkgY29uZmlnLnRpdGxlID0gdGhpcy5fdGl0bGU7XG4gICAgICAgIGlmICh0aGlzLl9zdWJ0aXRsZSkgY29uZmlnLnN1YnRpdGxlID0gdGhpcy5fc3VidGl0bGU7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5KSBjb25maWcuYm9keSA9IHRoaXMuX2JvZHk7XG4gICAgICAgIGlmICh0aGlzLl9mb290ZXIpIGNvbmZpZy5mb290ZXIgPSB0aGlzLl9mb290ZXI7XG4gICAgICAgIGlmICh0aGlzLl9pbWFnZSkge1xuICAgICAgICAgICAgY29uZmlnLmltYWdlID0gdGhpcy5faW1hZ2U7XG4gICAgICAgICAgICBpZiAodGhpcy5faW1hZ2VQb3NpdGlvbiAhPT0gJ3RvcCcpIGNvbmZpZy5pbWFnZVBvc2l0aW9uID0gdGhpcy5faW1hZ2VQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGVhZGVyQWN0aW9ucy5sZW5ndGggPiAwKSBjb25maWcuaGVhZGVyQWN0aW9ucyA9IHRoaXMuX2hlYWRlckFjdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG5leHBvcnQgeyBDYXJkIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIE1PREFMIEVMRU1FTlRcbi8vIE1vZGFsIGRpYWxvZyB3aXRoIHNob3cvaGlkZSBmdW5jdGlvbmFsaXR5XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Db250YWluZXJFbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogTW9kYWwgLSBNb2RhbCBkaWFsb2cgZWxlbWVudFxuICpcbiAqIENyZWF0ZXMgbW9kYWwgZGlhbG9ncyB3aXRoIGhlYWRlciwgYm9keSwgYW5kIGZvb3RlciBzZWN0aW9ucy5cbiAqIEdlbmVyYXRlcyBwcm9wZXIgLnNvLW1vZGFsIHN0cnVjdHVyZSBtYXRjaGluZyBDU1MgZnJhbWV3b3JrLlxuICovXG5jbGFzcyBNb2RhbCBleHRlbmRzIENvbnRhaW5lckVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLW1vZGFsJztcblxuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgLi4uQ29udGFpbmVyRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ21vZGFsJyxcbiAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX3RpdGxlID0gY29uZmlnLnRpdGxlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2Zvb3RlckJ1dHRvbnMgPSBjb25maWcuZm9vdGVyQnV0dG9ucyB8fCBbXTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNvbmZpZy5zaXplIHx8ICdtZCc7XG4gICAgICAgIHRoaXMuX3Njcm9sbGFibGUgPSBjb25maWcuc2Nyb2xsYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2VudGVyZWQgPSBjb25maWcuY2VudGVyZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXRpY0JhY2tkcm9wID0gY29uZmlnLnN0YXRpY0JhY2tkcm9wIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9zaG93Q2xvc2UgPSBjb25maWcuc2hvd0Nsb3NlICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQgPSBjb25maWcua2V5Ym9hcmQgIT09IGZhbHNlO1xuICAgICAgICB0aGlzLl9mb2N1cyA9IGNvbmZpZy5mb2N1cyAhPT0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29udGVudCBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbW9kYWwgdGl0bGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB0aXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgZm9vdGVyIGJ1dHRvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhcmlhbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRpc21pc3NcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFkZEJ1dHRvbih0ZXh0LCB2YXJpYW50ID0gJ3NlY29uZGFyeScsIGRpc21pc3MgPSBmYWxzZSwgYXR0cmlidXRlcyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2Zvb3RlckJ1dHRvbnMucHVzaCh7XG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgdmFyaWFudCxcbiAgICAgICAgICAgIGRpc21pc3MsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGNsb3NlIGJ1dHRvbiB0byBmb290ZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNsb3NlQnV0dG9uKHRleHQgPSAnQ2xvc2UnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZEJ1dHRvbih0ZXh0LCAnc2Vjb25kYXJ5JywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIHNhdmUvc3VibWl0IGJ1dHRvbiB0byBmb290ZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2F2ZUJ1dHRvbih0ZXh0ID0gJ1NhdmUnLCB2YXJpYW50ID0gJ3ByaW1hcnknKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZEJ1dHRvbih0ZXh0LCB2YXJpYW50LCBmYWxzZSwgeyB0eXBlOiAnc3VibWl0JyB9KTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTaXplIE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBtb2RhbCBzaXplXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpemUgLSBzbXxtZHxsZ3x4bHxmdWxsc2NyZWVuXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOm1vZGFsOnNpemVDaGFuZ2VkJywgeyBzaXplIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbWFsbCBtb2RhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNtYWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplKCdzbScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExhcmdlIG1vZGFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbGFyZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemUoJ2xnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmEgbGFyZ2UgbW9kYWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBleHRyYUxhcmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplKCd4bCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bGxzY3JlZW4gbW9kYWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBmdWxsc2NyZWVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplKCdmdWxsc2NyZWVuJyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQmVoYXZpb3IgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogTWFrZSBtb2RhbCBzY3JvbGxhYmxlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzY3JvbGxhYmxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2Nyb2xsYWJsZShzY3JvbGxhYmxlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9zY3JvbGxhYmxlID0gc2Nyb2xsYWJsZTtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzptb2RhbDpzY3JvbGxhYmxlQ2hhbmdlZCcsIHsgc2Nyb2xsYWJsZSB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2VudGVyIG1vZGFsIHZlcnRpY2FsbHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNlbnRlcmVkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY2VudGVyZWQoY2VudGVyZWQgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2NlbnRlcmVkID0gY2VudGVyZWQ7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bW9kYWw6Y2VudGVyZWRDaGFuZ2VkJywgeyBjZW50ZXJlZCB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlIHN0YXRpYyBiYWNrZHJvcFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGljQmFja2Ryb3BcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzdGF0aWNCYWNrZHJvcChzdGF0aWNCYWNrZHJvcCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fc3RhdGljQmFja2Ryb3AgPSBzdGF0aWNCYWNrZHJvcDtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzptb2RhbDpzdGF0aWNCYWNrZHJvcENoYW5nZWQnLCB7IHN0YXRpY0JhY2tkcm9wIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIGNsb3NlIGJ1dHRvblxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGhpZGVDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fc2hvd0Nsb3NlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bW9kYWw6Y2xvc2VCdXR0b25DaGFuZ2VkJywgeyBzaG93Q2xvc2U6IGZhbHNlIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIGtleWJvYXJkIGNsb3NlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbm9LZXlib2FyZCgpIHtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzptb2RhbDprZXlib2FyZENoYW5nZWQnLCB7IGtleWJvYXJkOiBmYWxzZSB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSBmb2N1c1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG5vRm9jdXMoKSB7XG4gICAgICAgIHRoaXMuX2ZvY3VzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bW9kYWw6Zm9jdXNDaGFuZ2VkJywgeyBmb2N1czogZmFsc2UgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIER5bmFtaWMgVXBkYXRlIE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aXRsZSBkeW5hbWljYWxseVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZUVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNpeE9yYml0LnNlbCgnbW9kYWwtdGl0bGUnKSk7XG4gICAgICAgICAgICBpZiAodGl0bGVFbCkge1xuICAgICAgICAgICAgICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOm1vZGFsOnRpdGxlQ2hhbmdlZCcsIHsgdGl0bGUgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBib2R5IGNvbnRlbnQgZHluYW1pY2FsbHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldEJvZHkoY29udGVudCkge1xuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgYm9keUVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNpeE9yYml0LnNlbCgnbW9kYWwtYm9keScpKTtcbiAgICAgICAgICAgIGlmIChib2R5RWwpIHtcbiAgICAgICAgICAgICAgICBib2R5RWwuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOm1vZGFsOmJvZHlDaGFuZ2VkJywgeyBjb250ZW50IH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYnV0dG9uIGR5bmFtaWNhbGx5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzbWlzc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWRkQnV0dG9uRHluYW1pYyh0ZXh0LCB2YXJpYW50ID0gJ3NlY29uZGFyeScsIGRpc21pc3MgPSBmYWxzZSwgYXR0cmlidXRlcyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2Zvb3RlckJ1dHRvbnMucHVzaCh7IHRleHQsIHZhcmlhbnQsIGRpc21pc3MsIGF0dHJpYnV0ZXMgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvb3RlckVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNpeE9yYml0LnNlbCgnbW9kYWwtZm9vdGVyJykpO1xuICAgICAgICAgICAgaWYgKGZvb3RlckVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IGAke1NpeE9yYml0LmNscygnYnRuJyl9ICR7U2l4T3JiaXQuY2xzKCdidG4tJyArIHZhcmlhbnQpfWA7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcblxuICAgICAgICAgICAgICAgIGlmIChkaXNtaXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzbWlzcycsICdtb2RhbCcpO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmhpZGUoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBmb290ZXJFbC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzptb2RhbDpidXR0b25BZGRlZCcsIHsgdGV4dCwgdmFyaWFudCwgZGlzbWlzcyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIGZvb3RlciBidXR0b25zIGR5bmFtaWNhbGx5XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY2xlYXJCdXR0b25zKCkge1xuICAgICAgICB0aGlzLl9mb290ZXJCdXR0b25zID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvb3RlckVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNpeE9yYml0LnNlbCgnbW9kYWwtZm9vdGVyJykpO1xuICAgICAgICAgICAgaWYgKGZvb3RlckVsKSB7XG4gICAgICAgICAgICAgICAgZm9vdGVyRWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOm1vZGFsOmJ1dHRvbnNDbGVhcmVkJyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEdldHRlcnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdldCBtb2RhbCB0aXRsZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICBnZXRUaXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBmb290ZXIgYnV0dG9uc1xuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRCdXR0b25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9vdGVyQnV0dG9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc2l6ZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHNjcm9sbGFibGUgc3RhdGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1Njcm9sbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxhYmxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjZW50ZXJlZCBzdGF0ZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzQ2VudGVyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc3RhdGljIGJhY2tkcm9wIHN0YXRlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzU3RhdGljQmFja2Ryb3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0aWNCYWNrZHJvcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBtb2RhbCBpcyB2aXNpYmxlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXNWaXNpYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudD8uY2xhc3NMaXN0LmNvbnRhaW5zKFNpeE9yYml0LmNscygnc2hvdycpKSB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBFdmVudCBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBBZGQgc2hvdyBldmVudCBsaXN0ZW5lclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25TaG93KGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uKCdzbzptb2RhbDpzaG93JywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBzaG93biBldmVudCBsaXN0ZW5lciAoYWZ0ZXIgYW5pbWF0aW9uKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25TaG93bihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignc286bW9kYWw6c2hvd24nLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGhpZGUgZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uSGlkZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignc286bW9kYWw6aGlkZScsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgaGlkZGVuIGV2ZW50IGxpc3RlbmVyIChhZnRlciBhbmltYXRpb24pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvbkhpZGRlbihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignc286bW9kYWw6aGlkZGVuJywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBkaXNtaXNzIGV2ZW50IGxpc3RlbmVyICh3aGVuIHVzZXIgY2FuY2Vscy9jbG9zZXMpXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvbkRpc21pc3MoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oJ3NvOm1vZGFsOmRpc21pc3MnLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBjdXN0b20gZXZlbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRldGFpbFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RyaWdnZXJFdmVudChldmVudE5hbWUsIGRldGFpbCA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICAgICAgICAgICAgICBkZXRhaWw6IHsgLi4uZGV0YWlsLCBtb2RhbDogdGhpcyB9LFxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgQ1NTIGNsYXNzZXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGJ1aWxkQ2xhc3NTdHJpbmcoKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdtb2RhbCcpKTtcblxuICAgICAgICAvLyBTaXplIGNsYXNzZXMgb24gb3V0ZXIgbW9kYWxcbiAgICAgICAgaWYgKHRoaXMuX3NpemUgIT09ICdtZCcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaXplID09PSAnZnVsbHNjcmVlbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnbW9kYWwtZnVsbHNjcmVlbicpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ21vZGFsLScgKyB0aGlzLl9zaXplKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY3JvbGxhYmxlIG9uIG91dGVyIG1vZGFsXG4gICAgICAgIGlmICh0aGlzLl9zY3JvbGxhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnbW9kYWwtc2Nyb2xsYWJsZScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuXG4gICAgICAgIGF0dHJzLnRhYmluZGV4ID0gJy0xJztcbiAgICAgICAgYXR0cnNbJ2FyaWEtaGlkZGVuJ10gPSAndHJ1ZSc7XG4gICAgICAgIGF0dHJzLnJvbGUgPSAnZGlhbG9nJztcblxuICAgICAgICBpZiAodGhpcy5fdGl0bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsSWQgPSAodGhpcy5faWQgfHwgJ21vZGFsJykgKyAnLWxhYmVsJztcbiAgICAgICAgICAgIGF0dHJzWydhcmlhLWxhYmVsbGVkYnknXSA9IGxhYmVsSWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc3RhdGljQmFja2Ryb3ApIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ2JhY2tkcm9wJyldID0gJ3N0YXRpYyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2tleWJvYXJkKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdrZXlib2FyZCcpXSA9ICdmYWxzZSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2ZvY3VzKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdmb2N1cycpXSA9ICdmYWxzZSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBkaWFsb2dDbGFzcyA9IFNpeE9yYml0LmNscygnbW9kYWwtZGlhbG9nJyk7XG5cbiAgICAgICAgLy8gQ2VudGVyZWQgZGlhbG9nIG1vZGlmaWVyXG4gICAgICAgIGlmICh0aGlzLl9jZW50ZXJlZCkge1xuICAgICAgICAgICAgZGlhbG9nQ2xhc3MgKz0gJyAnICsgU2l4T3JiaXQuY2xzKCdtb2RhbC1kaWFsb2ctY2VudGVyZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke2RpYWxvZ0NsYXNzfVwiPmA7XG5cbiAgICAgICAgLy8gSGVhZGVyXG4gICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVySGVhZGVyKCk7XG5cbiAgICAgICAgLy8gQm9keVxuICAgICAgICBodG1sICs9IHRoaXMuX3JlbmRlckJvZHkoKTtcblxuICAgICAgICAvLyBGb290ZXJcbiAgICAgICAgaWYgKHRoaXMuX2Zvb3RlckJ1dHRvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9yZW5kZXJGb290ZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG1vZGFsIGhlYWRlclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVuZGVySGVhZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RpdGxlICYmICF0aGlzLl9zaG93Q2xvc2UpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnbW9kYWwtaGVhZGVyJyl9XCI+YDtcblxuICAgICAgICBpZiAodGhpcy5fdGl0bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsSWQgPSAodGhpcy5faWQgfHwgJ21vZGFsJykgKyAnLWxhYmVsJztcbiAgICAgICAgICAgIGh0bWwgKz0gYDxoNSBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdtb2RhbC10aXRsZScpfVwiIGlkPVwiJHt0aGlzLl9lc2NhcGVIdG1sKGxhYmVsSWQpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl90aXRsZSl9PC9oNT5gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3dDbG9zZSkge1xuICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdtb2RhbC1jbG9zZScpfVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG9zZTwvc3Bhbj4nO1xuICAgICAgICAgICAgaHRtbCArPSAnPC9idXR0b24+JztcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG1vZGFsIGJvZHlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlckJvZHkoKSB7XG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnbW9kYWwtYm9keScpfVwiPmA7XG4gICAgICAgIGh0bWwgKz0gdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBtb2RhbCBmb290ZXJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlckZvb3RlcigpIHtcbiAgICAgICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdtb2RhbC1mb290ZXInKX1cIj5gO1xuXG4gICAgICAgIHRoaXMuX2Zvb3RlckJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICAgICAgY29uc3QgYnRuQ2xhc3MgPSBgJHtTaXhPcmJpdC5jbHMoJ2J0bicpfSAke1NpeE9yYml0LmNscygnYnRuLScgKyAoYnV0dG9uLnZhcmlhbnQgfHwgJ3NlY29uZGFyeScpKX1gO1xuICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBidXR0b24uYXR0cmlidXRlcyB8fCB7fTtcblxuICAgICAgICAgICAgbGV0IGF0dHJTdHIgPSBgY2xhc3M9XCIke2J0bkNsYXNzfVwiYDtcblxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5kaXNtaXNzKSB7XG4gICAgICAgICAgICAgICAgYXR0clN0ciArPSAnIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCInO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhhdHRycykuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIGF0dHJTdHIgKz0gYCAke3RoaXMuX2VzY2FwZUh0bWwobmFtZSl9PVwiJHt0aGlzLl9lc2NhcGVIdG1sKHZhbHVlKX1cImA7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiAke2F0dHJTdHJ9PiR7dGhpcy5fZXNjYXBlSHRtbChidXR0b24udGV4dCl9PC9idXR0b24+YDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBNb2RhbCBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSBtb2RhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNob3coKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmlnZ2VyIHNob3cgZXZlbnQgKGNhbmNlbGFibGUpXG4gICAgICAgIGNvbnN0IHNob3dFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnc286bW9kYWw6c2hvdycsIHtcbiAgICAgICAgICAgIGRldGFpbDogeyBtb2RhbDogdGhpcyB9LFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmRpc3BhdGNoRXZlbnQoc2hvd0V2ZW50KTtcblxuICAgICAgICBpZiAoc2hvd0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygnc2hvdycpKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ21vZGFsLW9wZW4nKSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGJhY2tkcm9wXG4gICAgICAgIGlmICghdGhpcy5fc3RhdGljQmFja2Ryb3AgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU2l4T3JiaXQuc2VsKCdtb2RhbC1iYWNrZHJvcCcpKSkge1xuICAgICAgICAgICAgY29uc3QgYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGJhY2tkcm9wLmNsYXNzTmFtZSA9IGAke1NpeE9yYml0LmNscygnbW9kYWwtYmFja2Ryb3AnKX0gJHtTaXhPcmJpdC5jbHMoJ3Nob3cnKX1gO1xuICAgICAgICAgICAgYmFja2Ryb3AuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9zdGF0aWNCYWNrZHJvcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYmFja2Ryb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9jdXMgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnRcbiAgICAgICAgaWYgKHRoaXMuX2ZvY3VzKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb2N1c2FibGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LCBidXR0b24sIHRleHRhcmVhLCBzZWxlY3QsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKScpO1xuICAgICAgICAgICAgICAgIGlmIChmb2N1c2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNhYmxlLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyaWdnZXIgc2hvd24gZXZlbnQgKGFmdGVyIGFuaW1hdGlvbilcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOm1vZGFsOnNob3duJyk7XG4gICAgICAgIH0sIDE1MCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZSB0aGUgbW9kYWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoaWRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJpZ2dlciBoaWRlIGV2ZW50IChjYW5jZWxhYmxlKVxuICAgICAgICBjb25zdCBoaWRlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3NvOm1vZGFsOmhpZGUnLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHsgbW9kYWw6IHRoaXMgfSxcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5kaXNwYXRjaEV2ZW50KGhpZGVFdmVudCk7XG5cbiAgICAgICAgaWYgKGhpZGVFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ3Nob3cnKSk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ21vZGFsLW9wZW4nKSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGJhY2tkcm9wXG4gICAgICAgIGNvbnN0IGJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTaXhPcmJpdC5zZWwoJ21vZGFsLWJhY2tkcm9wJykpO1xuICAgICAgICBpZiAoYmFja2Ryb3ApIHtcbiAgICAgICAgICAgIGJhY2tkcm9wLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJpZ2dlciBkaXNtaXNzIGV2ZW50XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bW9kYWw6ZGlzbWlzcycpO1xuXG4gICAgICAgIC8vIEhpZGUgYWZ0ZXIgYW5pbWF0aW9uXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzptb2RhbDpoaWRkZW4nKTtcbiAgICAgICAgfSwgMTUwKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIG1vZGFsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdG9nZ2xlKCkge1xuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIHRoZSBtb2RhbCAoY2xlYW51cClcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcblxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bW9kYWw6ZGlzcG9zZWQnKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RpdGxlKSBjb25maWcudGl0bGUgPSB0aGlzLl90aXRsZTtcbiAgICAgICAgaWYgKHRoaXMuX2Zvb3RlckJ1dHRvbnMubGVuZ3RoID4gMCkgY29uZmlnLmZvb3RlckJ1dHRvbnMgPSB0aGlzLl9mb290ZXJCdXR0b25zO1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSAhPT0gJ21kJykgY29uZmlnLnNpemUgPSB0aGlzLl9zaXplO1xuICAgICAgICBpZiAodGhpcy5fc2Nyb2xsYWJsZSkgY29uZmlnLnNjcm9sbGFibGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fY2VudGVyZWQpIGNvbmZpZy5jZW50ZXJlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0aWNCYWNrZHJvcCkgY29uZmlnLnN0YXRpY0JhY2tkcm9wID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9zaG93Q2xvc2UpIGNvbmZpZy5zaG93Q2xvc2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLl9rZXlib2FyZCkgY29uZmlnLmtleWJvYXJkID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5fZm9jdXMpIGNvbmZpZy5mb2N1cyA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RhbDtcbmV4cG9ydCB7IE1vZGFsIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gUFJPR1JFU1MgRUxFTUVOVFxuLy8gQ29tcHJlaGVuc2l2ZSBwcm9ncmVzcyBpbmRpY2F0b3JzIHdpdGggbGluZWFyIGFuZCBjaXJjdWxhciB2YXJpYW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbmNsYXNzIFByb2dyZXNzIGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktcHJvZ3Jlc3MnO1xuICAgIHN0YXRpYyBERUZBVUxUUyA9IHsgLi4uRWxlbWVudC5ERUZBVUxUUywgdHlwZTogJ3Byb2dyZXNzJywgdGFnTmFtZTogJ2RpdicgfTtcbiAgICBzdGF0aWMgaW5zdGFuY2VzID0gbmV3IE1hcCgpO1xuXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NUeXBlID0gY29uZmlnLnByb2dyZXNzVHlwZSB8fCAnbGluZWFyJztcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBjb25maWcudmFsdWUgPz8gMDtcbiAgICAgICAgdGhpcy5fbWluID0gY29uZmlnLm1pbiA/PyAwO1xuICAgICAgICB0aGlzLl9tYXggPSBjb25maWcubWF4ID8/IDEwMDtcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjb25maWcuY29sb3IgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNvbmZpZy5zaXplIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3Nob3dMYWJlbCA9IGNvbmZpZy5zaG93TGFiZWwgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2xhYmVsVGV4dCA9IGNvbmZpZy5sYWJlbFRleHQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fc3RyaXBlZCA9IGNvbmZpZy5zdHJpcGVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9hbmltYXRlZCA9IGNvbmZpZy5hbmltYXRlZCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5faW5kZXRlcm1pbmF0ZSA9IGNvbmZpZy5pbmRldGVybWluYXRlIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9idWZmZXJWYWx1ZSA9IGNvbmZpZy5idWZmZXJWYWx1ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9ncmFkaWVudCA9IGNvbmZpZy5ncmFkaWVudCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9zZWdtZW50cyA9IGNvbmZpZy5zZWdtZW50cyB8fCBbXTtcbiAgICAgICAgdGhpcy5fc3RlcHMgPSBjb25maWcuc3RlcHMgfHwgW107XG4gICAgICAgIHRoaXMuX2V4dGVybmFsTGFiZWwgPSBjb25maWcuZXh0ZXJuYWxMYWJlbCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9vblByb2dyZXNzID0gY29uZmlnLm9uUHJvZ3Jlc3MgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmF0aW9uIEFQSVxuICAgIGxpbmVhcigpIHsgdGhpcy5fcHJvZ3Jlc3NUeXBlID0gJ2xpbmVhcic7IHJldHVybiB0aGlzOyB9XG4gICAgY2lyY3VsYXIoKSB7IHRoaXMuX3Byb2dyZXNzVHlwZSA9ICdjaXJjdWxhcic7IHJldHVybiB0aGlzOyB9XG4gICAgdmFsdWUodikgeyB0aGlzLl92YWx1ZSA9IHY7IHJldHVybiB0aGlzOyB9XG4gICAgbWF4KG0pIHsgdGhpcy5fbWF4ID0gbTsgcmV0dXJuIHRoaXM7IH1cbiAgICBtaW4obSkgeyB0aGlzLl9taW4gPSBtOyByZXR1cm4gdGhpczsgfVxuICAgIGNvbG9yKGMpIHsgdGhpcy5fY29sb3IgPSBjOyByZXR1cm4gdGhpczsgfVxuICAgIHByaW1hcnkoKSB7IHJldHVybiB0aGlzLmNvbG9yKCdwcmltYXJ5Jyk7IH1cbiAgICBzZWNvbmRhcnkoKSB7IHJldHVybiB0aGlzLmNvbG9yKCdzZWNvbmRhcnknKTsgfVxuICAgIHN1Y2Nlc3MoKSB7IHJldHVybiB0aGlzLmNvbG9yKCdzdWNjZXNzJyk7IH1cbiAgICBkYW5nZXIoKSB7IHJldHVybiB0aGlzLmNvbG9yKCdkYW5nZXInKTsgfVxuICAgIHdhcm5pbmcoKSB7IHJldHVybiB0aGlzLmNvbG9yKCd3YXJuaW5nJyk7IH1cbiAgICBpbmZvKCkgeyByZXR1cm4gdGhpcy5jb2xvcignaW5mbycpOyB9XG4gICAgbGlnaHQoKSB7IHJldHVybiB0aGlzLmNvbG9yKCdsaWdodCcpOyB9XG4gICAgZGFyaygpIHsgcmV0dXJuIHRoaXMuY29sb3IoJ2RhcmsnKTsgfVxuICAgIHNpemUocykgeyB0aGlzLl9zaXplID0gczsgcmV0dXJuIHRoaXM7IH1cbiAgICBleHRyYVNtYWxsKCkgeyByZXR1cm4gdGhpcy5zaXplKCd4cycpOyB9XG4gICAgc21hbGwoKSB7IHJldHVybiB0aGlzLnNpemUoJ3NtJyk7IH1cbiAgICBsYXJnZSgpIHsgcmV0dXJuIHRoaXMuc2l6ZSgnbGcnKTsgfVxuICAgIGV4dHJhTGFyZ2UoKSB7IHJldHVybiB0aGlzLnNpemUoJ3hsJyk7IH1cbiAgICBzaG93TGFiZWwoc2hvdyA9IHRydWUsIHRleHQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3Nob3dMYWJlbCA9IHNob3c7XG4gICAgICAgIGlmICh0ZXh0KSB0aGlzLl9sYWJlbFRleHQgPSB0ZXh0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RyaXBlZChzID0gdHJ1ZSkgeyB0aGlzLl9zdHJpcGVkID0gczsgcmV0dXJuIHRoaXM7IH1cbiAgICBhbmltYXRlZChhID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9hbmltYXRlZCA9IGE7XG4gICAgICAgIGlmIChhKSB0aGlzLl9zdHJpcGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGluZGV0ZXJtaW5hdGUoaSA9IHRydWUpIHsgdGhpcy5faW5kZXRlcm1pbmF0ZSA9IGk7IHJldHVybiB0aGlzOyB9XG4gICAgYnVmZmVyKHZhbCkgeyB0aGlzLl9idWZmZXJWYWx1ZSA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBncmFkaWVudCh2YXJpYW50ID0gbnVsbCkgeyB0aGlzLl9ncmFkaWVudCA9IHZhcmlhbnQgfHwgJ2dyYWRpZW50JzsgcmV0dXJuIHRoaXM7IH1cbiAgICBzZWdtZW50KHZhbHVlLCBjb2xvciwgbGFiZWwgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2goeyB2YWx1ZSwgY29sb3IsIGxhYmVsIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RlcChhY3RpdmUgPSBmYWxzZSwgcGFydGlhbCA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5fc3RlcHMucHVzaCh7IGFjdGl2ZSwgcGFydGlhbCB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGV4dGVybmFsTGFiZWwodGl0bGUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2V4dGVybmFsTGFiZWwgPSB7IHRpdGxlLCB2YWx1ZSB9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb25Qcm9ncmVzcyhjYWxsYmFjaykgeyB0aGlzLl9vblByb2dyZXNzID0gY2FsbGJhY2s7IHJldHVybiB0aGlzOyB9XG5cbiAgICBfY2FsY3VsYXRlUGVyY2VudCh2YWwgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHYgPSB2YWwgIT09IG51bGwgPyB2YWwgOiB0aGlzLl92YWx1ZTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLl9tYXggLSB0aGlzLl9taW47XG4gICAgICAgIHJldHVybiByYW5nZSA+IDAgPyAoKHYgLSB0aGlzLl9taW4pIC8gcmFuZ2UpICogMTAwIDogMDtcbiAgICB9XG5cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NUeXBlID09PSAnY2lyY3VsYXInKSB7XG4gICAgICAgICAgICBsZXQgY2xzID0gU2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1jaXJjdWxhcicpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NpemUpIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1jaXJjdWxhcicsIHRoaXMuX3NpemUpfWA7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29sb3IpIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1jaXJjdWxhcicsIHRoaXMuX2NvbG9yKX1gO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV0ZXJtaW5hdGUpIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1jaXJjdWxhci1pbmRldGVybWluYXRlJyl9YDtcbiAgICAgICAgICAgIHJldHVybiBjbHMgKyAodGhpcy5fY2xhc3NlcyA/ICcgJyArIHRoaXMuX2NsYXNzZXMgOiAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2xzID0gU2l4T3JiaXQuY2xzKCdwcm9ncmVzcycpO1xuICAgICAgICBpZiAodGhpcy5fY29sb3IpIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcycsIHRoaXMuX2NvbG9yKX1gO1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkgY2xzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ3Byb2dyZXNzJywgdGhpcy5fc2l6ZSl9YDtcbiAgICAgICAgaWYgKHRoaXMuX3N0cmlwZWQpIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1zdHJpcGVkJyl9YDtcbiAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGVkKSBjbHMgKz0gYCAke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtYW5pbWF0ZWQnKX1gO1xuICAgICAgICBpZiAodGhpcy5faW5kZXRlcm1pbmF0ZSkgY2xzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ3Byb2dyZXNzLWluZGV0ZXJtaW5hdGUnKX1gO1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyVmFsdWUgIT09IG51bGwpIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1idWZmZXInKX1gO1xuICAgICAgICBpZiAodGhpcy5fc2VnbWVudHMubGVuZ3RoKSBjbHMgKz0gYCAke1NpeE9yYml0LmNscygncHJvZ3Jlc3Mtc3RhY2tlZCcpfWA7XG4gICAgICAgIGlmICh0aGlzLl9ncmFkaWVudCkgY2xzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ3Byb2dyZXNzJywgdGhpcy5fZ3JhZGllbnQpfWA7XG4gICAgICAgIGlmICh0aGlzLl9zdGVwcy5sZW5ndGgpIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1zdGVwcGVkJyl9YDtcbiAgICAgICAgcmV0dXJuIGNscyArICh0aGlzLl9jbGFzc2VzID8gJyAnICsgdGhpcy5fY2xhc3NlcyA6ICcnKTtcbiAgICB9XG5cbiAgICBfZ2F0aGVyQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5fZ2F0aGVyQXR0cmlidXRlcygpO1xuICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NUeXBlID09PSAnbGluZWFyJyAmJiAhdGhpcy5faW5kZXRlcm1pbmF0ZSkge1xuICAgICAgICAgICAgYXR0cnMucm9sZSA9ICdwcm9ncmVzc2Jhcic7XG4gICAgICAgICAgICBhdHRyc1snYXJpYS12YWx1ZW5vdyddID0gdGhpcy5fdmFsdWU7XG4gICAgICAgICAgICBhdHRyc1snYXJpYS12YWx1ZW1pbiddID0gdGhpcy5fbWluO1xuICAgICAgICAgICAgYXR0cnNbJ2FyaWEtdmFsdWVtYXgnXSA9IHRoaXMuX21heDtcbiAgICAgICAgfVxuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdwcm9ncmVzcycpXSA9ICcnO1xuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzVHlwZSA9PT0gJ2NpcmN1bGFyJykgcmV0dXJuIHRoaXMuX3JlbmRlckNpcmN1bGFyKCk7XG4gICAgICAgIGlmICh0aGlzLl9zdGVwcy5sZW5ndGgpIHJldHVybiB0aGlzLl9yZW5kZXJTdGVwcGVkKCk7XG4gICAgICAgIGlmICh0aGlzLl9zZWdtZW50cy5sZW5ndGgpIHJldHVybiB0aGlzLl9yZW5kZXJTdGFja2VkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJMaW5lYXIoKTtcbiAgICB9XG5cbiAgICBfcmVuZGVyTGluZWFyKCkge1xuICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3Byb2dyZXNzLWJhcicpfVwiIHN0eWxlPVwid2lkdGg6ICR7dGhpcy5fY2FsY3VsYXRlUGVyY2VudCgpfSVcIj5gO1xuICAgICAgICBpZiAodGhpcy5fc2hvd0xhYmVsKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1sYWJlbCcpfVwiPiR7dGhpcy5fbGFiZWxUZXh0IHx8IE1hdGgucm91bmQodGhpcy5fY2FsY3VsYXRlUGVyY2VudCgpKSArICclJ308L3NwYW4+YDtcbiAgICAgICAgfVxuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtYnVmZmVyLWJhcicpfVwiIHN0eWxlPVwid2lkdGg6ICR7dGhpcy5fY2FsY3VsYXRlUGVyY2VudCh0aGlzLl9idWZmZXJWYWx1ZSl9JVwiPjwvZGl2PmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgX3JlbmRlclN0YWNrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWdtZW50cy5tYXAoc2VnID0+XG4gICAgICAgICAgICBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcycpfSAke1NpeE9yYml0LmNscygncHJvZ3Jlc3MnLCBzZWcuY29sb3IpfVwiIHN0eWxlPVwid2lkdGg6ICR7c2VnLnZhbHVlfSVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3Byb2dyZXNzLWJhcicpfVwiIHN0eWxlPVwid2lkdGg6IDEwMCVcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtzZWcubGFiZWwgPyBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtbGFiZWwnKX1cIj4ke3NlZy5sYWJlbH08L3NwYW4+YCA6ICcnfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICApLmpvaW4oJycpO1xuICAgIH1cblxuICAgIF9yZW5kZXJTdGVwcGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RlcHMubWFwKHN0ZXAgPT4ge1xuICAgICAgICAgICAgbGV0IGNscyA9IFNpeE9yYml0LmNscygncHJvZ3Jlc3Mtc3RlcCcpO1xuICAgICAgICAgICAgaWYgKHN0ZXAuYWN0aXZlKSBjbHMgKz0gYCAke1NpeE9yYml0LmNscygnYWN0aXZlJyl9YDtcbiAgICAgICAgICAgIGlmIChzdGVwLnBhcnRpYWwpIGNscyArPSAnIHBhcnRpYWwnO1xuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiJHtjbHN9XCIke3N0ZXAucGFydGlhbCA/IGAgc3R5bGU9XCItLXN0ZXAtcHJvZ3Jlc3M6ICR7c3RlcC5wYXJ0aWFsfSVcImAgOiAnJ30+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1zdGVwLWZpbGwnKX1cIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgIH0pLmpvaW4oJycpO1xuICAgIH1cblxuICAgIF9yZW5kZXJDaXJjdWxhcigpIHtcbiAgICAgICAgY29uc3Qgc2l6ZXMgPSB7XG4gICAgICAgICAgICB4czogeyB2aWV3Qm94OiAnMCAwIDMyIDMyJywgY3g6IDE2LCBjeTogMTYsIHI6IDEzIH0sXG4gICAgICAgICAgICBzbTogeyB2aWV3Qm94OiAnMCAwIDQwIDQwJywgY3g6IDIwLCBjeTogMjAsIHI6IDE3IH0sXG4gICAgICAgICAgICBsZzogeyB2aWV3Qm94OiAnMCAwIDY0IDY0JywgY3g6IDMyLCBjeTogMzIsIHI6IDI3IH0sXG4gICAgICAgICAgICB4bDogeyB2aWV3Qm94OiAnMCAwIDgwIDgwJywgY3g6IDQwLCBjeTogNDAsIHI6IDM0IH0sXG4gICAgICAgICAgICBkZWZhdWx0OiB7IHZpZXdCb3g6ICcwIDAgNDggNDgnLCBjeDogMjQsIGN5OiAyNCwgcjogMjAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzaXplID0gc2l6ZXNbdGhpcy5fc2l6ZV0gfHwgc2l6ZXMuZGVmYXVsdDtcbiAgICAgICAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IDIgKiBNYXRoLlBJICogc2l6ZS5yO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl9pbmRldGVybWluYXRlID8gMCA6IGNpcmN1bWZlcmVuY2UgKiAoMSAtIHRoaXMuX2NhbGN1bGF0ZVBlcmNlbnQoKSAvIDEwMCk7XG5cbiAgICAgICAgbGV0IGh0bWwgPSBgPHN2ZyBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdwcm9ncmVzcy1yaW5nJyl9XCIgdmlld0JveD1cIiR7c2l6ZS52aWV3Qm94fVwiPmA7XG4gICAgICAgIGh0bWwgKz0gYDxjaXJjbGUgY2xhc3M9XCIke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtcmluZy1iZycpfVwiIGN4PVwiJHtzaXplLmN4fVwiIGN5PVwiJHtzaXplLmN5fVwiIHI9XCIke3NpemUucn1cIiBmaWxsPVwibm9uZVwiPjwvY2lyY2xlPmA7XG4gICAgICAgIGh0bWwgKz0gYDxjaXJjbGUgY2xhc3M9XCIke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtcmluZy1maWxsJyl9XCIgY3g9XCIke3NpemUuY3h9XCIgY3k9XCIke3NpemUuY3l9XCIgcj1cIiR7c2l6ZS5yfVwiIGZpbGw9XCJub25lXCJgO1xuICAgICAgICBpZiAoIXRoaXMuX2luZGV0ZXJtaW5hdGUpIGh0bWwgKz0gYCBzdHJva2UtZGFzaGFycmF5PVwiJHtjaXJjdW1mZXJlbmNlfVwiIHN0cm9rZS1kYXNob2Zmc2V0PVwiJHtvZmZzZXR9XCJgO1xuICAgICAgICBodG1sICs9ICc+PC9jaXJjbGU+PC9zdmc+JztcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dMYWJlbCAmJiAhdGhpcy5faW5kZXRlcm1pbmF0ZSkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtdGV4dCcpfVwiPiR7dGhpcy5fbGFiZWxUZXh0IHx8IE1hdGgucm91bmQodGhpcy5fY2FsY3VsYXRlUGVyY2VudCgpKSArICclJ308L3NwYW4+YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCBodG1sID0gc3VwZXIucmVuZGVyKCk7XG4gICAgICAgIGlmICh0aGlzLl9leHRlcm5hbExhYmVsKSB7XG4gICAgICAgICAgICBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncHJvZ3Jlc3Mtd3JhcHBlcicpfVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtaGVhZGVyJyl9XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3Byb2dyZXNzLXRpdGxlJyl9XCI+JHt0aGlzLl9leHRlcm5hbExhYmVsLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtdmFsdWUnKX1cIj4ke3RoaXMuX2V4dGVybmFsTGFiZWwudmFsdWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PiR7aHRtbH08L2Rpdj5gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSBQcm9ncmVzcy5pbnN0YW5jZXMuc2V0KHRoaXMuX2VsZW1lbnQsIHRoaXMpO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvLyBJbnRlcmFjdGl2ZSBNZXRob2RzXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc1R5cGUgPT09ICdjaXJjdWxhcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtTaXhPcmJpdC5jbHMoJ3Byb2dyZXNzLXJpbmctZmlsbCcpfWApO1xuICAgICAgICAgICAgICAgIGlmIChmaWxsICYmICF0aGlzLl9pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBwYXJzZUZsb2F0KGZpbGwuZ2V0QXR0cmlidXRlKCdyJykpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaXJjdW1mZXJlbmNlID0gMiAqIE1hdGguUEkgKiByO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBjaXJjdW1mZXJlbmNlICogKDEgLSB0aGlzLl9jYWxjdWxhdGVQZXJjZW50KCkgLyAxMDApO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIGNpcmN1bWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtTaXhPcmJpdC5jbHMoJ3Byb2dyZXNzLXRleHQnKX1gKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dCAmJiB0aGlzLl9zaG93TGFiZWwpIHRleHQudGV4dENvbnRlbnQgPSB0aGlzLl9sYWJlbFRleHQgfHwgTWF0aC5yb3VuZCh0aGlzLl9jYWxjdWxhdGVQZXJjZW50KCkpICsgJyUnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtYmFyJyl9YCk7XG4gICAgICAgICAgICAgICAgaWYgKGJhcikge1xuICAgICAgICAgICAgICAgICAgICBiYXIuc3R5bGUud2lkdGggPSB0aGlzLl9jYWxjdWxhdGVQZXJjZW50KCkgKyAnJSc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gYmFyLnF1ZXJ5U2VsZWN0b3IoYC4ke1NpeE9yYml0LmNscygncHJvZ3Jlc3MtbGFiZWwnKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsICYmIHRoaXMuX3Nob3dMYWJlbCkgbGFiZWwudGV4dENvbnRlbnQgPSB0aGlzLl9sYWJlbFRleHQgfHwgTWF0aC5yb3VuZCh0aGlzLl9jYWxjdWxhdGVQZXJjZW50KCkpICsgJyUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudCgnc286cHJvZ3Jlc3M6Y2hhbmdlJywgeyBvbGRWYWx1ZSwgbmV3VmFsdWU6IHZhbHVlLCBwZXJjZW50OiB0aGlzLl9jYWxjdWxhdGVQZXJjZW50KCkgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fb25Qcm9ncmVzcykgdGhpcy5fb25Qcm9ncmVzcyh2YWx1ZSwgdGhpcy5fY2FsY3VsYXRlUGVyY2VudCgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhbmltYXRlKGZyb20sIHRvLCBkdXJhdGlvbiA9IDEwMDApIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgYW5pbWF0ZSA9ICh0aW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gdGltZSAtIHN0YXJ0O1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbihlbGFwc2VkIC8gZHVyYXRpb24sIDEpO1xuICAgICAgICAgICAgY29uc3QgZWFzZWQgPSAxIC0gTWF0aC5wb3coMSAtIHByb2dyZXNzLCAzKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUoZnJvbSArICh0byAtIGZyb20pICogZWFzZWQpO1xuICAgICAgICAgICAgaWYgKHByb2dyZXNzIDwgMSkgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCkgeyByZXR1cm4gdGhpcy5fdmFsdWU7IH1cbiAgICBnZXRQZXJjZW50KCkgeyByZXR1cm4gdGhpcy5fY2FsY3VsYXRlUGVyY2VudCgpOyB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWxlbWVudCkge1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKFByb2dyZXNzLmluc3RhbmNlcy5oYXMoZWxlbWVudCkpIHJldHVybiBQcm9ncmVzcy5pbnN0YW5jZXMuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoU2l4T3JiaXQuZGF0YSgndmFsdWUnKSkpIHx8IDAsXG4gICAgICAgICAgICBtYXg6IHBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKFNpeE9yYml0LmRhdGEoJ21heCcpKSkgfHwgMTAwLFxuICAgICAgICAgICAgbWluOiBwYXJzZUludChlbGVtZW50LmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCdtaW4nKSkpIHx8IDAsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFByb2dyZXNzKGNvbmZpZyk7XG4gICAgICAgIGluc3RhbmNlLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgUHJvZ3Jlc3MuaW5zdGFuY2VzLnNldChlbGVtZW50LCBpbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdEFsbCgpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7U2l4T3JiaXQuZGF0YSgncHJvZ3Jlc3MnKX1dYCkuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICBpZiAoIVByb2dyZXNzLmluc3RhbmNlcy5oYXMoZWwpKSBQcm9ncmVzcy5nZXRJbnN0YW5jZShlbCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuICAgICAgICBjb25maWcucHJvZ3Jlc3NUeXBlID0gdGhpcy5fcHJvZ3Jlc3NUeXBlO1xuICAgICAgICBjb25maWcudmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX21pbiAhPT0gMCkgY29uZmlnLm1pbiA9IHRoaXMuX21pbjtcbiAgICAgICAgaWYgKHRoaXMuX21heCAhPT0gMTAwKSBjb25maWcubWF4ID0gdGhpcy5fbWF4O1xuICAgICAgICBpZiAodGhpcy5fY29sb3IpIGNvbmZpZy5jb2xvciA9IHRoaXMuX2NvbG9yO1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkgY29uZmlnLnNpemUgPSB0aGlzLl9zaXplO1xuICAgICAgICBpZiAodGhpcy5fc2hvd0xhYmVsKSBjb25maWcuc2hvd0xhYmVsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2xhYmVsVGV4dCkgY29uZmlnLmxhYmVsVGV4dCA9IHRoaXMuX2xhYmVsVGV4dDtcbiAgICAgICAgaWYgKHRoaXMuX3N0cmlwZWQpIGNvbmZpZy5zdHJpcGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGVkKSBjb25maWcuYW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5faW5kZXRlcm1pbmF0ZSkgY29uZmlnLmluZGV0ZXJtaW5hdGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyVmFsdWUgIT09IG51bGwpIGNvbmZpZy5idWZmZXJWYWx1ZSA9IHRoaXMuX2J1ZmZlclZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fZ3JhZGllbnQpIGNvbmZpZy5ncmFkaWVudCA9IHRoaXMuX2dyYWRpZW50O1xuICAgICAgICBpZiAodGhpcy5fc2VnbWVudHMubGVuZ3RoKSBjb25maWcuc2VnbWVudHMgPSB0aGlzLl9zZWdtZW50cztcbiAgICAgICAgaWYgKHRoaXMuX3N0ZXBzLmxlbmd0aCkgY29uZmlnLnN0ZXBzID0gdGhpcy5fc3RlcHM7XG4gICAgICAgIGlmICh0aGlzLl9leHRlcm5hbExhYmVsKSBjb25maWcuZXh0ZXJuYWxMYWJlbCA9IHRoaXMuX2V4dGVybmFsTGFiZWw7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IFByb2dyZXNzLmluaXRBbGwoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgUHJvZ3Jlc3MuaW5pdEFsbCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3M7XG5leHBvcnQgeyBQcm9ncmVzcyB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBUQUJMRSBFTEVNRU5UXG4vLyBEYXRhIHRhYmxlIGRpc3BsYXlcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBUYWJsZSAtIERhdGEgdGFibGUgZWxlbWVudFxuICovXG5jbGFzcyBUYWJsZSBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLXRhYmxlJztcblxuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgLi4uRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgdGFnTmFtZTogJ3RhYmxlJyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fY29sdW1ucyA9IGNvbmZpZy5jb2x1bW5zIHx8IFtdO1xuICAgICAgICB0aGlzLl9yb3dzID0gY29uZmlnLnJvd3MgfHwgW107XG4gICAgICAgIHRoaXMuX3N0cmlwZWQgPSBjb25maWcuc3RyaXBlZCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fYm9yZGVyZWQgPSBjb25maWcuYm9yZGVyZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2JvcmRlcmxlc3MgPSBjb25maWcuYm9yZGVybGVzcyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5faG92ZXIgPSBjb25maWcuaG92ZXIgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3NtYWxsID0gY29uZmlnLnNtYWxsIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZXNwb25zaXZlID0gY29uZmlnLnJlc3BvbnNpdmUgIT09IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYXB0aW9uID0gY29uZmlnLmNhcHRpb24gfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fY2FwdGlvblRvcCA9IGNvbmZpZy5jYXB0aW9uVG9wIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl92YXJpYW50ID0gY29uZmlnLnZhcmlhbnQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fZm9vdGVyID0gY29uZmlnLmZvb3RlciB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZsdWVudCBBUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBjb2x1bW5zXG4gICAgICogQHBhcmFtIHtBcnJheX0gY29sdW1ucyAtIFt7a2V5LCBsYWJlbCwgc29ydGFibGUsIHdpZHRoLCBhbGlnbiwgcmVuZGVyfV1cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjb2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgdGhpcy5fY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBjb2x1bW5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29sdW1uXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWRkQ29sdW1uKGNvbHVtbikge1xuICAgICAgICB0aGlzLl9jb2x1bW5zLnB1c2goY29sdW1uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHJvd3NcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByb3dzXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgcm93cyhyb3dzKSB7XG4gICAgICAgIHRoaXMuX3Jvd3MgPSByb3dzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgcm93XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJvd1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFkZFJvdyhyb3cpIHtcbiAgICAgICAgdGhpcy5fcm93cy5wdXNoKHJvdyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBzdHJpcGVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzdHJpcGVkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc3RyaXBlZChzdHJpcGVkID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9zdHJpcGVkID0gc3RyaXBlZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGJvcmRlcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBib3JkZXJlZFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGJvcmRlcmVkKGJvcmRlcmVkID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9ib3JkZXJlZCA9IGJvcmRlcmVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYm9yZGVybGVzcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYm9yZGVybGVzc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGJvcmRlcmxlc3MoYm9yZGVybGVzcyA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fYm9yZGVybGVzcyA9IGJvcmRlcmxlc3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBob3ZlciBzdHlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaG92ZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBob3Zlcihob3ZlciA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5faG92ZXIgPSBob3ZlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHNtYWxsIHNpemVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNtYWxsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc21hbGwoc21hbGwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3NtYWxsID0gc21hbGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCByZXNwb25zaXZlIHdyYXBwZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BvbnNpdmVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICByZXNwb25zaXZlKHJlc3BvbnNpdmUgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNpdmUgPSByZXNwb25zaXZlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY2FwdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYXB0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0b3BcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjYXB0aW9uKGNhcHRpb24sIHRvcCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX2NhcHRpb24gPSBjYXB0aW9uO1xuICAgICAgICB0aGlzLl9jYXB0aW9uVG9wID0gdG9wO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmFyaWFudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmFyaWFudCh2YXJpYW50KSB7XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKiogRGFyayB2YXJpYW50ICovXG4gICAgZGFyaygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnZGFyaycpOyB9XG5cbiAgICAvKiogTGlnaHQgdmFyaWFudCAqL1xuICAgIGxpZ2h0KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdsaWdodCcpOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZm9vdGVyXG4gICAgICogQHBhcmFtIHtBcnJheX0gZm9vdGVyIC0gUm93IGRhdGEgZm9yIGZvb3RlclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGZvb3Rlcihmb290ZXIpIHtcbiAgICAgICAgdGhpcy5fZm9vdGVyID0gZm9vdGVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygndGFibGUnKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0cmlwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd0YWJsZS1zdHJpcGVkJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvcmRlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygndGFibGUtYm9yZGVyZWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9yZGVybGVzcykge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3RhYmxlLWJvcmRlcmxlc3MnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faG92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd0YWJsZS1ob3ZlcicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zbWFsbCkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3RhYmxlLXNtJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZhcmlhbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd0YWJsZScsIHRoaXMuX3ZhcmlhbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jYXB0aW9uVG9wKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnY2FwdGlvbi10b3AnKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb250ZW50XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuXG4gICAgICAgIC8vIENhcHRpb25cbiAgICAgICAgaWYgKHRoaXMuX2NhcHRpb24pIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxjYXB0aW9uPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9jYXB0aW9uKX08L2NhcHRpb24+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhlYWRlclxuICAgICAgICBpZiAodGhpcy5fY29sdW1ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8dGhlYWQ+JztcbiAgICAgICAgICAgIGh0bWwgKz0gJzx0cj4nO1xuICAgICAgICAgICAgdGhpcy5fY29sdW1ucy5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHRoQXR0cnMgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoY29sLndpZHRoKSB0aEF0dHJzICs9IGAgc3R5bGU9XCJ3aWR0aDogJHtjb2wud2lkdGh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChjb2wuYWxpZ24pIHRoQXR0cnMgKz0gYCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCd0ZXh0JywgY29sLmFsaWduKX1cImA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHRoIHNjb3BlPVwiY29sXCIke3RoQXR0cnN9PiR7dGhpcy5fZXNjYXBlSHRtbChjb2wubGFiZWwgfHwgY29sLmtleSl9PC90aD5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3RyPic7XG4gICAgICAgICAgICBodG1sICs9ICc8L3RoZWFkPic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCb2R5XG4gICAgICAgIGh0bWwgKz0gJzx0Ym9keT4nO1xuICAgICAgICB0aGlzLl9yb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx0cj4nO1xuICAgICAgICAgICAgdGhpcy5fY29sdW1ucy5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcm93W2NvbC5rZXldO1xuICAgICAgICAgICAgICAgIGlmIChjb2wucmVuZGVyICYmIHR5cGVvZiBjb2wucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY29sLnJlbmRlcih2YWx1ZSwgcm93KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2VzY2FwZUh0bWwodmFsdWUgPz8gJycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCB0ZEF0dHJzID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGNvbC5hbGlnbikgdGRBdHRycyArPSBgIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3RleHQnLCBjb2wuYWxpZ24pfVwiYDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8dGQke3RkQXR0cnN9PiR7dmFsdWV9PC90ZD5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3RyPic7XG4gICAgICAgIH0pO1xuICAgICAgICBodG1sICs9ICc8L3Rib2R5Pic7XG5cbiAgICAgICAgLy8gRm9vdGVyXG4gICAgICAgIGlmICh0aGlzLl9mb290ZXIpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx0Zm9vdD4nO1xuICAgICAgICAgICAgaHRtbCArPSAnPHRyPic7XG4gICAgICAgICAgICB0aGlzLl9mb290ZXIuZm9yRWFjaCgoY2VsbCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2wgPSB0aGlzLl9jb2x1bW5zW2luZGV4XSB8fCB7fTtcbiAgICAgICAgICAgICAgICBsZXQgdGRBdHRycyA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChjb2wuYWxpZ24pIHRkQXR0cnMgKz0gYCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCd0ZXh0JywgY29sLmFsaWduKX1cImA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHRkJHt0ZEF0dHJzfT4ke3RoaXMuX2VzY2FwZUh0bWwoY2VsbCA/PyAnJyl9PC90ZD5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3RyPic7XG4gICAgICAgICAgICBodG1sICs9ICc8L3Rmb290Pic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgZWxlbWVudCAod2l0aCBvcHRpb25hbCByZXNwb25zaXZlIHdyYXBwZXIpXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgdGFibGUgPSBzdXBlci5yZW5kZXIoKTtcblxuICAgICAgICBpZiAodGhpcy5fcmVzcG9uc2l2ZSkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBTaXhPcmJpdC5jbHMoJ3RhYmxlLXJlc3BvbnNpdmUnKTtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgSFRNTCBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRvSHRtbCgpIHtcbiAgICAgICAgY29uc3QgdGFibGVIdG1sID0gc3VwZXIudG9IdG1sKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jlc3BvbnNpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCd0YWJsZS1yZXNwb25zaXZlJyl9XCI+JHt0YWJsZUh0bWx9PC9kaXY+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YWJsZUh0bWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb2x1bW5zLmxlbmd0aCA+IDApIGNvbmZpZy5jb2x1bW5zID0gdGhpcy5fY29sdW1ucztcbiAgICAgICAgaWYgKHRoaXMuX3Jvd3MubGVuZ3RoID4gMCkgY29uZmlnLnJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICBpZiAodGhpcy5fc3RyaXBlZCkgY29uZmlnLnN0cmlwZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYm9yZGVyZWQpIGNvbmZpZy5ib3JkZXJlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9ib3JkZXJsZXNzKSBjb25maWcuYm9yZGVybGVzcyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9ob3ZlcikgY29uZmlnLmhvdmVyID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3NtYWxsKSBjb25maWcuc21hbGwgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuX3Jlc3BvbnNpdmUpIGNvbmZpZy5yZXNwb25zaXZlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9jYXB0aW9uKSBjb25maWcuY2FwdGlvbiA9IHRoaXMuX2NhcHRpb247XG4gICAgICAgIGlmICh0aGlzLl9jYXB0aW9uVG9wKSBjb25maWcuY2FwdGlvblRvcCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl92YXJpYW50KSBjb25maWcudmFyaWFudCA9IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgIGlmICh0aGlzLl9mb290ZXIpIGNvbmZpZy5mb290ZXIgPSB0aGlzLl9mb290ZXI7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRhYmxlO1xuZXhwb3J0IHsgVGFibGUgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gVEFCUyBFTEVNRU5UXG4vLyBUYWJiZWQgbmF2aWdhdGlvbiBjb21wb25lbnRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IENvbnRhaW5lckVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0NvbnRhaW5lckVsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBUYWJzIC0gVGFiYmVkIG5hdmlnYXRpb24gZWxlbWVudFxuICovXG5jbGFzcyBUYWJzIGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktdGFicyc7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkNvbnRhaW5lckVsZW1lbnQuREVGQVVMVFMsXG4gICAgICAgIHR5cGU6ICd0YWJzJyxcbiAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX3RhYnMgPSBjb25maWcudGFicyB8fCBbXTtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IGNvbmZpZy52YXJpYW50IHx8ICd0YWJzJzsgLy8gdGFicywgcGlsbHMsIHVuZGVybGluZVxuICAgICAgICB0aGlzLl9maWxsID0gY29uZmlnLmZpbGwgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2p1c3RpZmllZCA9IGNvbmZpZy5qdXN0aWZpZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsID0gY29uZmlnLnZlcnRpY2FsIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9mYWRlID0gY29uZmlnLmZhZGUgIT09IGZhbHNlO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZsdWVudCBBUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0YWJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFiIC0ge2lkLCB0aXRsZSwgY29udGVudCwgYWN0aXZlLCBkaXNhYmxlZCwgaWNvbn1cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhZGRUYWIodGFiKSB7XG4gICAgICAgIHRoaXMuX3RhYnMucHVzaCh0YWIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbXVsdGlwbGUgdGFic1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRhYnNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB0YWJzKHRhYnMpIHtcbiAgICAgICAgdGhpcy5fdGFicyA9IHRhYnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YXJpYW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB2YXJpYW50KHZhcmlhbnQpIHtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBUYWJzIHN0eWxlICovXG4gICAgdGFic1N0eWxlKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCd0YWJzJyk7IH1cblxuICAgIC8qKiBQaWxscyBzdHlsZSAqL1xuICAgIHBpbGxzKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdwaWxscycpOyB9XG5cbiAgICAvKiogVW5kZXJsaW5lIHN0eWxlICovXG4gICAgdW5kZXJsaW5lKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCd1bmRlcmxpbmUnKTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGZpbGwgbW9kZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGZpbGwoZmlsbCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZmlsbCA9IGZpbGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBqdXN0aWZpZWQgbW9kZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ganVzdGlmaWVkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAganVzdGlmaWVkKGp1c3RpZmllZCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fanVzdGlmaWVkID0ganVzdGlmaWVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmVydGljYWwgbW9kZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmVydGljYWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB2ZXJ0aWNhbCh2ZXJ0aWNhbCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fdmVydGljYWwgPSB2ZXJ0aWNhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGZhZGUgYW5pbWF0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmYWRlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZmFkZShmYWRlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9mYWRlID0gZmFkZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Nlc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZC1mbGV4JykpO1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2FsaWduLWl0ZW1zLXN0YXJ0JykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgbmF2IGNsYXNzZXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIF9idWlsZE5hdkNsYXNzKCkge1xuICAgICAgICBsZXQgY2xzID0gU2l4T3JiaXQuY2xzKCduYXYnKTtcblxuICAgICAgICBpZiAodGhpcy5fdmFyaWFudCA9PT0gJ3RhYnMnKSB7XG4gICAgICAgICAgICBjbHMgKz0gYCAke1NpeE9yYml0LmNscygnbmF2LXRhYnMnKX1gO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3ZhcmlhbnQgPT09ICdwaWxscycpIHtcbiAgICAgICAgICAgIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCduYXYtcGlsbHMnKX1gO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3ZhcmlhbnQgPT09ICd1bmRlcmxpbmUnKSB7XG4gICAgICAgICAgICBjbHMgKz0gYCAke1NpeE9yYml0LmNscygnbmF2LXVuZGVybGluZScpfWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZmlsbCkge1xuICAgICAgICAgICAgY2xzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ25hdi1maWxsJyl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9qdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCduYXYtanVzdGlmaWVkJyl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl92ZXJ0aWNhbCkge1xuICAgICAgICAgICAgY2xzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ2ZsZXgtY29sdW1uJyl9YDtcbiAgICAgICAgICAgIGNscyArPSBgICR7U2l4T3JiaXQuY2xzKCdtZS0zJyl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjbHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IHRhYnNJZCA9IHRoaXMuX2lkIHx8IGB0YWJzLSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgLy8gTmF2IHRhYnNcbiAgICAgICAgaHRtbCArPSBgPHVsIGNsYXNzPVwiJHt0aGlzLl9idWlsZE5hdkNsYXNzKCl9XCIgaWQ9XCIke3RhYnNJZH0tbmF2XCIgcm9sZT1cInRhYmxpc3RcIj5gO1xuXG4gICAgICAgIHRoaXMuX3RhYnMuZm9yRWFjaCgodGFiLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFiSWQgPSB0YWIuaWQgfHwgYCR7dGFic0lkfS10YWItJHtpbmRleH1gO1xuICAgICAgICAgICAgY29uc3QgcGFuZUlkID0gYCR7dGFiSWR9LXBhbmVgO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlID0gdGFiLmFjdGl2ZSB8fCAoaW5kZXggPT09IDAgJiYgIXRoaXMuX3RhYnMuc29tZSh0ID0+IHQuYWN0aXZlKSk7XG4gICAgICAgICAgICBjb25zdCBkaXNhYmxlZCA9IHRhYi5kaXNhYmxlZCB8fCBmYWxzZTtcblxuICAgICAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ25hdi1pdGVtJyl9XCIgcm9sZT1cInByZXNlbnRhdGlvblwiPmA7XG4gICAgICAgICAgICBodG1sICs9IGA8YnV0dG9uIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ25hdi1saW5rJyl9JHthY3RpdmUgPyBgICR7U2l4T3JiaXQuY2xzKCdhY3RpdmUnKX1gIDogJyd9JHtkaXNhYmxlZCA/ICcgZGlzYWJsZWQnIDogJyd9XCIgYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYGlkPVwiJHt0YWJJZH1cIiBgO1xuICAgICAgICAgICAgaHRtbCArPSBgJHtTaXhPcmJpdC5kYXRhKCd0b2dnbGUnKX09XCJ0YWJcIiBgO1xuICAgICAgICAgICAgaHRtbCArPSBgJHtTaXhPcmJpdC5kYXRhKCd0YXJnZXQnKX09XCIjJHtwYW5lSWR9XCIgYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYHR5cGU9XCJidXR0b25cIiBgO1xuICAgICAgICAgICAgaHRtbCArPSBgcm9sZT1cInRhYlwiIGA7XG4gICAgICAgICAgICBodG1sICs9IGBhcmlhLWNvbnRyb2xzPVwiJHtwYW5lSWR9XCIgYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYGFyaWEtc2VsZWN0ZWQ9XCIke2FjdGl2ZX1cImA7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIGh0bWwgKz0gJyBkaXNhYmxlZCc7XG4gICAgICAgICAgICBodG1sICs9ICc+JztcblxuICAgICAgICAgICAgaWYgKHRhYi5pY29uKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29ucyAke1NpeE9yYml0LmNscygnbWUtMScpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0YWIuaWNvbil9PC9zcGFuPmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZXNjYXBlSHRtbCh0YWIudGl0bGUpO1xuICAgICAgICAgICAgaHRtbCArPSAnPC9idXR0b24+PC9saT4nO1xuICAgICAgICB9KTtcblxuICAgICAgICBodG1sICs9ICc8L3VsPic7XG5cbiAgICAgICAgLy8gVGFiIGNvbnRlbnRcbiAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCd0YWItY29udGVudCcpfSR7dGhpcy5fdmVydGljYWwgPyBgICR7U2l4T3JiaXQuY2xzKCdmbGV4LWdyb3ctMScpfWAgOiAnJ31cIiBpZD1cIiR7dGFic0lkfS1jb250ZW50XCI+YDtcblxuICAgICAgICB0aGlzLl90YWJzLmZvckVhY2goKHRhYiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhYklkID0gdGFiLmlkIHx8IGAke3RhYnNJZH0tdGFiLSR7aW5kZXh9YDtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVJZCA9IGAke3RhYklkfS1wYW5lYDtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZSA9IHRhYi5hY3RpdmUgfHwgKGluZGV4ID09PSAwICYmICF0aGlzLl90YWJzLnNvbWUodCA9PiB0LmFjdGl2ZSkpO1xuXG4gICAgICAgICAgICBsZXQgcGFuZUNsYXNzID0gU2l4T3JiaXQuY2xzKCd0YWItcGFuZScpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZhZGUpIHtcbiAgICAgICAgICAgICAgICBwYW5lQ2xhc3MgKz0gYCAke1NpeE9yYml0LmNscygnZmFkZScpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgcGFuZUNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ3Nob3cnKX0gJHtTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke3BhbmVDbGFzc31cIiBgO1xuICAgICAgICAgICAgaHRtbCArPSBgaWQ9XCIke3BhbmVJZH1cIiBgO1xuICAgICAgICAgICAgaHRtbCArPSBgcm9sZT1cInRhYnBhbmVsXCIgYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYGFyaWEtbGFiZWxsZWRieT1cIiR7dGFiSWR9XCIgYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYHRhYmluZGV4PVwiMFwiPmA7XG4gICAgICAgICAgICBodG1sICs9IHRhYi5jb250ZW50IHx8ICcnO1xuICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcblxuICAgICAgICAvLyBSZW5kZXIgY2hpbGRyZW5cbiAgICAgICAgaHRtbCArPSB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gVGFiIE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNob3cgdGFiIGJ5IGluZGV4IG9yIGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBpbmRleE9ySWRcbiAgICAgKi9cbiAgICBzaG93KGluZGV4T3JJZCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB0YWJCdXR0b247XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXhPcklkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGFiQnV0dG9uID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCR7U2l4T3JiaXQuc2VsKCduYXYtbGluaycpfWApW2luZGV4T3JJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWJCdXR0b24gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5kZXhPcklkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhYkJ1dHRvbikge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFjdGl2ZSBmcm9tIGFsbFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2l4T3JiaXQuc2VsKCduYXYtbGluaycpKS5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoU2l4T3JiaXQuY2xzKCdhY3RpdmUnKSk7XG4gICAgICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChTaXhPcmJpdC5zZWwoJ3RhYi1wYW5lJykpLmZvckVhY2gocGFuZSA9PiB7XG4gICAgICAgICAgICAgICAgcGFuZS5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygnc2hvdycpLCBTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBBY3RpdmF0ZSBzZWxlY3RlZFxuICAgICAgICAgICAgdGFiQnV0dG9uLmNsYXNzTGlzdC5hZGQoU2l4T3JiaXQuY2xzKCdhY3RpdmUnKSk7XG4gICAgICAgICAgICB0YWJCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YWJCdXR0b24uZ2V0QXR0cmlidXRlKFNpeE9yYml0LmRhdGEoJ3RhcmdldCcpKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhbmUgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRJZCk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0UGFuZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFBhbmUuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ3Nob3cnKSwgU2l4T3JiaXQuY2xzKCdhY3RpdmUnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RhYnMubGVuZ3RoID4gMCkgY29uZmlnLnRhYnMgPSB0aGlzLl90YWJzO1xuICAgICAgICBpZiAodGhpcy5fdmFyaWFudCAhPT0gJ3RhYnMnKSBjb25maWcudmFyaWFudCA9IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgIGlmICh0aGlzLl9maWxsKSBjb25maWcuZmlsbCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9qdXN0aWZpZWQpIGNvbmZpZy5qdXN0aWZpZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fdmVydGljYWwpIGNvbmZpZy52ZXJ0aWNhbCA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5fZmFkZSkgY29uZmlnLmZhZGUgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFicztcbmV4cG9ydCB7IFRhYnMgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gVE9BU1QgRUxFTUVOVFxuLy8gVG9hc3Qgbm90aWZpY2F0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG5jbGFzcyBUb2FzdCBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLXRvYXN0JztcbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7IC4uLkVsZW1lbnQuREVGQVVMVFMsIHR5cGU6ICd0b2FzdCcsIHRhZ05hbWU6ICdkaXYnIH07XG5cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLl92YXJpYW50ID0gY29uZmlnLnZhcmlhbnQgfHwgJ2RlZmF1bHQnO1xuICAgICAgICB0aGlzLl9tZXNzYWdlID0gY29uZmlnLm1lc3NhZ2UgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBjb25maWcudGl0bGUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5faWNvbiA9IGNvbmZpZy5pY29uIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2Rpc21pc3NpYmxlID0gY29uZmlnLmRpc21pc3NpYmxlICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXV0b0Rpc21pc3MgPSBjb25maWcuYXV0b0Rpc21pc3MgPz8gNTAwMDtcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBjb25maWcucG9zaXRpb24gfHwgJ3RvcC1yaWdodCc7XG4gICAgfVxuXG4gICAgdmFyaWFudCh2KSB7IHRoaXMuX3ZhcmlhbnQgPSB2OyByZXR1cm4gdGhpczsgfVxuICAgIHN1Y2Nlc3MoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3N1Y2Nlc3MnKS5pY29uKCdjaGVja19jaXJjbGUnKTsgfVxuICAgIGRhbmdlcigpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnZGFuZ2VyJykuaWNvbignZXJyb3InKTsgfVxuICAgIHdhcm5pbmcoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3dhcm5pbmcnKS5pY29uKCd3YXJuaW5nJyk7IH1cbiAgICBpbmZvKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdpbmZvJykuaWNvbignaW5mbycpOyB9XG4gICAgbWVzc2FnZShtc2cpIHsgdGhpcy5fbWVzc2FnZSA9IG1zZzsgcmV0dXJuIHRoaXM7IH1cbiAgICB0aXRsZSh0aXRsZSkgeyB0aGlzLl90aXRsZSA9IHRpdGxlOyByZXR1cm4gdGhpczsgfVxuICAgIGljb24oaWNvbikgeyB0aGlzLl9pY29uID0gaWNvbjsgcmV0dXJuIHRoaXM7IH1cbiAgICBkaXNtaXNzaWJsZSh2YWwgPSB0cnVlKSB7IHRoaXMuX2Rpc21pc3NpYmxlID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGF1dG9EaXNtaXNzKG1zKSB7IHRoaXMuX2F1dG9EaXNtaXNzID0gbXM7IHJldHVybiB0aGlzOyB9XG4gICAgcG9zaXRpb24ocG9zKSB7IHRoaXMuX3Bvc2l0aW9uID0gcG9zOyByZXR1cm4gdGhpczsgfVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3RvYXN0JykpO1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygndG9hc3QnLCB0aGlzLl92YXJpYW50KSk7XG4gICAgICAgIGlmICh0aGlzLl9kaXNtaXNzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2ZhZGUnKSk7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnc2hvdycpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgYXR0cnMucm9sZSA9ICdhbGVydCc7XG4gICAgICAgIGF0dHJzWydhcmlhLWxpdmUnXSA9ICdhc3NlcnRpdmUnO1xuICAgICAgICBhdHRyc1snYXJpYS1hdG9taWMnXSA9ICd0cnVlJztcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgnYXV0b2hpZGUnKV0gPSB0aGlzLl9hdXRvRGlzbWlzcyA+IDAgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdkZWxheScpXSA9IHRoaXMuX2F1dG9EaXNtaXNzO1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1pbml0JyldID0gJ3RvYXN0JztcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndWktY29uZmlnJyldID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgYXV0b0Rpc21pc3M6IHRoaXMuX2F1dG9EaXNtaXNzLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMuX3Bvc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCd0b2FzdC1oZWFkZXInKX1cIj5gO1xuICAgICAgICBpZiAodGhpcy5faWNvbikge1xuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29ucyAke1NpeE9yYml0LmNscygnbWUtMicpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9pY29uKX08L3NwYW4+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdGl0bGUpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzdHJvbmcgY2xhc3M9XCIke1NpeE9yYml0LmNscygnbWUtYXV0bycpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl90aXRsZSl9PC9zdHJvbmc+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGlzbWlzc2libGUpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2J0bi1jbG9zZScpfVwiICR7U2l4T3JiaXQuZGF0YSgnZGlzbWlzcycpfT1cInRvYXN0XCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PC9idXR0b24+YDtcbiAgICAgICAgfVxuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3RvYXN0LWJvZHknKX1cIj5gO1xuICAgICAgICBpZiAodGhpcy5fbWVzc2FnZSkgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX21lc3NhZ2UpO1xuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcbiAgICAgICAgaWYgKHRoaXMuX3ZhcmlhbnQgIT09ICdkZWZhdWx0JykgY29uZmlnLnZhcmlhbnQgPSB0aGlzLl92YXJpYW50O1xuICAgICAgICBpZiAodGhpcy5fbWVzc2FnZSkgY29uZmlnLm1lc3NhZ2UgPSB0aGlzLl9tZXNzYWdlO1xuICAgICAgICBpZiAodGhpcy5fdGl0bGUpIGNvbmZpZy50aXRsZSA9IHRoaXMuX3RpdGxlO1xuICAgICAgICBpZiAodGhpcy5faWNvbikgY29uZmlnLmljb24gPSB0aGlzLl9pY29uO1xuICAgICAgICBpZiAoIXRoaXMuX2Rpc21pc3NpYmxlKSBjb25maWcuZGlzbWlzc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9EaXNtaXNzICE9PSA1MDAwKSBjb25maWcuYXV0b0Rpc21pc3MgPSB0aGlzLl9hdXRvRGlzbWlzcztcbiAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uICE9PSAndG9wLXJpZ2h0JykgY29uZmlnLnBvc2l0aW9uID0gdGhpcy5fcG9zaXRpb247XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2FzdDtcbmV4cG9ydCB7IFRvYXN0IH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIFRPT0xUSVAgRUxFTUVOVFxuLy8gSG92ZXIgdG9vbHRpcHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuY2xhc3MgVG9vbHRpcCBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLXRvb2x0aXAnO1xuICAgIHN0YXRpYyBERUZBVUxUUyA9IHsgLi4uRWxlbWVudC5ERUZBVUxUUywgdHlwZTogJ3Rvb2x0aXAnLCB0YWdOYW1lOiAnc3BhbicgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX3RleHQgPSBjb25maWcudGV4dCB8fCAnJztcbiAgICAgICAgdGhpcy5fcGxhY2VtZW50ID0gY29uZmlnLnBsYWNlbWVudCB8fCAndG9wJztcbiAgICAgICAgdGhpcy5fdHJpZ2dlciA9IGNvbmZpZy50cmlnZ2VyIHx8ICdob3Zlcic7XG4gICAgICAgIHRoaXMuX2h0bWwgPSBjb25maWcuaHRtbCB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICB0ZXh0KHRleHQpIHsgdGhpcy5fdGV4dCA9IHRleHQ7IHJldHVybiB0aGlzOyB9XG4gICAgcGxhY2VtZW50KHApIHsgdGhpcy5fcGxhY2VtZW50ID0gcDsgcmV0dXJuIHRoaXM7IH1cbiAgICB0b3AoKSB7IHJldHVybiB0aGlzLnBsYWNlbWVudCgndG9wJyk7IH1cbiAgICBib3R0b20oKSB7IHJldHVybiB0aGlzLnBsYWNlbWVudCgnYm90dG9tJyk7IH1cbiAgICBsZWZ0KCkgeyByZXR1cm4gdGhpcy5wbGFjZW1lbnQoJ2xlZnQnKTsgfVxuICAgIHJpZ2h0KCkgeyByZXR1cm4gdGhpcy5wbGFjZW1lbnQoJ3JpZ2h0Jyk7IH1cbiAgICB0cmlnZ2VyKHQpIHsgdGhpcy5fdHJpZ2dlciA9IHQ7IHJldHVybiB0aGlzOyB9XG4gICAgaHRtbCh2YWwgPSB0cnVlKSB7IHRoaXMuX2h0bWwgPSB2YWw7IHJldHVybiB0aGlzOyB9XG5cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3RvZ2dsZScpXSA9ICd0b29sdGlwJztcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgncGxhY2VtZW50JyldID0gdGhpcy5fcGxhY2VtZW50O1xuICAgICAgICBhdHRycy50aXRsZSA9IHRoaXMuX3RleHQ7XG4gICAgICAgIGlmICh0aGlzLl9odG1sKSBhdHRyc1tTaXhPcmJpdC5kYXRhKCdodG1sJyldID0gJ3RydWUnO1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1pbml0JyldID0gJ3Rvb2x0aXAnO1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1jb25maWcnKV0gPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IHRoaXMuX3BsYWNlbWVudCxcbiAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMuX3RyaWdnZXIsXG4gICAgICAgICAgICBodG1sOiB0aGlzLl9odG1sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0KSBjb25maWcudGV4dCA9IHRoaXMuX3RleHQ7XG4gICAgICAgIGlmICh0aGlzLl9wbGFjZW1lbnQgIT09ICd0b3AnKSBjb25maWcucGxhY2VtZW50ID0gdGhpcy5fcGxhY2VtZW50O1xuICAgICAgICBpZiAodGhpcy5fdHJpZ2dlciAhPT0gJ2hvdmVyJykgY29uZmlnLnRyaWdnZXIgPSB0aGlzLl90cmlnZ2VyO1xuICAgICAgICBpZiAodGhpcy5faHRtbCkgY29uZmlnLmh0bWwgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9vbHRpcDtcbmV4cG9ydCB7IFRvb2x0aXAgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQlJFQURDUlVNQiBFTEVNRU5UXG4vLyBOYXZpZ2F0aW9uIGJyZWFkY3J1bWJzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbmNsYXNzIEJyZWFkY3J1bWIgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1icmVhZGNydW1iJztcbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7IC4uLkVsZW1lbnQuREVGQVVMVFMsIHR5cGU6ICdicmVhZGNydW1iJywgdGFnTmFtZTogJ25hdicgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLl9pdGVtcyA9IGNvbmZpZy5pdGVtcyB8fCBbXTtcbiAgICAgICAgdGhpcy5fZGl2aWRlciA9IGNvbmZpZy5kaXZpZGVyIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlndXJhdGlvbiBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaXRlbXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpdGVtc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBpdGVtXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gdXJsXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gaWNvblxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFkZEl0ZW0obGFiZWwsIHVybCA9IG51bGwsIGljb24gPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7IGxhYmVsIH07XG4gICAgICAgIGlmICh1cmwgIT09IG51bGwpIGl0ZW0udXJsID0gdXJsO1xuICAgICAgICBpZiAoaWNvbiAhPT0gbnVsbCkgaXRlbS5pY29uID0gaWNvbjtcbiAgICAgICAgdGhpcy5faXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGN1c3RvbSBkaXZpZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpdmlkZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBkaXZpZGVyKGRpdmlkZXIpIHtcbiAgICAgICAgdGhpcy5fZGl2aWRlciA9IGRpdmlkZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBjaGV2cm9uIGRpdmlkZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjaGV2cm9uRGl2aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2JyZWFkY3J1bWItY2hldnJvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBhcnJvdyBkaXZpZGVyXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYXJyb3dEaXZpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcygnYnJlYWRjcnVtYi1hcnJvdycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBzbGFzaCBkaXZpZGVyXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2xhc2hEaXZpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcygnYnJlYWRjcnVtYi1zbGFzaCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBwaXBlIGRpdmlkZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBwaXBlRGl2aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2JyZWFkY3J1bWItcGlwZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBkb3QgZGl2aWRlclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGRvdERpdmlkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdicmVhZGNydW1iLWRvdCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBpY29uIGRpdmlkZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpY29uRGl2aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2JyZWFkY3J1bWItaWNvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBmaWxsZWQgYmFja2dyb3VuZCBzdHlsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGZpbGxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2JyZWFkY3J1bWItZmlsbGVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlIHBpbGxzIHN0eWxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgcGlsbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdicmVhZGNydW1iLXBpbGxzJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGNvbG9yIHZhcmlhbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHZhcmlhbnQodmFyaWFudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcygnYnJlYWRjcnVtYi0nICsgdmFyaWFudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlIHByaW1hcnkgY29sb3IgdmFyaWFudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHByaW1hcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnQoJ3ByaW1hcnknKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2Ugc3VjY2VzcyBjb2xvciB2YXJpYW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc3VjY2VzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnc3VjY2VzcycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBkYW5nZXIgY29sb3IgdmFyaWFudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGRhbmdlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnZGFuZ2VyJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlIHdhcm5pbmcgY29sb3IgdmFyaWFudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHdhcm5pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnQoJ3dhcm5pbmcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2UgaW5mbyBjb2xvciB2YXJpYW50XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnaW5mbycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBzaXplXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpemVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaXplKHNpemUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2JyZWFkY3J1bWItJyArIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBzbWFsbCBzaXplXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc21hbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemUoJ3NtJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlIGxhcmdlIHNpemVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBsYXJnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSgnbGcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdGV4dCB0cnVuY2F0aW9uXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdHJ1bmNhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZENsYXNzKCdicmVhZGNydW1iLXRydW5jYXRlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHJlc3BvbnNpdmUgY29sbGFwc2VcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjb2xsYXBzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoJ2JyZWFkY3J1bWItY29sbGFwc2UnKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGF0dHJpYnV0ZXNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgYXR0cnNbJ2FyaWEtbGFiZWwnXSA9ICdicmVhZGNydW1iJztcbiAgICAgICAgaWYgKHRoaXMuX2RpdmlkZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGF0dHJzLnN0eWxlID0gYC0tJHtTaXhPcmJpdC5nZXRQcmVmaXgoKX0tYnJlYWRjcnVtYi1kaXZpZGVyOiAnJHt0aGlzLl9kaXZpZGVyfSc7YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gYDxvbCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdicmVhZGNydW1iJyl9XCI+YDtcbiAgICAgICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0xhc3QgPSBpZHggPT09IHRoaXMuX2l0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGlzTGFzdCB8fCAhaXRlbS51cmw7XG4gICAgICAgICAgICBsZXQgaXRlbUNsYXNzID0gU2l4T3JiaXQuY2xzKCdicmVhZGNydW1iLWl0ZW0nKTtcbiAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkgaXRlbUNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpfWA7XG5cbiAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cIiR7aXRlbUNsYXNzfVwiYDtcbiAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkgaHRtbCArPSAnIGFyaWEtY3VycmVudD1cInBhZ2VcIic7XG4gICAgICAgICAgICBodG1sICs9ICc+JztcblxuICAgICAgICAgICAgLy8gSWNvblxuICAgICAgICAgICAgbGV0IGljb25IdG1sID0gJyc7XG4gICAgICAgICAgICBpZiAoaXRlbS5pY29uKSB7XG4gICAgICAgICAgICAgICAgaWNvbkh0bWwgPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29ucyAke1NpeE9yYml0LmNscygnbWUtMScpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbChpdGVtLmljb24pfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzQWN0aXZlICYmIGl0ZW0udXJsKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGEgaHJlZj1cIiR7dGhpcy5fZXNjYXBlSHRtbChpdGVtLnVybCl9XCI+JHtpY29uSHRtbH0ke3RoaXMuX2VzY2FwZUh0bWwoaXRlbS5sYWJlbCl9PC9hPmA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gaWNvbkh0bWwgKyB0aGlzLl9lc2NhcGVIdG1sKGl0ZW0ubGFiZWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBodG1sICs9ICc8L2xpPic7XG4gICAgICAgIH0pO1xuICAgICAgICBodG1sICs9ICc8L29sPic7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEludGVyYWN0aXZpdHkgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGl0ZW1zIGR5bmFtaWNhbGx5XG4gICAgICogQHBhcmFtIHtBcnJheX0gaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRJdGVtcyhpdGVtcykge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0SXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgaXRlbSBieSBpbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHJlbW92ZUl0ZW0oaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLl9pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29udGVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBpdGVtIGJ5IGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB1cGRhdGVJdGVtKGluZGV4LCBpdGVtKSB7XG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5faXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVtc1tpbmRleF0gPSB7IC4uLnRoaXMuX2l0ZW1zW2luZGV4XSwgLi4uaXRlbSB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbnRlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbGwgaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjbGVhckl0ZW1zKCkge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGN1c3RvbSBkaXZpZGVyIGR5bmFtaWNhbGx5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpdmlkZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXREaXZpZGVyKGRpdmlkZXIpIHtcbiAgICAgICAgdGhpcy5fZGl2aWRlciA9IGRpdmlkZXI7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sRWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdvbCcpO1xuICAgICAgICAgICAgaWYgKG9sRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIG9sRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShgLS0ke1NpeE9yYml0LmdldFByZWZpeCgpfS1icmVhZGNydW1iLWRpdmlkZXJgLCBgJyR7ZGl2aWRlcn0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBicmVhZGNydW1iIGNvbnRlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVDb250ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5yZW5kZXJDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG4gICAgICAgIGlmICh0aGlzLl9pdGVtcy5sZW5ndGggPiAwKSBjb25maWcuaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgaWYgKHRoaXMuX2RpdmlkZXIgIT09IG51bGwpIGNvbmZpZy5kaXZpZGVyID0gdGhpcy5fZGl2aWRlcjtcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJyZWFkY3J1bWI7XG5leHBvcnQgeyBCcmVhZGNydW1iIH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIFBBR0lOQVRJT04gRUxFTUVOVFxuLy8gUGFnZSBuYXZpZ2F0aW9uIHdpdGggaW50ZXJhY3RpdmUgY29udHJvbHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuY2xhc3MgUGFnaW5hdGlvbiBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLXBhZ2luYXRpb24nO1xuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgLi4uRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ3BhZ2luYXRpb24nLFxuICAgICAgICB0YWdOYW1lOiAnbmF2J1xuICAgIH07XG5cbiAgICAvLyBJbnN0YW5jZSByZWdpc3RyeSBmb3IgZ2V0SW5zdGFuY2VcbiAgICBzdGF0aWMgaW5zdGFuY2VzID0gbmV3IE1hcCgpO1xuXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcblxuICAgICAgICAvLyBDb3JlIHBhZ2luYXRpb24gcHJvcGVydGllc1xuICAgICAgICB0aGlzLl9jdXJyZW50UGFnZSA9IGNvbmZpZy5jdXJyZW50UGFnZSB8fCAxO1xuICAgICAgICB0aGlzLl90b3RhbFBhZ2VzID0gY29uZmlnLnRvdGFsUGFnZXMgfHwgMTtcbiAgICAgICAgdGhpcy5fdG90YWxJdGVtcyA9IGNvbmZpZy50b3RhbEl0ZW1zIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2l0ZW1zUGVyUGFnZSA9IGNvbmZpZy5pdGVtc1BlclBhZ2UgfHwgMTA7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRvdGFsUGFnZXMgZnJvbSB0b3RhbEl0ZW1zIGlmIHByb3ZpZGVkXG4gICAgICAgIGlmICh0aGlzLl90b3RhbEl0ZW1zICE9PSBudWxsICYmIHRoaXMuX2l0ZW1zUGVyUGFnZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5fdG90YWxJdGVtcyAvIHRoaXMuX2l0ZW1zUGVyUGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVUkwgY29uZmlndXJhdGlvblxuICAgICAgICB0aGlzLl9iYXNlVXJsID0gY29uZmlnLmJhc2VVcmwgfHwgJyMnO1xuICAgICAgICB0aGlzLl9wYWdlUGFyYW0gPSBjb25maWcucGFnZVBhcmFtIHx8ICdwYWdlJztcblxuICAgICAgICAvLyBEaXNwbGF5IG9wdGlvbnNcbiAgICAgICAgdGhpcy5fc2hvd1ByZXZOZXh0ID0gY29uZmlnLnNob3dQcmV2TmV4dCAhPT0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Nob3dGaXJzdExhc3QgPSBjb25maWcuc2hvd0ZpcnN0TGFzdCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fbWF4VmlzaWJsZSA9IGNvbmZpZy5tYXhWaXNpYmxlIHx8IDU7XG5cbiAgICAgICAgLy8gU3R5bGluZ1xuICAgICAgICB0aGlzLl9zaXplID0gY29uZmlnLnNpemUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IGNvbmZpZy52YXJpYW50IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gY29uZmlnLmNvbG9yIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2FsaWdubWVudCA9IGNvbmZpZy5hbGlnbm1lbnQgfHwgJ3N0YXJ0JztcblxuICAgICAgICAvLyBBZHZhbmNlZCBmZWF0dXJlc1xuICAgICAgICB0aGlzLl9zaG93SW5mbyA9IGNvbmZpZy5zaG93SW5mbyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5faW5mb1RlbXBsYXRlID0gY29uZmlnLmluZm9UZW1wbGF0ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9zaG93UGVyUGFnZVNlbGVjdG9yID0gY29uZmlnLnNob3dQZXJQYWdlU2VsZWN0b3IgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3BlclBhZ2VPcHRpb25zID0gY29uZmlnLnBlclBhZ2VPcHRpb25zIHx8IFsxMCwgMjUsIDUwLCAxMDBdO1xuICAgICAgICB0aGlzLl9zaG93SnVtcFRvUGFnZSA9IGNvbmZpZy5zaG93SnVtcFRvUGFnZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2ltcGxlTW9kZSA9IGNvbmZpZy5zaW1wbGVNb2RlIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl91c2VJY29ucyA9IGNvbmZpZy51c2VJY29ucyAhPT0gZmFsc2U7XG5cbiAgICAgICAgLy8gTGFiZWxzXG4gICAgICAgIHRoaXMuX2xhYmVscyA9IHtcbiAgICAgICAgICAgIGZpcnN0OiAnRmlyc3QnLFxuICAgICAgICAgICAgbGFzdDogJ0xhc3QnLFxuICAgICAgICAgICAgcHJldmlvdXM6ICdQcmV2aW91cycsXG4gICAgICAgICAgICBuZXh0OiAnTmV4dCcsXG4gICAgICAgICAgICAuLi4oY29uZmlnLmxhYmVscyB8fCB7fSlcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFdmVudCBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5fb25QYWdlQ2hhbmdlID0gY29uZmlnLm9uUGFnZUNoYW5nZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9vblBlclBhZ2VDaGFuZ2UgPSBjb25maWcub25QZXJQYWdlQ2hhbmdlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIENPTkZJR1VSQVRJT04gTUVUSE9EU1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGN1cnJlbnRQYWdlKHBhZ2UpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0b3RhbFBhZ2VzKHBhZ2VzKSB7XG4gICAgICAgIHRoaXMuX3RvdGFsUGFnZXMgPSBwYWdlcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnJvbVRvdGFsKHRvdGFsSXRlbXMsIGl0ZW1zUGVyUGFnZSA9IDEwKSB7XG4gICAgICAgIHRoaXMuX3RvdGFsSXRlbXMgPSB0b3RhbEl0ZW1zO1xuICAgICAgICB0aGlzLl9pdGVtc1BlclBhZ2UgPSBpdGVtc1BlclBhZ2U7XG4gICAgICAgIHRoaXMuX3RvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWxJdGVtcyAvIGl0ZW1zUGVyUGFnZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGl0ZW1zUGVyUGFnZShpdGVtcykge1xuICAgICAgICB0aGlzLl9pdGVtc1BlclBhZ2UgPSBpdGVtcztcbiAgICAgICAgaWYgKHRoaXMuX3RvdGFsSXRlbXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5fdG90YWxJdGVtcyAvIHRoaXMuX2l0ZW1zUGVyUGFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYmFzZVVybCh1cmwpIHtcbiAgICAgICAgdGhpcy5fYmFzZVVybCA9IHVybDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcGFnZVBhcmFtKHBhcmFtKSB7XG4gICAgICAgIHRoaXMuX3BhZ2VQYXJhbSA9IHBhcmFtO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzaG93UHJldk5leHQoc2hvdyA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fc2hvd1ByZXZOZXh0ID0gc2hvdztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2hvd0ZpcnN0TGFzdChzaG93ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9zaG93Rmlyc3RMYXN0ID0gc2hvdztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbWF4VmlzaWJsZShtYXgpIHtcbiAgICAgICAgdGhpcy5fbWF4VmlzaWJsZSA9IG1heDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2l6ZShzKSB7XG4gICAgICAgIHRoaXMuX3NpemUgPSBzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzbWFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSgnc20nKTtcbiAgICB9XG5cbiAgICBsYXJnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSgnbGcnKTtcbiAgICB9XG5cbiAgICB2YXJpYW50KHYpIHtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IHY7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJvdW5kZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnQoJ3JvdW5kZWQnKTtcbiAgICB9XG5cbiAgICBvdXRsaW5lZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnb3V0bGluZWQnKTtcbiAgICB9XG5cbiAgICBtaW5pbWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCdtaW5pbWFsJyk7XG4gICAgfVxuXG4gICAgY29sb3IoYykge1xuICAgICAgICB0aGlzLl9jb2xvciA9IGM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByaW1hcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yKCdwcmltYXJ5Jyk7XG4gICAgfVxuXG4gICAgc3VjY2VzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3IoJ3N1Y2Nlc3MnKTtcbiAgICB9XG5cbiAgICBkYW5nZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yKCdkYW5nZXInKTtcbiAgICB9XG5cbiAgICBhbGlnbm1lbnQoYSkge1xuICAgICAgICB0aGlzLl9hbGlnbm1lbnQgPSBhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudCgnY2VudGVyJyk7XG4gICAgfVxuXG4gICAgZW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGlnbm1lbnQoJ2VuZCcpO1xuICAgIH1cblxuICAgIGJldHdlZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudCgnYmV0d2VlbicpO1xuICAgIH1cblxuICAgIHNob3dJbmZvKHNob3cgPSB0cnVlLCB0ZW1wbGF0ZSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5fc2hvd0luZm8gPSBzaG93O1xuICAgICAgICBpZiAodGVtcGxhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZm9UZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNob3dQZXJQYWdlU2VsZWN0b3Ioc2hvdyA9IHRydWUsIG9wdGlvbnMgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3Nob3dQZXJQYWdlU2VsZWN0b3IgPSBzaG93O1xuICAgICAgICBpZiAob3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcGVyUGFnZU9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNob3dKdW1wVG9QYWdlKHNob3cgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3Nob3dKdW1wVG9QYWdlID0gc2hvdztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2ltcGxlKGlzU2ltcGxlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9zaW1wbGVNb2RlID0gaXNTaW1wbGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHVzZUljb25zKHVzZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fdXNlSWNvbnMgPSB1c2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxhYmVscyhsYmxzKSB7XG4gICAgICAgIHRoaXMuX2xhYmVscyA9IHsgLi4udGhpcy5fbGFiZWxzLCAuLi5sYmxzIH07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBFVkVOVCBIQU5ETElOR1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIG9uUGFnZUNoYW5nZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblBhZ2VDaGFuZ2UgPSBjYWxsYmFjaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb25QZXJQYWdlQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uUGVyUGFnZUNoYW5nZSA9IGNhbGxiYWNrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hQYWdlQ2hhbmdlRXZlbnQob2xkUGFnZSwgbmV3UGFnZSkge1xuICAgICAgICBjb25zdCBkZXRhaWwgPSB7XG4gICAgICAgICAgICBvbGRQYWdlLFxuICAgICAgICAgICAgbmV3UGFnZSxcbiAgICAgICAgICAgIHBhZ2U6IG5ld1BhZ2UsXG4gICAgICAgICAgICB0b3RhbFBhZ2VzOiB0aGlzLl90b3RhbFBhZ2VzLFxuICAgICAgICAgICAgcmFuZ2U6IHRoaXMuZ2V0UGFnZVJhbmdlKClcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KCdzbzpwYWdpbmF0aW9uOmNoYW5nZScsIGRldGFpbCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX29uUGFnZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5fb25QYWdlQ2hhbmdlKG5ld1BhZ2UsIGRldGFpbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hQZXJQYWdlQ2hhbmdlRXZlbnQob2xkUGVyUGFnZSwgbmV3UGVyUGFnZSkge1xuICAgICAgICBjb25zdCBkZXRhaWwgPSB7XG4gICAgICAgICAgICBvbGRQZXJQYWdlLFxuICAgICAgICAgICAgbmV3UGVyUGFnZSxcbiAgICAgICAgICAgIHBlclBhZ2U6IG5ld1BlclBhZ2UsXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5fY3VycmVudFBhZ2VcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KCdzbzpwYWdpbmF0aW9uOnBlcnBhZ2U6Y2hhbmdlJywgZGV0YWlsKTtcblxuICAgICAgICBpZiAodGhpcy5fb25QZXJQYWdlQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl9vblBlclBhZ2VDaGFuZ2UobmV3UGVyUGFnZSwgZGV0YWlsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBJTlRFUkFDVElWRSBNRVRIT0RTIChOQVZJR0FUSU9OKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGdvVG9QYWdlKHBhZ2UpIHtcbiAgICAgICAgaWYgKHBhZ2UgPCAxIHx8IHBhZ2UgPiB0aGlzLl90b3RhbFBhZ2VzIHx8IHBhZ2UgPT09IHRoaXMuX2N1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9sZFBhZ2UgPSB0aGlzLl9jdXJyZW50UGFnZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFBhZ2UgPSBwYWdlO1xuXG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVET00oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoUGFnZUNoYW5nZUV2ZW50KG9sZFBhZ2UsIHBhZ2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBuZXh0UGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ29Ub1BhZ2UodGhpcy5fY3VycmVudFBhZ2UgKyAxKTtcbiAgICB9XG5cbiAgICBwcmV2UGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ29Ub1BhZ2UodGhpcy5fY3VycmVudFBhZ2UgLSAxKTtcbiAgICB9XG5cbiAgICBmaXJzdFBhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdvVG9QYWdlKDEpO1xuICAgIH1cblxuICAgIGxhc3RQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nb1RvUGFnZSh0aGlzLl90b3RhbFBhZ2VzKTtcbiAgICB9XG5cbiAgICBzZXRQZXJQYWdlKHBlclBhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wZXJQYWdlT3B0aW9ucy5pbmNsdWRlcyhwZXJQYWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbGRQZXJQYWdlID0gdGhpcy5faXRlbXNQZXJQYWdlO1xuICAgICAgICB0aGlzLl9pdGVtc1BlclBhZ2UgPSBwZXJQYWdlO1xuXG4gICAgICAgIGlmICh0aGlzLl90b3RhbEl0ZW1zICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl90b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMuX3RvdGFsSXRlbXMgLyB0aGlzLl9pdGVtc1BlclBhZ2UpO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgY3VycmVudCBwYWdlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRQYWdlID4gdGhpcy5fdG90YWxQYWdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRQYWdlID0gdGhpcy5fdG90YWxQYWdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVET00oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoUGVyUGFnZUNoYW5nZUV2ZW50KG9sZFBlclBhZ2UsIHBlclBhZ2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUVVFUlkgTUVUSE9EU1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGdldEN1cnJlbnRQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFBhZ2U7XG4gICAgfVxuXG4gICAgZ2V0VG90YWxQYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsUGFnZXM7XG4gICAgfVxuXG4gICAgZ2V0SXRlbXNQZXJQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNQZXJQYWdlO1xuICAgIH1cblxuICAgIGdldFBhZ2VSYW5nZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RvdGFsSXRlbXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSAodGhpcy5fY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMuX2l0ZW1zUGVyUGFnZSArIDE7XG4gICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHRoaXMuX2N1cnJlbnRQYWdlICogdGhpcy5faXRlbXNQZXJQYWdlLCB0aGlzLl90b3RhbEl0ZW1zKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICB0b3RhbDogdGhpcy5fdG90YWxJdGVtc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhc05leHRQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFBhZ2UgPCB0aGlzLl90b3RhbFBhZ2VzO1xuICAgIH1cblxuICAgIGhhc1ByZXZQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFBhZ2UgPiAxO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBEWU5BTUlDIENMQVNTL0FUVFJJQlVURSBNRVRIT0RTXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdXBkYXRlU2l6ZShzaXplKSB7XG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24nLCB0aGlzLl9zaXplKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygncGFnaW5hdGlvbicsIHRoaXMuX3NpemUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHVwZGF0ZVZhcmlhbnQodmFyaWFudCkge1xuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoU2l4T3JiaXQuY2xzKCdwYWdpbmF0aW9uJywgdGhpcy5fdmFyaWFudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5fdmFyaWFudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24nLCB0aGlzLl92YXJpYW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl92YXJpYW50ID0gdmFyaWFudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB1cGRhdGVDb2xvcihjb2xvcikge1xuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygncGFnaW5hdGlvbicsIHRoaXMuX2NvbG9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygncGFnaW5hdGlvbicsIHRoaXMuX2NvbG9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHVwZGF0ZUFsaWdubWVudChhbGlnbm1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZENsYXNzID0gU2l4T3JiaXQuY2xzKCdwYWdpbmF0aW9uJywgdGhpcy5fYWxpZ25tZW50KTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShvbGRDbGFzcyk7XG4gICAgICAgICAgICB0aGlzLl9hbGlnbm1lbnQgPSBhbGlnbm1lbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWxpZ25tZW50ICE9PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygncGFnaW5hdGlvbicsIHRoaXMuX2FsaWdubWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYWxpZ25tZW50ID0gYWxpZ25tZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBET00gVVBEQVRFXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgX3VwZGF0ZURPTSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSByZXR1cm47XG5cbiAgICAgICAgLy8gVXBkYXRlIGRhdGEgYXR0cmlidXRlc1xuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCdjdXJyZW50LXBhZ2UnKSwgdGhpcy5fY3VycmVudFBhZ2UpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCd0b3RhbC1wYWdlcycpLCB0aGlzLl90b3RhbFBhZ2VzKTtcblxuICAgICAgICAvLyBSZS1yZW5kZXIgY29udGVudFxuICAgICAgICB0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IHRoaXMucmVuZGVyQ29udGVudCgpO1xuXG4gICAgICAgIC8vIFJlLWF0dGFjaCBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5fYXR0YWNoRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUkVOREVSSU5HXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgbGV0IGNscyA9IFNpeE9yYml0LmNscygncGFnaW5hdGlvbicpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaXplKSBjbHMgKz0gYCAke1NpeE9yYml0LmNscygncGFnaW5hdGlvbicsIHRoaXMuX3NpemUpfWA7XG4gICAgICAgIGlmICh0aGlzLl92YXJpYW50KSBjbHMgKz0gYCAke1NpeE9yYml0LmNscygncGFnaW5hdGlvbicsIHRoaXMuX3ZhcmlhbnQpfWA7XG4gICAgICAgIGlmICh0aGlzLl9jb2xvcikgY2xzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24nLCB0aGlzLl9jb2xvcil9YDtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWdubWVudCAhPT0gJ3N0YXJ0JykgY2xzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24nLCB0aGlzLl9hbGlnbm1lbnQpfWA7XG5cbiAgICAgICAgcmV0dXJuIGNscyArICh0aGlzLl9jbGFzc2VzID8gJyAnICsgdGhpcy5fY2xhc3NlcyA6ICcnKTtcbiAgICB9XG5cbiAgICBfZ2F0aGVyQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5fZ2F0aGVyQXR0cmlidXRlcygpO1xuXG4gICAgICAgIGF0dHJzWydhcmlhLWxhYmVsJ10gPSAnUGFnZSBuYXZpZ2F0aW9uJztcblxuICAgICAgICAvLyBEYXRhIGF0dHJpYnV0ZXMgZm9yIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgaWYgKHRoaXMuX3RvdGFsSXRlbXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3RvdGFsLWl0ZW1zJyldID0gdGhpcy5fdG90YWxJdGVtcztcbiAgICAgICAgfVxuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdpdGVtcy1wZXItcGFnZScpXSA9IHRoaXMuX2l0ZW1zUGVyUGFnZTtcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgnY3VycmVudC1wYWdlJyldID0gdGhpcy5fY3VycmVudFBhZ2U7XG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3RvdGFsLXBhZ2VzJyldID0gdGhpcy5fdG90YWxQYWdlcztcblxuICAgICAgICBpZiAodGhpcy5fc2hvd0luZm8pIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3Nob3ctcGFnZS1pbmZvJyldID0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3dGaXJzdExhc3QpIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3Nob3ctZmlyc3QtbGFzdCcpXSA9ICd0cnVlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hcmsgZm9yIGF1dG8taW5pdGlhbGl6YXRpb25cbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgncGFnaW5hdGlvbicpXSA9ICcnO1xuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICBfYnVpbGRQYWdlVXJsKHBhZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Jhc2VVcmwgPT09ICcjJykge1xuICAgICAgICAgICAgcmV0dXJuICcjJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuX2Jhc2VVcmwsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQodGhpcy5fcGFnZVBhcmFtLCBwYWdlKTtcbiAgICAgICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5fYmFzZVVybH0ke3RoaXMuX3BhZ2VQYXJhbX09JHtwYWdlfWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuXG4gICAgICAgIC8vIFBlci1wYWdlIHNlbGVjdG9yIChiZWZvcmUgbmF2aWdhdGlvbilcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dQZXJQYWdlU2VsZWN0b3IgJiYgdGhpcy5fYWxpZ25tZW50ID09PSAnYmV0d2VlbicpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyUGVyUGFnZVNlbGVjdG9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYWdlIGluZm8gKGJlZm9yZSBuYXZpZ2F0aW9uKVxuICAgICAgICBpZiAodGhpcy5fc2hvd0luZm8gJiYgdGhpcy5fYWxpZ25tZW50ID09PSAnYmV0d2VlbicpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyUGFnZUluZm8oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5hdmlnYXRpb25cbiAgICAgICAgaHRtbCArPSB0aGlzLl9yZW5kZXJOYXZpZ2F0aW9uKCk7XG5cbiAgICAgICAgLy8gSnVtcCB0byBwYWdlIChhZnRlciBuYXZpZ2F0aW9uKVxuICAgICAgICBpZiAodGhpcy5fc2hvd0p1bXBUb1BhZ2UgJiYgdGhpcy5fYWxpZ25tZW50ID09PSAnYmV0d2VlbicpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVySnVtcFRvUGFnZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhbmRhbG9uZSBpbmZvIChpZiBub3QgYmV0d2VlbiBsYXlvdXQpXG4gICAgICAgIGlmICh0aGlzLl9zaG93SW5mbyAmJiB0aGlzLl9hbGlnbm1lbnQgIT09ICdiZXR3ZWVuJykge1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9yZW5kZXJQYWdlSW5mbygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgX3JlbmRlck5hdmlnYXRpb24oKSB7XG4gICAgICAgIGxldCBodG1sID0gYDx1bCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdwYWdpbmF0aW9uLW5hdicpfVwiPmA7XG5cbiAgICAgICAgLy8gRmlyc3QgYnV0dG9uXG4gICAgICAgIGlmICh0aGlzLl9zaG93Rmlyc3RMYXN0KSB7XG4gICAgICAgICAgICBjb25zdCBkaXNhYmxlZCA9IHRoaXMuX2N1cnJlbnRQYWdlIDw9IDE7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5fdXNlSWNvbnNcbiAgICAgICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Zmlyc3RfcGFnZTwvc3Bhbj4nXG4gICAgICAgICAgICAgICAgOiB0aGlzLl9sYWJlbHMuZmlyc3Q7XG4gICAgICAgICAgICBodG1sICs9IHRoaXMuX3JlbmRlclBhZ2VJdGVtKGNvbnRlbnQsIDEsIGRpc2FibGVkLCBmYWxzZSwgdGhpcy5fbGFiZWxzLmZpcnN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZXZpb3VzIGJ1dHRvblxuICAgICAgICBpZiAodGhpcy5fc2hvd1ByZXZOZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBkaXNhYmxlZCA9IHRoaXMuX2N1cnJlbnRQYWdlIDw9IDE7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5fdXNlSWNvbnNcbiAgICAgICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPidcbiAgICAgICAgICAgICAgICA6IHRoaXMuX2xhYmVscy5wcmV2aW91cztcbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyUGFnZUl0ZW0oY29udGVudCwgdGhpcy5fY3VycmVudFBhZ2UgLSAxLCBkaXNhYmxlZCwgZmFsc2UsIHRoaXMuX2xhYmVscy5wcmV2aW91cyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYWdlIG51bWJlcnMgKHVubGVzcyBzaW1wbGUgbW9kZSlcbiAgICAgICAgaWYgKCF0aGlzLl9zaW1wbGVNb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBwYWdlcyA9IHRoaXMuX2dldFZpc2libGVQYWdlcygpO1xuICAgICAgICAgICAgcGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFnZSA9PT0gJy4uLicpIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3BhZ2UtZWxsaXBzaXMnKX1cIj4uLi48L2xpPmA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlID0gcGFnZSA9PT0gdGhpcy5fY3VycmVudFBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyUGFnZUl0ZW0oU3RyaW5nKHBhZ2UpLCBwYWdlLCBmYWxzZSwgYWN0aXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5leHQgYnV0dG9uXG4gICAgICAgIGlmICh0aGlzLl9zaG93UHJldk5leHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5fY3VycmVudFBhZ2UgPj0gdGhpcy5fdG90YWxQYWdlcztcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLl91c2VJY29uc1xuICAgICAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPidcbiAgICAgICAgICAgICAgICA6IHRoaXMuX2xhYmVscy5uZXh0O1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9yZW5kZXJQYWdlSXRlbShjb250ZW50LCB0aGlzLl9jdXJyZW50UGFnZSArIDEsIGRpc2FibGVkLCBmYWxzZSwgdGhpcy5fbGFiZWxzLm5leHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTGFzdCBidXR0b25cbiAgICAgICAgaWYgKHRoaXMuX3Nob3dGaXJzdExhc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5fY3VycmVudFBhZ2UgPj0gdGhpcy5fdG90YWxQYWdlcztcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLl91c2VJY29uc1xuICAgICAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5sYXN0X3BhZ2U8L3NwYW4+J1xuICAgICAgICAgICAgICAgIDogdGhpcy5fbGFiZWxzLmxhc3Q7XG4gICAgICAgICAgICBodG1sICs9IHRoaXMuX3JlbmRlclBhZ2VJdGVtKGNvbnRlbnQsIHRoaXMuX3RvdGFsUGFnZXMsIGRpc2FibGVkLCBmYWxzZSwgdGhpcy5fbGFiZWxzLmxhc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICBfcmVuZGVyUGFnZUl0ZW0oY29udGVudCwgcGFnZSwgZGlzYWJsZWQgPSBmYWxzZSwgYWN0aXZlID0gZmFsc2UsIGFyaWFMYWJlbCA9IG51bGwpIHtcbiAgICAgICAgbGV0IGl0ZW1DbGFzcyA9IFNpeE9yYml0LmNscygncGFnZS1pdGVtJyk7XG4gICAgICAgIGlmIChkaXNhYmxlZCkgaXRlbUNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ2Rpc2FibGVkJyl9YDtcbiAgICAgICAgaWYgKGFjdGl2ZSkgaXRlbUNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpfWA7XG5cbiAgICAgICAgbGV0IGh0bWwgPSBgPGxpIGNsYXNzPVwiJHtpdGVtQ2xhc3N9XCI+YDtcblxuICAgICAgICBjb25zdCBsaW5rQ2xhc3MgPSBTaXhPcmJpdC5jbHMoJ3BhZ2UtbGluaycpO1xuXG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPGEgY2xhc3M9XCIke2xpbmtDbGFzc31cIiBocmVmPVwiI1wiIGFyaWEtZGlzYWJsZWQ9XCJ0cnVlXCIgdGFiaW5kZXg9XCItMVwiYDtcbiAgICAgICAgICAgIGlmIChhcmlhTGFiZWwpIGh0bWwgKz0gYCBhcmlhLWxhYmVsPVwiJHthcmlhTGFiZWx9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSBgPiR7Y29udGVudH08L2E+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxhIGNsYXNzPVwiJHtsaW5rQ2xhc3N9XCIgaHJlZj1cIiR7dGhpcy5fYnVpbGRQYWdlVXJsKHBhZ2UpfVwiIGRhdGEtcGFnZT1cIiR7cGFnZX1cImA7XG4gICAgICAgICAgICBpZiAoYXJpYUxhYmVsKSBodG1sICs9IGAgYXJpYS1sYWJlbD1cIiR7YXJpYUxhYmVsfVwiYDtcbiAgICAgICAgICAgIGlmIChhY3RpdmUpIGh0bWwgKz0gJyBhcmlhLWN1cnJlbnQ9XCJwYWdlXCInO1xuICAgICAgICAgICAgaHRtbCArPSBgPiR7Y29udGVudH08L2E+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gJzwvbGk+JztcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgX3JlbmRlclBhZ2VJbmZvKCkge1xuICAgICAgICBpZiAodGhpcy5fdG90YWxJdGVtcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmdldFBhZ2VSYW5nZSgpO1xuICAgICAgICBsZXQgdGV4dDtcblxuICAgICAgICBpZiAodGhpcy5faW5mb1RlbXBsYXRlKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy5faW5mb1RlbXBsYXRlXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3tzdGFydH0nLCByYW5nZS5zdGFydClcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgne2VuZH0nLCByYW5nZS5lbmQpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3t0b3RhbH0nLCByYW5nZS50b3RhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0ID0gYFNob3dpbmcgPHN0cm9uZz4ke3JhbmdlLnN0YXJ0fS0ke3JhbmdlLmVuZH08L3N0cm9uZz4gb2YgPHN0cm9uZz4ke3JhbmdlLnRvdGFsfTwvc3Ryb25nPiByZXN1bHRzYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFnaW5hdGlvbi1pbmZvJyl9XCI+JHt0ZXh0fTwvc3Bhbj5gO1xuICAgIH1cblxuICAgIF9yZW5kZXJQZXJQYWdlU2VsZWN0b3IoKSB7XG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFnaW5hdGlvbi1wZXItcGFnZScpfVwiPmA7XG4gICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24tbGFiZWwnKX1cIj5Sb3dzIHBlciBwYWdlOjwvc3Bhbj5gO1xuICAgICAgICBodG1sICs9IGA8c2VsZWN0IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24tc2VsZWN0Jyl9XCI+YDtcblxuICAgICAgICB0aGlzLl9wZXJQYWdlT3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IG9wdGlvbiA9PT0gdGhpcy5faXRlbXNQZXJQYWdlID8gJyBzZWxlY3RlZCcgOiAnJztcbiAgICAgICAgICAgIGh0bWwgKz0gYDxvcHRpb24gdmFsdWU9XCIke29wdGlvbn1cIiR7c2VsZWN0ZWR9PiR7b3B0aW9ufTwvb3B0aW9uPmA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGh0bWwgKz0gJzwvc2VsZWN0PjwvZGl2Pic7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIF9yZW5kZXJKdW1wVG9QYWdlKCkge1xuICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24tanVtcCcpfVwiPmA7XG4gICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24tanVtcC1sYWJlbCcpfVwiPkdvIHRvIHBhZ2U6PC9zcGFuPmA7XG4gICAgICAgIGh0bWwgKz0gYDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCIke1NpeE9yYml0LmNscygncGFnaW5hdGlvbi1qdW1wLWlucHV0Jyl9XCIgYDtcbiAgICAgICAgaHRtbCArPSBgbWluPVwiMVwiIG1heD1cIiR7dGhpcy5fdG90YWxQYWdlc31cIiB2YWx1ZT1cIiR7dGhpcy5fY3VycmVudFBhZ2V9XCI+YDtcbiAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdwYWdpbmF0aW9uLWp1bXAtYnRuJyl9XCI+R288L2J1dHRvbj5gO1xuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICBfZ2V0VmlzaWJsZVBhZ2VzKCkge1xuICAgICAgICBpZiAodGhpcy5fdG90YWxQYWdlcyA8PSB0aGlzLl9tYXhWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogdGhpcy5fdG90YWxQYWdlcyB9LCAoXywgaSkgPT4gaSArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFnZXMgPSBbXTtcbiAgICAgICAgY29uc3QgaGFsZiA9IE1hdGguZmxvb3IoKHRoaXMuX21heFZpc2libGUgLSAyKSAvIDIpO1xuXG4gICAgICAgIGxldCBzdGFydCA9IE1hdGgubWF4KDIsIHRoaXMuX2N1cnJlbnRQYWdlIC0gaGFsZik7XG4gICAgICAgIGxldCBlbmQgPSBNYXRoLm1pbih0aGlzLl90b3RhbFBhZ2VzIC0gMSwgdGhpcy5fY3VycmVudFBhZ2UgKyBoYWxmKTtcblxuICAgICAgICAvLyBBZGp1c3QgaWYgYXQgZWRnZXNcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRQYWdlIDw9IGhhbGYgKyAxKSB7XG4gICAgICAgICAgICBlbmQgPSBNYXRoLm1pbih0aGlzLl9tYXhWaXNpYmxlIC0gMSwgdGhpcy5fdG90YWxQYWdlcyAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50UGFnZSA+PSB0aGlzLl90b3RhbFBhZ2VzIC0gaGFsZikge1xuICAgICAgICAgICAgc3RhcnQgPSBNYXRoLm1heCgyLCB0aGlzLl90b3RhbFBhZ2VzIC0gdGhpcy5fbWF4VmlzaWJsZSArIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWx3YXlzIHNob3cgZmlyc3QgcGFnZVxuICAgICAgICBwYWdlcy5wdXNoKDEpO1xuXG4gICAgICAgIC8vIEFkZCBlbGxpcHNpcyBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHN0YXJ0ID4gMikge1xuICAgICAgICAgICAgcGFnZXMucHVzaCgnLi4uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgbWlkZGxlIHBhZ2VzXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgICAgICAgICAgcGFnZXMucHVzaChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBlbGxpcHNpcyBpZiBuZWVkZWRcbiAgICAgICAgaWYgKGVuZCA8IHRoaXMuX3RvdGFsUGFnZXMgLSAxKSB7XG4gICAgICAgICAgICBwYWdlcy5wdXNoKCcuLi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsd2F5cyBzaG93IGxhc3QgcGFnZVxuICAgICAgICBpZiAodGhpcy5fdG90YWxQYWdlcyA+IDEpIHtcbiAgICAgICAgICAgIHBhZ2VzLnB1c2godGhpcy5fdG90YWxQYWdlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIEVWRU5UIExJU1RFTkVSU1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIF9hdHRhY2hFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSByZXR1cm47XG5cbiAgICAgICAgLy8gUGFnZSBsaW5rIGNsaWNrc1xuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke1NpeE9yYml0LmNscygncGFnZS1saW5rJyl9W2RhdGEtcGFnZV1gKS5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlJyksIDEwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdvVG9QYWdlKHBhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFBlci1wYWdlIHNlbGVjdG9yIGNoYW5nZVxuICAgICAgICBjb25zdCBwZXJQYWdlU2VsZWN0ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtTaXhPcmJpdC5jbHMoJ3BhZ2luYXRpb24tc2VsZWN0Jyl9YCk7XG4gICAgICAgIGlmIChwZXJQYWdlU2VsZWN0KSB7XG4gICAgICAgICAgICBwZXJQYWdlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQZXJQYWdlKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlLCAxMCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBKdW1wIHRvIHBhZ2VcbiAgICAgICAgY29uc3QganVtcEJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7U2l4T3JiaXQuY2xzKCdwYWdpbmF0aW9uLWp1bXAtYnRuJyl9YCk7XG4gICAgICAgIGNvbnN0IGp1bXBJbnB1dCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7U2l4T3JiaXQuY2xzKCdwYWdpbmF0aW9uLWp1bXAtaW5wdXQnKX1gKTtcbiAgICAgICAgaWYgKGp1bXBCdG4gJiYganVtcElucHV0KSB7XG4gICAgICAgICAgICBqdW1wQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChqdW1wSW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ29Ub1BhZ2UocGFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGp1bXBJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChqdW1wSW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nb1RvUGFnZShwYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIExJRkVDWUNMRVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgaHRtbCA9IHN1cGVyLnJlbmRlcigpO1xuXG4gICAgICAgIC8vIEFmdGVyIHJlbmRlcmluZywgYXR0YWNoIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgaW5zdGFuY2VcbiAgICAgICAgICAgIFBhZ2luYXRpb24uaW5zdGFuY2VzLnNldCh0aGlzLl9lbGVtZW50LCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICBQYWdpbmF0aW9uLmluc3RhbmNlcy5kZWxldGUodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTVEFUSUMgTUVUSE9EU1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbGVtZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGluc3RhbnRpYXRlZFxuICAgICAgICBpZiAoUGFnaW5hdGlvbi5pbnN0YW5jZXMuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gUGFnaW5hdGlvbi5pbnN0YW5jZXMuZ2V0KGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGZyb20gZGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYXJzZUludChlbGVtZW50LmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCdjdXJyZW50LXBhZ2UnKSkpIHx8IDEsXG4gICAgICAgICAgICB0b3RhbFBhZ2VzOiBwYXJzZUludChlbGVtZW50LmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCd0b3RhbC1wYWdlcycpKSkgfHwgMSxcbiAgICAgICAgICAgIHRvdGFsSXRlbXM6IHBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKFNpeE9yYml0LmRhdGEoJ3RvdGFsLWl0ZW1zJykpKSB8fCBudWxsLFxuICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiBwYXJzZUludChlbGVtZW50LmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCdpdGVtcy1wZXItcGFnZScpKSkgfHwgMTAsXG4gICAgICAgICAgICBzaG93SW5mbzogZWxlbWVudC5oYXNBdHRyaWJ1dGUoU2l4T3JiaXQuZGF0YSgnc2hvdy1wYWdlLWluZm8nKSksXG4gICAgICAgICAgICBzaG93Rmlyc3RMYXN0OiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCdzaG93LWZpcnN0LWxhc3QnKSlcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBQYWdpbmF0aW9uKGNvbmZpZyk7XG4gICAgICAgIGluc3RhbmNlLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgaW5zdGFuY2UuX2F0dGFjaEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgUGFnaW5hdGlvbi5pbnN0YW5jZXMuc2V0KGVsZW1lbnQsIGluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuICAgIC8vIEF1dG8taW5pdGlhbGl6ZSBhbGwgcGFnaW5hdGlvbiBlbGVtZW50c1xuICAgIHN0YXRpYyBpbml0QWxsKCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtTaXhPcmJpdC5kYXRhKCdwYWdpbmF0aW9uJyl9XWApLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoIVBhZ2luYXRpb24uaW5zdGFuY2VzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIFBhZ2luYXRpb24uZ2V0SW5zdGFuY2UoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGNvbmZpZy5jdXJyZW50UGFnZSA9IHRoaXMuX2N1cnJlbnRQYWdlO1xuICAgICAgICBjb25maWcudG90YWxQYWdlcyA9IHRoaXMuX3RvdGFsUGFnZXM7XG4gICAgICAgIGlmICh0aGlzLl90b3RhbEl0ZW1zICE9PSBudWxsKSBjb25maWcudG90YWxJdGVtcyA9IHRoaXMuX3RvdGFsSXRlbXM7XG4gICAgICAgIGlmICh0aGlzLl9pdGVtc1BlclBhZ2UgIT09IDEwKSBjb25maWcuaXRlbXNQZXJQYWdlID0gdGhpcy5faXRlbXNQZXJQYWdlO1xuICAgICAgICBpZiAodGhpcy5fYmFzZVVybCAhPT0gJyMnKSBjb25maWcuYmFzZVVybCA9IHRoaXMuX2Jhc2VVcmw7XG4gICAgICAgIGlmICh0aGlzLl9wYWdlUGFyYW0gIT09ICdwYWdlJykgY29uZmlnLnBhZ2VQYXJhbSA9IHRoaXMuX3BhZ2VQYXJhbTtcbiAgICAgICAgaWYgKCF0aGlzLl9zaG93UHJldk5leHQpIGNvbmZpZy5zaG93UHJldk5leHQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dGaXJzdExhc3QpIGNvbmZpZy5zaG93Rmlyc3RMYXN0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX21heFZpc2libGUgIT09IDUpIGNvbmZpZy5tYXhWaXNpYmxlID0gdGhpcy5fbWF4VmlzaWJsZTtcbiAgICAgICAgaWYgKHRoaXMuX3NpemUpIGNvbmZpZy5zaXplID0gdGhpcy5fc2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuX3ZhcmlhbnQpIGNvbmZpZy52YXJpYW50ID0gdGhpcy5fdmFyaWFudDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yKSBjb25maWcuY29sb3IgPSB0aGlzLl9jb2xvcjtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWdubWVudCAhPT0gJ3N0YXJ0JykgY29uZmlnLmFsaWdubWVudCA9IHRoaXMuX2FsaWdubWVudDtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dJbmZvKSBjb25maWcuc2hvd0luZm8gPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5faW5mb1RlbXBsYXRlKSBjb25maWcuaW5mb1RlbXBsYXRlID0gdGhpcy5faW5mb1RlbXBsYXRlO1xuICAgICAgICBpZiAodGhpcy5fc2hvd1BlclBhZ2VTZWxlY3Rvcikge1xuICAgICAgICAgICAgY29uZmlnLnNob3dQZXJQYWdlU2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLnBlclBhZ2VPcHRpb25zID0gdGhpcy5fcGVyUGFnZU9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3Nob3dKdW1wVG9QYWdlKSBjb25maWcuc2hvd0p1bXBUb1BhZ2UgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fc2ltcGxlTW9kZSkgY29uZmlnLnNpbXBsZU1vZGUgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuX3VzZUljb25zKSBjb25maWcudXNlSWNvbnMgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuLy8gQXV0by1pbml0aWFsaXplIG9uIERPTSByZWFkeVxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiBQYWdpbmF0aW9uLmluaXRBbGwoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgUGFnaW5hdGlvbi5pbml0QWxsKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYWdpbmF0aW9uO1xuZXhwb3J0IHsgUGFnaW5hdGlvbiB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBDQVJPVVNFTCBFTEVNRU5UXG4vLyBJbWFnZS9jb250ZW50IHNsaWRlclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG4vKipcbiAqIENhcm91c2VsIC0gSW1hZ2UvY29udGVudCBzbGlkZXIgZWxlbWVudFxuICovXG5jbGFzcyBDYXJvdXNlbCBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLWNhcm91c2VsJztcblxuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgLi4uRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ2Nhcm91c2VsJyxcbiAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX3NsaWRlcyA9IGNvbmZpZy5zbGlkZXMgfHwgW107XG4gICAgICAgIHRoaXMuX2luZGljYXRvcnMgPSBjb25maWcuaW5kaWNhdG9ycyAhPT0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NvbnRyb2xzID0gY29uZmlnLmNvbnRyb2xzICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXV0b3BsYXkgPSBjb25maWcuYXV0b3BsYXkgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gY29uZmlnLmludGVydmFsIHx8IDUwMDA7XG4gICAgICAgIHRoaXMuX2ZhZGUgPSBjb25maWcuZmFkZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fdG91Y2ggPSBjb25maWcudG91Y2ggIT09IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXVzZU9uSG92ZXIgPSBjb25maWcucGF1c2VPbkhvdmVyICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGFyayA9IGNvbmZpZy5kYXJrIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9rZXlib2FyZCA9IGNvbmZpZy5rZXlib2FyZCAhPT0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBjb25maWcubG9vcCAhPT0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gY29uZmlnLml0ZW1zIHx8IDE7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gU2xpZGUgTWFuYWdlbWVudFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IHNsaWRlc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNsaWRlc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNsaWRlcyhzbGlkZXMpIHtcbiAgICAgICAgdGhpcy5fc2xpZGVzID0gc2xpZGVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgc2xpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSB0aXRsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gYWx0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWRkU2xpZGUoaW1hZ2UsIHRpdGxlID0gbnVsbCwgZGVzY3JpcHRpb24gPSBudWxsLCBhbHQgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlID0geyBpbWFnZSB9O1xuICAgICAgICBpZiAodGl0bGUgIT09IG51bGwpIHNsaWRlLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIGlmIChkZXNjcmlwdGlvbiAhPT0gbnVsbCkgc2xpZGUuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgaWYgKGFsdCAhPT0gbnVsbCkgc2xpZGUuYWx0ID0gYWx0O1xuICAgICAgICB0aGlzLl9zbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbnRyb2wgQ29uZmlndXJhdGlvblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2hvdy9oaWRlIGluZGljYXRvcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpbmRpY2F0b3JzKHNob3cgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2luZGljYXRvcnMgPSBzaG93O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93L2hpZGUgY29udHJvbHNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjb250cm9scyhzaG93ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9jb250cm9scyA9IHNob3c7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBhdXRvcGxheVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXV0b3BsYXlcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhdXRvcGxheShhdXRvcGxheSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fYXV0b3BsYXkgPSBhdXRvcGxheTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGludGVydmFsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1zXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaW50ZXJ2YWwobXMpIHtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBtcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGZhZGUgdHJhbnNpdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmFkZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGZhZGUoZmFkZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZmFkZSA9IGZhZGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZS9kaXNhYmxlIHRvdWNoXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0b3VjaFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRvdWNoKHRvdWNoID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl90b3VjaCA9IHRvdWNoO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSBvbiBob3ZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGF1c2VcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBwYXVzZU9uSG92ZXIocGF1c2UgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3BhdXNlT25Ib3ZlciA9IHBhdXNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEYXJrIHZhcmlhbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRhcmtcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBkYXJrKGRhcmsgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2RhcmsgPSBkYXJrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ga2V5Ym9hcmRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBrZXlib2FyZChrZXlib2FyZCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQgPSBrZXlib2FyZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGxvb3Avd3JhcCBhcm91bmRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxvb3BcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBsb29wKGxvb3AgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBsb29wO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDYXJvdXNlbCBWYXJpYW50c1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogSGVybyBjYXJvdXNlbCAoY2VudGVyIHdpdGggcGVlayBlZmZlY3QpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaGVybygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoU2l4T3JiaXQuY2xzKCdjYXJvdXNlbC1oZXJvJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpLWl0ZW0gY2Fyb3VzZWxcbiAgICAgKiBAcGFyYW0ge251bWJlcnxudWxsfSBpdGVtcyBOdW1iZXIgb2YgdmlzaWJsZSBpdGVtc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG11bHRpKGl0ZW1zID0gbnVsbCkge1xuICAgICAgICB0aGlzLmFkZENsYXNzKFNpeE9yYml0LmNscygnY2Fyb3VzZWwtbXVsdGknKSk7XG4gICAgICAgIGlmIChpdGVtcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbWFsbCBzaXplIHZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzbWFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoU2l4T3JiaXQuY2xzKCdjYXJvdXNlbC1zbScpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMYXJnZSBzaXplIHZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBsYXJnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoU2l4T3JiaXQuY2xzKCdjYXJvdXNlbC1sZycpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IGNvbnRyb2xzIG9ubHkgb24gaG92ZXJcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjb250cm9sc0hvdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDbGFzcyhTaXhPcmJpdC5jbHMoJ2Nhcm91c2VsLWNvbnRyb2xzLWhvdmVyJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBsaW5lLXN0eWxlIGluZGljYXRvcnNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBsaW5lSW5kaWNhdG9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ2xhc3MoU2l4T3JiaXQuY2xzKCdjYXJvdXNlbC1pbmRpY2F0b3JzLWxpbmUnKSk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Nlc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2Nhcm91c2VsJykpO1xuXG4gICAgICAgIGlmICh0aGlzLl9mYWRlKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnY2Fyb3VzZWwtZmFkZScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9kYXJrKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnY2Fyb3VzZWwtZGFyaycpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuXG4gICAgICAgIC8vIE1haW4gY2Fyb3VzZWwgaWRlbnRpZmllclxuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdjYXJvdXNlbCcpXSA9ICcnO1xuXG4gICAgICAgIC8vIEF1dG9wbGF5XG4gICAgICAgIGlmICh0aGlzLl9hdXRvcGxheSkge1xuICAgICAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgnYXV0b3BsYXknKV0gPSAndHJ1ZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnRlcnZhbFxuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdpbnRlcnZhbCcpXSA9IHRoaXMuX2ludGVydmFsO1xuXG4gICAgICAgIC8vIExvb3BcbiAgICAgICAgaWYgKCF0aGlzLl9sb29wKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdsb29wJyldID0gJ2ZhbHNlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhdXNlIG9uIGhvdmVyXG4gICAgICAgIGlmICghdGhpcy5fcGF1c2VPbkhvdmVyKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdwYXVzZS1vbi1ob3ZlcicpXSA9ICdmYWxzZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBLZXlib2FyZFxuICAgICAgICBpZiAoIXRoaXMuX2tleWJvYXJkKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCdrZXlib2FyZCcpXSA9ICdmYWxzZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUb3VjaFxuICAgICAgICBpZiAoIXRoaXMuX3RvdWNoKSB7XG4gICAgICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd0b3VjaCcpXSA9ICdmYWxzZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJdGVtcyAoZm9yIG11bHRpLWl0ZW0gY2Fyb3VzZWwpXG4gICAgICAgIGlmICh0aGlzLl9pdGVtcyA+IDEpIHtcbiAgICAgICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ2l0ZW1zJyldID0gdGhpcy5faXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IGNhcm91c2VsSWQgPSB0aGlzLl9pZCB8fCBgY2Fyb3VzZWwtJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTEpfWA7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgLy8gSW5kaWNhdG9yc1xuICAgICAgICBpZiAodGhpcy5faW5kaWNhdG9ycyAmJiB0aGlzLl9zbGlkZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjYXJvdXNlbC1pbmRpY2F0b3JzJyl9XCI+YDtcbiAgICAgICAgICAgIHRoaXMuX3NsaWRlcy5mb3JFYWNoKChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNsYXNzID0gaW5kZXggPT09IDAgPyBgICR7U2l4T3JiaXQuY2xzKCdhY3RpdmUnKX1gIDogJyc7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2Fyb3VzZWwtaW5kaWNhdG9yJyl9JHthY3RpdmVDbGFzc31cImA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgICR7U2l4T3JiaXQuZGF0YSgnc2xpZGUnKX09XCIke2luZGV4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnIGFyaWEtY3VycmVudD1cInRydWVcIic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGh0bWwgKz0gYCBhcmlhLWxhYmVsPVwiR28gdG8gc2xpZGUgJHtpbmRleCArIDF9XCI+PC9idXR0b24+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNsaWRlc1xuICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Nhcm91c2VsLWlubmVyJyl9XCI+YDtcbiAgICAgICAgdGhpcy5fc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2xhc3MgPSBpbmRleCA9PT0gMCA/IGAgJHtTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpfWAgOiAnJztcbiAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2Fyb3VzZWwtc2xpZGUnKX0ke2FjdGl2ZUNsYXNzfVwiPmA7XG5cbiAgICAgICAgICAgIGlmIChzbGlkZS5pbWFnZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxpbWcgc3JjPVwiJHt0aGlzLl9lc2NhcGVIdG1sKHNsaWRlLmltYWdlKX1cIiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdkLWJsb2NrJyl9ICR7U2l4T3JiaXQuY2xzKCd3LTEwMCcpfVwiYDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGAgYWx0PVwiJHt0aGlzLl9lc2NhcGVIdG1sKHNsaWRlLmFsdCB8fCAnJyl9XCI+YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2FwdGlvblxuICAgICAgICAgICAgaWYgKHNsaWRlLnRpdGxlIHx8IHNsaWRlLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjYXJvdXNlbC1jYXB0aW9uJyl9XCI+YDtcbiAgICAgICAgICAgICAgICBpZiAoc2xpZGUudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGg0IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Nhcm91c2VsLWNhcHRpb24tdGl0bGUnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwoc2xpZGUudGl0bGUpfTwvaDQ+YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Nhcm91c2VsLWNhcHRpb24tdGV4dCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbChzbGlkZS5kZXNjcmlwdGlvbil9PC9wPmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgIH0pO1xuICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgICAgIC8vIENvbnRyb2xzXG4gICAgICAgIGlmICh0aGlzLl9jb250cm9scyAmJiB0aGlzLl9zbGlkZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjYXJvdXNlbC1jb250cm9sJyl9ICR7U2l4T3JiaXQuY2xzKCdjYXJvdXNlbC1jb250cm9sLXByZXYnKX1cIiB0eXBlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD1cIlByZXZpb3VzIHNsaWRlXCI+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jaGV2cm9uX2xlZnQ8L3NwYW4+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gYDwvYnV0dG9uPmA7XG5cbiAgICAgICAgICAgIGh0bWwgKz0gYDxidXR0b24gY2xhc3M9XCIke1NpeE9yYml0LmNscygnY2Fyb3VzZWwtY29udHJvbCcpfSAke1NpeE9yYml0LmNscygnY2Fyb3VzZWwtY29udHJvbC1uZXh0Jyl9XCIgdHlwZT1cImJ1dHRvblwiIGFyaWEtbGFiZWw9XCJOZXh0IHNsaWRlXCI+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPmA7XG4gICAgICAgICAgICBodG1sICs9IGA8L2J1dHRvbj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zbGlkZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uZmlnLnNsaWRlcyA9IHRoaXMuX3NsaWRlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faW5kaWNhdG9ycykge1xuICAgICAgICAgICAgY29uZmlnLmluZGljYXRvcnMgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fY29udHJvbHMpIHtcbiAgICAgICAgICAgIGNvbmZpZy5jb250cm9scyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2F1dG9wbGF5KSB7XG4gICAgICAgICAgICBjb25maWcuYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsICE9PSA1MDAwKSB7XG4gICAgICAgICAgICBjb25maWcuaW50ZXJ2YWwgPSB0aGlzLl9pbnRlcnZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9mYWRlKSB7XG4gICAgICAgICAgICBjb25maWcuZmFkZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3RvdWNoKSB7XG4gICAgICAgICAgICBjb25maWcudG91Y2ggPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fcGF1c2VPbkhvdmVyKSB7XG4gICAgICAgICAgICBjb25maWcucGF1c2VPbkhvdmVyID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZGFyaykge1xuICAgICAgICAgICAgY29uZmlnLmRhcmsgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9rZXlib2FyZCkge1xuICAgICAgICAgICAgY29uZmlnLmtleWJvYXJkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2xvb3ApIHtcbiAgICAgICAgICAgIGNvbmZpZy5sb29wID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXRlbXMgIT09IDEpIHtcbiAgICAgICAgICAgIGNvbmZpZy5pdGVtcyA9IHRoaXMuX2l0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcm91c2VsO1xuZXhwb3J0IHsgQ2Fyb3VzZWwgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gVElNRUxJTkUgRUxFTUVOVFxuLy8gVmVydGljYWwgdGltZWxpbmVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuY2xhc3MgVGltZWxpbmUgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS10aW1lbGluZSc7XG4gICAgc3RhdGljIERFRkFVTFRTID0geyAuLi5FbGVtZW50LkRFRkFVTFRTLCB0eXBlOiAndGltZWxpbmUnLCB0YWdOYW1lOiAnZGl2JyB9O1xuXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5faXRlbXMgPSBjb25maWcuaXRlbXMgfHwgW107XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSBjb25maWcudmFyaWFudCB8fCAnZGVmYXVsdCc7XG4gICAgICAgIHRoaXMuX2FsdGVybmF0ZSA9IGNvbmZpZy5hbHRlcm5hdGUgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgaXRlbXMoaXRlbXMpIHsgdGhpcy5faXRlbXMgPSBpdGVtczsgcmV0dXJuIHRoaXM7IH1cbiAgICBhZGRJdGVtKHRpdGxlLCBjb250ZW50LCBkYXRlID0gbnVsbCwgaWNvbiA9IG51bGwsIHZhcmlhbnQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goeyB0aXRsZSwgY29udGVudCwgZGF0ZSwgaWNvbiwgdmFyaWFudCB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHZhcmlhbnQodikgeyB0aGlzLl92YXJpYW50ID0gdjsgcmV0dXJuIHRoaXM7IH1cbiAgICBhbHRlcm5hdGUodmFsID0gdHJ1ZSkgeyB0aGlzLl9hbHRlcm5hdGUgPSB2YWw7IHJldHVybiB0aGlzOyB9XG5cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygndGltZWxpbmUnKSk7XG4gICAgICAgIGlmICh0aGlzLl9hbHRlcm5hdGUpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd0aW1lbGluZS1hbHRlcm5hdGUnKSk7XG4gICAgICAgIGlmICh0aGlzLl92YXJpYW50ICE9PSAnZGVmYXVsdCcpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd0aW1lbGluZScsIHRoaXMuX3ZhcmlhbnQpKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1WYXJpYW50ID0gaXRlbS52YXJpYW50IHx8IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3RpbWVsaW5lLWl0ZW0nKX1cIj5gO1xuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCd0aW1lbGluZS1tYXJrZXInKX0gJHtTaXhPcmJpdC5jbHMoJ2JnJywgaXRlbVZhcmlhbnQpfVwiPmA7XG4gICAgICAgICAgICBpZiAoaXRlbS5pY29uKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7dGhpcy5fZXNjYXBlSHRtbChpdGVtLmljb24pfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygndGltZWxpbmUtY29udGVudCcpfVwiPmA7XG4gICAgICAgICAgICBpZiAoaXRlbS5kYXRlKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygndGltZWxpbmUtZGF0ZScpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbChpdGVtLmRhdGUpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0udGl0bGUpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8aDUgY2xhc3M9XCIke1NpeE9yYml0LmNscygndGltZWxpbmUtdGl0bGUnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwoaXRlbS50aXRsZSl9PC9oNT5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0uY29udGVudCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3RpbWVsaW5lLXRleHQnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwoaXRlbS5jb250ZW50KX08L3A+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2PjwvZGl2Pic7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA+IDApIGNvbmZpZy5pdGVtcyA9IHRoaXMuX2l0ZW1zO1xuICAgICAgICBpZiAodGhpcy5fdmFyaWFudCAhPT0gJ2RlZmF1bHQnKSBjb25maWcudmFyaWFudCA9IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgIGlmICh0aGlzLl9hbHRlcm5hdGUpIGNvbmZpZy5hbHRlcm5hdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGltZWxpbmU7XG5leHBvcnQgeyBUaW1lbGluZSB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBTVEVQUEVSIEVMRU1FTlRcbi8vIFN0ZXAgd2l6YXJkXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbmNsYXNzIFN0ZXBwZXIgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1zdGVwcGVyJztcbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7IC4uLkVsZW1lbnQuREVGQVVMVFMsIHR5cGU6ICdzdGVwcGVyJywgdGFnTmFtZTogJ2RpdicgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX3N0ZXBzID0gY29uZmlnLnN0ZXBzIHx8IFtdO1xuICAgICAgICB0aGlzLl9jdXJyZW50U3RlcCA9IGNvbmZpZy5jdXJyZW50U3RlcCB8fCAwO1xuICAgICAgICB0aGlzLl9vcmllbnRhdGlvbiA9IGNvbmZpZy5vcmllbnRhdGlvbiB8fCAnaG9yaXpvbnRhbCc7XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSBjb25maWcudmFyaWFudCB8fCAnZGVmYXVsdCc7XG4gICAgICAgIHRoaXMuX2NsaWNrYWJsZSA9IGNvbmZpZy5jbGlja2FibGUgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgc3RlcHMoc3RlcHMpIHsgdGhpcy5fc3RlcHMgPSBzdGVwczsgcmV0dXJuIHRoaXM7IH1cbiAgICBhZGRTdGVwKGxhYmVsLCBkZXNjcmlwdGlvbiA9IG51bGwsIGljb24gPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3N0ZXBzLnB1c2goeyBsYWJlbCwgZGVzY3JpcHRpb24sIGljb24gfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjdXJyZW50U3RlcChzdGVwKSB7IHRoaXMuX2N1cnJlbnRTdGVwID0gc3RlcDsgcmV0dXJuIHRoaXM7IH1cbiAgICBvcmllbnRhdGlvbihvKSB7IHRoaXMuX29yaWVudGF0aW9uID0gbzsgcmV0dXJuIHRoaXM7IH1cbiAgICBob3Jpem9udGFsKCkgeyByZXR1cm4gdGhpcy5vcmllbnRhdGlvbignaG9yaXpvbnRhbCcpOyB9XG4gICAgdmVydGljYWwoKSB7IHJldHVybiB0aGlzLm9yaWVudGF0aW9uKCd2ZXJ0aWNhbCcpOyB9XG4gICAgdmFyaWFudCh2KSB7IHRoaXMuX3ZhcmlhbnQgPSB2OyByZXR1cm4gdGhpczsgfVxuICAgIGNsaWNrYWJsZSh2YWwgPSB0cnVlKSB7IHRoaXMuX2NsaWNrYWJsZSA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cblxuICAgIGJ1aWxkQ2xhc3NTdHJpbmcoKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzdGVwcGVyJykpO1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnc3RlcHBlcicsIHRoaXMuX29yaWVudGF0aW9uKSk7XG4gICAgICAgIGlmICh0aGlzLl92YXJpYW50ICE9PSAnZGVmYXVsdCcpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzdGVwcGVyJywgdGhpcy5fdmFyaWFudCkpO1xuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndWktaW5pdCcpXSA9ICdzdGVwcGVyJztcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndWktY29uZmlnJyldID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgY3VycmVudFN0ZXA6IHRoaXMuX2N1cnJlbnRTdGVwLFxuICAgICAgICAgICAgY2xpY2thYmxlOiB0aGlzLl9jbGlja2FibGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICB0aGlzLl9zdGVwcy5mb3JFYWNoKChzdGVwLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGxldCBzdGVwQ2xhc3MgPSBTaXhPcmJpdC5jbHMoJ3N0ZXBwZXItc3RlcCcpO1xuICAgICAgICAgICAgaWYgKGlkeCA8IHRoaXMuX2N1cnJlbnRTdGVwKSBzdGVwQ2xhc3MgKz0gYCAke1NpeE9yYml0LmNscygnY29tcGxldGVkJyl9YDtcbiAgICAgICAgICAgIGlmIChpZHggPT09IHRoaXMuX2N1cnJlbnRTdGVwKSBzdGVwQ2xhc3MgKz0gYCAke1NpeE9yYml0LmNscygnYWN0aXZlJyl9YDtcblxuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7c3RlcENsYXNzfVwiYDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jbGlja2FibGUpIGh0bWwgKz0gYCAke1NpeE9yYml0LmRhdGEoJ3N0ZXAnKX09XCIke2lkeH1cImA7XG4gICAgICAgICAgICBodG1sICs9ICc+JztcblxuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdzdGVwcGVyLWluZGljYXRvcicpfVwiPmA7XG4gICAgICAgICAgICBpZiAoc3RlcC5pY29uKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7dGhpcy5fZXNjYXBlSHRtbChzdGVwLmljb24pfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpZHggPCB0aGlzLl9jdXJyZW50U3RlcCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jaGVjazwvc3Bhbj4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8c3Bhbj4ke2lkeCArIDF9PC9zcGFuPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3N0ZXBwZXItY29udGVudCcpfVwiPmA7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3N0ZXBwZXItbGFiZWwnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwoc3RlcC5sYWJlbCl9PC9kaXY+YDtcbiAgICAgICAgICAgIGlmIChzdGVwLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdzdGVwcGVyLWRlc2NyaXB0aW9uJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKHN0ZXAuZGVzY3JpcHRpb24pfTwvZGl2PmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodG1sICs9ICc8L2Rpdj48L2Rpdj4nO1xuXG4gICAgICAgICAgICAvLyBDb25uZWN0b3IgbGluZSAoZXhjZXB0IGZvciBsYXN0IHN0ZXApXG4gICAgICAgICAgICBpZiAoaWR4IDwgdGhpcy5fc3RlcHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnc3RlcHBlci1jb25uZWN0b3InKX1cIj48L2Rpdj5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG4gICAgICAgIGlmICh0aGlzLl9zdGVwcy5sZW5ndGggPiAwKSBjb25maWcuc3RlcHMgPSB0aGlzLl9zdGVwcztcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTdGVwICE9PSAwKSBjb25maWcuY3VycmVudFN0ZXAgPSB0aGlzLl9jdXJyZW50U3RlcDtcbiAgICAgICAgaWYgKHRoaXMuX29yaWVudGF0aW9uICE9PSAnaG9yaXpvbnRhbCcpIGNvbmZpZy5vcmllbnRhdGlvbiA9IHRoaXMuX29yaWVudGF0aW9uO1xuICAgICAgICBpZiAodGhpcy5fdmFyaWFudCAhPT0gJ2RlZmF1bHQnKSBjb25maWcudmFyaWFudCA9IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgIGlmICh0aGlzLl9jbGlja2FibGUpIGNvbmZpZy5jbGlja2FibGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RlcHBlcjtcbmV4cG9ydCB7IFN0ZXBwZXIgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gTElTVCBHUk9VUCBFTEVNRU5UXG4vLyBGbGV4aWJsZSBsaXN0IGNvbXBvbmVudCBmb3IgY29udGVudCBkaXNwbGF5XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogTGlzdEdyb3VwIC0gRmxleGlibGUgbGlzdCBjb21wb25lbnRcbiAqXG4gKiBEaXNwbGF5cyBhIHNlcmllcyBvZiBjb250ZW50IGluIGEgZmxleGlibGUgbGlzdCB3aXRoIG9wdGlvbmFsXG4gKiBhY3Rpb25zLCBiYWRnZXMsIGljb25zLCBhbmQgdmFyaW91cyBzdHlsaW5nIG9wdGlvbnMuXG4gKi9cbmNsYXNzIExpc3RHcm91cCBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLWxpc3QtZ3JvdXAnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnbGlzdC1ncm91cCcsXG4gICAgICAgIHRhZ05hbWU6ICd1bCcsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gY29uZmlnLml0ZW1zIHx8IFtdO1xuICAgICAgICB0aGlzLl9mbHVzaCA9IGNvbmZpZy5mbHVzaCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fbnVtYmVyZWQgPSBjb25maWcubnVtYmVyZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2hvcml6b250YWwgPSBjb25maWcuaG9yaXpvbnRhbCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNvbmZpZy5zaXplIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29udGVudCBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYWxsIGl0ZW1zIGF0IG9uY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpdGVtc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHNpbmdsZSBpdGVtIChhbGlhcyBmb3IgYWRkSXRlbSlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaXRlbShjb250ZW50LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkSXRlbShcbiAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICBvcHRpb25zLmJhZGdlIHx8IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zLnZhcmlhbnQgfHwgbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnMuYWN0aXZlIHx8IGZhbHNlLFxuICAgICAgICAgICAgb3B0aW9ucy5kaXNhYmxlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgIG9wdGlvbnMudXJsIHx8IG9wdGlvbnMuaHJlZiB8fCBudWxsLFxuICAgICAgICAgICAgb3B0aW9ucy5pY29uIHx8IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zLmJhZGdlVmFyaWFudCB8fCBudWxsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGl0ZW0gd2l0aCBmdWxsIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IGJhZGdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gdmFyaWFudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWN0aXZlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHVybFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IGljb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBiYWRnZVZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhZGRJdGVtKFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBiYWRnZSA9IG51bGwsXG4gICAgICAgIHZhcmlhbnQgPSBudWxsLFxuICAgICAgICBhY3RpdmUgPSBmYWxzZSxcbiAgICAgICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICAgICAgdXJsID0gbnVsbCxcbiAgICAgICAgaWNvbiA9IG51bGwsXG4gICAgICAgIGJhZGdlVmFyaWFudCA9IG51bGxcbiAgICApIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHsgY29udGVudCB9O1xuXG4gICAgICAgIGlmIChiYWRnZSAhPT0gbnVsbCkgaXRlbS5iYWRnZSA9IGJhZGdlO1xuICAgICAgICBpZiAodmFyaWFudCAhPT0gbnVsbCkgaXRlbS52YXJpYW50ID0gdmFyaWFudDtcbiAgICAgICAgaWYgKGFjdGl2ZSkgaXRlbS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBpZiAoZGlzYWJsZWQpIGl0ZW0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpZiAodXJsICE9PSBudWxsKSBpdGVtLnVybCA9IHVybDtcbiAgICAgICAgaWYgKGljb24gIT09IG51bGwpIGl0ZW0uaWNvbiA9IGljb247XG4gICAgICAgIGlmIChiYWRnZVZhcmlhbnQgIT09IG51bGwpIGl0ZW0uYmFkZ2VWYXJpYW50ID0gYmFkZ2VWYXJpYW50O1xuXG4gICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBpdGVtIGF0IGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVwZGF0ZXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB1cGRhdGVJdGVtKGluZGV4LCB1cGRhdGVzKSB7XG4gICAgICAgIGlmICh0aGlzLl9pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zW2luZGV4XSA9IHsgLi4udGhpcy5faXRlbXNbaW5kZXhdLCAuLi51cGRhdGVzIH07XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOml0ZW06dXBkYXRlZCcsIHsgaW5kZXgsIGl0ZW06IHRoaXMuX2l0ZW1zW2luZGV4XSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgaXRlbSBhdCBpbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHJlbW92ZUl0ZW0oaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZCA9IHRoaXMuX2l0ZW1zLnNwbGljZShpbmRleCwgMSlbMF07XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOml0ZW06cmVtb3ZlZCcsIHsgaW5kZXgsIGl0ZW06IHJlbW92ZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIGl0ZW1zXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY2xlYXJJdGVtcygpIHtcbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzppdGVtczpjbGVhcmVkJyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBpdGVtIGF0IGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybnMge09iamVjdHxudWxsfVxuICAgICAqL1xuICAgIGdldEl0ZW0oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW2luZGV4XSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0SXRlbXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5faXRlbXNdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBpdGVtIGNvdW50XG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXRJdGVtQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gU3R5bGluZyBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZmx1c2ggc3R5bGUgKG5vIGJvcmRlcnMvcm91bmRlZCBjb3JuZXJzKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmx1c2hcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBmbHVzaChmbHVzaCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZmx1c2ggPSBmbHVzaDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG51bWJlcmVkIGxpc3RcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG51bWJlcmVkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbnVtYmVyZWQobnVtYmVyZWQgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX251bWJlcmVkID0gbnVtYmVyZWQ7XG4gICAgICAgIGlmIChudW1iZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5fdGFnTmFtZSA9ICdvbCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGhvcml6b250YWwgbGF5b3V0XG4gICAgICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gaG9yaXpvbnRhbCAtIHRydWUsICdzbScsICdtZCcsICdsZycsICd4bCdcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBob3Jpem9udGFsKGhvcml6b250YWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2hvcml6b250YWwgPSBob3Jpem9udGFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgc2l6ZSB2YXJpYW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpemUgLSAnc20nIG9yICdsZydcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaXplKHNpemUpIHtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNtYWxsIHNpemVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzbWFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSgnc20nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMYXJnZSBzaXplXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbGFyZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemUoJ2xnJyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gU3RhdGUgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGFjdGl2ZSBzdGF0ZSBvbiBpdGVtXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBhY3RpdmVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzZXRBY3RpdmUoaW5kZXgsIGFjdGl2ZSA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSXRlbShpbmRleCwgeyBhY3RpdmUgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGRpc2FibGVkIHN0YXRlIG9uIGl0ZW1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRpc2FibGVkXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc2V0RGlzYWJsZWQoaW5kZXgsIGRpc2FibGVkID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVJdGVtKGluZGV4LCB7IGRpc2FibGVkIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBhY3RpdmUgc3RhdGUgb24gaXRlbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRvZ2dsZUFjdGl2ZShpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5faXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVtc1tpbmRleF0uYWN0aXZlID0gIXRoaXMuX2l0ZW1zW2luZGV4XS5hY3RpdmU7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOml0ZW06dG9nZ2xlZCcsIHsgaW5kZXgsIGFjdGl2ZTogdGhpcy5faXRlbXNbaW5kZXhdLmFjdGl2ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBFdmVudCBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBBZGQgY2xpY2sgZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uQ2xpY2soY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oJ3NvOmNsaWNrJywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBpdGVtIGNsaWNrIGV2ZW50IGxpc3RlbmVyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvbkl0ZW1DbGljayhjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignc286aXRlbTpjbGljaycsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGN1c3RvbSBldmVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGV0YWlsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdHJpZ2dlckV2ZW50KGV2ZW50TmFtZSwgZGV0YWlsID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgIGRldGFpbDogeyAuLi5kZXRhaWwsIGxpc3RHcm91cDogdGhpcyB9LFxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgQ1NTIGNsYXNzZXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGJ1aWxkQ2xhc3NTdHJpbmcoKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdsaXN0LWdyb3VwJykpO1xuXG4gICAgICAgIGlmICh0aGlzLl9mbHVzaCkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2xpc3QtZ3JvdXAtZmx1c2gnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbnVtYmVyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdsaXN0LWdyb3VwLW51bWJlcmVkJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvcml6b250YWwgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faG9yaXpvbnRhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdsaXN0LWdyb3VwLWhvcml6b250YWwnKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKGBsaXN0LWdyb3VwLWhvcml6b250YWwtJHt0aGlzLl9ob3Jpem9udGFsfWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zaXplKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscyhgbGlzdC1ncm91cC0ke3RoaXMuX3NpemV9YCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgY29udGVudFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcblxuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IGl0ZW1DbGFzcyA9IFNpeE9yYml0LmNscygnbGlzdC1ncm91cC1pdGVtJyk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBhY3Rpb24gY2xhc3MgaWYgVVJMIGlzIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChpdGVtLnVybCkge1xuICAgICAgICAgICAgICAgIGl0ZW1DbGFzcyArPSBgICR7U2l4T3JiaXQuY2xzKCdsaXN0LWdyb3VwLWl0ZW0tYWN0aW9uJyl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIHZhcmlhbnQgY2xhc3NcbiAgICAgICAgICAgIGlmIChpdGVtLnZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgICBpdGVtQ2xhc3MgKz0gYCAke1NpeE9yYml0LmNscyhgbGlzdC1ncm91cC1pdGVtLSR7aXRlbS52YXJpYW50fWApfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBzdGF0ZSBjbGFzc2VzXG4gICAgICAgICAgICBpZiAoaXRlbS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpdGVtQ2xhc3MgKz0gYCAke1NpeE9yYml0LmNscygnYWN0aXZlJyl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGl0ZW0uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtQ2xhc3MgKz0gJyBkaXNhYmxlZCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IGl0ZW0udXJsID8gJ2EnIDogJ2xpJztcbiAgICAgICAgICAgIGh0bWwgKz0gYDwke3RhZ30gY2xhc3M9XCIke2l0ZW1DbGFzc31cImA7XG5cbiAgICAgICAgICAgIGlmIChpdGVtLnVybCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYCBocmVmPVwiJHt0aGlzLl9lc2NhcGVIdG1sKGl0ZW0udXJsKX1cImA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpdGVtLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJyBhcmlhLWN1cnJlbnQ9XCJ0cnVlXCInO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXRlbS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJyBhcmlhLWRpc2FibGVkPVwidHJ1ZVwiJztcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS51cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnIHRhYmluZGV4PVwiLTFcIic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBodG1sICs9IGAgZGF0YS1zby1pbmRleD1cIiR7aW5kZXh9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSAnPic7XG5cbiAgICAgICAgICAgIC8vIFJlbmRlciBjb250ZW50IHdpdGggaWNvbiBhbmQvb3IgYmFkZ2VcbiAgICAgICAgICAgIGlmIChpdGVtLmljb24gfHwgaXRlbS5iYWRnZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCInICsgU2l4T3JiaXQuY2xzKCdkLWZsZXgnKSArICcgJyArIFNpeE9yYml0LmNscygnanVzdGlmeS1jb250ZW50LWJldHdlZW4nKSArICcgJyArIFNpeE9yYml0LmNscygnYWxpZ24taXRlbXMtY2VudGVyJykgKyAnXCI+JztcblxuICAgICAgICAgICAgICAgIC8vIEljb24gKyBjb250ZW50XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWNvbikge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiJyArIFNpeE9yYml0LmNscygnZC1mbGV4JykgKyAnICcgKyBTaXhPcmJpdC5jbHMoJ2FsaWduLWl0ZW1zLWNlbnRlcicpICsgJ1wiPic7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgJyArIFNpeE9yYml0LmNscygnbWUtMycpICsgJyAnICsgU2l4T3JiaXQuY2xzKCd0ZXh0LXByaW1hcnknKSArICdcIj4nICsgdGhpcy5fZXNjYXBlSHRtbChpdGVtLmljb24pICsgJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8c3Bhbj4nICsgdGhpcy5fZXNjYXBlSHRtbChpdGVtLmNvbnRlbnQpICsgJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxzcGFuPicgKyB0aGlzLl9lc2NhcGVIdG1sKGl0ZW0uY29udGVudCkgKyAnPC9zcGFuPic7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQmFkZ2VcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5iYWRnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWRnZVZhcmlhbnQgPSBpdGVtLmJhZGdlVmFyaWFudCB8fCAncHJpbWFyeSc7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwiJyArIFNpeE9yYml0LmNscygnYmFkZ2UnKSArICcgJyArIFNpeE9yYml0LmNscyhgYmFkZ2UtJHtiYWRnZVZhcmlhbnR9YCkgKyAnICcgKyBTaXhPcmJpdC5jbHMoJ2JhZGdlLXBpbGwnKSArICdcIj4nO1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwoaXRlbS5iYWRnZSk7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZXNjYXBlSHRtbChpdGVtLmNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBodG1sICs9IGA8LyR7dGFnfT5gO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZnRlciByZW5kZXIgaG9vayAtIGF0dGFjaCBldmVudCBsaXN0ZW5lcnNcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9hZnRlclJlbmRlcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyLl9hZnRlclJlbmRlcihlbGVtZW50KTtcblxuICAgICAgICAvLyBBdHRhY2ggY2xpY2sgbGlzdGVuZXJzIHRvIGl0ZW1zXG4gICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc28taW5kZXhdJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1zby1pbmRleCcpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHRoaXMuX2l0ZW1zW2luZGV4XTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtRGF0YSAmJiAhaXRlbURhdGEuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzppdGVtOmNsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9pdGVtcy5sZW5ndGggPiAwKSBjb25maWcuaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgaWYgKHRoaXMuX2ZsdXNoKSBjb25maWcuZmx1c2ggPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fbnVtYmVyZWQpIGNvbmZpZy5udW1iZXJlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9ob3Jpem9udGFsICE9PSBmYWxzZSkgY29uZmlnLmhvcml6b250YWwgPSB0aGlzLl9ob3Jpem9udGFsO1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkgY29uZmlnLnNpemUgPSB0aGlzLl9zaXplO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0R3JvdXA7XG5leHBvcnQgeyBMaXN0R3JvdXAgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gUkFUSU5HIEVMRU1FTlRcbi8vIFN0YXIgcmF0aW5nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCB7IEZvcm1FbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Gb3JtRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG5jbGFzcyBSYXRpbmcgZXh0ZW5kcyBGb3JtRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktcmF0aW5nJztcbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7IC4uLkZvcm1FbGVtZW50LkRFRkFVTFRTLCB0eXBlOiAncmF0aW5nJywgdGFnTmFtZTogJ2RpdicgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIC8vIEVuc3VyZSB2YWx1ZSBpcyBpbml0aWFsaXplZCAoRm9ybUVsZW1lbnQgc2V0cyBpdCwgYnV0IG1ha2Ugc3VyZSBpdCdzIGEgbnVtYmVyKVxuICAgICAgICBpZiAodGhpcy5fdmFsdWUgPT09IG51bGwgfHwgdGhpcy5fdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heFJhdGluZyA9IGNvbmZpZy5tYXhSYXRpbmcgfHwgNTtcbiAgICAgICAgdGhpcy5fYWxsb3dIYWxmID0gY29uZmlnLmFsbG93SGFsZiB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5faWNvbiA9IGNvbmZpZy5pY29uIHx8ICdzdGFyJztcbiAgICAgICAgdGhpcy5fZW1wdHlJY29uID0gY29uZmlnLmVtcHR5SWNvbiB8fCAnc3Rhcl9ib3JkZXInO1xuICAgICAgICB0aGlzLl9oYWxmSWNvbiA9IGNvbmZpZy5oYWxmSWNvbiB8fCAnc3Rhcl9oYWxmJztcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjb25maWcuY29sb3IgfHwgJ3dhcm5pbmcnO1xuICAgICAgICB0aGlzLl9zaXplID0gY29uZmlnLnNpemUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fc2hvd1ZhbHVlID0gY29uZmlnLnNob3dWYWx1ZSB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmF0aW9uIG1ldGhvZHNcbiAgICB2YWx1ZSh2YWwpIHsgdGhpcy5fdmFsdWUgPSBwYXJzZUZsb2F0KHZhbCkgfHwgMDsgcmV0dXJuIHRoaXM7IH1cblxuICAgIG1heFJhdGluZyhtYXgpIHsgdGhpcy5fbWF4UmF0aW5nID0gbWF4OyByZXR1cm4gdGhpczsgfVxuICAgIG1heChtKSB7IHJldHVybiB0aGlzLm1heFJhdGluZyhtKTsgfSAvLyBBbGlhcyBmb3IgY29uc2lzdGVuY3kgd2l0aCBQSFBcblxuICAgIGFsbG93SGFsZih2YWwgPSB0cnVlKSB7IHRoaXMuX2FsbG93SGFsZiA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBoYWxmKHZhbCA9IHRydWUpIHsgcmV0dXJuIHRoaXMuYWxsb3dIYWxmKHZhbCk7IH0gLy8gQWxpYXMgZm9yIGNvbnNpc3RlbmN5IHdpdGggUEhQXG5cbiAgICBpY29uKGljb24pIHsgdGhpcy5faWNvbiA9IGljb247IHJldHVybiB0aGlzOyB9XG4gICAgZW1wdHlJY29uKGljb24pIHsgdGhpcy5fZW1wdHlJY29uID0gaWNvbjsgcmV0dXJuIHRoaXM7IH1cbiAgICBoYWxmSWNvbihpY29uKSB7IHRoaXMuX2hhbGZJY29uID0gaWNvbjsgcmV0dXJuIHRoaXM7IH1cbiAgICBpY29ucyhmaWxsZWQsIGVtcHR5LCBoYWxmID0gbnVsbCkge1xuICAgICAgICB0aGlzLl9pY29uID0gZmlsbGVkO1xuICAgICAgICB0aGlzLl9lbXB0eUljb24gPSBlbXB0eTtcbiAgICAgICAgaWYgKGhhbGYgIT09IG51bGwpIHRoaXMuX2hhbGZJY29uID0gaGFsZjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29sb3IoYykgeyB0aGlzLl9jb2xvciA9IGM7IHJldHVybiB0aGlzOyB9XG5cbiAgICBzaXplKHMpIHsgdGhpcy5fc2l6ZSA9IHM7IHJldHVybiB0aGlzOyB9XG4gICAgc21hbGwoKSB7IHJldHVybiB0aGlzLnNpemUoJ3NtJyk7IH1cbiAgICBsYXJnZSgpIHsgcmV0dXJuIHRoaXMuc2l6ZSgnbGcnKTsgfVxuXG4gICAgc2hvd1ZhbHVlKHZhbCA9IHRydWUpIHsgdGhpcy5fc2hvd1ZhbHVlID0gdmFsOyByZXR1cm4gdGhpczsgfVxuXG4gICAgaW50ZXJhY3RpdmUodmFsID0gdHJ1ZSkgeyB0aGlzLnNldFJlYWRvbmx5KCF2YWwpOyByZXR1cm4gdGhpczsgfVxuICAgIGVkaXRhYmxlKHZhbCA9IHRydWUpIHsgcmV0dXJuIHRoaXMuaW50ZXJhY3RpdmUodmFsKTsgfVxuXG4gICAgbmFtZShuKSB7IHJldHVybiB0aGlzLnNldE5hbWUobik7IH0gLy8gQWxpYXMgZm9yIGNvbnNpc3RlbmN5IHdpdGggUEhQXG5cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICAvLyBEb24ndCBhZGQgZm9ybS1jb250cm9sIGNsYXNzIC0gcmF0aW5ncyBhcmUgbm90IGZvcm0gaW5wdXRzXG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdyYXRpbmcnKSk7XG4gICAgICAgIGlmICh0aGlzLl9zaXplKSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygncmF0aW5nJywgdGhpcy5fc2l6ZSkpO1xuICAgICAgICBpZiAodGhpcy5fcmVhZG9ubHkpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdyYXRpbmctcmVhZG9ubHknKSk7XG5cbiAgICAgICAgLy8gQ2FsbCBFbGVtZW50LmJ1aWxkQ2xhc3NTdHJpbmcoKSBpbnN0ZWFkIG9mIEZvcm1FbGVtZW50IHRvIHNraXAgZm9ybS1jb250cm9sXG4gICAgICAgIHJldHVybiBFbGVtZW50LnByb3RvdHlwZS5idWlsZENsYXNzU3RyaW5nLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBpbnZhbGlkIHZhbHVlIGF0dHJpYnV0ZSAocmF0aW5ncyBzaG93IHZhbHVlIHZpYSBzdGFycylcbiAgICAgICAgZGVsZXRlIGF0dHJzLnZhbHVlO1xuXG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3VpLWluaXQnKV0gPSAncmF0aW5nJztcblxuICAgICAgICBjb25zdCBjb25maWdPYmogPSB7XG4gICAgICAgICAgICBtYXhSYXRpbmc6IHRoaXMuX21heFJhdGluZyxcbiAgICAgICAgICAgIGFsbG93SGFsZjogdGhpcy5fYWxsb3dIYWxmLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3ZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNvbmZpZ0pzb24gPSBKU09OLnN0cmluZ2lmeShjb25maWdPYmopO1xuXG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3VpLWNvbmZpZycpXSA9IGNvbmZpZ0pzb247XG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZSB0byBwcmV2ZW50IHZhbHVlIGF0dHJpYnV0ZSBmcm9tIGJlaW5nIGFkZGVkXG4gICAgX3Nob3VsZFJlbmRlclZhbHVlQXR0cigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdCh0aGlzLl92YWx1ZSkgfHwgMDtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLl9tYXhSYXRpbmc7IGkrKykge1xuICAgICAgICAgICAgbGV0IGljb24gPSB0aGlzLl9lbXB0eUljb247XG4gICAgICAgICAgICBsZXQgc3RhdGVDbGFzcyA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoaSA8PSBNYXRoLmZsb29yKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGljb24gPSB0aGlzLl9pY29uO1xuICAgICAgICAgICAgICAgIHN0YXRlQ2xhc3MgPSBgICR7U2l4T3JiaXQuY2xzKCdyYXRpbmctZmlsbGVkJyl9YDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWxsb3dIYWxmICYmIGkgLSAwLjUgPD0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpY29uID0gdGhpcy5faGFsZkljb247XG4gICAgICAgICAgICAgICAgc3RhdGVDbGFzcyA9IGAgJHtTaXhPcmJpdC5jbHMoJ3JhdGluZy1oYWxmJyl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygncmF0aW5nLXN0YXInKX0ke3N0YXRlQ2xhc3N9XCIgJHtTaXhPcmJpdC5kYXRhKCd2YWx1ZScpfT1cIiR7aX1cIj5gO1xuICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7aWNvbn08L3NwYW4+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvc3Bhbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3dWYWx1ZSkge1xuICAgICAgICAgICAgaHRtbCArPSBgIDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3JhdGluZy12YWx1ZScpfVwiPiR7dmFsdWV9PC9zcGFuPmA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIaWRkZW4gaW5wdXQgZm9yIGZvcm0gc3VibWlzc2lvblxuICAgICAgICBpZiAodGhpcy5fbmFtZSkge1xuICAgICAgICAgICAgaHRtbCArPSBgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX25hbWUpfVwiIHZhbHVlPVwiJHt2YWx1ZX1cIj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG4gICAgICAgIGlmICh0aGlzLl9tYXhSYXRpbmcgIT09IDUpIGNvbmZpZy5tYXhSYXRpbmcgPSB0aGlzLl9tYXhSYXRpbmc7XG4gICAgICAgIGlmICh0aGlzLl9hbGxvd0hhbGYpIGNvbmZpZy5hbGxvd0hhbGYgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5faWNvbiAhPT0gJ3N0YXInKSBjb25maWcuaWNvbiA9IHRoaXMuX2ljb247XG4gICAgICAgIGlmICh0aGlzLl9lbXB0eUljb24gIT09ICdzdGFyX2JvcmRlcicpIGNvbmZpZy5lbXB0eUljb24gPSB0aGlzLl9lbXB0eUljb247XG4gICAgICAgIGlmICh0aGlzLl9oYWxmSWNvbiAhPT0gJ3N0YXJfaGFsZicpIGNvbmZpZy5oYWxmSWNvbiA9IHRoaXMuX2hhbGZJY29uO1xuICAgICAgICBpZiAodGhpcy5fY29sb3IgIT09ICd3YXJuaW5nJykgY29uZmlnLmNvbG9yID0gdGhpcy5fY29sb3I7XG4gICAgICAgIGlmICh0aGlzLl9zaXplKSBjb25maWcuc2l6ZSA9IHRoaXMuX3NpemU7XG4gICAgICAgIGlmICh0aGlzLl9zaG93VmFsdWUpIGNvbmZpZy5zaG93VmFsdWUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cblxuICAgIC8vIFN0YXRpYyBtZXRob2RzIGZvciBET00gaW50ZXJhY3Rpb25cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWxlbWVudCkge1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudD8uX3JhdGluZ0luc3RhbmNlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXRBbGwoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7U2l4T3JiaXQuZGF0YSgndWktaW5pdCcpfT1cInJhdGluZ1wiXWApO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIGlmICghZWwuX3JhdGluZ0luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgUmF0aW5nLl9pbml0RWxlbWVudChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBfaW5pdEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb25maWdBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoU2l4T3JiaXQuZGF0YSgndWktY29uZmlnJykpO1xuICAgICAgICBsZXQgY29uZmlnID0ge307XG5cbiAgICAgICAgaWYgKGNvbmZpZ0F0dHIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gRGVjb2RlIEhUTUwgZW50aXRpZXMgaWYgcHJlc2VudFxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgICAgICAgICB0ZXh0YXJlYS5pbm5lckhUTUwgPSBjb25maWdBdHRyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWRDb25maWcgPSB0ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBKU09OLnBhcnNlKGRlY29kZWRDb25maWcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSByYXRpbmcgY29uZmlnOicsIGUpO1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGluc3RhbmNlIGFuZCBzdG9yZSByZWZlcmVuY2VcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgUmF0aW5nKGNvbmZpZyk7XG4gICAgICAgIGVsZW1lbnQuX3JhdGluZ0luc3RhbmNlID0gaW5zdGFuY2U7XG5cbiAgICAgICAgLy8gU2V0IHVwIGludGVyYWN0aXZlIGhhbmRsZXJzIGlmIG5vdCByZWFkb25seVxuICAgICAgICBpZiAoIWluc3RhbmNlLl9yZWFkb25seSAmJiAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoU2l4T3JiaXQuZGF0YSgncmF0aW5nLWluaXRpYWxpemVkJykpKSB7XG4gICAgICAgICAgICBSYXRpbmcuX3NldHVwSW50ZXJhY3RpdmUoZWxlbWVudCwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoU2l4T3JiaXQuZGF0YSgncmF0aW5nLWluaXRpYWxpemVkJyksICd0cnVlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgX3NldHVwSW50ZXJhY3RpdmUoZWxlbWVudCwgaW5zdGFuY2UpIHtcbiAgICAgICAgY29uc3Qgc3RhcnMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke1NpeE9yYml0LmNscygncmF0aW5nLXN0YXInKX1gKTtcbiAgICAgICAgY29uc3QgaGlkZGVuSW5wdXQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKTtcblxuICAgICAgICBzdGFycy5mb3JFYWNoKHN0YXIgPT4ge1xuICAgICAgICAgICAgLy8gQ2xpY2sgaGFuZGxlclxuICAgICAgICAgICAgc3Rhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQoc3Rhci5nZXRBdHRyaWJ1dGUoU2l4T3JiaXQuZGF0YSgndmFsdWUnKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gaW5zdGFuY2UuX3ZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChoaWRkZW5JbnB1dCkgaGlkZGVuSW5wdXQudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGFyIGRpc3BsYXlcbiAgICAgICAgICAgICAgICBSYXRpbmcuX3VwZGF0ZVN0YXJEaXNwbGF5KGVsZW1lbnQsIHN0YXJzLCB2YWx1ZSwgaW5zdGFuY2UpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGlzcGF0Y2ggY2hhbmdlIGV2ZW50XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoU2l4T3JiaXQuZXZ0KCdyYXRpbmc6Y2hhbmdlJyksIHtcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7IHZhbHVlLCBvbGRWYWx1ZSwgaW5zdGFuY2UgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gSG92ZXIgcHJldmlld1xuICAgICAgICAgICAgc3Rhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChzdGFyLmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCd2YWx1ZScpKSk7XG4gICAgICAgICAgICAgICAgUmF0aW5nLl91cGRhdGVTdGFyRGlzcGxheShlbGVtZW50LCBzdGFycywgdmFsdWUsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZXNldCBvbiBtb3VzZSBsZWF2ZVxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICBSYXRpbmcuX3VwZGF0ZVN0YXJEaXNwbGF5KGVsZW1lbnQsIHN0YXJzLCBpbnN0YW5jZS5fdmFsdWUsIGluc3RhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIF91cGRhdGVTdGFyRGlzcGxheShfZWxlbWVudCwgc3RhcnMsIHZhbHVlLCBpbnN0YW5jZSkge1xuICAgICAgICBzdGFycy5mb3JFYWNoKHN0YXIgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhclZhbHVlID0gcGFyc2VGbG9hdChzdGFyLmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCd2YWx1ZScpKSk7XG4gICAgICAgICAgICBjb25zdCBpY29uU3BhbiA9IHN0YXIucXVlcnlTZWxlY3RvcignLm1hdGVyaWFsLWljb25zJyk7XG5cbiAgICAgICAgICAgIGlmIChzdGFyVmFsdWUgPD0gTWF0aC5mbG9vcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpY29uU3Bhbi50ZXh0Q29udGVudCA9IGluc3RhbmNlLl9pY29uO1xuICAgICAgICAgICAgICAgIHN0YXIuY2xhc3NMaXN0LmFkZChTaXhPcmJpdC5jbHMoJ3JhdGluZy1maWxsZWQnKSk7XG4gICAgICAgICAgICAgICAgc3Rhci5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygncmF0aW5nLWhhbGYnKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluc3RhbmNlLl9hbGxvd0hhbGYgJiYgc3RhclZhbHVlIC0gMC41IDw9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWNvblNwYW4udGV4dENvbnRlbnQgPSBpbnN0YW5jZS5faGFsZkljb247XG4gICAgICAgICAgICAgICAgc3Rhci5jbGFzc0xpc3QuYWRkKFNpeE9yYml0LmNscygncmF0aW5nLWhhbGYnKSk7XG4gICAgICAgICAgICAgICAgc3Rhci5jbGFzc0xpc3QucmVtb3ZlKFNpeE9yYml0LmNscygncmF0aW5nLWZpbGxlZCcpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWNvblNwYW4udGV4dENvbnRlbnQgPSBpbnN0YW5jZS5fZW1wdHlJY29uO1xuICAgICAgICAgICAgICAgIHN0YXIuY2xhc3NMaXN0LnJlbW92ZShTaXhPcmJpdC5jbHMoJ3JhdGluZy1maWxsZWQnKSwgU2l4T3JiaXQuY2xzKCdyYXRpbmctaGFsZicpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vLyBBdXRvLWluaXRpYWxpemUgb24gRE9NIHJlYWR5XG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IFJhdGluZy5pbml0QWxsKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFJhdGluZy5pbml0QWxsKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYXRpbmc7XG5leHBvcnQgeyBSYXRpbmcgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gU1BJTk5FUiBFTEVNRU5UXG4vLyBMb2FkaW5nIHNwaW5uZXJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuY2xhc3MgU3Bpbm5lciBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLXNwaW5uZXInO1xuICAgIHN0YXRpYyBERUZBVUxUUyA9IHsgLi4uRWxlbWVudC5ERUZBVUxUUywgdHlwZTogJ3NwaW5uZXInLCB0YWdOYW1lOiAnZGl2JyB9O1xuXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fc3Bpbm5lclR5cGUgPSBjb25maWcuc3Bpbm5lclR5cGUgfHwgJ2JvcmRlcic7XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSBjb25maWcudmFyaWFudCB8fCAncHJpbWFyeSc7XG4gICAgICAgIHRoaXMuX3NpemUgPSBjb25maWcuc2l6ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl90ZXh0ID0gY29uZmlnLnRleHQgfHwgJ0xvYWRpbmcuLi4nO1xuICAgIH1cblxuICAgIHNwaW5uZXJUeXBlKHR5cGUpIHsgdGhpcy5fc3Bpbm5lclR5cGUgPSB0eXBlOyByZXR1cm4gdGhpczsgfVxuICAgIGJvcmRlcigpIHsgcmV0dXJuIHRoaXMuc3Bpbm5lclR5cGUoJ2JvcmRlcicpOyB9XG4gICAgZ3JvdygpIHsgcmV0dXJuIHRoaXMuc3Bpbm5lclR5cGUoJ2dyb3cnKTsgfVxuICAgIHZhcmlhbnQodikgeyB0aGlzLl92YXJpYW50ID0gdjsgcmV0dXJuIHRoaXM7IH1cbiAgICBwcmltYXJ5KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdwcmltYXJ5Jyk7IH1cbiAgICBzZWNvbmRhcnkoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3NlY29uZGFyeScpOyB9XG4gICAgc3VjY2VzcygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnc3VjY2VzcycpOyB9XG4gICAgZGFuZ2VyKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdkYW5nZXInKTsgfVxuICAgIHdhcm5pbmcoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3dhcm5pbmcnKTsgfVxuICAgIGluZm8oKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2luZm8nKTsgfVxuICAgIGxpZ2h0KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdsaWdodCcpOyB9XG4gICAgZGFyaygpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnZGFyaycpOyB9XG4gICAgc2l6ZShzKSB7IHRoaXMuX3NpemUgPSBzOyByZXR1cm4gdGhpczsgfVxuICAgIHNtYWxsKCkgeyByZXR1cm4gdGhpcy5zaXplKCdzbScpOyB9XG4gICAgdGV4dCh0KSB7IHRoaXMuX3RleHQgPSB0OyByZXR1cm4gdGhpczsgfVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3NwaW5uZXInLCB0aGlzLl9zcGlubmVyVHlwZSkpO1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygndGV4dCcsIHRoaXMuX3ZhcmlhbnQpKTtcbiAgICAgICAgaWYgKHRoaXMuX3NpemUpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzcGlubmVyJywgdGhpcy5fc3Bpbm5lclR5cGUsIHRoaXMuX3NpemUpKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGF0dHJzLnJvbGUgPSAnc3RhdHVzJztcbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygndmlzdWFsbHktaGlkZGVuJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3RleHQpfTwvc3Bhbj5gO1xuICAgIH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuICAgICAgICBpZiAodGhpcy5fc3Bpbm5lclR5cGUgIT09ICdib3JkZXInKSBjb25maWcuc3Bpbm5lclR5cGUgPSB0aGlzLl9zcGlubmVyVHlwZTtcbiAgICAgICAgaWYgKHRoaXMuX3ZhcmlhbnQgIT09ICdwcmltYXJ5JykgY29uZmlnLnZhcmlhbnQgPSB0aGlzLl92YXJpYW50O1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkgY29uZmlnLnNpemUgPSB0aGlzLl9zaXplO1xuICAgICAgICBpZiAodGhpcy5fdGV4dCAhPT0gJ0xvYWRpbmcuLi4nKSBjb25maWcudGV4dCA9IHRoaXMuX3RleHQ7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGlubmVyO1xuZXhwb3J0IHsgU3Bpbm5lciB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBTS0VMRVRPTiBFTEVNRU5UXG4vLyBMb2FkaW5nIHNrZWxldG9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbmNsYXNzIFNrZWxldG9uIGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktc2tlbGV0b24nO1xuICAgIHN0YXRpYyBERUZBVUxUUyA9IHsgLi4uRWxlbWVudC5ERUZBVUxUUywgdHlwZTogJ3NrZWxldG9uJywgdGFnTmFtZTogJ2RpdicgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX3NrZWxldG9uVHlwZSA9IGNvbmZpZy5za2VsZXRvblR5cGUgfHwgJ3RleHQnO1xuICAgICAgICB0aGlzLl93aWR0aCA9IGNvbmZpZy53aWR0aCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBjb25maWcuaGVpZ2h0IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmVzID0gY29uZmlnLmxpbmVzIHx8IDE7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IGNvbmZpZy5hbmltYXRpb24gIT09IGZhbHNlO1xuICAgIH1cblxuICAgIHNrZWxldG9uVHlwZSh0eXBlKSB7IHRoaXMuX3NrZWxldG9uVHlwZSA9IHR5cGU7IHJldHVybiB0aGlzOyB9XG4gICAgdGV4dCgpIHsgcmV0dXJuIHRoaXMuc2tlbGV0b25UeXBlKCd0ZXh0Jyk7IH1cbiAgICBjaXJjbGUoKSB7IHJldHVybiB0aGlzLnNrZWxldG9uVHlwZSgnY2lyY2xlJyk7IH1cbiAgICByZWN0KCkgeyByZXR1cm4gdGhpcy5za2VsZXRvblR5cGUoJ3JlY3QnKTsgfVxuICAgIGNhcmQoKSB7IHJldHVybiB0aGlzLnNrZWxldG9uVHlwZSgnY2FyZCcpOyB9XG4gICAgYXZhdGFyKCkgeyByZXR1cm4gdGhpcy5za2VsZXRvblR5cGUoJ2F2YXRhcicpOyB9XG4gICAgd2lkdGgodykgeyB0aGlzLl93aWR0aCA9IHc7IHJldHVybiB0aGlzOyB9XG4gICAgaGVpZ2h0KGgpIHsgdGhpcy5faGVpZ2h0ID0gaDsgcmV0dXJuIHRoaXM7IH1cbiAgICBsaW5lcyhuKSB7IHRoaXMuX2xpbmVzID0gbjsgcmV0dXJuIHRoaXM7IH1cbiAgICBhbmltYXRpb24odmFsID0gdHJ1ZSkgeyB0aGlzLl9hbmltYXRpb24gPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgbm9BbmltYXRpb24oKSB7IHJldHVybiB0aGlzLmFuaW1hdGlvbihmYWxzZSk7IH1cblxuICAgIGJ1aWxkQ2xhc3NTdHJpbmcoKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdza2VsZXRvbicpKTtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3NrZWxldG9uJywgdGhpcy5fc2tlbGV0b25UeXBlKSk7XG4gICAgICAgIGlmICh0aGlzLl9hbmltYXRpb24pIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdza2VsZXRvbi1hbmltYXRlZCcpKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5fd2lkdGgpIHN0eWxlcy5wdXNoKGB3aWR0aDogJHt0aGlzLl93aWR0aH1gKTtcbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodCkgc3R5bGVzLnB1c2goYGhlaWdodDogJHt0aGlzLl9oZWlnaHR9YCk7XG4gICAgICAgIGlmIChzdHlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYXR0cnMuc3R5bGUgPSAoYXR0cnMuc3R5bGUgPyBhdHRycy5zdHlsZSArICc7ICcgOiAnJykgKyBzdHlsZXMuam9pbignOyAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NrZWxldG9uVHlwZSA9PT0gJ3RleHQnICYmIHRoaXMuX2xpbmVzID4gMSkge1xuICAgICAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbGluZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RMaW5lQ2xhc3MgPSBpID09PSB0aGlzLl9saW5lcyAtIDEgPyBgICR7U2l4T3JiaXQuY2xzKCdza2VsZXRvbi1saW5lLXNob3J0Jyl9YCA6ICcnO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnc2tlbGV0b24tbGluZScpfSR7bGFzdExpbmVDbGFzc31cIj48L2Rpdj5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2tlbGV0b25UeXBlID09PSAnY2FyZCcpIHtcbiAgICAgICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnc2tlbGV0b24tY2FyZC1pbWFnZScpfVwiPjwvZGl2PmA7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3NrZWxldG9uLWNhcmQtYm9keScpfVwiPmA7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ3NrZWxldG9uLWxpbmUnKX1cIj48L2Rpdj5gO1xuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdza2VsZXRvbi1saW5lJyl9ICR7U2l4T3JiaXQuY2xzKCdza2VsZXRvbi1saW5lLXNob3J0Jyl9XCI+PC9kaXY+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcbiAgICAgICAgaWYgKHRoaXMuX3NrZWxldG9uVHlwZSAhPT0gJ3RleHQnKSBjb25maWcuc2tlbGV0b25UeXBlID0gdGhpcy5fc2tlbGV0b25UeXBlO1xuICAgICAgICBpZiAodGhpcy5fd2lkdGgpIGNvbmZpZy53aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KSBjb25maWcuaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5fbGluZXMgIT09IDEpIGNvbmZpZy5saW5lcyA9IHRoaXMuX2xpbmVzO1xuICAgICAgICBpZiAoIXRoaXMuX2FuaW1hdGlvbikgY29uZmlnLmFuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2tlbGV0b247XG5leHBvcnQgeyBTa2VsZXRvbiB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBFTVBUWSBTVEFURSBFTEVNRU5UXG4vLyBFbXB0eSBzdGF0ZSBwbGFjZWhvbGRlclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG4vKipcbiAqIEVtcHR5U3RhdGUgLSBFbXB0eSBzdGF0ZSBwbGFjZWhvbGRlciBlbGVtZW50XG4gKi9cbmNsYXNzIEVtcHR5U3RhdGUgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1lbXB0eS1zdGF0ZSc7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkVsZW1lbnQuREVGQVVMVFMsXG4gICAgICAgIHR5cGU6ICdlbXB0eS1zdGF0ZScsXG4gICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29uZmlnXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcblxuICAgICAgICB0aGlzLl90aXRsZSA9IGNvbmZpZy50aXRsZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGNvbmZpZy5kZXNjcmlwdGlvbiB8fCBudWxsO1xuICAgICAgICB0aGlzLl9pY29uID0gY29uZmlnLmljb24gfHwgbnVsbDtcbiAgICAgICAgdGhpcy5faW1hZ2UgPSBjb25maWcuaW1hZ2UgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aW9ucyA9IGNvbmZpZy5hY3Rpb25zIHx8IFtdO1xuICAgICAgICB0aGlzLl92YXJpYW50ID0gY29uZmlnLnZhcmlhbnQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNvbmZpZy5zaXplIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2ljb25TdHlsZSA9IGNvbmZpZy5pY29uU3R5bGUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fY29tcGFjdCA9IGNvbmZpZy5jb21wYWN0IHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYXJkID0gY29uZmlnLmNhcmQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2hlYWRpbmdMZXZlbCA9IGNvbmZpZy5oZWFkaW5nTGV2ZWwgfHwgJ2gzJztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb250ZW50IE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aXRsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBpY29uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGljb25cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpY29uKGljb24pIHtcbiAgICAgICAgdGhpcy5faWNvbiA9IGljb247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBpbWFnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpbWFnZSh1cmwpIHtcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB1cmw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBoZWFkaW5nIGxldmVsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxldmVsIGgzLCBoNCwgaDVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBoZWFkaW5nTGV2ZWwobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5faGVhZGluZ0xldmVsID0gbGV2ZWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEFjdGlvbnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhY3Rpb24gYnV0dG9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSB1cmxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFkZEFjdGlvbih0ZXh0LCB1cmwgPSBudWxsLCB2YXJpYW50ID0gJ3ByaW1hcnknKSB7XG4gICAgICAgIHRoaXMuX2FjdGlvbnMucHVzaCh7IHRleHQsIHVybCwgdmFyaWFudCB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHNpbmdsZSBhY3Rpb24gYnV0dG9uIChmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSB1cmxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFjdGlvbih0ZXh0LCB1cmwgPSBudWxsLCB2YXJpYW50ID0gJ3ByaW1hcnknKSB7XG4gICAgICAgIHRoaXMuX2FjdGlvbnMgPSBbeyB0ZXh0LCB1cmwsIHZhcmlhbnQgfV07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBtdWx0aXBsZSBhY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9uc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFjdGlvbnMoYWN0aW9ucykge1xuICAgICAgICB0aGlzLl9hY3Rpb25zID0gYWN0aW9ucztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29udGV4dHVhbCBWYXJpYW50c1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGNvbnRleHR1YWwgdmFyaWFudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYW50IHNlYXJjaCwgZXJyb3IsIHN1Y2Nlc3MsIHdhcm5pbmcsIGluZm8sIG5vLXBlcm1pc3Npb25cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB2YXJpYW50KHZhcmlhbnQpIHtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBlbXB0eSBzdGF0ZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNlYXJjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnc2VhcmNoJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJyb3IvZGFuZ2VyIGVtcHR5IHN0YXRlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnQoJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGFuZ2VyIGVtcHR5IHN0YXRlIChhbGlhcyBmb3IgZXJyb3IpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZGFuZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCdkYW5nZXInKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWNjZXNzIGVtcHR5IHN0YXRlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc3VjY2VzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnc3VjY2VzcycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdhcm5pbmcgZW1wdHkgc3RhdGVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB3YXJuaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCd3YXJuaW5nJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5mbyBlbXB0eSBzdGF0ZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGluZm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnQoJ2luZm8nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBObyBwZXJtaXNzaW9uIC8gZm9yYmlkZGVuIGVtcHR5IHN0YXRlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbm9QZXJtaXNzaW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50KCduby1wZXJtaXNzaW9uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yYmlkZGVuIGVtcHR5IHN0YXRlIChhbGlhcyBmb3Igbm9QZXJtaXNzaW9uKVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGZvcmJpZGRlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudCgnZm9yYmlkZGVuJyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gU2l6ZSBWYXJpYW50c1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IHNpemUgdmFyaWFudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaXplIHNtLCBsZ1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNpemUoc2l6ZSkge1xuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU21hbGwgc2l6ZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNtYWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplKCdzbScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExhcmdlIHNpemVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBsYXJnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSgnbGcnKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBJY29uIFN0eWxpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBpY29uIHN0eWxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlIGNpcmNsZSwgZ3JhZGllbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpY29uU3R5bGUoc3R5bGUpIHtcbiAgICAgICAgdGhpcy5faWNvblN0eWxlID0gc3R5bGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENpcmNsZSBpY29uIHN0eWxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvbkNpcmNsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvblN0eWxlKCdjaXJjbGUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHcmFkaWVudCBpY29uIHN0eWxlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvbkdyYWRpZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uU3R5bGUoJ2dyYWRpZW50Jyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gTGF5b3V0IFZhcmlhbnRzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb21wYWN0L2lubGluZSBsYXlvdXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbXBhY3RcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjb21wYWN0KGNvbXBhY3QgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2NvbXBhY3QgPSBjb21wYWN0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXJkIHN0eWxpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhcmRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjYXJkKGNhcmQgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZW1wdHktc3RhdGUnKSk7XG5cbiAgICAgICAgLy8gQ29udGV4dHVhbCB2YXJpYW50XG4gICAgICAgIGlmICh0aGlzLl92YXJpYW50KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscyhgZW1wdHktc3RhdGUtJHt0aGlzLl92YXJpYW50fWApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpemUgdmFyaWFudFxuICAgICAgICBpZiAodGhpcy5fc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoYGVtcHR5LXN0YXRlLSR7dGhpcy5fc2l6ZX1gKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMYXlvdXQgdmFyaWFudHNcbiAgICAgICAgaWYgKHRoaXMuX2NvbXBhY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdlbXB0eS1zdGF0ZS1jb21wYWN0JykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NhcmQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdlbXB0eS1zdGF0ZS1jYXJkJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgY29udGVudFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcblxuICAgICAgICAvLyBJbWFnZSBvciBpY29uXG4gICAgICAgIGlmICh0aGlzLl9pbWFnZSkge1xuICAgICAgICAgICAgaHRtbCArPSBgPGltZyBzcmM9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5faW1hZ2UpfVwiIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2VtcHR5LXN0YXRlLWltYWdlJyl9XCIgYWx0PVwiXCI+YDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9pY29uKSB7XG4gICAgICAgICAgICBsZXQgaWNvbkNsYXNzZXMgPSBTaXhPcmJpdC5jbHMoJ2VtcHR5LXN0YXRlLWljb24nKTtcblxuICAgICAgICAgICAgLy8gQWRkIGljb24gc3R5bGUgdmFyaWFudFxuICAgICAgICAgICAgaWYgKHRoaXMuX2ljb25TdHlsZSkge1xuICAgICAgICAgICAgICAgIGljb25DbGFzc2VzICs9IGAgJHtTaXhPcmJpdC5jbHMoYGVtcHR5LXN0YXRlLWljb24tJHt0aGlzLl9pY29uU3R5bGV9YCl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7aWNvbkNsYXNzZXN9XCI+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5faWNvbil9PC9zcGFuPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgaWYgKHRoaXMuX3RpdGxlKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8JHt0aGlzLl9oZWFkaW5nTGV2ZWx9IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2VtcHR5LXN0YXRlLXRpdGxlJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3RpdGxlKX08LyR7dGhpcy5faGVhZGluZ0xldmVsfT5gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVzY3JpcHRpb24gKHRleHQpXG4gICAgICAgIGlmICh0aGlzLl9kZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZW1wdHktc3RhdGUtdGV4dCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9kZXNjcmlwdGlvbil9PC9wPmA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3Rpb25zXG4gICAgICAgIGlmICh0aGlzLl9hY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnZW1wdHktc3RhdGUtYWN0aW9ucycpfVwiPmA7XG5cbiAgICAgICAgICAgIHRoaXMuX2FjdGlvbnMuZm9yRWFjaChhY3Rpb25Db25maWcgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ0bkNsYXNzID0gYCR7U2l4T3JiaXQuY2xzKCdidG4nKX0gJHtTaXhPcmJpdC5jbHMoYGJ0bi0ke2FjdGlvbkNvbmZpZy52YXJpYW50IHx8ICdwcmltYXJ5J31gKX1gO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbkNvbmZpZy51cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGEgaHJlZj1cIiR7dGhpcy5fZXNjYXBlSHRtbChhY3Rpb25Db25maWcudXJsKX1cIiBjbGFzcz1cIiR7YnRuQ2xhc3N9XCI+YDtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKGFjdGlvbkNvbmZpZy50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPC9hPic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke2J0bkNsYXNzfVwiPmA7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZXNjYXBlSHRtbChhY3Rpb25Db25maWcudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvYnV0dG9uPic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RpdGxlKSBjb25maWcudGl0bGUgPSB0aGlzLl90aXRsZTtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc2NyaXB0aW9uKSBjb25maWcuZGVzY3JpcHRpb24gPSB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuX2ljb24pIGNvbmZpZy5pY29uID0gdGhpcy5faWNvbjtcbiAgICAgICAgaWYgKHRoaXMuX2ltYWdlKSBjb25maWcuaW1hZ2UgPSB0aGlzLl9pbWFnZTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGlvbnMubGVuZ3RoID4gMCkgY29uZmlnLmFjdGlvbnMgPSB0aGlzLl9hY3Rpb25zO1xuICAgICAgICBpZiAodGhpcy5fdmFyaWFudCkgY29uZmlnLnZhcmlhbnQgPSB0aGlzLl92YXJpYW50O1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkgY29uZmlnLnNpemUgPSB0aGlzLl9zaXplO1xuICAgICAgICBpZiAodGhpcy5faWNvblN0eWxlKSBjb25maWcuaWNvblN0eWxlID0gdGhpcy5faWNvblN0eWxlO1xuICAgICAgICBpZiAodGhpcy5fY29tcGFjdCkgY29uZmlnLmNvbXBhY3QgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fY2FyZCkgY29uZmlnLmNhcmQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5faGVhZGluZ0xldmVsICE9PSAnaDMnKSBjb25maWcuaGVhZGluZ0xldmVsID0gdGhpcy5faGVhZGluZ0xldmVsO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFbXB0eVN0YXRlO1xuZXhwb3J0IHsgRW1wdHlTdGF0ZSB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBNRURJQSBPQkpFQ1QgRUxFTUVOVFxuLy8gTWVkaWEgKyBjb250ZW50IGxheW91dCBjb21wb25lbnRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBNZWRpYU9iamVjdCAtIE1lZGlhIG9iamVjdCBsYXlvdXQgY29tcG9uZW50XG4gKlxuICogRGlzcGxheXMgbWVkaWEgKGltYWdlL2ljb24pIGFsb25nc2lkZSBjb250ZW50IHdpdGggZmxleGlibGUgYWxpZ25tZW50IG9wdGlvbnMuXG4gKiBHZW5lcmF0ZXMgcHJvcGVyIC5zby1tZWRpYSBzdHJ1Y3R1cmUgbWF0Y2hpbmcgQ1NTIGZyYW1ld29yay5cbiAqL1xuY2xhc3MgTWVkaWFPYmplY3QgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1tZWRpYS1vYmplY3QnO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5FbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnbWVkaWEtb2JqZWN0JyxcbiAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX21lZGlhID0gY29uZmlnLm1lZGlhIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX21lZGlhVHlwZSA9IGNvbmZpZy5tZWRpYVR5cGUgfHwgJ2ltYWdlJztcbiAgICAgICAgdGhpcy5faW1hZ2VBbHQgPSBjb25maWcuaW1hZ2VBbHQgfHwgJyc7XG4gICAgICAgIHRoaXMuX21lZGlhU2l6ZSA9IGNvbmZpZy5tZWRpYVNpemUgfHwgJzY0cHgnO1xuICAgICAgICB0aGlzLl9pY29uVmFyaWFudCA9IGNvbmZpZy5pY29uVmFyaWFudCB8fCBudWxsO1xuICAgICAgICB0aGlzLl90aXRsZSA9IGNvbmZpZy50aXRsZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9ib2R5Q29udGVudCA9IGNvbmZpZy5jb250ZW50IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX21lZGlhUG9zaXRpb24gPSBjb25maWcubWVkaWFQb3NpdGlvbiB8fCAnc3RhcnQnO1xuICAgICAgICB0aGlzLl9hbGlnbiA9IGNvbmZpZy5hbGlnbiB8fCAndG9wJztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBNZWRpYSBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaW1hZ2UgbWVkaWFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gSW1hZ2UgVVJMXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFsdCAtIEFsdCB0ZXh0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaW1hZ2UodXJsLCBhbHQgPSAnJykge1xuICAgICAgICB0aGlzLl9tZWRpYSA9IHVybDtcbiAgICAgICAgdGhpcy5fbWVkaWFUeXBlID0gJ2ltYWdlJztcbiAgICAgICAgdGhpcy5faW1hZ2VBbHQgPSBhbHQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBpY29uIG1lZGlhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGljb24gLSBNYXRlcmlhbCBpY29uIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSB2YXJpYW50IC0gQ29sb3IgdmFyaWFudCAocHJpbWFyeSwgc3VjY2Vzcywgd2FybmluZywgZGFuZ2VyLCBpbmZvLCBzZWNvbmRhcnkpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvbihpY29uLCB2YXJpYW50ID0gbnVsbCkge1xuICAgICAgICB0aGlzLl9tZWRpYSA9IGljb247XG4gICAgICAgIHRoaXMuX21lZGlhVHlwZSA9ICdpY29uJztcbiAgICAgICAgdGhpcy5faWNvblZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbWVkaWEgc2l6ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaXplIC0gQ1NTIHNpemUgdmFsdWUgKGUuZy4sICc2NHB4JywgJzRyZW0nKVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG1lZGlhU2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuX21lZGlhU2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bWVkaWE6c2l6ZUNoYW5nZWQnLCB7IHNpemUgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBpY29uIHZhcmlhbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudCAtIHByaW1hcnksIHN1Y2Nlc3MsIHdhcm5pbmcsIGRhbmdlciwgaW5mbywgc2Vjb25kYXJ5XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgaWNvblZhcmlhbnQodmFyaWFudCkge1xuICAgICAgICB0aGlzLl9pY29uVmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bWVkaWE6dmFyaWFudENoYW5nZWQnLCB7IHZhcmlhbnQgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbnRlbnQgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRpdGxlL2hlYWRpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB0aXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOm1lZGlhOnRpdGxlQ2hhbmdlZCcsIHsgdGl0bGUgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBib2R5IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNvbnRlbnQoY29udGVudCkge1xuICAgICAgICB0aGlzLl9ib2R5Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bWVkaWE6Y29udGVudENoYW5nZWQnLCB7IGNvbnRlbnQgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBjb250ZW50KClcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYm9keVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGJvZHkoYm9keSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50KGJvZHkpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFBvc2l0aW9uIE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCBtZWRpYSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwb3NpdGlvbiAtICdzdGFydCcgb3IgJ2VuZCdcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBtZWRpYVBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuX21lZGlhUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzptZWRpYTpwb3NpdGlvbkNoYW5nZWQnLCB7IHBvc2l0aW9uIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZWRpYSBvbiBzdGFydCAobGVmdCBpbiBMVFIpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbWVkaWFTdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFQb3NpdGlvbignc3RhcnQnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZWRpYSBvbiBlbmQgKHJpZ2h0IGluIExUUilcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBtZWRpYUVuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFQb3NpdGlvbignZW5kJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIG1lZGlhRW5kKCkgLSBtZWRpYSBvbiByaWdodFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHJldmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhRW5kKCk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQWxpZ25tZW50IE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCB2ZXJ0aWNhbCBhbGlnbm1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWxpZ24gLSAndG9wJywgJ21pZGRsZScsICdib3R0b20nXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWxpZ24oYWxpZ24pIHtcbiAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzptZWRpYTphbGlnbkNoYW5nZWQnLCB7IGFsaWduIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlnbiB0b3AgKGRlZmF1bHQpXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWxpZ25Ub3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsaWduKCd0b3AnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlnbiBtaWRkbGUvY2VudGVyXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWxpZ25NaWRkbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsaWduKCdtaWRkbGUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYWxpZ25NaWRkbGUoKVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFsaWduQ2VudGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGlnbk1pZGRsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWduIGJvdHRvbVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFsaWduQm90dG9tKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGlnbignYm90dG9tJyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRHluYW1pYyBVcGRhdGUgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIG1lZGlhIGR5bmFtaWNhbGx5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lZGlhIC0gTmV3IG1lZGlhIFVSTCBvciBpY29uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSAnaW1hZ2UnIG9yICdpY29uJ1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldE1lZGlhKG1lZGlhLCB0eXBlID0gJ2ltYWdlJykge1xuICAgICAgICB0aGlzLl9tZWRpYSA9IG1lZGlhO1xuICAgICAgICB0aGlzLl9tZWRpYVR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLl90cmlnZ2VyRXZlbnQoJ3NvOm1lZGlhOm1lZGlhQ2hhbmdlZCcsIHsgbWVkaWEsIHR5cGUgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aXRsZSBkeW5hbWljYWxseVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldFRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bWVkaWE6dGl0bGVDaGFuZ2VkJywgeyB0aXRsZSB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGNvbnRlbnQgZHluYW1pY2FsbHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHNldENvbnRlbnQoY29udGVudCkge1xuICAgICAgICB0aGlzLl9ib2R5Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnc286bWVkaWE6Y29udGVudENoYW5nZWQnLCB7IGNvbnRlbnQgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBtZWRpYSBwb3NpdGlvblxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHRvZ2dsZVBvc2l0aW9uKCkge1xuICAgICAgICB0aGlzLl9tZWRpYVBvc2l0aW9uID0gdGhpcy5fbWVkaWFQb3NpdGlvbiA9PT0gJ3N0YXJ0JyA/ICdlbmQnIDogJ3N0YXJ0JztcbiAgICAgICAgdGhpcy5fdHJpZ2dlckV2ZW50KCdzbzptZWRpYTpwb3NpdGlvblRvZ2dsZWQnLCB7IHBvc2l0aW9uOiB0aGlzLl9tZWRpYVBvc2l0aW9uIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBHZXR0ZXJzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBHZXQgbWVkaWEgc291cmNlXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGdldE1lZGlhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IG1lZGlhIHR5cGVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldE1lZGlhVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhVHlwZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGl0bGVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0VGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYm9keSBjb250ZW50XG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGdldENvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib2R5Q29udGVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgbWVkaWEgcG9zaXRpb25cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldE1lZGlhUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYVBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGlnbm1lbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldEFsaWduKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRXZlbnQgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQWRkIG1lZGlhIGNoYW5nZSBldmVudCBsaXN0ZW5lclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25NZWRpYUNoYW5nZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignc286bWVkaWE6bWVkaWFDaGFuZ2VkJywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0aXRsZSBjaGFuZ2UgZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uVGl0bGVDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oJ3NvOm1lZGlhOnRpdGxlQ2hhbmdlZCcsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgY29udGVudCBjaGFuZ2UgZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9uQ29udGVudENoYW5nZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignc286bWVkaWE6Y29udGVudENoYW5nZWQnLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIHBvc2l0aW9uIGNoYW5nZSBldmVudCBsaXN0ZW5lclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgb25Qb3NpdGlvbkNoYW5nZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbignc286bWVkaWE6cG9zaXRpb25DaGFuZ2VkJywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgY3VzdG9tIGV2ZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXRhaWxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90cmlnZ2VyRXZlbnQoZXZlbnROYW1lLCBkZXRhaWwgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7IC4uLmRldGFpbCwgbWVkaWFPYmplY3Q6IHRoaXMgfSxcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBSZW5kZXJpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnbWVkaWEnKSk7XG5cbiAgICAgICAgLy8gQWRkIGFsaWdubWVudCBjbGFzc1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24gPT09ICdtaWRkbGUnKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnbWVkaWEtbWlkZGxlJykpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ21lZGlhLWJvdHRvbScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIG1lZGlhIGNvbnRhaW5lciBjbGFzc1xuICAgICAgICBjb25zdCBtZWRpYUNvbnRhaW5lckNsYXNzID0gdGhpcy5fbWVkaWFQb3NpdGlvbiA9PT0gJ2VuZCdcbiAgICAgICAgICAgID8gU2l4T3JiaXQuY2xzKCdtZWRpYS1yaWdodCcpXG4gICAgICAgICAgICA6IFNpeE9yYml0LmNscygnbWVkaWEtbGVmdCcpO1xuXG4gICAgICAgIC8vIFJlbmRlciBtZWRpYSBmaXJzdCBpZiBwb3NpdGlvbiBpcyBzdGFydFxuICAgICAgICBpZiAodGhpcy5fbWVkaWFQb3NpdGlvbiA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9yZW5kZXJNZWRpYShtZWRpYUNvbnRhaW5lckNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlciBib2R5XG4gICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyQm9keSgpO1xuXG4gICAgICAgIC8vIFJlbmRlciBtZWRpYSBsYXN0IGlmIHBvc2l0aW9uIGlzIGVuZFxuICAgICAgICBpZiAodGhpcy5fbWVkaWFQb3NpdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyTWVkaWEobWVkaWFDb250YWluZXJDbGFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgbWVkaWEgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWluZXJDbGFzc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVuZGVyTWVkaWEoY29udGFpbmVyQ2xhc3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz1cIiR7Y29udGFpbmVyQ2xhc3N9XCI+YDtcblxuICAgICAgICBpZiAodGhpcy5fbWVkaWFUeXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8aW1nIHNyYz1cIiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9tZWRpYSl9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSBgIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ21lZGlhLWltYWdlJyl9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSBgIGFsdD1cIiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9pbWFnZUFsdCl9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSBgIHN0eWxlPVwid2lkdGg6ICR7dGhpcy5fbWVkaWFTaXplfTsgaGVpZ2h0OiAke3RoaXMuX21lZGlhU2l6ZX07XCI+YDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tZWRpYVR5cGUgPT09ICdpY29uJykge1xuICAgICAgICAgICAgbGV0IGljb25DbGFzcyA9IFNpeE9yYml0LmNscygnbWVkaWEtaWNvbicpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ljb25WYXJpYW50KSB7XG4gICAgICAgICAgICAgICAgaWNvbkNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoYG1lZGlhLWljb24tJHt0aGlzLl9pY29uVmFyaWFudH1gKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtpY29uQ2xhc3N9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSBgIHN0eWxlPVwid2lkdGg6ICR7dGhpcy5fbWVkaWFTaXplfTsgaGVpZ2h0OiAke3RoaXMuX21lZGlhU2l6ZX07XCI+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fbWVkaWEpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBib2R5IGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlckJvZHkoKSB7XG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnbWVkaWEtYm9keScpfVwiPmA7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RpdGxlKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8aDUgY2xhc3M9XCIke1NpeE9yYml0LmNscygnbWVkaWEtaGVhZGluZycpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl90aXRsZSl9PC9oNT5gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlDb250ZW50KSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cD4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fYm9keUNvbnRlbnQpfTwvcD5gO1xuICAgICAgICB9XG5cbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9tZWRpYSkgY29uZmlnLm1lZGlhID0gdGhpcy5fbWVkaWE7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVR5cGUgIT09ICdpbWFnZScpIGNvbmZpZy5tZWRpYVR5cGUgPSB0aGlzLl9tZWRpYVR5cGU7XG4gICAgICAgIGlmICh0aGlzLl9pbWFnZUFsdCkgY29uZmlnLmltYWdlQWx0ID0gdGhpcy5faW1hZ2VBbHQ7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVNpemUgIT09ICc2NHB4JykgY29uZmlnLm1lZGlhU2l6ZSA9IHRoaXMuX21lZGlhU2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuX2ljb25WYXJpYW50KSBjb25maWcuaWNvblZhcmlhbnQgPSB0aGlzLl9pY29uVmFyaWFudDtcbiAgICAgICAgaWYgKHRoaXMuX3RpdGxlKSBjb25maWcudGl0bGUgPSB0aGlzLl90aXRsZTtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlDb250ZW50KSBjb25maWcuY29udGVudCA9IHRoaXMuX2JvZHlDb250ZW50O1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFQb3NpdGlvbiAhPT0gJ3N0YXJ0JykgY29uZmlnLm1lZGlhUG9zaXRpb24gPSB0aGlzLl9tZWRpYVBvc2l0aW9uO1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24gIT09ICd0b3AnKSBjb25maWcuYWxpZ24gPSB0aGlzLl9hbGlnbjtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWVkaWFPYmplY3Q7XG5leHBvcnQgeyBNZWRpYU9iamVjdCB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBDT0RFIEJMT0NLIEVMRU1FTlRcbi8vIENvZGUgZGlzcGxheVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG5jbGFzcyBDb2RlQmxvY2sgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1jb2RlLWJsb2NrJztcbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7IC4uLkVsZW1lbnQuREVGQVVMVFMsIHR5cGU6ICdjb2RlLWJsb2NrJywgdGFnTmFtZTogJ2RpdicgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2NvZGUgPSBjb25maWcuY29kZSB8fCAnJztcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSBjb25maWcubGFuZ3VhZ2UgfHwgJ3BsYWludGV4dCc7XG4gICAgICAgIHRoaXMuX3Nob3dMaW5lTnVtYmVycyA9IGNvbmZpZy5zaG93TGluZU51bWJlcnMgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3Nob3dDb3B5ID0gY29uZmlnLnNob3dDb3B5ICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBjb25maWcudGl0bGUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5faGlnaGxpZ2h0TGluZXMgPSBjb25maWcuaGlnaGxpZ2h0TGluZXMgfHwgW107XG4gICAgfVxuXG4gICAgY29kZShjb2RlKSB7IHRoaXMuX2NvZGUgPSBjb2RlOyByZXR1cm4gdGhpczsgfVxuICAgIGxhbmd1YWdlKGxhbmcpIHsgdGhpcy5fbGFuZ3VhZ2UgPSBsYW5nOyByZXR1cm4gdGhpczsgfVxuICAgIGphdmFzY3JpcHQoKSB7IHJldHVybiB0aGlzLmxhbmd1YWdlKCdqYXZhc2NyaXB0Jyk7IH1cbiAgICBwaHAoKSB7IHJldHVybiB0aGlzLmxhbmd1YWdlKCdwaHAnKTsgfVxuICAgIGh0bWwoKSB7IHJldHVybiB0aGlzLmxhbmd1YWdlKCdodG1sJyk7IH1cbiAgICBjc3MoKSB7IHJldHVybiB0aGlzLmxhbmd1YWdlKCdjc3MnKTsgfVxuICAgIGpzb24oKSB7IHJldHVybiB0aGlzLmxhbmd1YWdlKCdqc29uJyk7IH1cbiAgICBzcWwoKSB7IHJldHVybiB0aGlzLmxhbmd1YWdlKCdzcWwnKTsgfVxuICAgIGJhc2goKSB7IHJldHVybiB0aGlzLmxhbmd1YWdlKCdiYXNoJyk7IH1cbiAgICBzaG93TGluZU51bWJlcnModmFsID0gdHJ1ZSkgeyB0aGlzLl9zaG93TGluZU51bWJlcnMgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgc2hvd0NvcHkodmFsID0gdHJ1ZSkgeyB0aGlzLl9zaG93Q29weSA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBoaWRlQ29weSgpIHsgcmV0dXJuIHRoaXMuc2hvd0NvcHkoZmFsc2UpOyB9XG4gICAgdGl0bGUodGl0bGUpIHsgdGhpcy5fdGl0bGUgPSB0aXRsZTsgcmV0dXJuIHRoaXM7IH1cbiAgICBoaWdobGlnaHRMaW5lcyhsaW5lcykgeyB0aGlzLl9oaWdobGlnaHRMaW5lcyA9IGxpbmVzOyByZXR1cm4gdGhpczsgfVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2NvZGUtYmxvY2snKSk7XG4gICAgICAgIGlmICh0aGlzLl9zaG93TGluZU51bWJlcnMpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdjb2RlLWJsb2NrLW51bWJlcmVkJykpO1xuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RpdGxlIHx8IHRoaXMuX3Nob3dDb3B5KSB7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NvZGUtYmxvY2staGVhZGVyJyl9XCI+YDtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aXRsZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NvZGUtYmxvY2stdGl0bGUnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fdGl0bGUpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2xhbmd1YWdlICYmIHRoaXMuX2xhbmd1YWdlICE9PSAncGxhaW50ZXh0Jykge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NvZGUtYmxvY2stbGFuZ3VhZ2UnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fbGFuZ3VhZ2UpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3Nob3dDb3B5KSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY29kZS1ibG9jay1jb3B5Jyl9XCIgJHtTaXhPcmJpdC5kYXRhKCdjb3B5LXRhcmdldCcpfT1cImNvZGVcIj5gO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jb250ZW50X2NvcHk8L3NwYW4+JztcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8L2J1dHRvbj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gYDxwcmUgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY29kZS1ibG9jay1wcmUnKX1cIj48Y29kZSBjbGFzcz1cImxhbmd1YWdlLSR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9sYW5ndWFnZSl9XCI+YDtcblxuICAgICAgICBpZiAodGhpcy5fc2hvd0xpbmVOdW1iZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRoaXMuX2NvZGUuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgbGluZXMuZm9yRWFjaCgobGluZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGlkeCArIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0Q2xhc3MgPSB0aGlzLl9oaWdobGlnaHRMaW5lcy5pbmNsdWRlcyhsaW5lTnVtKSA/IGAgJHtTaXhPcmJpdC5jbHMoJ2hpZ2hsaWdodCcpfWAgOiAnJztcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjb2RlLWxpbmUnKX0ke2hpZ2hsaWdodENsYXNzfVwiPmA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnY29kZS1saW5lLW51bWJlcicpfVwiPiR7bGluZU51bX08L3NwYW4+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjb2RlLWxpbmUtY29udGVudCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbChsaW5lKX08L3NwYW4+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8L3NwYW4+XFxuJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX2NvZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaHRtbCArPSAnPC9jb2RlPjwvcHJlPic7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuICAgICAgICBpZiAodGhpcy5fY29kZSkgY29uZmlnLmNvZGUgPSB0aGlzLl9jb2RlO1xuICAgICAgICBpZiAodGhpcy5fbGFuZ3VhZ2UgIT09ICdwbGFpbnRleHQnKSBjb25maWcubGFuZ3VhZ2UgPSB0aGlzLl9sYW5ndWFnZTtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dMaW5lTnVtYmVycykgY29uZmlnLnNob3dMaW5lTnVtYmVycyA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5fc2hvd0NvcHkpIGNvbmZpZy5zaG93Q29weSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fdGl0bGUpIGNvbmZpZy50aXRsZSA9IHRoaXMuX3RpdGxlO1xuICAgICAgICBpZiAodGhpcy5faGlnaGxpZ2h0TGluZXMubGVuZ3RoID4gMCkgY29uZmlnLmhpZ2hsaWdodExpbmVzID0gdGhpcy5faGlnaGxpZ2h0TGluZXM7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2RlQmxvY2s7XG5leHBvcnQgeyBDb2RlQmxvY2sgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQ09OVEFJTkVSIEVMRU1FTlRcbi8vIFJlc3BvbnNpdmUgY29udGFpbmVyIHdyYXBwZXJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IENvbnRhaW5lckVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0NvbnRhaW5lckVsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBDb250YWluZXIgLSBSZXNwb25zaXZlIGNvbnRhaW5lciBlbGVtZW50XG4gKi9cbmNsYXNzIENvbnRhaW5lciBleHRlbmRzIENvbnRhaW5lckVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLWNvbnRhaW5lcic7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkNvbnRhaW5lckVsZW1lbnQuREVGQVVMVFMsXG4gICAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgICB0YWdOYW1lOiAnZGl2JyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fZmx1aWQgPSBjb25maWcuZmx1aWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3NpemUgPSBjb25maWcuc2l6ZSB8fCBudWxsOyAvLyBzbSwgbWQsIGxnLCB4bCwgeHhsXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGZsdWlkIGNvbnRhaW5lclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmx1aWRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBmbHVpZChmbHVpZCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZmx1aWQgPSBmbHVpZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG1heC13aWR0aCBicmVha3BvaW50IHNpemVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2l6ZSAtIHNtLCBtZCwgbGcsIHhsLCB4eGxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaXplKHNpemUpIHtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBTbWFsbCBjb250YWluZXIgKG1heC13aWR0aDogNTQwcHgpICovXG4gICAgc20oKSB7IHJldHVybiB0aGlzLnNpemUoJ3NtJyk7IH1cblxuICAgIC8qKiBNZWRpdW0gY29udGFpbmVyIChtYXgtd2lkdGg6IDcyMHB4KSAqL1xuICAgIG1kKCkgeyByZXR1cm4gdGhpcy5zaXplKCdtZCcpOyB9XG5cbiAgICAvKiogTGFyZ2UgY29udGFpbmVyIChtYXgtd2lkdGg6IDk2MHB4KSAqL1xuICAgIGxnKCkgeyByZXR1cm4gdGhpcy5zaXplKCdsZycpOyB9XG5cbiAgICAvKiogRXh0cmEgbGFyZ2UgY29udGFpbmVyIChtYXgtd2lkdGg6IDExNDBweCkgKi9cbiAgICB4bCgpIHsgcmV0dXJuIHRoaXMuc2l6ZSgneGwnKTsgfVxuXG4gICAgLyoqIEV4dHJhIGV4dHJhIGxhcmdlIGNvbnRhaW5lciAobWF4LXdpZHRoOiAxMzIwcHgpICovXG4gICAgeHhsKCkgeyByZXR1cm4gdGhpcy5zaXplKCd4eGwnKTsgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Nlc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZsdWlkKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnY29udGFpbmVyLWZsdWlkJykpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdjb250YWluZXInLCB0aGlzLl9zaXplKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnY29udGFpbmVyJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgY29udGVudFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWcgRXhwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZsdWlkKSBjb25maWcuZmx1aWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkgY29uZmlnLnNpemUgPSB0aGlzLl9zaXplO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250YWluZXI7XG5leHBvcnQgeyBDb250YWluZXIgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gUk9XIEVMRU1FTlRcbi8vIEdyaWQgcm93IGNvbnRhaW5lclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgQ29udGFpbmVyRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvQ29udGFpbmVyRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG4vKipcbiAqIFJvdyAtIEdyaWQgcm93IGVsZW1lbnRcbiAqL1xuY2xhc3MgUm93IGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktcm93JztcblxuICAgIHN0YXRpYyBERUZBVUxUUyA9IHtcbiAgICAgICAgLi4uQ29udGFpbmVyRWxlbWVudC5ERUZBVUxUUyxcbiAgICAgICAgdHlwZTogJ3JvdycsXG4gICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29uZmlnXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcblxuICAgICAgICB0aGlzLl9jb2xzID0gY29uZmlnLmNvbHMgfHwgbnVsbDsgLy8gcm93LWNvbHMtKlxuICAgICAgICB0aGlzLl9ndXR0ZXIgPSBjb25maWcuZ3V0dGVyIHx8IG51bGw7IC8vIGctKlxuICAgICAgICB0aGlzLl9ndXR0ZXJYID0gY29uZmlnLmd1dHRlclggfHwgbnVsbDsgLy8gZ3gtKlxuICAgICAgICB0aGlzLl9ndXR0ZXJZID0gY29uZmlnLmd1dHRlclkgfHwgbnVsbDsgLy8gZ3ktKlxuICAgICAgICB0aGlzLl9qdXN0aWZ5ID0gY29uZmlnLmp1c3RpZnkgfHwgbnVsbDsgLy8ganVzdGlmeS1jb250ZW50LSpcbiAgICAgICAgdGhpcy5fYWxpZ24gPSBjb25maWcuYWxpZ24gfHwgbnVsbDsgLy8gYWxpZ24taXRlbXMtKlxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZsdWVudCBBUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNldCByb3cgY29sdW1uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gY29scyAtIE51bWJlciBvciBicmVha3BvaW50Om51bWJlciAoZS5nLiwgJ21kOjMnKVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNvbHMoY29scykge1xuICAgICAgICB0aGlzLl9jb2xzID0gY29scztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGd1dHRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBndXR0ZXIgLSAwLTVcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBndXR0ZXIoZ3V0dGVyKSB7XG4gICAgICAgIHRoaXMuX2d1dHRlciA9IGd1dHRlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGhvcml6b250YWwgZ3V0dGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciAtIDAtNVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGd1dHRlclgoZ3V0dGVyKSB7XG4gICAgICAgIHRoaXMuX2d1dHRlclggPSBndXR0ZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2ZXJ0aWNhbCBndXR0ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIC0gMC01XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgZ3V0dGVyWShndXR0ZXIpIHtcbiAgICAgICAgdGhpcy5fZ3V0dGVyWSA9IGd1dHRlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGp1c3RpZnkgY29udGVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqdXN0aWZ5IC0gc3RhcnQsIGNlbnRlciwgZW5kLCBhcm91bmQsIGJldHdlZW4sIGV2ZW5seVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGp1c3RpZnkoanVzdGlmeSkge1xuICAgICAgICB0aGlzLl9qdXN0aWZ5ID0ganVzdGlmeTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqIEp1c3RpZnkgc3RhcnQgKi9cbiAgICBqdXN0aWZ5U3RhcnQoKSB7IHJldHVybiB0aGlzLmp1c3RpZnkoJ3N0YXJ0Jyk7IH1cblxuICAgIC8qKiBKdXN0aWZ5IGNlbnRlciAqL1xuICAgIGp1c3RpZnlDZW50ZXIoKSB7IHJldHVybiB0aGlzLmp1c3RpZnkoJ2NlbnRlcicpOyB9XG5cbiAgICAvKiogSnVzdGlmeSBlbmQgKi9cbiAgICBqdXN0aWZ5RW5kKCkgeyByZXR1cm4gdGhpcy5qdXN0aWZ5KCdlbmQnKTsgfVxuXG4gICAgLyoqIEp1c3RpZnkgYXJvdW5kICovXG4gICAganVzdGlmeUFyb3VuZCgpIHsgcmV0dXJuIHRoaXMuanVzdGlmeSgnYXJvdW5kJyk7IH1cblxuICAgIC8qKiBKdXN0aWZ5IGJldHdlZW4gKi9cbiAgICBqdXN0aWZ5QmV0d2VlbigpIHsgcmV0dXJuIHRoaXMuanVzdGlmeSgnYmV0d2VlbicpOyB9XG5cbiAgICAvKiogSnVzdGlmeSBldmVubHkgKi9cbiAgICBqdXN0aWZ5RXZlbmx5KCkgeyByZXR1cm4gdGhpcy5qdXN0aWZ5KCdldmVubHknKTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGFsaWduIGl0ZW1zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFsaWduIC0gc3RhcnQsIGNlbnRlciwgZW5kLCBiYXNlbGluZSwgc3RyZXRjaFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFsaWduKGFsaWduKSB7XG4gICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBBbGlnbiBzdGFydCAqL1xuICAgIGFsaWduU3RhcnQoKSB7IHJldHVybiB0aGlzLmFsaWduKCdzdGFydCcpOyB9XG5cbiAgICAvKiogQWxpZ24gY2VudGVyICovXG4gICAgYWxpZ25DZW50ZXIoKSB7IHJldHVybiB0aGlzLmFsaWduKCdjZW50ZXInKTsgfVxuXG4gICAgLyoqIEFsaWduIGVuZCAqL1xuICAgIGFsaWduRW5kKCkgeyByZXR1cm4gdGhpcy5hbGlnbignZW5kJyk7IH1cblxuICAgIC8qKiBBbGlnbiBiYXNlbGluZSAqL1xuICAgIGFsaWduQmFzZWxpbmUoKSB7IHJldHVybiB0aGlzLmFsaWduKCdiYXNlbGluZScpOyB9XG5cbiAgICAvKiogQWxpZ24gc3RyZXRjaCAqL1xuICAgIGFsaWduU3RyZXRjaCgpIHsgcmV0dXJuIHRoaXMuYWxpZ24oJ3N0cmV0Y2gnKTsgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Nlc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3JvdycpKTtcblxuICAgICAgICAvLyBSb3cgY29sdW1uc1xuICAgICAgICBpZiAodGhpcy5fY29scyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jb2xzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIC8vIFJlc3BvbnNpdmUgY29sczoge2RlZmF1bHQ6IDEsIG1kOiAyLCBsZzogM31cbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLl9jb2xzKS5mb3JFYWNoKChbYnAsIHZhbF0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJwID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdyb3ctY29scycsIHZhbCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ3Jvdy1jb2xzJywgYnAsIHZhbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdyb3ctY29scycsIHRoaXMuX2NvbHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEd1dHRlcnNcbiAgICAgICAgaWYgKHRoaXMuX2d1dHRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2cnLCB0aGlzLl9ndXR0ZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZ3V0dGVyWCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2d4JywgdGhpcy5fZ3V0dGVyWCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ndXR0ZXJZICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZ3knLCB0aGlzLl9ndXR0ZXJZKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBKdXN0aWZ5IGNvbnRlbnRcbiAgICAgICAgaWYgKHRoaXMuX2p1c3RpZnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdqdXN0aWZ5LWNvbnRlbnQnLCB0aGlzLl9qdXN0aWZ5KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbGlnbiBpdGVtc1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24pIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdhbGlnbi1pdGVtcycsIHRoaXMuX2FsaWduKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb250ZW50XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbmZpZyBFeHBvcnRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gY29uZmlnXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcblxuICAgICAgICBpZiAodGhpcy5fY29scyAhPT0gbnVsbCkgY29uZmlnLmNvbHMgPSB0aGlzLl9jb2xzO1xuICAgICAgICBpZiAodGhpcy5fZ3V0dGVyICE9PSBudWxsKSBjb25maWcuZ3V0dGVyID0gdGhpcy5fZ3V0dGVyO1xuICAgICAgICBpZiAodGhpcy5fZ3V0dGVyWCAhPT0gbnVsbCkgY29uZmlnLmd1dHRlclggPSB0aGlzLl9ndXR0ZXJYO1xuICAgICAgICBpZiAodGhpcy5fZ3V0dGVyWSAhPT0gbnVsbCkgY29uZmlnLmd1dHRlclkgPSB0aGlzLl9ndXR0ZXJZO1xuICAgICAgICBpZiAodGhpcy5fanVzdGlmeSkgY29uZmlnLmp1c3RpZnkgPSB0aGlzLl9qdXN0aWZ5O1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24pIGNvbmZpZy5hbGlnbiA9IHRoaXMuX2FsaWduO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb3c7XG5leHBvcnQgeyBSb3cgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQ09MVU1OIEVMRU1FTlRcbi8vIEdyaWQgY29sdW1uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Db250YWluZXJFbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8qKlxuICogQ29sdW1uIC0gR3JpZCBjb2x1bW4gZWxlbWVudFxuICovXG5jbGFzcyBDb2x1bW4gZXh0ZW5kcyBDb250YWluZXJFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1jb2x1bW4nO1xuXG4gICAgc3RhdGljIERFRkFVTFRTID0ge1xuICAgICAgICAuLi5Db250YWluZXJFbGVtZW50LkRFRkFVTFRTLFxuICAgICAgICB0eXBlOiAnY29sdW1uJyxcbiAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIHRoaXMuX3NpemUgPSBjb25maWcuc2l6ZSB8fCBudWxsOyAvLyBjb2wtKiBvciB7ZGVmYXVsdDogMTIsIG1kOiA2LCBsZzogNH1cbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gY29uZmlnLm9mZnNldCB8fCBudWxsOyAvLyBvZmZzZXQtKlxuICAgICAgICB0aGlzLl9vcmRlciA9IGNvbmZpZy5vcmRlciB8fCBudWxsOyAvLyBvcmRlci0qXG4gICAgICAgIHRoaXMuX2FsaWduU2VsZiA9IGNvbmZpZy5hbGlnblNlbGYgfHwgbnVsbDsgLy8gYWxpZ24tc2VsZi0qXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmx1ZW50IEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2V0IGNvbHVtbiBzaXplXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfE9iamVjdH0gc2l6ZSAtIENvbHVtbiB3aWR0aCAoMS0xMiwgJ2F1dG8nLCBvciByZXNwb25zaXZlIG9iamVjdClcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzaXplKHNpemUpIHtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBBdXRvLXNpemUgY29sdW1uICovXG4gICAgYXV0bygpIHsgcmV0dXJuIHRoaXMuc2l6ZSgnYXV0bycpOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBvZmZzZXQgLSBPZmZzZXQgY29sdW1ucyAoMC0xMSBvciByZXNwb25zaXZlIG9iamVjdClcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBvZmZzZXQob2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IG9mZnNldDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IG9yZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfE9iamVjdH0gb3JkZXIgLSBDb2x1bW4gb3JkZXIgKDAtNSwgJ2ZpcnN0JywgJ2xhc3QnLCBvciByZXNwb25zaXZlKVxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIG9yZGVyKG9yZGVyKSB7XG4gICAgICAgIHRoaXMuX29yZGVyID0gb3JkZXI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBPcmRlciBmaXJzdCAqL1xuICAgIG9yZGVyRmlyc3QoKSB7IHJldHVybiB0aGlzLm9yZGVyKCdmaXJzdCcpOyB9XG5cbiAgICAvKiogT3JkZXIgbGFzdCAqL1xuICAgIG9yZGVyTGFzdCgpIHsgcmV0dXJuIHRoaXMub3JkZXIoJ2xhc3QnKTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGFsaWduIHNlbGZcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWxpZ24gLSBzdGFydCwgY2VudGVyLCBlbmQsIGJhc2VsaW5lLCBzdHJldGNoXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWxpZ25TZWxmKGFsaWduKSB7XG4gICAgICAgIHRoaXMuX2FsaWduU2VsZiA9IGFsaWduO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKiogQWxpZ24gc2VsZiBzdGFydCAqL1xuICAgIGFsaWduU2VsZlN0YXJ0KCkgeyByZXR1cm4gdGhpcy5hbGlnblNlbGYoJ3N0YXJ0Jyk7IH1cblxuICAgIC8qKiBBbGlnbiBzZWxmIGNlbnRlciAqL1xuICAgIGFsaWduU2VsZkNlbnRlcigpIHsgcmV0dXJuIHRoaXMuYWxpZ25TZWxmKCdjZW50ZXInKTsgfVxuXG4gICAgLyoqIEFsaWduIHNlbGYgZW5kICovXG4gICAgYWxpZ25TZWxmRW5kKCkgeyByZXR1cm4gdGhpcy5hbGlnblNlbGYoJ2VuZCcpOyB9XG5cbiAgICAvKiogQWxpZ24gc2VsZiBiYXNlbGluZSAqL1xuICAgIGFsaWduU2VsZkJhc2VsaW5lKCkgeyByZXR1cm4gdGhpcy5hbGlnblNlbGYoJ2Jhc2VsaW5lJyk7IH1cblxuICAgIC8qKiBBbGlnbiBzZWxmIHN0cmV0Y2ggKi9cbiAgICBhbGlnblNlbGZTdHJldGNoKCkgeyByZXR1cm4gdGhpcy5hbGlnblNlbGYoJ3N0cmV0Y2gnKTsgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVuZGVyaW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBDU1MgY2xhc3Nlc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgLy8gQ29sdW1uIHNpemVcbiAgICAgICAgaWYgKHRoaXMuX3NpemUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdjb2wnKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX3NpemUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvLyBSZXNwb25zaXZlOiB7ZGVmYXVsdDogMTIsIG1kOiA2LCBsZzogNH1cbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuX3NpemUpLmZvckVhY2goKFticCwgdmFsXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChicCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdjb2wnLCB2YWwpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnY29sJywgYnAsIHZhbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3NpemUgPT09ICdhdXRvJykge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2NvbC1hdXRvJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2NvbCcsIHRoaXMuX3NpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9mZnNldFxuICAgICAgICBpZiAodGhpcy5fb2Zmc2V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX29mZnNldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLl9vZmZzZXQpLmZvckVhY2goKFticCwgdmFsXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnAgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ29mZnNldCcsIHZhbCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ29mZnNldCcsIGJwLCB2YWwpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnb2Zmc2V0JywgdGhpcy5fb2Zmc2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcmRlclxuICAgICAgICBpZiAodGhpcy5fb3JkZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fb3JkZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5fb3JkZXIpLmZvckVhY2goKFticCwgdmFsXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnAgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ29yZGVyJywgdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnb3JkZXInLCBicCwgdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ29yZGVyJywgdGhpcy5fb3JkZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsaWduIHNlbGZcbiAgICAgICAgaWYgKHRoaXMuX2FsaWduU2VsZikge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2FsaWduLXNlbGYnLCB0aGlzLl9hbGlnblNlbGYpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5idWlsZENsYXNzU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaXplICE9PSBudWxsKSBjb25maWcuc2l6ZSA9IHRoaXMuX3NpemU7XG4gICAgICAgIGlmICh0aGlzLl9vZmZzZXQgIT09IG51bGwpIGNvbmZpZy5vZmZzZXQgPSB0aGlzLl9vZmZzZXQ7XG4gICAgICAgIGlmICh0aGlzLl9vcmRlciAhPT0gbnVsbCkgY29uZmlnLm9yZGVyID0gdGhpcy5fb3JkZXI7XG4gICAgICAgIGlmICh0aGlzLl9hbGlnblNlbGYpIGNvbmZpZy5hbGlnblNlbGYgPSB0aGlzLl9hbGlnblNlbGY7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbHVtbjtcbmV4cG9ydCB7IENvbHVtbiB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBESVZJREVSIEVMRU1FTlRcbi8vIEhvcml6b250YWwgb3IgdmVydGljYWwgZGl2aWRlci9zZXBhcmF0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuLyoqXG4gKiBEaXZpZGVyIC0gRGl2aWRlci9zZXBhcmF0b3IgZWxlbWVudFxuICovXG5jbGFzcyBEaXZpZGVyIGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktZGl2aWRlcic7XG5cbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7XG4gICAgICAgIC4uLkVsZW1lbnQuREVGQVVMVFMsXG4gICAgICAgIHR5cGU6ICdkaXZpZGVyJyxcbiAgICAgICAgdGFnTmFtZTogJ2hyJyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fdmVydGljYWwgPSBjb25maWcudmVydGljYWwgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3RleHQgPSBjb25maWcudGV4dCB8fCBudWxsO1xuICAgICAgICB0aGlzLl92YXJpYW50ID0gY29uZmlnLnZhcmlhbnQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fbWFyZ2luID0gY29uZmlnLm1hcmdpbiB8fCBudWxsOyAvLyBteS0qIG9yIG14LSogdmFsdWVcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGbHVlbnQgQVBJXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmVydGljYWwgb3JpZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZlcnRpY2FsXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmVydGljYWwodmVydGljYWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsID0gdmVydGljYWw7XG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy5fdGFnTmFtZSA9ICdkaXYnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0ZXh0IGZvciBkaXZpZGVyIHdpdGggdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdGV4dCh0ZXh0KSB7XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLl90YWdOYW1lID0gJ2Rpdic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2YXJpYW50L2NvbG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhcmlhbnRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICB2YXJpYW50KHZhcmlhbnQpIHtcbiAgICAgICAgdGhpcy5fdmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBQcmltYXJ5IHZhcmlhbnQgKi9cbiAgICBwcmltYXJ5KCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdwcmltYXJ5Jyk7IH1cblxuICAgIC8qKiBTZWNvbmRhcnkgdmFyaWFudCAqL1xuICAgIHNlY29uZGFyeSgpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnc2Vjb25kYXJ5Jyk7IH1cblxuICAgIC8qKiBEYXJrIHZhcmlhbnQgKi9cbiAgICBkYXJrKCkgeyByZXR1cm4gdGhpcy52YXJpYW50KCdkYXJrJyk7IH1cblxuICAgIC8qKiBMaWdodCB2YXJpYW50ICovXG4gICAgbGlnaHQoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ2xpZ2h0Jyk7IH1cblxuICAgIC8qKlxuICAgICAqIFNldCBtYXJnaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWFyZ2luIC0gMC01XG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgbWFyZ2luKG1hcmdpbikge1xuICAgICAgICB0aGlzLl9tYXJnaW4gPSBtYXJnaW47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRhZyBuYW1lXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRUYWdOYW1lKCkge1xuICAgICAgICBpZiAodGhpcy5fdGV4dCB8fCB0aGlzLl92ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcmV0dXJuICdkaXYnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnaHInO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICBpZiAodGhpcy5fdmVydGljYWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd2cicpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXJnaW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnbXgnLCB0aGlzLl9tYXJnaW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl90ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZGl2aWRlcicpKTtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdkaXZpZGVyLXRleHQnKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFyZ2luICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ215JywgdGhpcy5fbWFyZ2luKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTdGFuZGFyZCBoclxuICAgICAgICAgICAgaWYgKHRoaXMuX21hcmdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdteScsIHRoaXMuX21hcmdpbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZhcmlhbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdib3JkZXInLCB0aGlzLl92YXJpYW50KSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCd0ZXh0JywgdGhpcy5fdmFyaWFudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl90ZXh0ICYmICF0aGlzLl92ZXJ0aWNhbCkge1xuICAgICAgICAgICAgYXR0cnMucm9sZSA9ICdzZXBhcmF0b3InO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb250ZW50XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdkaXZpZGVyLXRleHQtY29udGVudCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl90ZXh0KX08L3NwYW4+YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlnIEV4cG9ydFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl92ZXJ0aWNhbCkgY29uZmlnLnZlcnRpY2FsID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3RleHQpIGNvbmZpZy50ZXh0ID0gdGhpcy5fdGV4dDtcbiAgICAgICAgaWYgKHRoaXMuX3ZhcmlhbnQpIGNvbmZpZy52YXJpYW50ID0gdGhpcy5fdmFyaWFudDtcbiAgICAgICAgaWYgKHRoaXMuX21hcmdpbiAhPT0gbnVsbCkgY29uZmlnLm1hcmdpbiA9IHRoaXMuX21hcmdpbjtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGl2aWRlcjtcbmV4cG9ydCB7IERpdmlkZXIgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gR1JJRCBFTEVNRU5UXG4vLyBDU1MgR3JpZCBsYXlvdXQgd3JhcHBlclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgQ29udGFpbmVyRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvQ29udGFpbmVyRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG5jbGFzcyBHcmlkIGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktZ3JpZCc7XG4gICAgc3RhdGljIERFRkFVTFRTID0geyAuLi5Db250YWluZXJFbGVtZW50LkRFRkFVTFRTLCB0eXBlOiAnZ3JpZCcsIHRhZ05hbWU6ICdkaXYnIH07XG5cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLl9jb2x1bW5zID0gY29uZmlnLmNvbHVtbnMgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fcm93cyA9IGNvbmZpZy5yb3dzIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2dhcCA9IGNvbmZpZy5nYXAgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fcm93R2FwID0gY29uZmlnLnJvd0dhcCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9jb2x1bW5HYXAgPSBjb25maWcuY29sdW1uR2FwIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2p1c3RpZnlJdGVtcyA9IGNvbmZpZy5qdXN0aWZ5SXRlbXMgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fYWxpZ25JdGVtcyA9IGNvbmZpZy5hbGlnbkl0ZW1zIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2FyZWFzID0gY29uZmlnLmFyZWFzIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2F1dG9GbG93ID0gY29uZmlnLmF1dG9GbG93IHx8IG51bGw7XG4gICAgfVxuXG4gICAgY29sdW1ucyh2YWwpIHsgdGhpcy5fY29sdW1ucyA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICByb3dzKHZhbCkgeyB0aGlzLl9yb3dzID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGdhcCh2YWwpIHsgdGhpcy5fZ2FwID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIHJvd0dhcCh2YWwpIHsgdGhpcy5fcm93R2FwID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGNvbHVtbkdhcCh2YWwpIHsgdGhpcy5fY29sdW1uR2FwID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGp1c3RpZnlJdGVtcyh2YWwpIHsgdGhpcy5fanVzdGlmeUl0ZW1zID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGFsaWduSXRlbXModmFsKSB7IHRoaXMuX2FsaWduSXRlbXMgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgYXJlYXModmFsKSB7IHRoaXMuX2FyZWFzID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGF1dG9GbG93KHZhbCkgeyB0aGlzLl9hdXRvRmxvdyA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBmbG93Um93KCkgeyByZXR1cm4gdGhpcy5hdXRvRmxvdygncm93Jyk7IH1cbiAgICBmbG93Q29sdW1uKCkgeyByZXR1cm4gdGhpcy5hdXRvRmxvdygnY29sdW1uJyk7IH1cbiAgICBmbG93RGVuc2UoKSB7IHJldHVybiB0aGlzLmF1dG9GbG93KCdkZW5zZScpOyB9XG5cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZC1ncmlkJykpO1xuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgICAgIGlmICh0aGlzLl9jb2x1bW5zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCh0eXBlb2YgdGhpcy5fY29sdW1ucyA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICA/IGBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgke3RoaXMuX2NvbHVtbnN9LCAxZnIpYFxuICAgICAgICAgICAgICAgIDogYGdyaWQtdGVtcGxhdGUtY29sdW1uczogJHt0aGlzLl9jb2x1bW5zfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yb3dzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCh0eXBlb2YgdGhpcy5fcm93cyA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICA/IGBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgke3RoaXMuX3Jvd3N9LCAxZnIpYFxuICAgICAgICAgICAgICAgIDogYGdyaWQtdGVtcGxhdGUtcm93czogJHt0aGlzLl9yb3dzfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9nYXApIHN0eWxlcy5wdXNoKGBnYXA6ICR7dGhpcy5fZ2FwfWApO1xuICAgICAgICBpZiAodGhpcy5fcm93R2FwKSBzdHlsZXMucHVzaChgcm93LWdhcDogJHt0aGlzLl9yb3dHYXB9YCk7XG4gICAgICAgIGlmICh0aGlzLl9jb2x1bW5HYXApIHN0eWxlcy5wdXNoKGBjb2x1bW4tZ2FwOiAke3RoaXMuX2NvbHVtbkdhcH1gKTtcbiAgICAgICAgaWYgKHRoaXMuX2p1c3RpZnlJdGVtcykgc3R5bGVzLnB1c2goYGp1c3RpZnktaXRlbXM6ICR7dGhpcy5fanVzdGlmeUl0ZW1zfWApO1xuICAgICAgICBpZiAodGhpcy5fYWxpZ25JdGVtcykgc3R5bGVzLnB1c2goYGFsaWduLWl0ZW1zOiAke3RoaXMuX2FsaWduSXRlbXN9YCk7XG4gICAgICAgIGlmICh0aGlzLl9hcmVhcykge1xuICAgICAgICAgICAgY29uc3QgYXJlYXNTdHIgPSB0aGlzLl9hcmVhcy5tYXAocm93ID0+IGBcIiR7cm93fVwiYCkuam9pbignICcpO1xuICAgICAgICAgICAgc3R5bGVzLnB1c2goYGdyaWQtdGVtcGxhdGUtYXJlYXM6ICR7YXJlYXNTdHJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2F1dG9GbG93KSBzdHlsZXMucHVzaChgZ3JpZC1hdXRvLWZsb3c6ICR7dGhpcy5fYXV0b0Zsb3d9YCk7XG4gICAgICAgIGlmIChzdHlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYXR0cnMuc3R5bGUgPSAoYXR0cnMuc3R5bGUgfHwgJycpICsgc3R5bGVzLmpvaW4oJzsgJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7IHJldHVybiB0aGlzLnJlbmRlckNoaWxkcmVuKCk7IH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuICAgICAgICBpZiAodGhpcy5fY29sdW1ucyAhPT0gbnVsbCkgY29uZmlnLmNvbHVtbnMgPSB0aGlzLl9jb2x1bW5zO1xuICAgICAgICBpZiAodGhpcy5fcm93cyAhPT0gbnVsbCkgY29uZmlnLnJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICBpZiAodGhpcy5fZ2FwKSBjb25maWcuZ2FwID0gdGhpcy5fZ2FwO1xuICAgICAgICBpZiAodGhpcy5fcm93R2FwKSBjb25maWcucm93R2FwID0gdGhpcy5fcm93R2FwO1xuICAgICAgICBpZiAodGhpcy5fY29sdW1uR2FwKSBjb25maWcuY29sdW1uR2FwID0gdGhpcy5fY29sdW1uR2FwO1xuICAgICAgICBpZiAodGhpcy5fanVzdGlmeUl0ZW1zKSBjb25maWcuanVzdGlmeUl0ZW1zID0gdGhpcy5fanVzdGlmeUl0ZW1zO1xuICAgICAgICBpZiAodGhpcy5fYWxpZ25JdGVtcykgY29uZmlnLmFsaWduSXRlbXMgPSB0aGlzLl9hbGlnbkl0ZW1zO1xuICAgICAgICBpZiAodGhpcy5fYXJlYXMpIGNvbmZpZy5hcmVhcyA9IHRoaXMuX2FyZWFzO1xuICAgICAgICBpZiAodGhpcy5fYXV0b0Zsb3cpIGNvbmZpZy5hdXRvRmxvdyA9IHRoaXMuX2F1dG9GbG93O1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JpZDtcbmV4cG9ydCB7IEdyaWQgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gRkxFWCBFTEVNRU5UXG4vLyBGbGV4Ym94IGxheW91dCB3cmFwcGVyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Db250YWluZXJFbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbmNsYXNzIEZsZXggZXh0ZW5kcyBDb250YWluZXJFbGVtZW50IHtcbiAgICBzdGF0aWMgTkFNRSA9ICd1aS1mbGV4JztcbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7IC4uLkNvbnRhaW5lckVsZW1lbnQuREVGQVVMVFMsIHR5cGU6ICdmbGV4JywgdGFnTmFtZTogJ2RpdicgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGNvbmZpZy5kaXJlY3Rpb24gfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fanVzdGlmeSA9IGNvbmZpZy5qdXN0aWZ5IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2FsaWduID0gY29uZmlnLmFsaWduIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2FsaWduQ29udGVudCA9IGNvbmZpZy5hbGlnbkNvbnRlbnQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fd3JhcCA9IGNvbmZpZy53cmFwIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2ZsZXhHYXAgPSBjb25maWcuZ2FwID8/IG51bGw7XG4gICAgICAgIHRoaXMuX2lubGluZSA9IGNvbmZpZy5pbmxpbmUgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgZGlyZWN0aW9uKHZhbCkgeyB0aGlzLl9kaXJlY3Rpb24gPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgcm93KCkgeyByZXR1cm4gdGhpcy5kaXJlY3Rpb24oJ3JvdycpOyB9XG4gICAgcm93UmV2ZXJzZSgpIHsgcmV0dXJuIHRoaXMuZGlyZWN0aW9uKCdyb3ctcmV2ZXJzZScpOyB9XG4gICAgY29sdW1uKCkgeyByZXR1cm4gdGhpcy5kaXJlY3Rpb24oJ2NvbHVtbicpOyB9XG4gICAgY29sdW1uUmV2ZXJzZSgpIHsgcmV0dXJuIHRoaXMuZGlyZWN0aW9uKCdjb2x1bW4tcmV2ZXJzZScpOyB9XG4gICAganVzdGlmeSh2YWwpIHsgdGhpcy5fanVzdGlmeSA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBqdXN0aWZ5U3RhcnQoKSB7IHJldHVybiB0aGlzLmp1c3RpZnkoJ3N0YXJ0Jyk7IH1cbiAgICBqdXN0aWZ5Q2VudGVyKCkgeyByZXR1cm4gdGhpcy5qdXN0aWZ5KCdjZW50ZXInKTsgfVxuICAgIGp1c3RpZnlFbmQoKSB7IHJldHVybiB0aGlzLmp1c3RpZnkoJ2VuZCcpOyB9XG4gICAganVzdGlmeUJldHdlZW4oKSB7IHJldHVybiB0aGlzLmp1c3RpZnkoJ2JldHdlZW4nKTsgfVxuICAgIGp1c3RpZnlBcm91bmQoKSB7IHJldHVybiB0aGlzLmp1c3RpZnkoJ2Fyb3VuZCcpOyB9XG4gICAganVzdGlmeUV2ZW5seSgpIHsgcmV0dXJuIHRoaXMuanVzdGlmeSgnZXZlbmx5Jyk7IH1cbiAgICBhbGlnbih2YWwpIHsgdGhpcy5fYWxpZ24gPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgYWxpZ25TdGFydCgpIHsgcmV0dXJuIHRoaXMuYWxpZ24oJ3N0YXJ0Jyk7IH1cbiAgICBhbGlnbkNlbnRlcigpIHsgcmV0dXJuIHRoaXMuYWxpZ24oJ2NlbnRlcicpOyB9XG4gICAgYWxpZ25FbmQoKSB7IHJldHVybiB0aGlzLmFsaWduKCdlbmQnKTsgfVxuICAgIGFsaWduQmFzZWxpbmUoKSB7IHJldHVybiB0aGlzLmFsaWduKCdiYXNlbGluZScpOyB9XG4gICAgYWxpZ25TdHJldGNoKCkgeyByZXR1cm4gdGhpcy5hbGlnbignc3RyZXRjaCcpOyB9XG4gICAgYWxpZ25Db250ZW50KHZhbCkgeyB0aGlzLl9hbGlnbkNvbnRlbnQgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgd3JhcCh2YWwgPSAnd3JhcCcpIHsgdGhpcy5fd3JhcCA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBub3dyYXAoKSB7IHJldHVybiB0aGlzLndyYXAoJ25vd3JhcCcpOyB9XG4gICAgd3JhcFJldmVyc2UoKSB7IHJldHVybiB0aGlzLndyYXAoJ3dyYXAtcmV2ZXJzZScpOyB9XG4gICAgZ2FwKHZhbCkgeyB0aGlzLl9mbGV4R2FwID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIGlubGluZSh2YWwgPSB0cnVlKSB7IHRoaXMuX2lubGluZSA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBjZW50ZXIoKSB7IHJldHVybiB0aGlzLmp1c3RpZnlDZW50ZXIoKS5hbGlnbkNlbnRlcigpOyB9XG5cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscyh0aGlzLl9pbmxpbmUgPyAnZC1pbmxpbmUtZmxleCcgOiAnZC1mbGV4JykpO1xuICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uKSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZmxleCcsIHRoaXMuX2RpcmVjdGlvbikpO1xuICAgICAgICBpZiAodGhpcy5fanVzdGlmeSkgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2p1c3RpZnktY29udGVudCcsIHRoaXMuX2p1c3RpZnkpKTtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWduKSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnYWxpZ24taXRlbXMnLCB0aGlzLl9hbGlnbikpO1xuICAgICAgICBpZiAodGhpcy5fYWxpZ25Db250ZW50KSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnYWxpZ24tY29udGVudCcsIHRoaXMuX2FsaWduQ29udGVudCkpO1xuICAgICAgICBpZiAodGhpcy5fd3JhcCkgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2ZsZXgnLCB0aGlzLl93cmFwKSk7XG4gICAgICAgIGlmICh0aGlzLl9mbGV4R2FwICE9PSBudWxsKSB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZ2FwJywgdGhpcy5fZmxleEdhcCkpO1xuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7IHJldHVybiB0aGlzLnJlbmRlckNoaWxkcmVuKCk7IH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uKSBjb25maWcuZGlyZWN0aW9uID0gdGhpcy5fZGlyZWN0aW9uO1xuICAgICAgICBpZiAodGhpcy5fanVzdGlmeSkgY29uZmlnLmp1c3RpZnkgPSB0aGlzLl9qdXN0aWZ5O1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24pIGNvbmZpZy5hbGlnbiA9IHRoaXMuX2FsaWduO1xuICAgICAgICBpZiAodGhpcy5fYWxpZ25Db250ZW50KSBjb25maWcuYWxpZ25Db250ZW50ID0gdGhpcy5fYWxpZ25Db250ZW50O1xuICAgICAgICBpZiAodGhpcy5fd3JhcCkgY29uZmlnLndyYXAgPSB0aGlzLl93cmFwO1xuICAgICAgICBpZiAodGhpcy5fZmxleEdhcCAhPT0gbnVsbCkgY29uZmlnLmdhcCA9IHRoaXMuX2ZsZXhHYXA7XG4gICAgICAgIGlmICh0aGlzLl9pbmxpbmUpIGNvbmZpZy5pbmxpbmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmxleDtcbmV4cG9ydCB7IEZsZXggfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gRFJPUERPV04gRUxFTUVOVFxuLy8gRHJvcGRvd24gbWVudVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG5jbGFzcyBEcm9wZG93biBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLWRyb3Bkb3duJztcbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7IC4uLkVsZW1lbnQuREVGQVVMVFMsIHR5cGU6ICdkcm9wZG93bicsIHRhZ05hbWU6ICdkaXYnIH07XG5cbiAgICBfaW5pdEZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLl9pbml0RnJvbUNvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLl90cmlnZ2VyID0gY29uZmlnLnRyaWdnZXIgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckljb24gPSBjb25maWcudHJpZ2dlckljb24gfHwgbnVsbDtcbiAgICAgICAgdGhpcy5faXRlbXMgPSBjb25maWcuaXRlbXMgfHwgW107XG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGNvbmZpZy5kaXJlY3Rpb24gfHwgJ2Rvd24nO1xuICAgICAgICB0aGlzLl9hbGlnbm1lbnQgPSBjb25maWcuYWxpZ25tZW50IHx8ICdzdGFydCc7XG4gICAgICAgIHRoaXMuX3ZhcmlhbnQgPSBjb25maWcudmFyaWFudCB8fCAnc2Vjb25kYXJ5JztcbiAgICAgICAgdGhpcy5fc3BsaXQgPSBjb25maWcuc3BsaXQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2J1dHRvblNpemUgPSBjb25maWcuc2l6ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9kYXJrID0gY29uZmlnLmRhcmsgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2F1dG9DbG9zZSA9IGNvbmZpZy5hdXRvQ2xvc2UgIT09IHVuZGVmaW5lZCA/IGNvbmZpZy5hdXRvQ2xvc2UgOiB0cnVlO1xuICAgIH1cblxuICAgIHRyaWdnZXIodGV4dCkgeyB0aGlzLl90cmlnZ2VyID0gdGV4dDsgcmV0dXJuIHRoaXM7IH1cbiAgICB0cmlnZ2VySWNvbihpY29uKSB7IHRoaXMuX3RyaWdnZXJJY29uID0gaWNvbjsgcmV0dXJuIHRoaXM7IH1cbiAgICBpdGVtcyhpdGVtcykgeyB0aGlzLl9pdGVtcyA9IGl0ZW1zOyByZXR1cm4gdGhpczsgfVxuICAgIGFkZEl0ZW0obGFiZWwsIHVybCA9IG51bGwsIGljb24gPSBudWxsLCBhY3RpdmUgPSBmYWxzZSwgZGlzYWJsZWQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKHsgdHlwZTogJ2l0ZW0nLCBsYWJlbCwgdXJsLCBpY29uLCBhY3RpdmUsIGRpc2FibGVkIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYWRkRGl2aWRlcigpIHsgdGhpcy5faXRlbXMucHVzaCh7IHR5cGU6ICdkaXZpZGVyJyB9KTsgcmV0dXJuIHRoaXM7IH1cbiAgICBhZGRIZWFkZXIodGV4dCkgeyB0aGlzLl9pdGVtcy5wdXNoKHsgdHlwZTogJ2hlYWRlcicsIGxhYmVsOiB0ZXh0IH0pOyByZXR1cm4gdGhpczsgfVxuICAgIGRpcmVjdGlvbihkaXIpIHsgdGhpcy5fZGlyZWN0aW9uID0gZGlyOyByZXR1cm4gdGhpczsgfVxuICAgIGRyb3BEb3duKCkgeyByZXR1cm4gdGhpcy5kaXJlY3Rpb24oJ2Rvd24nKTsgfVxuICAgIGRyb3BVcCgpIHsgcmV0dXJuIHRoaXMuZGlyZWN0aW9uKCd1cCcpOyB9XG4gICAgZHJvcFN0YXJ0KCkgeyByZXR1cm4gdGhpcy5kaXJlY3Rpb24oJ3N0YXJ0Jyk7IH1cbiAgICBkcm9wRW5kKCkgeyByZXR1cm4gdGhpcy5kaXJlY3Rpb24oJ2VuZCcpOyB9XG4gICAgYWxpZ25tZW50KGFsaWduKSB7IHRoaXMuX2FsaWdubWVudCA9IGFsaWduOyByZXR1cm4gdGhpczsgfVxuICAgIGFsaWduRW5kKCkgeyByZXR1cm4gdGhpcy5hbGlnbm1lbnQoJ2VuZCcpOyB9XG4gICAgdmFyaWFudCh2KSB7IHRoaXMuX3ZhcmlhbnQgPSB2OyByZXR1cm4gdGhpczsgfVxuICAgIHByaW1hcnkoKSB7IHJldHVybiB0aGlzLnZhcmlhbnQoJ3ByaW1hcnknKTsgfVxuICAgIHNlY29uZGFyeSgpIHsgcmV0dXJuIHRoaXMudmFyaWFudCgnc2Vjb25kYXJ5Jyk7IH1cbiAgICBzcGxpdCh2YWwgPSB0cnVlKSB7IHRoaXMuX3NwbGl0ID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIHNpemUocykgeyB0aGlzLl9idXR0b25TaXplID0gczsgcmV0dXJuIHRoaXM7IH1cbiAgICBzbWFsbCgpIHsgcmV0dXJuIHRoaXMuc2l6ZSgnc20nKTsgfVxuICAgIGxhcmdlKCkgeyByZXR1cm4gdGhpcy5zaXplKCdsZycpOyB9XG4gICAgZGFyayh2YWwgPSB0cnVlKSB7IHRoaXMuX2RhcmsgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgYXV0b0Nsb3NlKHZhbCkgeyB0aGlzLl9hdXRvQ2xvc2UgPSB2YWw7IHJldHVybiB0aGlzOyB9XG5cbiAgICBidWlsZENsYXNzU3RyaW5nKCkge1xuICAgICAgICBpZiAodGhpcy5fc3BsaXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdidG4tZ3JvdXAnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZHJvcGRvd24nKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiAhPT0gJ2Rvd24nKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyYUNsYXNzZXMuYWRkKFNpeE9yYml0LmNscygnZHJvcCcgKyB0aGlzLl9kaXJlY3Rpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIGJ1aWxkQXR0cmlidXRlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBzdXBlci5idWlsZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndWktaW5pdCcpXSA9ICdkcm9wZG93bic7XG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3VpLWNvbmZpZycpXSA9IEpTT04uc3RyaW5naWZ5KHsgYXV0b0Nsb3NlOiB0aGlzLl9hdXRvQ2xvc2UgfSk7XG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICBsZXQgYnRuQ2xhc3MgPSBgJHtTaXhPcmJpdC5jbHMoJ2J0bicpfSAke1NpeE9yYml0LmNscygnYnRuJywgdGhpcy5fdmFyaWFudCl9YDtcbiAgICAgICAgaWYgKHRoaXMuX2J1dHRvblNpemUpIGJ0bkNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ2J0bicsIHRoaXMuX2J1dHRvblNpemUpfWA7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NwbGl0KSB7XG4gICAgICAgICAgICBodG1sICs9IGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIiR7YnRuQ2xhc3N9XCI+YDtcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmlnZ2VySWNvbikgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl90cmlnZ2VySWNvbil9PC9zcGFuPiBgO1xuICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3RyaWdnZXIgfHwgJycpO1xuICAgICAgICAgICAgaHRtbCArPSAnPC9idXR0b24+JztcbiAgICAgICAgICAgIGh0bWwgKz0gYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtidG5DbGFzc30gJHtTaXhPcmJpdC5jbHMoJ2Ryb3Bkb3duLXRvZ2dsZScpfSAke1NpeE9yYml0LmNscygnZHJvcGRvd24tdG9nZ2xlLXNwbGl0Jyl9XCIgJHtTaXhPcmJpdC5kYXRhKCd0b2dnbGUnKX09XCJkcm9wZG93blwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPmA7XG4gICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCd2aXN1YWxseS1oaWRkZW4nKX1cIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+PC9idXR0b24+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtidG5DbGFzc30gJHtTaXhPcmJpdC5jbHMoJ2Ryb3Bkb3duLXRvZ2dsZScpfVwiICR7U2l4T3JiaXQuZGF0YSgndG9nZ2xlJyl9PVwiZHJvcGRvd25cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5gO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyaWdnZXJJY29uKSBodG1sICs9IGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHt0aGlzLl9lc2NhcGVIdG1sKHRoaXMuX3RyaWdnZXJJY29uKX08L3NwYW4+IGA7XG4gICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwodGhpcy5fdHJpZ2dlciB8fCAnJyk7XG4gICAgICAgICAgICBodG1sICs9ICc8L2J1dHRvbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lbnVDbGFzcyA9IFNpeE9yYml0LmNscygnZHJvcGRvd24tbWVudScpO1xuICAgICAgICBpZiAodGhpcy5fYWxpZ25tZW50ID09PSAnZW5kJykgbWVudUNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ2Ryb3Bkb3duLW1lbnUtZW5kJyl9YDtcbiAgICAgICAgaWYgKHRoaXMuX2RhcmspIG1lbnVDbGFzcyArPSBgICR7U2l4T3JiaXQuY2xzKCdkcm9wZG93bi1tZW51LWRhcmsnKX1gO1xuXG4gICAgICAgIGh0bWwgKz0gYDx1bCBjbGFzcz1cIiR7bWVudUNsYXNzfVwiPmA7XG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZGl2aWRlcicpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PGhyIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Ryb3Bkb3duLWRpdmlkZXInKX1cIj48L2xpPmA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2hlYWRlcicpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PGg2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Ryb3Bkb3duLWhlYWRlcicpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbChpdGVtLmxhYmVsKX08L2g2PjwvbGk+YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1DbGFzcyA9IFNpeE9yYml0LmNscygnZHJvcGRvd24taXRlbScpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmFjdGl2ZSkgaXRlbUNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ2FjdGl2ZScpfWA7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGlzYWJsZWQpIGl0ZW1DbGFzcyArPSAnIGRpc2FibGVkJztcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8bGk+JztcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8YSBjbGFzcz1cIiR7aXRlbUNsYXNzfVwiIGhyZWY9XCIke3RoaXMuX2VzY2FwZUh0bWwoaXRlbS51cmwgfHwgJyMnKX1cImA7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uYWN0aXZlKSBodG1sICs9ICcgYXJpYS1jdXJyZW50PVwidHJ1ZVwiJztcbiAgICAgICAgICAgICAgICBodG1sICs9ICc+JztcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pY29uKSBodG1sICs9IGA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zICR7U2l4T3JiaXQuY2xzKCdtZS0yJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKGl0ZW0uaWNvbil9PC9zcGFuPmA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9lc2NhcGVIdG1sKGl0ZW0ubGFiZWwpO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvYT48L2xpPic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuICAgICAgICBpZiAodGhpcy5fdHJpZ2dlcikgY29uZmlnLnRyaWdnZXIgPSB0aGlzLl90cmlnZ2VyO1xuICAgICAgICBpZiAodGhpcy5fdHJpZ2dlckljb24pIGNvbmZpZy50cmlnZ2VySWNvbiA9IHRoaXMuX3RyaWdnZXJJY29uO1xuICAgICAgICBpZiAodGhpcy5faXRlbXMubGVuZ3RoID4gMCkgY29uZmlnLml0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gIT09ICdkb3duJykgY29uZmlnLmRpcmVjdGlvbiA9IHRoaXMuX2RpcmVjdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWdubWVudCAhPT0gJ3N0YXJ0JykgY29uZmlnLmFsaWdubWVudCA9IHRoaXMuX2FsaWdubWVudDtcbiAgICAgICAgaWYgKHRoaXMuX3ZhcmlhbnQgIT09ICdzZWNvbmRhcnknKSBjb25maWcudmFyaWFudCA9IHRoaXMuX3ZhcmlhbnQ7XG4gICAgICAgIGlmICh0aGlzLl9zcGxpdCkgY29uZmlnLnNwbGl0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2J1dHRvblNpemUpIGNvbmZpZy5zaXplID0gdGhpcy5fYnV0dG9uU2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuX2RhcmspIGNvbmZpZy5kYXJrID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9DbG9zZSAhPT0gdHJ1ZSkgY29uZmlnLmF1dG9DbG9zZSA9IHRoaXMuX2F1dG9DbG9zZTtcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERyb3Bkb3duO1xuZXhwb3J0IHsgRHJvcGRvd24gfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gQ09OVEVYVCBNRU5VIEVMRU1FTlRcbi8vIFJpZ2h0LWNsaWNrIGNvbnRleHQgbWVudVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUvRWxlbWVudC5qcyc7XG5pbXBvcnQgU2l4T3JiaXQgZnJvbSAnLi4vLi4vLi4vY29yZS9zby1jb25maWcuanMnO1xuXG5jbGFzcyBDb250ZXh0TWVudSBleHRlbmRzIEVsZW1lbnQge1xuICAgIHN0YXRpYyBOQU1FID0gJ3VpLWNvbnRleHQtbWVudSc7XG4gICAgc3RhdGljIERFRkFVTFRTID0geyAuLi5FbGVtZW50LkRFRkFVTFRTLCB0eXBlOiAnY29udGV4dC1tZW51JywgdGFnTmFtZTogJ2RpdicgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gY29uZmlnLml0ZW1zIHx8IFtdO1xuICAgICAgICB0aGlzLl90YXJnZXQgPSBjb25maWcudGFyZ2V0IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2RhcmsgPSBjb25maWcuZGFyayB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICBpdGVtcyhpdGVtcykgeyB0aGlzLl9pdGVtcyA9IGl0ZW1zOyByZXR1cm4gdGhpczsgfVxuICAgIGFkZEl0ZW0obGFiZWwsIGljb24gPSBudWxsLCBhY3Rpb24gPSBudWxsLCBzaG9ydGN1dCA9IG51bGwsIGRpc2FibGVkID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5faXRlbXMucHVzaCh7IHR5cGU6ICdpdGVtJywgbGFiZWwsIGljb24sIGFjdGlvbiwgc2hvcnRjdXQsIGRpc2FibGVkIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYWRkRGl2aWRlcigpIHsgdGhpcy5faXRlbXMucHVzaCh7IHR5cGU6ICdkaXZpZGVyJyB9KTsgcmV0dXJuIHRoaXM7IH1cbiAgICBhZGRTdWJtZW51KGxhYmVsLCBpdGVtcywgaWNvbiA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5faXRlbXMucHVzaCh7IHR5cGU6ICdzdWJtZW51JywgbGFiZWwsIGljb24sIGl0ZW1zIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGFyZ2V0KHNlbGVjdG9yKSB7IHRoaXMuX3RhcmdldCA9IHNlbGVjdG9yOyByZXR1cm4gdGhpczsgfVxuICAgIGRhcmsodmFsID0gdHJ1ZSkgeyB0aGlzLl9kYXJrID0gdmFsOyByZXR1cm4gdGhpczsgfVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2NvbnRleHQtbWVudScpKTtcbiAgICAgICAgaWYgKHRoaXMuX2RhcmspIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdjb250ZXh0LW1lbnUtZGFyaycpKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkQ2xhc3NTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBidWlsZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gc3VwZXIuYnVpbGRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGF0dHJzW1NpeE9yYml0LmRhdGEoJ3VpLWluaXQnKV0gPSAnY29udGV4dC1tZW51JztcbiAgICAgICAgYXR0cnMucm9sZSA9ICdtZW51JztcbiAgICAgICAgYXR0cnNbJ2FyaWEtaGlkZGVuJ10gPSAndHJ1ZSc7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0KSBjb25maWcudGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1jb25maWcnKV0gPSBKU09OLnN0cmluZ2lmeShjb25maWcpO1xuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlck1lbnVJdGVtcyh0aGlzLl9pdGVtcyk7XG4gICAgfVxuXG4gICAgX3JlbmRlck1lbnVJdGVtcyhpdGVtcykge1xuICAgICAgICBsZXQgaHRtbCA9IGA8dWwgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY29udGV4dC1tZW51LWxpc3QnKX1cIj5gO1xuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2RpdmlkZXInKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NvbnRleHQtbWVudS1kaXZpZGVyJyl9XCI+PC9saT5gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzdWJtZW51Jykge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjb250ZXh0LW1lbnUtaXRlbScpfSAke1NpeE9yYml0LmNscygnY29udGV4dC1tZW51LXN1Ym1lbnUnKX1cIj5gO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NvbnRleHQtbWVudS1idG4nKX1cIj5gO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmljb24pIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgJHtTaXhPcmJpdC5jbHMoJ2NvbnRleHQtbWVudS1pY29uJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKGl0ZW0uaWNvbil9PC9zcGFuPmA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCIke1NpeE9yYml0LmNscygnY29udGV4dC1tZW51LWxhYmVsJyl9XCI+JHt0aGlzLl9lc2NhcGVIdG1sKGl0ZW0ubGFiZWwpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgJHtTaXhPcmJpdC5jbHMoJ2NvbnRleHQtbWVudS1hcnJvdycpfVwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8L2J1dHRvbj4nO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke1NpeE9yYml0LmNscygnY29udGV4dC1tZW51LW5lc3RlZCcpfVwiPiR7dGhpcy5fcmVuZGVyTWVudUl0ZW1zKGl0ZW0uaXRlbXMgfHwgW10pfTwvZGl2PmA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPC9saT4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbUNsYXNzID0gU2l4T3JiaXQuY2xzKCdjb250ZXh0LW1lbnUtaXRlbScpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmRpc2FibGVkKSBpdGVtQ2xhc3MgKz0gJyBkaXNhYmxlZCc7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwiJHtpdGVtQ2xhc3N9XCI+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjb250ZXh0LW1lbnUtYnRuJyl9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmFjdGlvbikgaHRtbCArPSBgICR7U2l4T3JiaXQuZGF0YSgnYWN0aW9uJyl9PVwiJHt0aGlzLl9lc2NhcGVIdG1sKGl0ZW0uYWN0aW9uKX1cImA7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGlzYWJsZWQpIGh0bWwgKz0gJyBkaXNhYmxlZCc7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPic7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWNvbikgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29ucyAke1NpeE9yYml0LmNscygnY29udGV4dC1tZW51LWljb24nKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwoaXRlbS5pY29uKX08L3NwYW4+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjb250ZXh0LW1lbnUtbGFiZWwnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwoaXRlbS5sYWJlbCl9PC9zcGFuPmA7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uc2hvcnRjdXQpIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NvbnRleHQtbWVudS1zaG9ydGN1dCcpfVwiPiR7dGhpcy5fZXNjYXBlSHRtbChpdGVtLnNob3J0Y3V0KX08L3NwYW4+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8L2J1dHRvbj48L2xpPic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIHRvQ29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBzdXBlci50b0NvbmZpZygpO1xuICAgICAgICBpZiAodGhpcy5faXRlbXMubGVuZ3RoID4gMCkgY29uZmlnLml0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgICAgIGlmICh0aGlzLl90YXJnZXQpIGNvbmZpZy50YXJnZXQgPSB0aGlzLl90YXJnZXQ7XG4gICAgICAgIGlmICh0aGlzLl9kYXJrKSBjb25maWcuZGFyayA9IHRydWU7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0TWVudTtcbmV4cG9ydCB7IENvbnRleHRNZW51IH07XG4iLCAiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNJWE9SQklUIFVJIEVOR0lORSAtIE5BVkJBUiBFTEVNRU5UXG4vLyBUb3AgbmF2aWdhdGlvbiBiYXJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL0VsZW1lbnQuanMnO1xuaW1wb3J0IFNpeE9yYml0IGZyb20gJy4uLy4uLy4uL2NvcmUvc28tY29uZmlnLmpzJztcblxuY2xhc3MgTmF2YmFyIGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktbmF2YmFyJztcbiAgICBzdGF0aWMgREVGQVVMVFMgPSB7IC4uLkVsZW1lbnQuREVGQVVMVFMsIHR5cGU6ICduYXZiYXInLCB0YWdOYW1lOiAnbmF2JyB9O1xuXG4gICAgX2luaXRGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBzdXBlci5faW5pdEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fYnJhbmQgPSBjb25maWcuYnJhbmQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fYnJhbmRVcmwgPSBjb25maWcuYnJhbmRVcmwgfHwgJy8nO1xuICAgICAgICB0aGlzLl9icmFuZEltYWdlID0gY29uZmlnLmJyYW5kSW1hZ2UgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5faXRlbXMgPSBjb25maWcuaXRlbXMgfHwgW107XG4gICAgICAgIHRoaXMuX3JpZ2h0SXRlbXMgPSBjb25maWcucmlnaHRJdGVtcyB8fCBbXTtcbiAgICAgICAgdGhpcy5fY29sb3JTY2hlbWUgPSBjb25maWcuY29sb3JTY2hlbWUgfHwgJ2xpZ2h0JztcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZCA9IGNvbmZpZy5iYWNrZ3JvdW5kIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2V4cGFuZCA9IGNvbmZpZy5leHBhbmQgfHwgJ2xnJztcbiAgICAgICAgdGhpcy5fZml4ZWQgPSBjb25maWcuZml4ZWQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fc3RpY2t5ID0gY29uZmlnLnN0aWNreSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29uZmlnLmNvbnRhaW5lciB8fCAnY29udGFpbmVyJztcbiAgICB9XG5cbiAgICBicmFuZCh0ZXh0LCB1cmwgPSAnLycpIHsgdGhpcy5fYnJhbmQgPSB0ZXh0OyB0aGlzLl9icmFuZFVybCA9IHVybDsgcmV0dXJuIHRoaXM7IH1cbiAgICBicmFuZEltYWdlKHVybCkgeyB0aGlzLl9icmFuZEltYWdlID0gdXJsOyByZXR1cm4gdGhpczsgfVxuICAgIGl0ZW1zKGl0ZW1zKSB7IHRoaXMuX2l0ZW1zID0gaXRlbXM7IHJldHVybiB0aGlzOyB9XG4gICAgYWRkSXRlbShsYWJlbCwgdXJsID0gJyMnLCBhY3RpdmUgPSBmYWxzZSwgZGlzYWJsZWQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKHsgdHlwZTogJ2xpbmsnLCBsYWJlbCwgdXJsLCBhY3RpdmUsIGRpc2FibGVkIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYWRkRHJvcGRvd24obGFiZWwsIGl0ZW1zKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goeyB0eXBlOiAnZHJvcGRvd24nLCBsYWJlbCwgaXRlbXMgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByaWdodEl0ZW1zKGl0ZW1zKSB7IHRoaXMuX3JpZ2h0SXRlbXMgPSBpdGVtczsgcmV0dXJuIHRoaXM7IH1cbiAgICBjb2xvclNjaGVtZShzY2hlbWUpIHsgdGhpcy5fY29sb3JTY2hlbWUgPSBzY2hlbWU7IHJldHVybiB0aGlzOyB9XG4gICAgbGlnaHQoKSB7IHJldHVybiB0aGlzLmNvbG9yU2NoZW1lKCdsaWdodCcpOyB9XG4gICAgZGFyaygpIHsgcmV0dXJuIHRoaXMuY29sb3JTY2hlbWUoJ2RhcmsnKTsgfVxuICAgIGJhY2tncm91bmQoYmcpIHsgdGhpcy5fYmFja2dyb3VuZCA9IGJnOyByZXR1cm4gdGhpczsgfVxuICAgIGV4cGFuZChicCkgeyB0aGlzLl9leHBhbmQgPSBicDsgcmV0dXJuIHRoaXM7IH1cbiAgICBmaXhlZChwb3MpIHsgdGhpcy5fZml4ZWQgPSBwb3M7IHJldHVybiB0aGlzOyB9XG4gICAgZml4ZWRUb3AoKSB7IHJldHVybiB0aGlzLmZpeGVkKCd0b3AnKTsgfVxuICAgIGZpeGVkQm90dG9tKCkgeyByZXR1cm4gdGhpcy5maXhlZCgnYm90dG9tJyk7IH1cbiAgICBzdGlja3kodmFsID0gdHJ1ZSkgeyB0aGlzLl9zdGlja3kgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgY29udGFpbmVyKHR5cGUpIHsgdGhpcy5fY29udGFpbmVyID0gdHlwZTsgcmV0dXJuIHRoaXM7IH1cbiAgICBmbHVpZCgpIHsgcmV0dXJuIHRoaXMuY29udGFpbmVyKCdjb250YWluZXItZmx1aWQnKTsgfVxuXG4gICAgYnVpbGRDbGFzc1N0cmluZygpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ25hdmJhcicpKTtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ25hdmJhci1leHBhbmQnLCB0aGlzLl9leHBhbmQpKTtcbiAgICAgICAgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHModGhpcy5fY29sb3JTY2hlbWUgPT09ICdkYXJrJyA/ICduYXZiYXItZGFyaycgOiAnbmF2YmFyLWxpZ2h0JykpO1xuICAgICAgICBpZiAodGhpcy5fYmFja2dyb3VuZCkgdGhpcy5fZXh0cmFDbGFzc2VzLmFkZChTaXhPcmJpdC5jbHMoJ2JnJywgdGhpcy5fYmFja2dyb3VuZCkpO1xuICAgICAgICBpZiAodGhpcy5fZml4ZWQpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdmaXhlZCcsIHRoaXMuX2ZpeGVkKSk7XG4gICAgICAgIGlmICh0aGlzLl9zdGlja3kpIHRoaXMuX2V4dHJhQ2xhc3Nlcy5hZGQoU2l4T3JiaXQuY2xzKCdzdGlja3ktdG9wJykpO1xuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRDbGFzc1N0cmluZygpO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IG5hdmJhcklkID0gdGhpcy5faWQgfHwgYG5hdmJhci0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHModGhpcy5fY29udGFpbmVyKX1cIj5gO1xuXG4gICAgICAgIGh0bWwgKz0gYDxhIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ25hdmJhci1icmFuZCcpfVwiIGhyZWY9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fYnJhbmRVcmwpfVwiPmA7XG4gICAgICAgIGlmICh0aGlzLl9icmFuZEltYWdlKSBodG1sICs9IGA8aW1nIHNyYz1cIiR7dGhpcy5fZXNjYXBlSHRtbCh0aGlzLl9icmFuZEltYWdlKX1cIiBhbHQ9XCIke3RoaXMuX2VzY2FwZUh0bWwodGhpcy5fYnJhbmQgfHwgJycpfVwiIGhlaWdodD1cIjMwXCI+YDtcbiAgICAgICAgaWYgKHRoaXMuX2JyYW5kKSBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwodGhpcy5fYnJhbmQpO1xuICAgICAgICBodG1sICs9ICc8L2E+JztcblxuICAgICAgICBodG1sICs9IGA8YnV0dG9uIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ25hdmJhci10b2dnbGVyJyl9XCIgdHlwZT1cImJ1dHRvblwiICR7U2l4T3JiaXQuZGF0YSgndG9nZ2xlJyl9PVwiY29sbGFwc2VcIiAke1NpeE9yYml0LmRhdGEoJ3RhcmdldCcpfT1cIiMke25hdmJhcklkfS1jb2xsYXBzZVwiPmA7XG4gICAgICAgIGh0bWwgKz0gYDxzcGFuIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ25hdmJhci10b2dnbGVyLWljb24nKX1cIj48L3NwYW4+PC9idXR0b24+YDtcblxuICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2NvbGxhcHNlJyl9ICR7U2l4T3JiaXQuY2xzKCduYXZiYXItY29sbGFwc2UnKX1cIiBpZD1cIiR7bmF2YmFySWR9LWNvbGxhcHNlXCI+YDtcbiAgICAgICAgaHRtbCArPSBgPHVsIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ25hdmJhci1uYXYnKX0gJHtTaXhPcmJpdC5jbHMoJ21lLWF1dG8nKX0gJHtTaXhPcmJpdC5jbHMoJ21iLTInKX0gJHtTaXhPcmJpdC5jbHMoJ21iLWxnLTAnKX1cIj5gO1xuICAgICAgICBodG1sICs9IHRoaXMuX3JlbmRlck5hdkl0ZW1zKHRoaXMuX2l0ZW1zKTtcbiAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuXG4gICAgICAgIGlmICh0aGlzLl9yaWdodEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDx1bCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCduYXZiYXItbmF2Jyl9ICR7U2l4T3JiaXQuY2xzKCdtYi0yJyl9ICR7U2l4T3JiaXQuY2xzKCdtYi1sZy0wJyl9XCI+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fcmVuZGVyTmF2SXRlbXModGhpcy5fcmlnaHRJdGVtcyk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgIH1cblxuICAgICAgICBodG1sICs9ICc8L2Rpdj48L2Rpdj4nO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICBfcmVuZGVyTmF2SXRlbXMoaXRlbXMpIHtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdkcm9wZG93bicpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8bGkgY2xhc3M9XCIke1NpeE9yYml0LmNscygnbmF2LWl0ZW0nKX0gJHtTaXhPcmJpdC5jbHMoJ2Ryb3Bkb3duJyl9XCI+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8YSBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCduYXYtbGluaycpfSAke1NpeE9yYml0LmNscygnZHJvcGRvd24tdG9nZ2xlJyl9XCIgaHJlZj1cIiNcIiAke1NpeE9yYml0LmRhdGEoJ3RvZ2dsZScpfT1cImRyb3Bkb3duXCI+JHt0aGlzLl9lc2NhcGVIdG1sKGl0ZW0ubGFiZWwpfTwvYT5gO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDx1bCBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdkcm9wZG93bi1tZW51Jyl9XCI+YDtcbiAgICAgICAgICAgICAgICAoaXRlbS5pdGVtcyB8fCBbXSkuZm9yRWFjaChzdWIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViLnR5cGUgPT09ICdkaXZpZGVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxociBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdkcm9wZG93bi1kaXZpZGVyJyl9XCI+PC9saT5gO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxhIGNsYXNzPVwiJHtTaXhPcmJpdC5jbHMoJ2Ryb3Bkb3duLWl0ZW0nKX1cIiBocmVmPVwiJHt0aGlzLl9lc2NhcGVIdG1sKHN1Yi51cmwgfHwgJyMnKX1cIj4ke3RoaXMuX2VzY2FwZUh0bWwoc3ViLmxhYmVsKX08L2E+PC9saT5gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPC91bD48L2xpPic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBsaW5rQ2xhc3MgPSBTaXhPcmJpdC5jbHMoJ25hdi1saW5rJyk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uYWN0aXZlKSBsaW5rQ2xhc3MgKz0gYCAke1NpeE9yYml0LmNscygnYWN0aXZlJyl9YDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5kaXNhYmxlZCkgbGlua0NsYXNzICs9ICcgZGlzYWJsZWQnO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCduYXYtaXRlbScpfVwiPmA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGEgY2xhc3M9XCIke2xpbmtDbGFzc31cIiBocmVmPVwiJHt0aGlzLl9lc2NhcGVIdG1sKGl0ZW0udXJsIHx8ICcjJyl9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmFjdGl2ZSkgaHRtbCArPSAnIGFyaWEtY3VycmVudD1cInBhZ2VcIic7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPiR7dGhpcy5fZXNjYXBlSHRtbChpdGVtLmxhYmVsKX08L2E+PC9saT5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgdG9Db25maWcoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN1cGVyLnRvQ29uZmlnKCk7XG4gICAgICAgIGlmICh0aGlzLl9icmFuZCkgY29uZmlnLmJyYW5kID0gdGhpcy5fYnJhbmQ7XG4gICAgICAgIGlmICh0aGlzLl9icmFuZFVybCAhPT0gJy8nKSBjb25maWcuYnJhbmRVcmwgPSB0aGlzLl9icmFuZFVybDtcbiAgICAgICAgaWYgKHRoaXMuX2JyYW5kSW1hZ2UpIGNvbmZpZy5icmFuZEltYWdlID0gdGhpcy5fYnJhbmRJbWFnZTtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA+IDApIGNvbmZpZy5pdGVtcyA9IHRoaXMuX2l0ZW1zO1xuICAgICAgICBpZiAodGhpcy5fcmlnaHRJdGVtcy5sZW5ndGggPiAwKSBjb25maWcucmlnaHRJdGVtcyA9IHRoaXMuX3JpZ2h0SXRlbXM7XG4gICAgICAgIGlmICh0aGlzLl9jb2xvclNjaGVtZSAhPT0gJ2xpZ2h0JykgY29uZmlnLmNvbG9yU2NoZW1lID0gdGhpcy5fY29sb3JTY2hlbWU7XG4gICAgICAgIGlmICh0aGlzLl9iYWNrZ3JvdW5kKSBjb25maWcuYmFja2dyb3VuZCA9IHRoaXMuX2JhY2tncm91bmQ7XG4gICAgICAgIGlmICh0aGlzLl9leHBhbmQgIT09ICdsZycpIGNvbmZpZy5leHBhbmQgPSB0aGlzLl9leHBhbmQ7XG4gICAgICAgIGlmICh0aGlzLl9maXhlZCkgY29uZmlnLmZpeGVkID0gdGhpcy5fZml4ZWQ7XG4gICAgICAgIGlmICh0aGlzLl9zdGlja3kpIGNvbmZpZy5zdGlja3kgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyICE9PSAnY29udGFpbmVyJykgY29uZmlnLmNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdmJhcjtcbmV4cG9ydCB7IE5hdmJhciB9O1xuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSVhPUkJJVCBVSSBFTkdJTkUgLSBDT0xMQVBTRSBFTEVNRU5UXG4vLyBDb2xsYXBzaWJsZSBjb250ZW50XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Db250YWluZXJFbGVtZW50LmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi8uLi8uLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbmNsYXNzIENvbGxhcHNlIGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XG4gICAgc3RhdGljIE5BTUUgPSAndWktY29sbGFwc2UnO1xuICAgIHN0YXRpYyBERUZBVUxUUyA9IHsgLi4uQ29udGFpbmVyRWxlbWVudC5ERUZBVUxUUywgdHlwZTogJ2NvbGxhcHNlJywgdGFnTmFtZTogJ2RpdicgfTtcblxuICAgIF9pbml0RnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgc3VwZXIuX2luaXRGcm9tQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlQ29udGVudCA9IGNvbmZpZy5jb250ZW50IHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3RyaWdnZXIgPSBjb25maWcudHJpZ2dlciB8fCBudWxsO1xuICAgICAgICB0aGlzLl90cmlnZ2VyVmFyaWFudCA9IGNvbmZpZy50cmlnZ2VyVmFyaWFudCB8fCAncHJpbWFyeSc7XG4gICAgICAgIHRoaXMuX2V4cGFuZGVkID0gY29uZmlnLmV4cGFuZGVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9ob3Jpem9udGFsID0gY29uZmlnLmhvcml6b250YWwgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX3Nob3dUcmlnZ2VyID0gY29uZmlnLnNob3dUcmlnZ2VyICE9PSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb250ZW50KGNvbnRlbnQpIHsgdGhpcy5fY29sbGFwc2VDb250ZW50ID0gY29udGVudDsgcmV0dXJuIHRoaXM7IH1cbiAgICB0cmlnZ2VyKHRleHQpIHsgdGhpcy5fdHJpZ2dlciA9IHRleHQ7IHJldHVybiB0aGlzOyB9XG4gICAgdHJpZ2dlclZhcmlhbnQodikgeyB0aGlzLl90cmlnZ2VyVmFyaWFudCA9IHY7IHJldHVybiB0aGlzOyB9XG4gICAgZXhwYW5kZWQodmFsID0gdHJ1ZSkgeyB0aGlzLl9leHBhbmRlZCA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICBjb2xsYXBzZWQoKSB7IHJldHVybiB0aGlzLmV4cGFuZGVkKGZhbHNlKTsgfVxuICAgIGhvcml6b250YWwodmFsID0gdHJ1ZSkgeyB0aGlzLl9ob3Jpem9udGFsID0gdmFsOyByZXR1cm4gdGhpczsgfVxuICAgIHNob3dUcmlnZ2VyKHZhbCA9IHRydWUpIHsgdGhpcy5fc2hvd1RyaWdnZXIgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgaGlkZVRyaWdnZXIoKSB7IHJldHVybiB0aGlzLnNob3dUcmlnZ2VyKGZhbHNlKTsgfVxuXG4gICAgYnVpbGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IHN1cGVyLmJ1aWxkQXR0cmlidXRlcygpO1xuICAgICAgICBhdHRyc1tTaXhPcmJpdC5kYXRhKCd1aS1pbml0JyldID0gJ2NvbGxhcHNlJztcbiAgICAgICAgYXR0cnNbU2l4T3JiaXQuZGF0YSgndWktY29uZmlnJyldID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZXhwYW5kZWQ6IHRoaXMuX2V4cGFuZGVkLFxuICAgICAgICAgICAgaG9yaXpvbnRhbDogdGhpcy5faG9yaXpvbnRhbFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHRvSHRtbCgpIHtcbiAgICAgICAgY29uc3QgY29sbGFwc2VJZCA9IHRoaXMuX2lkIHx8IGBjb2xsYXBzZS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaG93VHJpZ2dlciAmJiB0aGlzLl90cmlnZ2VyKSB7XG4gICAgICAgICAgICBjb25zdCBidG5DbGFzcyA9IGAke1NpeE9yYml0LmNscygnYnRuJyl9ICR7U2l4T3JiaXQuY2xzKCdidG4nLCB0aGlzLl90cmlnZ2VyVmFyaWFudCl9YDtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxidXR0b24gY2xhc3M9XCIke2J0bkNsYXNzfVwiIHR5cGU9XCJidXR0b25cImA7XG4gICAgICAgICAgICBodG1sICs9IGAgJHtTaXhPcmJpdC5kYXRhKCd0b2dnbGUnKX09XCJjb2xsYXBzZVwiYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYCAke1NpeE9yYml0LmRhdGEoJ3RhcmdldCcpfT1cIiMke2NvbGxhcHNlSWR9XCJgO1xuICAgICAgICAgICAgaHRtbCArPSBgIGFyaWEtZXhwYW5kZWQ9XCIke3RoaXMuX2V4cGFuZGVkfVwiYDtcbiAgICAgICAgICAgIGh0bWwgKz0gYCBhcmlhLWNvbnRyb2xzPVwiJHtjb2xsYXBzZUlkfVwiPmA7XG4gICAgICAgICAgICBodG1sICs9IHRoaXMuX2VzY2FwZUh0bWwodGhpcy5fdHJpZ2dlcik7XG4gICAgICAgICAgICBodG1sICs9ICc8L2J1dHRvbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvbGxhcHNlQ2xhc3MgPSBTaXhPcmJpdC5jbHMoJ2NvbGxhcHNlJyk7XG4gICAgICAgIGlmICh0aGlzLl9ob3Jpem9udGFsKSBjb2xsYXBzZUNsYXNzICs9IGAgJHtTaXhPcmJpdC5jbHMoJ2NvbGxhcHNlLWhvcml6b250YWwnKX1gO1xuICAgICAgICBpZiAodGhpcy5fZXhwYW5kZWQpIGNvbGxhcHNlQ2xhc3MgKz0gYCAke1NpeE9yYml0LmNscygnc2hvdycpfWA7XG5cbiAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7Y29sbGFwc2VDbGFzc31cIiBpZD1cIiR7Y29sbGFwc2VJZH1cIj5gO1xuICAgICAgICBpZiAodGhpcy5faG9yaXpvbnRhbCkgaHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7U2l4T3JiaXQuY2xzKCdjb2xsYXBzZS1ob3Jpem9udGFsLWlubmVyJyl9XCI+YDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbGxhcHNlQ29udGVudCkgaHRtbCArPSB0aGlzLl9jb2xsYXBzZUNvbnRlbnQ7XG4gICAgICAgIGh0bWwgKz0gdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuICAgICAgICBpZiAodGhpcy5faG9yaXpvbnRhbCkgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG5cbiAgICB0b0NvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3VwZXIudG9Db25maWcoKTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbGxhcHNlQ29udGVudCkgY29uZmlnLmNvbnRlbnQgPSB0aGlzLl9jb2xsYXBzZUNvbnRlbnQ7XG4gICAgICAgIGlmICh0aGlzLl90cmlnZ2VyKSBjb25maWcudHJpZ2dlciA9IHRoaXMuX3RyaWdnZXI7XG4gICAgICAgIGlmICh0aGlzLl90cmlnZ2VyVmFyaWFudCAhPT0gJ3ByaW1hcnknKSBjb25maWcudHJpZ2dlclZhcmlhbnQgPSB0aGlzLl90cmlnZ2VyVmFyaWFudDtcbiAgICAgICAgaWYgKHRoaXMuX2V4cGFuZGVkKSBjb25maWcuZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5faG9yaXpvbnRhbCkgY29uZmlnLmhvcml6b250YWwgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuX3Nob3dUcmlnZ2VyKSBjb25maWcuc2hvd1RyaWdnZXIgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbGxhcHNlO1xuZXhwb3J0IHsgQ29sbGFwc2UgfTtcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lYT1JCSVQgVUkgRU5HSU5FIC0gTUFJTiBGQUNUT1JZIENMQVNTXG4vLyBFbnRyeSBwb2ludCBmb3IgdGhlIFVJIEVuZ2luZVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4vY29yZS9FbGVtZW50LmpzJztcbmltcG9ydCB7IEZvcm1FbGVtZW50IH0gZnJvbSAnLi9jb3JlL0Zvcm1FbGVtZW50LmpzJztcbmltcG9ydCB7IENvbnRhaW5lckVsZW1lbnQgfSBmcm9tICcuL2NvcmUvQ29udGFpbmVyRWxlbWVudC5qcyc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRW5naW5lIH0gZnJvbSAnLi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FbmdpbmUuanMnO1xuaW1wb3J0IHsgRXJyb3JSZXBvcnRlciB9IGZyb20gJy4vdmFsaWRhdGlvbi9FcnJvclJlcG9ydGVyLmpzJztcbmltcG9ydCBTaXhPcmJpdCBmcm9tICcuLi9jb3JlL3NvLWNvbmZpZy5qcyc7XG5cbi8vIEltcG9ydCBhbGwgZWxlbWVudCBjYXRlZ29yaWVzXG5pbXBvcnQgKiBhcyBGb3JtRWxlbWVudHMgZnJvbSAnLi9lbGVtZW50cy9mb3JtL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIERpc3BsYXlFbGVtZW50cyBmcm9tICcuL2VsZW1lbnRzL2Rpc3BsYXkvaW5kZXguanMnO1xuaW1wb3J0ICogYXMgTGF5b3V0RWxlbWVudHMgZnJvbSAnLi9lbGVtZW50cy9sYXlvdXQvaW5kZXguanMnO1xuaW1wb3J0ICogYXMgTmF2aWdhdGlvbkVsZW1lbnRzIGZyb20gJy4vZWxlbWVudHMvbmF2aWdhdGlvbi9pbmRleC5qcyc7XG5cbi8qKlxuICogVWlFbmdpbmUgLSBNYWluIGZhY3RvcnkgY2xhc3MgZm9yIGNyZWF0aW5nIFVJIGVsZW1lbnRzXG4gKiBNaXJyb3JzIHRoZSBQSFAgVWlFbmdpbmUgY2xhc3MgZm9yIHN5bW1ldHJ5XG4gKi9cbmNsYXNzIFVpRW5naW5lIHtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcmVkIGVsZW1lbnQgdHlwZXNcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBlbGVtZW50cyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogR2xvYmFsIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIGRlZmF1bHRJbnB1dFNpemU6ICdtZCcsXG4gICAgICAgIGRlZmF1bHRCdXR0b25WYXJpYW50OiAncHJpbWFyeScsXG4gICAgICAgIHVzZUlubGluZUV2ZW50czogZmFsc2UsXG4gICAgfTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEVsZW1lbnQgUmVnaXN0cmF0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhbiBlbGVtZW50IHR5cGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVsZW1lbnRDbGFzc1xuICAgICAqL1xuICAgIHN0YXRpYyByZWdpc3Rlcih0eXBlLCBlbGVtZW50Q2xhc3MpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50c1t0eXBlXSA9IGVsZW1lbnRDbGFzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBlbGVtZW50IHR5cGUgaXMgcmVnaXN0ZXJlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGhhc0VsZW1lbnQodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5oYXNPd25Qcm9wZXJ0eSh0eXBlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcmVnaXN0ZXJlZCBlbGVtZW50IGNsYXNzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258bnVsbH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0RWxlbWVudENsYXNzKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbdHlwZV0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHJlZ2lzdGVyZWQgdHlwZXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAgICovXG4gICAgc3RhdGljIGdldEVsZW1lbnRUeXBlcygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZWxlbWVudHMpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIENvbmZpZ3VyYXRpb25cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBnbG9iYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGNvbmZpZ3VyZShvcHRpb25zKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjb25maWd1cmF0aW9uIHZhbHVlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgc3RhdGljIGdldENvbmZpZyhrZXksIGRlZmF1bHRWYWx1ZSA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnW2tleV0gPz8gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZhY3RvcnkgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGVsZW1lbnQgZnJvbSBjb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAgICovXG4gICAgc3RhdGljIGZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBjb25maWcudHlwZTtcblxuICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWxlbWVudCBjb25maWcgbXVzdCBpbmNsdWRlIGEgXCJ0eXBlXCIga2V5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBFbGVtZW50Q2xhc3MgPSB0aGlzLmVsZW1lbnRzW3R5cGVdO1xuXG4gICAgICAgIGlmICghRWxlbWVudENsYXNzKSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBiYXNlIGNsYXNzZXNcbiAgICAgICAgICAgIGlmIChjb25maWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29udGFpbmVyRWxlbWVudC5tYWtlKGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uZmlnLm5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRm9ybUVsZW1lbnQubWFrZShjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEVsZW1lbnQubWFrZShjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEVsZW1lbnRDbGFzcy5tYWtlKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGVsZW1lbnQgZnJvbSBKU09OIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqc29uXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAgICovXG4gICAgc3RhdGljIGZyb21Kc29uKGpzb24pIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gSlNPTi5wYXJzZShqc29uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUNvbmZpZyhjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBtdWx0aXBsZSBlbGVtZW50cyBmcm9tIGNvbmZpZ3NcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjb25maWdzXG4gICAgICogQHJldHVybnMge0VsZW1lbnRbXX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUNvbmZpZ01hbnkoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29uZmlncy5tYXAoY29uZmlnID0+IHRoaXMuZnJvbUNvbmZpZyhjb25maWcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgZnJvbUNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICAgKi9cbiAgICBzdGF0aWMgbWFrZShjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUNvbmZpZyhjb25maWcpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNob3J0Y3V0IEZhY3Rvcmllc1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGlucHV0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHtGb3JtRWxlbWVudH1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5wdXQobmFtZSA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIEZvcm1FbGVtZW50Lm1ha2Uoe1xuICAgICAgICAgICAgdHlwZTogJ2lucHV0JyxcbiAgICAgICAgICAgIHRhZ05hbWU6ICdpbnB1dCcsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBlbWFpbCBpbnB1dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge0Zvcm1FbGVtZW50fVxuICAgICAqL1xuICAgIHN0YXRpYyBlbWFpbChuYW1lID0gbnVsbCkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuaW5wdXQobmFtZSk7XG4gICAgICAgIGlucHV0LnNldEF0dHIoJ3R5cGUnLCAnZW1haWwnKTtcbiAgICAgICAgaW5wdXQuZW1haWwoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBwYXNzd29yZCBpbnB1dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge0Zvcm1FbGVtZW50fVxuICAgICAqL1xuICAgIHN0YXRpYyBwYXNzd29yZChuYW1lID0gbnVsbCkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuaW5wdXQobmFtZSk7XG4gICAgICAgIGlucHV0LnNldEF0dHIoJ3R5cGUnLCAncGFzc3dvcmQnKTtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0ZXh0YXJlYSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7Rm9ybUVsZW1lbnR9XG4gICAgICovXG4gICAgc3RhdGljIHRleHRhcmVhKG5hbWUgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBGb3JtRWxlbWVudC5tYWtlKHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXG4gICAgICAgICAgICB0YWdOYW1lOiAndGV4dGFyZWEnLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgc2VsZWN0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHtGb3JtRWxlbWVudH1cbiAgICAgKi9cbiAgICBzdGF0aWMgc2VsZWN0KG5hbWUgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBGb3JtRWxlbWVudC5tYWtlKHtcbiAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgdGFnTmFtZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBzd2l0Y2ggZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge1N3aXRjaEVsZW1lbnR9XG4gICAgICovXG4gICAgc3RhdGljIHN3aXRjaChuYW1lID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gRm9ybUVsZW1lbnRzLlN3aXRjaEVsZW1lbnQubWFrZSh7XG4gICAgICAgICAgICB0eXBlOiAnc3dpdGNoJyxcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRvZ2dsZSBlbGVtZW50IChhbGlhcyBmb3Igc3dpdGNoKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge1N3aXRjaEVsZW1lbnR9XG4gICAgICovXG4gICAgc3RhdGljIHRvZ2dsZShuYW1lID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zd2l0Y2gobmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGJ1dHRvbiBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICAgKi9cbiAgICBzdGF0aWMgYnV0dG9uKHRleHQgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IEVsZW1lbnQubWFrZSh7XG4gICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgIHRhZ05hbWU6ICdidXR0b24nLFxuICAgICAgICAgICAgY29udGVudDogdGV4dFxuICAgICAgICB9KTtcbiAgICAgICAgYnRuLnNldENsYXNzKGAke1NpeE9yYml0LmNscygnYnRuJyl9ICR7U2l4T3JiaXQuY2xzKCdidG4tcHJpbWFyeScpfWApO1xuICAgICAgICByZXR1cm4gYnRuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBzdWJtaXQgYnV0dG9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICAgKi9cbiAgICBzdGF0aWMgc3VibWl0KHRleHQgPSAnU3VibWl0Jykge1xuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmJ1dHRvbih0ZXh0KTtcbiAgICAgICAgYnRuLnNldEF0dHIoJ3R5cGUnLCAnc3VibWl0Jyk7XG4gICAgICAgIHJldHVybiBidG47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGZvcm0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Q29udGFpbmVyRWxlbWVudH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZm9ybShhY3Rpb24gPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBDb250YWluZXJFbGVtZW50Lm1ha2Uoe1xuICAgICAgICAgICAgdHlwZTogJ2Zvcm0nLFxuICAgICAgICAgICAgdGFnTmFtZTogJ2Zvcm0nXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICBmb3JtLnNldEF0dHIoJ2FjdGlvbicsIGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybS5zZXRBdHRyKCdtZXRob2QnLCAnUE9TVCcpO1xuICAgICAgICByZXR1cm4gZm9ybTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcm93IGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7Q29udGFpbmVyRWxlbWVudH1cbiAgICAgKi9cbiAgICBzdGF0aWMgcm93KCkge1xuICAgICAgICBjb25zdCByb3cgPSBDb250YWluZXJFbGVtZW50Lm1ha2Uoe1xuICAgICAgICAgICAgdHlwZTogJ3JvdycsXG4gICAgICAgICAgICB0YWdOYW1lOiAnZGl2J1xuICAgICAgICB9KTtcbiAgICAgICAgcm93LnNldENsYXNzKFNpeE9yYml0LmNscygncm93JykpO1xuICAgICAgICByZXR1cm4gcm93O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBjb2x1bW4gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gc2l6ZVxuICAgICAqIEByZXR1cm5zIHtDb250YWluZXJFbGVtZW50fVxuICAgICAqL1xuICAgIHN0YXRpYyBjb2woc2l6ZSA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgY29sID0gQ29udGFpbmVyRWxlbWVudC5tYWtlKHtcbiAgICAgICAgICAgIHR5cGU6ICdjb2x1bW4nLFxuICAgICAgICAgICAgdGFnTmFtZTogJ2RpdidcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbC5zZXRDbGFzcyhzaXplID8gU2l4T3JiaXQuY2xzKCdjb2wnLCBzaXplKSA6IFNpeE9yYml0LmNscygnY29sJykpO1xuICAgICAgICByZXR1cm4gY29sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBjb250YWluZXIgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmx1aWRcbiAgICAgKiBAcmV0dXJucyB7Q29udGFpbmVyRWxlbWVudH1cbiAgICAgKi9cbiAgICBzdGF0aWMgY29udGFpbmVyKGZsdWlkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gQ29udGFpbmVyRWxlbWVudC5tYWtlKHtcbiAgICAgICAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgICAgICAgdGFnTmFtZTogJ2RpdidcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRDbGFzcyhmbHVpZCA/IFNpeE9yYml0LmNscygnY29udGFpbmVyLWZsdWlkJykgOiBTaXhPcmJpdC5jbHMoJ2NvbnRhaW5lcicpKTtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgY2FyZCBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlXG4gICAgICogQHJldHVybnMge0NvbnRhaW5lckVsZW1lbnR9XG4gICAgICovXG4gICAgc3RhdGljIGNhcmQodGl0bGUgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBDb250YWluZXJFbGVtZW50Lm1ha2Uoe1xuICAgICAgICAgICAgdHlwZTogJ2NhcmQnLFxuICAgICAgICAgICAgdGFnTmFtZTogJ2RpdidcbiAgICAgICAgfSk7XG4gICAgICAgIGNhcmQuc2V0Q2xhc3MoU2l4T3JiaXQuY2xzKCdjYXJkJykpO1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIGNhcmQuX3RpdGxlID0gdGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFsZXJ0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgICAqL1xuICAgIHN0YXRpYyBhbGVydChtZXNzYWdlID0gbnVsbCkge1xuICAgICAgICBjb25zdCBhbGVydCA9IEVsZW1lbnQubWFrZSh7XG4gICAgICAgICAgICB0eXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydC5zZXRDbGFzcyhgJHtTaXhPcmJpdC5jbHMoJ2FsZXJ0Jyl9ICR7U2l4T3JiaXQuY2xzKCdhbGVydC1pbmZvJyl9YCk7XG4gICAgICAgIGFsZXJ0LnNldEF0dHIoJ3JvbGUnLCAnYWxlcnQnKTtcbiAgICAgICAgcmV0dXJuIGFsZXJ0O1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGVsZW1lbnRzIHRvIGNvbnRhaW5lclxuICAgICAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBjb250YWluZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVuZGVyKGVsZW1lbnRzLCBjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdHlwZW9mIGNvbnRhaW5lciA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpXG4gICAgICAgICAgICA6IGNvbnRhaW5lcjtcblxuICAgICAgICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIGlmIChlbCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbC5yZW5kZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBjb25maWcgdG8gY29udGFpbmVyXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gY29uZmlnc1xuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBjb250YWluZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVuZGVyRnJvbUNvbmZpZyhjb25maWdzLCBjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmZyb21Db25maWdNYW55KGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLnJlbmRlcihlbGVtZW50cywgY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBWYWxpZGF0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHZhbGlkYXRpb24gcnVsZXMgZnJvbSBQSFAgZXhwb3J0XG4gICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBmb3JtU2VsZWN0b3JPclJ1bGVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtydWxlc11cbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZFZhbGlkYXRpb24oZm9ybVNlbGVjdG9yT3JSdWxlcywgcnVsZXMgPSBudWxsKSB7XG4gICAgICAgIFZhbGlkYXRpb25FbmdpbmUubG9hZFJ1bGVzKGZvcm1TZWxlY3Rvck9yUnVsZXMsIHJ1bGVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBhIGZvcm1cbiAgICAgKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudHxFbGVtZW50fSBmb3JtXG4gICAgICogQHJldHVybnMge3t2YWxpZDogYm9vbGVhbiwgZXJyb3JzOiBPYmplY3R9fVxuICAgICAqL1xuICAgIHN0YXRpYyB2YWxpZGF0ZUZvcm0oZm9ybSkge1xuICAgICAgICByZXR1cm4gVmFsaWRhdGlvbkVuZ2luZS52YWxpZGF0ZUZvcm0oZm9ybSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYSBmaWVsZFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8Rm9ybUVsZW1lbnR9IGZpZWxkXG4gICAgICogQHJldHVybnMge3t2YWxpZDogYm9vbGVhbiwgZXJyb3JzOiBzdHJpbmdbXX19XG4gICAgICovXG4gICAgc3RhdGljIHZhbGlkYXRlRmllbGQoZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIFZhbGlkYXRpb25FbmdpbmUudmFsaWRhdGVGaWVsZChmaWVsZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgY3VzdG9tIHZhbGlkYXRpb24gcnVsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdmFsaWRhdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXJSdWxlKG5hbWUsIHZhbGlkYXRvciwgbWVzc2FnZSA9IG51bGwpIHtcbiAgICAgICAgVmFsaWRhdGlvbkVuZ2luZS5yZWdpc3RlclJ1bGUobmFtZSwgdmFsaWRhdG9yLCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggZm9ybSB2YWxpZGF0aW9uXG4gICAgICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR8c3RyaW5nfSBmb3JtXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgYXR0YWNoVmFsaWRhdGlvbihmb3JtLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBvblN1Y2Nlc3MsIG9uRXJyb3IsIHZhbGlkYXRlT25CbHVyID0gdHJ1ZSB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAodmFsaWRhdGVPbkJsdXIpIHtcbiAgICAgICAgICAgIFZhbGlkYXRpb25FbmdpbmUuYXR0YWNoQmx1clZhbGlkYXRpb24oZm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICBWYWxpZGF0aW9uRW5naW5lLmF0dGFjaFN1Ym1pdFZhbGlkYXRpb24oZm9ybSwgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBFcnJvciBSZXBvcnRlclxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IGVycm9yIHJlcG9ydGVyIGluc3RhbmNlXG4gICAgICogQHJldHVybnMge0Vycm9yUmVwb3J0ZXJ9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiBFcnJvclJlcG9ydGVyLmdldEluc3RhbmNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyBlcnJvcnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXJyb3JzXG4gICAgICovXG4gICAgc3RhdGljIHNob3dFcnJvcnMoZXJyb3JzKSB7XG4gICAgICAgIHRoaXMuZXJyb3JzLnNob3dBbGwoZXJyb3JzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbGwgZXJyb3JzXG4gICAgICovXG4gICAgc3RhdGljIGNsZWFyRXJyb3JzKCkge1xuICAgICAgICB0aGlzLmVycm9ycy5jbGVhckFsbCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBlcnJvciByZXBvcnRlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGNvbmZpZ3VyZUVycm9ycyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZXJyb3JzLmNvbmZpZ3VyZShvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cbiAgICAvLyBBdXRvLUluaXRpYWxpemF0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGFsbCBQSFAtcmVuZGVyZWQgVWlFbmdpbmUgZWxlbWVudHMgb24gdGhlIHBhZ2VcbiAgICAgKiBDYWxsIG9uY2UgYWZ0ZXIgRE9NIHJlYWR5IG9yIGFmdGVyIEFKQVggY29udGVudCBsb2FkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnR9IGNvbnRhaW5lciAtIFNjb3BlIHRvIHNlYXJjaCB3aXRoaW4gKGRlZmF1bHQ6IGRvY3VtZW50KVxuICAgICAqIEByZXR1cm5zIHtNYXB9IE1hcCBvZiBpbml0aWFsaXplZCBlbGVtZW50cyBieSBJRCBvciBlbGVtZW50IHJlZmVyZW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KGNvbnRhaW5lciA9IGRvY3VtZW50KSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVkID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IGBbJHtTaXhPcmJpdC5kYXRhKCd1aS1pbml0Jyl9XWA7XG5cbiAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goZWwgPT4ge1xuICAgICAgICAgICAgLy8gU2tpcCBhbHJlYWR5IGluaXRpYWxpemVkXG4gICAgICAgICAgICBpZiAoZWwuX3VpRW5naW5lSW5zdGFuY2UpIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGVsLmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCd1aS1pbml0JykpO1xuICAgICAgICAgICAgY29uc3QgY29uZmlnQXR0ciA9IGVsLmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCd1aS1jb25maWcnKSk7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBjb25maWdBdHRyID8gSlNPTi5wYXJzZShjb25maWdBdHRyKSA6IHt9O1xuXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuaW5pdEVsZW1lbnQoZWwsIHR5cGUsIGNvbmZpZyk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplZC5zZXQoZWwuaWQgfHwgZWwsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGluaXRpYWxpemVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBzaW5nbGUgZWxlbWVudCBmcm9tIGV4aXN0aW5nIERPTVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbCAtIERPTSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBFbGVtZW50IHR5cGUgKG1vZGFsLCBkcm9wZG93biwgZXRjLilcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAgICogQHJldHVybnMge09iamVjdHxudWxsfSBJbnN0YW5jZSBvciBudWxsIGlmIHR5cGUgbm90IGZvdW5kXG4gICAgICovXG4gICAgc3RhdGljIGluaXRFbGVtZW50KGVsLCB0eXBlLCBjb25maWcgPSB7fSkge1xuICAgICAgICBjb25zdCBFbGVtZW50Q2xhc3MgPSB0aGlzLmVsZW1lbnRzW3R5cGVdO1xuICAgICAgICBpZiAoIUVsZW1lbnRDbGFzcykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVaUVuZ2luZTogVW5rbm93biBlbGVtZW50IHR5cGUgXCIke3R5cGV9XCJgKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGluc3RhbmNlIGZyb20gZXhpc3RpbmcgRE9NIGVsZW1lbnRcbiAgICAgICAgLy8gUGFzcyB0aGUgZWxlbWVudCBhcyBfZG9tRWxlbWVudCBpbiBjb25maWdcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgRWxlbWVudENsYXNzKHtcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgIF9kb21FbGVtZW50OiBlbCxcbiAgICAgICAgICAgIGlkOiBlbC5pZCB8fCBjb25maWcuaWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3RvcmUgcmVmZXJlbmNlIGZvciBsYXRlciByZXRyaWV2YWxcbiAgICAgICAgZWwuX3VpRW5naW5lSW5zdGFuY2UgPSBpbnN0YW5jZTtcblxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGV4aXN0aW5nIFVpRW5naW5lIGluc3RhbmNlIGZyb20gRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IGVsZW1lbnQgLSBET00gZWxlbWVudCBvciBDU1Mgc2VsZWN0b3JcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IEluc3RhbmNlIG9yIG51bGwgaWYgbm90IGluaXRpYWxpemVkXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KVxuICAgICAgICAgICAgOiBlbGVtZW50O1xuICAgICAgICByZXR1cm4gZWw/Ll91aUVuZ2luZUluc3RhbmNlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IG9yIGluaXRpYWxpemUgYW4gZWxlbWVudCBieSBzZWxlY3RvclxuICAgICAqXG4gICAgICogSWYgdGhlIGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZCwgcmV0dXJucyBleGlzdGluZyBpbnN0YW5jZS5cbiAgICAgKiBPdGhlcndpc2UgaW5pdGlhbGl6ZXMgaXQgYmFzZWQgb24gZGF0YS1zby11aS1pbml0IGF0dHJpYnV0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIENTUyBzZWxlY3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBPcHRpb25hbCBjb25maWcgb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IEluc3RhbmNlIG9yIG51bGwgaWYgZWxlbWVudCBub3QgZm91bmRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0KHNlbGVjdG9yLCBjb25maWcgPSB7fSkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICBpZiAoIWVsKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBSZXR1cm4gZXhpc3RpbmcgaW5zdGFuY2UgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmIChlbC5fdWlFbmdpbmVJbnN0YW5jZSkgcmV0dXJuIGVsLl91aUVuZ2luZUluc3RhbmNlO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYmFzZWQgb24gZGF0YSBhdHRyaWJ1dGVcbiAgICAgICAgY29uc3QgdHlwZSA9IGVsLmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCd1aS1pbml0JykpO1xuICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnQXR0ciA9IGVsLmdldEF0dHJpYnV0ZShTaXhPcmJpdC5kYXRhKCd1aS1jb25maWcnKSk7XG4gICAgICAgICAgICBjb25zdCBiYXNlQ29uZmlnID0gY29uZmlnQXR0ciA/IEpTT04ucGFyc2UoY29uZmlnQXR0cikgOiB7fTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRFbGVtZW50KGVsLCB0eXBlLCB7IC4uLmJhc2VDb25maWcsIC4uLmNvbmZpZyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlLWluaXRpYWxpemUgZWxlbWVudHMgaW4gYSBjb250YWluZXIgKHVzZWZ1bCBhZnRlciBBSkFYIGNvbnRlbnQgbG9hZClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEVsZW1lbnR9IGNvbnRhaW5lciAtIENvbnRhaW5lciBzZWxlY3RvciBvciBlbGVtZW50XG4gICAgICogQHJldHVybnMge01hcH0gTWFwIG9mIG5ld2x5IGluaXRpYWxpemVkIGVsZW1lbnRzXG4gICAgICovXG4gICAgc3RhdGljIHJlaW5pdChjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdHlwZW9mIGNvbnRhaW5lciA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpXG4gICAgICAgICAgICA6IGNvbnRhaW5lcjtcblxuICAgICAgICBpZiAoIXRhcmdldCkgcmV0dXJuIG5ldyBNYXAoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5pbml0KHRhcmdldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBpbnN0YW5jZSBhbmQgY2xlYW4gdXBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IGVsZW1lbnQgLSBET00gZWxlbWVudCBvciBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGluc3RhbmNlIHdhcyBkZXN0cm95ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVzdHJveShlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGVsID0gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudClcbiAgICAgICAgICAgIDogZWxlbWVudDtcblxuICAgICAgICBpZiAoIWVsIHx8ICFlbC5fdWlFbmdpbmVJbnN0YW5jZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIENhbGwgZGVzdHJveSBtZXRob2QgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0eXBlb2YgZWwuX3VpRW5naW5lSW5zdGFuY2UuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZWwuX3VpRW5naW5lSW5zdGFuY2UuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGVsLl91aUVuZ2luZUluc3RhbmNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PVxuLy8gUmVnaXN0ZXIgQmFzZSBUeXBlc1xuLy8gPT09PT09PT09PT09PT09PT09XG5cblVpRW5naW5lLnJlZ2lzdGVyKCdlbGVtZW50JywgRWxlbWVudCk7XG5VaUVuZ2luZS5yZWdpc3RlcignZm9ybS1lbGVtZW50JywgRm9ybUVsZW1lbnQpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2NvbnRhaW5lcicsIENvbnRhaW5lckVsZW1lbnQpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT1cbi8vIFJlZ2lzdGVyIEZvcm0gRWxlbWVudHNcbi8vID09PT09PT09PT09PT09PT09PVxuXG5VaUVuZ2luZS5yZWdpc3RlcignaW5wdXQnLCBGb3JtRWxlbWVudHMuSW5wdXQpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ3NlbGVjdCcsIEZvcm1FbGVtZW50cy5TZWxlY3QpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2NoZWNrYm94JywgRm9ybUVsZW1lbnRzLkNoZWNrYm94KTtcblVpRW5naW5lLnJlZ2lzdGVyKCdyYWRpbycsIEZvcm1FbGVtZW50cy5SYWRpbyk7XG5VaUVuZ2luZS5yZWdpc3RlcigndGV4dGFyZWEnLCBGb3JtRWxlbWVudHMuVGV4dGFyZWEpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2J1dHRvbicsIEZvcm1FbGVtZW50cy5CdXR0b24pO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2ZpbGUtaW5wdXQnLCBGb3JtRWxlbWVudHMuRmlsZUlucHV0KTtcblVpRW5naW5lLnJlZ2lzdGVyKCdoaWRkZW4nLCBGb3JtRWxlbWVudHMuSGlkZGVuKTtcblVpRW5naW5lLnJlZ2lzdGVyKCdmb3JtJywgRm9ybUVsZW1lbnRzLkZvcm0pO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2F1dG9jb21wbGV0ZScsIEZvcm1FbGVtZW50cy5BdXRvY29tcGxldGUpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2NvbG9yLWlucHV0JywgRm9ybUVsZW1lbnRzLkNvbG9ySW5wdXQpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2RhdGUtcGlja2VyJywgRm9ybUVsZW1lbnRzLkRhdGVQaWNrZXIpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ3RpbWUtcGlja2VyJywgRm9ybUVsZW1lbnRzLlRpbWVQaWNrZXIpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ3N3aXRjaCcsIEZvcm1FbGVtZW50cy5Td2l0Y2hFbGVtZW50KTtcblVpRW5naW5lLnJlZ2lzdGVyKCd0b2dnbGUnLCBGb3JtRWxlbWVudHMuVG9nZ2xlKTsgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYWxpYXNcblVpRW5naW5lLnJlZ2lzdGVyKCdzbGlkZXInLCBGb3JtRWxlbWVudHMuU2xpZGVyKTtcblVpRW5naW5lLnJlZ2lzdGVyKCdkcm9wem9uZScsIEZvcm1FbGVtZW50cy5Ecm9wem9uZSk7XG5VaUVuZ2luZS5yZWdpc3Rlcignb3RwLWlucHV0JywgRm9ybUVsZW1lbnRzLk90cElucHV0KTtcblxuLy8gPT09PT09PT09PT09PT09PT09XG4vLyBSZWdpc3RlciBEaXNwbGF5IEVsZW1lbnRzXG4vLyA9PT09PT09PT09PT09PT09PT1cblxuVWlFbmdpbmUucmVnaXN0ZXIoJ2FjY29yZGlvbicsIERpc3BsYXlFbGVtZW50cy5BY2NvcmRpb24pO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2FsZXJ0JywgRGlzcGxheUVsZW1lbnRzLkFsZXJ0KTtcblVpRW5naW5lLnJlZ2lzdGVyKCdiYWRnZScsIERpc3BsYXlFbGVtZW50cy5CYWRnZSk7XG5VaUVuZ2luZS5yZWdpc3RlcignY2FyZCcsIERpc3BsYXlFbGVtZW50cy5DYXJkKTtcblVpRW5naW5lLnJlZ2lzdGVyKCdtb2RhbCcsIERpc3BsYXlFbGVtZW50cy5Nb2RhbCk7XG5VaUVuZ2luZS5yZWdpc3RlcigncHJvZ3Jlc3MnLCBEaXNwbGF5RWxlbWVudHMuUHJvZ3Jlc3MpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ3RhYmxlJywgRGlzcGxheUVsZW1lbnRzLlRhYmxlKTtcblVpRW5naW5lLnJlZ2lzdGVyKCd0YWJzJywgRGlzcGxheUVsZW1lbnRzLlRhYnMpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ3RvYXN0JywgRGlzcGxheUVsZW1lbnRzLlRvYXN0KTtcblVpRW5naW5lLnJlZ2lzdGVyKCd0b29sdGlwJywgRGlzcGxheUVsZW1lbnRzLlRvb2x0aXApO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2JyZWFkY3J1bWInLCBEaXNwbGF5RWxlbWVudHMuQnJlYWRjcnVtYik7XG5VaUVuZ2luZS5yZWdpc3RlcigncGFnaW5hdGlvbicsIERpc3BsYXlFbGVtZW50cy5QYWdpbmF0aW9uKTtcblVpRW5naW5lLnJlZ2lzdGVyKCdjYXJvdXNlbCcsIERpc3BsYXlFbGVtZW50cy5DYXJvdXNlbCk7XG5VaUVuZ2luZS5yZWdpc3RlcigndGltZWxpbmUnLCBEaXNwbGF5RWxlbWVudHMuVGltZWxpbmUpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ3N0ZXBwZXInLCBEaXNwbGF5RWxlbWVudHMuU3RlcHBlcik7XG5VaUVuZ2luZS5yZWdpc3RlcignbGlzdC1ncm91cCcsIERpc3BsYXlFbGVtZW50cy5MaXN0R3JvdXApO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ3JhdGluZycsIERpc3BsYXlFbGVtZW50cy5SYXRpbmcpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ3NwaW5uZXInLCBEaXNwbGF5RWxlbWVudHMuU3Bpbm5lcik7XG5VaUVuZ2luZS5yZWdpc3Rlcignc2tlbGV0b24nLCBEaXNwbGF5RWxlbWVudHMuU2tlbGV0b24pO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2VtcHR5LXN0YXRlJywgRGlzcGxheUVsZW1lbnRzLkVtcHR5U3RhdGUpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ21lZGlhLW9iamVjdCcsIERpc3BsYXlFbGVtZW50cy5NZWRpYU9iamVjdCk7XG5VaUVuZ2luZS5yZWdpc3RlcignY29kZS1ibG9jaycsIERpc3BsYXlFbGVtZW50cy5Db2RlQmxvY2spO1xuXG4vLyA9PT09PT09PT09PT09PT09PT1cbi8vIFJlZ2lzdGVyIE5hdmlnYXRpb24gRWxlbWVudHNcbi8vID09PT09PT09PT09PT09PT09PVxuXG5VaUVuZ2luZS5yZWdpc3RlcignZHJvcGRvd24nLCBOYXZpZ2F0aW9uRWxlbWVudHMuRHJvcGRvd24pO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2NvbnRleHQtbWVudScsIE5hdmlnYXRpb25FbGVtZW50cy5Db250ZXh0TWVudSk7XG5VaUVuZ2luZS5yZWdpc3RlcignbmF2YmFyJywgTmF2aWdhdGlvbkVsZW1lbnRzLk5hdmJhcik7XG5VaUVuZ2luZS5yZWdpc3RlcignY29sbGFwc2UnLCBOYXZpZ2F0aW9uRWxlbWVudHMuQ29sbGFwc2UpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT1cbi8vIFJlZ2lzdGVyIExheW91dCBFbGVtZW50c1xuLy8gPT09PT09PT09PT09PT09PT09XG5cblVpRW5naW5lLnJlZ2lzdGVyKCdyb3cnLCBMYXlvdXRFbGVtZW50cy5Sb3cpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2NvbHVtbicsIExheW91dEVsZW1lbnRzLkNvbHVtbik7XG5VaUVuZ2luZS5yZWdpc3RlcignY29sJywgTGF5b3V0RWxlbWVudHMuQ29sdW1uKTsgLy8gYWxpYXNcblVpRW5naW5lLnJlZ2lzdGVyKCdkaXZpZGVyJywgTGF5b3V0RWxlbWVudHMuRGl2aWRlcik7XG5VaUVuZ2luZS5yZWdpc3RlcignZ3JpZCcsIExheW91dEVsZW1lbnRzLkdyaWQpO1xuVWlFbmdpbmUucmVnaXN0ZXIoJ2ZsZXgnLCBMYXlvdXRFbGVtZW50cy5GbGV4KTtcblxuLy8gTWFrZSBhdmFpbGFibGUgZ2xvYmFsbHlcbndpbmRvdy5VaUVuZ2luZSA9IFVpRW5naW5lO1xuXG5leHBvcnQgZGVmYXVsdCBVaUVuZ2luZTtcbmV4cG9ydCB7IFVpRW5naW5lIH07XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFBQUE7QUFBQSxJQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQ1NBLE1BQU0sV0FBVztBQUFBO0FBQUE7QUFBQSxFQUdqQjtBQUdBLFNBQU8sV0FBVztBQUdsQixTQUFPLE9BQU8sVUFBVTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFNdEIsU0FBUztBQUFBO0FBQUEsSUFHVCxRQUFRO0FBQUE7QUFBQSxJQUdSLGFBQWE7QUFBQTtBQUFBLElBR2IsY0FBYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBWWQsT0FBTyxPQUFPO0FBQ1osYUFBTyxHQUFHLEtBQUssTUFBTSxJQUFJLE1BQU0sS0FBSyxHQUFHLENBQUM7QUFBQSxJQUMxQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBUUEsT0FBTyxPQUFPO0FBQ1osYUFBTyxJQUFJLEtBQUssSUFBSSxHQUFHLEtBQUssQ0FBQztBQUFBLElBQy9CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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Y0FBYyxrQkFBa0I7QUFDL0QsUUFBSSxlQUFlO0FBQ2pCLHVCQUFRLFlBQVksYUFBYTtBQUFBLElBQ25DO0FBR0EscUJBQVEsUUFBUTtBQUdoQixhQUFTLGlCQUFpQixlQUFlLEVBQUUsUUFBUSxDQUFDLE9BQU87QUFDekQscUJBQVcsWUFBWSxFQUFFO0FBQUEsSUFDM0IsQ0FBQztBQUdELHVCQUFVLFFBQVE7QUFHbEIsd0JBQVcsUUFBUTtBQUduQixvQkFBTyxRQUFRO0FBR2YsNEJBQWMsUUFBUTtBQUd0QiwrQkFBaUIsUUFBUTtBQUd6QixxQkFBUSxRQUFRO0FBR2hCLHNCQUFTLFFBQVE7QUFHakIsNEJBQWUsUUFBUTtBQUd2QixxQkFBUSxRQUFRO0FBR2hCLDBCQUFhLFFBQVE7QUFHckIsc0JBQVMsUUFBUTtBQUdqQixvQkFBTyxRQUFRO0FBR2YseUJBQVUsUUFBUTtBQUdsQix5QkFBcUI7QUFBQSxFQUd2QixDQUFDO0FBd0NELE1BQU8sd0JBQVE7IiwKICAibmFtZXMiOiBbIkVsZW1lbnQiLCAiY29udGVudCIsICJidG5DbGFzcyIsICJhbGVydCIsICJFbGVtZW50IiwgIkVsZW1lbnQiLCAicnVsZXMiLCAiRWxlbWVudCIsICJydWxlcyIsICJydWxlcyIsICJodG1sIiwgImlubGluZUNsYXNzIiwgIkVsZW1lbnQiLCAicnVsZXMiLCAiRWxlbWVudCIsICJFbGVtZW50IiwgIkVsZW1lbnQiLCAiY2xzIiwgIkVsZW1lbnQiLCAiRWxlbWVudCIsICJFbGVtZW50IiwgIkVsZW1lbnQiLCAiRWxlbWVudCIsICJFbGVtZW50IiwgIkVsZW1lbnQiLCAiRWxlbWVudCIsICJFbGVtZW50IiwgIkVsZW1lbnQiLCAiRWxlbWVudCIsICJFbGVtZW50IiwgIkVsZW1lbnQiLCAiRWxlbWVudCIsICJFbGVtZW50IiwgIkVsZW1lbnQiLCAiRWxlbWVudCIsICJFbGVtZW50IiwgIkVsZW1lbnQiLCAiRWxlbWVudCIsICJhbGVydCIsICJydWxlcyJdCn0K
